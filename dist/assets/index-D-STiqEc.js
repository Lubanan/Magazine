function _mergeNamespaces(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const u=Object.getOwnPropertyDescriptor(i,o);u&&Object.defineProperty(e,o,u.get?u:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function i(){var o=!1;try{o=this instanceof i}catch{}return o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var o=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:function(){return e[i]}})}),n}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:e,type:i,key:h,ref:o!==void 0?o:null,props:u}}return reactJsxRuntime_production.Fragment=t,reactJsxRuntime_production.jsx=n,reactJsxRuntime_production.jsxs=n,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),b=Symbol.iterator;function w(Y){return Y===null||typeof Y!="object"?null:(Y=b&&Y[b]||Y["@@iterator"],typeof Y=="function"?Y:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,A={};function T(Y,ne,oe){this.props=Y,this.context=ne,this.refs=A,this.updater=oe||S}T.prototype.isReactComponent={},T.prototype.setState=function(Y,ne){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ne,"setState")},T.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function C(){}C.prototype=T.prototype;function O(Y,ne,oe){this.props=Y,this.context=ne,this.refs=A,this.updater=oe||S}var M=O.prototype=new C;M.constructor=O,j(M,T.prototype),M.isPureReactComponent=!0;var R=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function se(Y,ne,oe,ue,ve,me){return oe=me.ref,{$$typeof:e,type:Y,key:ne,ref:oe!==void 0?oe:null,props:me}}function ee(Y,ne){return se(Y.type,ne,void 0,void 0,void 0,Y.props)}function ae(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===e}function pe(Y){var ne={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(oe){return ne[oe]})}var fe=/\/+/g;function Ee(Y,ne){return typeof Y=="object"&&Y!==null&&Y.key!=null?pe(""+Y.key):ne.toString(36)}function _e(){}function Re(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(_e,_e):(Y.status="pending",Y.then(function(ne){Y.status==="pending"&&(Y.status="fulfilled",Y.value=ne)},function(ne){Y.status==="pending"&&(Y.status="rejected",Y.reason=ne)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function Pe(Y,ne,oe,ue,ve){var me=typeof Y;(me==="undefined"||me==="boolean")&&(Y=null);var te=!1;if(Y===null)te=!0;else switch(me){case"bigint":case"string":case"number":te=!0;break;case"object":switch(Y.$$typeof){case e:case t:te=!0;break;case f:return te=Y._init,Pe(te(Y._payload),ne,oe,ue,ve)}}if(te)return ve=ve(Y),te=ue===""?"."+Ee(Y,0):ue,R(ve)?(oe="",te!=null&&(oe=te.replace(fe,"$&/")+"/"),Pe(ve,ne,oe,"",function(xe){return xe})):ve!=null&&(ae(ve)&&(ve=ee(ve,oe+(ve.key==null||Y&&Y.key===ve.key?"":(""+ve.key).replace(fe,"$&/")+"/")+te)),ne.push(ve)),1;te=0;var he=ue===""?".":ue+":";if(R(Y))for(var ge=0;ge<Y.length;ge++)ue=Y[ge],me=he+Ee(ue,ge),te+=Pe(ue,ne,oe,me,ve);else if(ge=w(Y),typeof ge=="function")for(Y=ge.call(Y),ge=0;!(ue=Y.next()).done;)ue=ue.value,me=he+Ee(ue,ge++),te+=Pe(ue,ne,oe,me,ve);else if(me==="object"){if(typeof Y.then=="function")return Pe(Re(Y),ne,oe,ue,ve);throw ne=String(Y),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return te}function je(Y,ne,oe){if(Y==null)return Y;var ue=[],ve=0;return Pe(Y,ue,"","",function(me){return ne.call(oe,me,ve++)}),ue}function ce(Y){if(Y._status===-1){var ne=Y._result;ne=ne(),ne.then(function(oe){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=oe)},function(oe){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=oe)}),Y._status===-1&&(Y._status=0,Y._result=ne)}if(Y._status===1)return Y._result.default;throw Y._result}var le=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function ie(){}return react_production.Children={map:je,forEach:function(Y,ne,oe){je(Y,function(){ne.apply(this,arguments)},oe)},count:function(Y){var ne=0;return je(Y,function(){ne++}),ne},toArray:function(Y){return je(Y,function(ne){return ne})||[]},only:function(Y){if(!ae(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},react_production.Component=T,react_production.Fragment=n,react_production.Profiler=o,react_production.PureComponent=O,react_production.StrictMode=i,react_production.Suspense=v,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return _.H.useMemoCache(Y)}},react_production.cache=function(Y){return function(){return Y.apply(null,arguments)}},react_production.cloneElement=function(Y,ne,oe){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var ue=j({},Y.props),ve=Y.key,me=void 0;if(ne!=null)for(te in ne.ref!==void 0&&(me=void 0),ne.key!==void 0&&(ve=""+ne.key),ne)!q.call(ne,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&ne.ref===void 0||(ue[te]=ne[te]);var te=arguments.length-2;if(te===1)ue.children=oe;else if(1<te){for(var he=Array(te),ge=0;ge<te;ge++)he[ge]=arguments[ge+2];ue.children=he}return se(Y.type,ve,void 0,void 0,me,ue)},react_production.createContext=function(Y){return Y={$$typeof:h,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:u,_context:Y},Y},react_production.createElement=function(Y,ne,oe){var ue,ve={},me=null;if(ne!=null)for(ue in ne.key!==void 0&&(me=""+ne.key),ne)q.call(ne,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=ne[ue]);var te=arguments.length-2;if(te===1)ve.children=oe;else if(1<te){for(var he=Array(te),ge=0;ge<te;ge++)he[ge]=arguments[ge+2];ve.children=he}if(Y&&Y.defaultProps)for(ue in te=Y.defaultProps,te)ve[ue]===void 0&&(ve[ue]=te[ue]);return se(Y,me,void 0,void 0,null,ve)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(Y){return{$$typeof:m,render:Y}},react_production.isValidElement=ae,react_production.lazy=function(Y){return{$$typeof:f,_payload:{_status:-1,_result:Y},_init:ce}},react_production.memo=function(Y,ne){return{$$typeof:p,type:Y,compare:ne===void 0?null:ne}},react_production.startTransition=function(Y){var ne=_.T,oe={};_.T=oe;try{var ue=Y(),ve=_.S;ve!==null&&ve(oe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ie,le)}catch(me){le(me)}finally{_.T=ne}},react_production.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},react_production.use=function(Y){return _.H.use(Y)},react_production.useActionState=function(Y,ne,oe){return _.H.useActionState(Y,ne,oe)},react_production.useCallback=function(Y,ne){return _.H.useCallback(Y,ne)},react_production.useContext=function(Y){return _.H.useContext(Y)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(Y,ne){return _.H.useDeferredValue(Y,ne)},react_production.useEffect=function(Y,ne,oe){var ue=_.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(Y,ne)},react_production.useId=function(){return _.H.useId()},react_production.useImperativeHandle=function(Y,ne,oe){return _.H.useImperativeHandle(Y,ne,oe)},react_production.useInsertionEffect=function(Y,ne){return _.H.useInsertionEffect(Y,ne)},react_production.useLayoutEffect=function(Y,ne){return _.H.useLayoutEffect(Y,ne)},react_production.useMemo=function(Y,ne){return _.H.useMemo(Y,ne)},react_production.useOptimistic=function(Y,ne){return _.H.useOptimistic(Y,ne)},react_production.useReducer=function(Y,ne,oe){return _.H.useReducer(Y,ne,oe)},react_production.useRef=function(Y){return _.H.useRef(Y)},react_production.useState=function(Y){return _.H.useState(Y)},react_production.useSyncExternalStore=function(Y,ne,oe){return _.H.useSyncExternalStore(Y,ne,oe)},react_production.useTransition=function(){return _.H.useTransition()},react_production.version="19.1.1",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,function(e){function t(je,ce){var le=je.length;je.push(ce);e:for(;0<le;){var ie=le-1>>>1,Y=je[ie];if(0<o(Y,ce))je[ie]=ce,je[le]=Y,le=ie;else break e}}function n(je){return je.length===0?null:je[0]}function i(je){if(je.length===0)return null;var ce=je[0],le=je.pop();if(le!==ce){je[0]=le;e:for(var ie=0,Y=je.length,ne=Y>>>1;ie<ne;){var oe=2*(ie+1)-1,ue=je[oe],ve=oe+1,me=je[ve];if(0>o(ue,le))ve<Y&&0>o(me,ue)?(je[ie]=me,je[ve]=le,ie=ve):(je[ie]=ue,je[oe]=le,ie=oe);else if(ve<Y&&0>o(me,le))je[ie]=me,je[ve]=le,ie=ve;else break e}}return ce}function o(je,ce){var le=je.sortIndex-ce.sortIndex;return le!==0?le:je.id-ce.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();e.unstable_now=function(){return h.now()-m}}var v=[],p=[],f=1,b=null,w=3,S=!1,j=!1,A=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function R(je){for(var ce=n(p);ce!==null;){if(ce.callback===null)i(p);else if(ce.startTime<=je)i(p),ce.sortIndex=ce.expirationTime,t(v,ce);else break;ce=n(p)}}function _(je){if(A=!1,R(je),!j)if(n(v)!==null)j=!0,q||(q=!0,Ee());else{var ce=n(p);ce!==null&&Pe(_,ce.startTime-je)}}var q=!1,se=-1,ee=5,ae=-1;function pe(){return T?!0:!(e.unstable_now()-ae<ee)}function fe(){if(T=!1,q){var je=e.unstable_now();ae=je;var ce=!0;try{e:{j=!1,A&&(A=!1,O(se),se=-1),S=!0;var le=w;try{t:{for(R(je),b=n(v);b!==null&&!(b.expirationTime>je&&pe());){var ie=b.callback;if(typeof ie=="function"){b.callback=null,w=b.priorityLevel;var Y=ie(b.expirationTime<=je);if(je=e.unstable_now(),typeof Y=="function"){b.callback=Y,R(je),ce=!0;break t}b===n(v)&&i(v),R(je)}else i(v);b=n(v)}if(b!==null)ce=!0;else{var ne=n(p);ne!==null&&Pe(_,ne.startTime-je),ce=!1}}break e}finally{b=null,w=le,S=!1}ce=void 0}}finally{ce?Ee():q=!1}}}var Ee;if(typeof M=="function")Ee=function(){M(fe)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,Re=_e.port2;_e.port1.onmessage=fe,Ee=function(){Re.postMessage(null)}}else Ee=function(){C(fe,0)};function Pe(je,ce){se=C(function(){je(e.unstable_now())},ce)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(je){je.callback=null},e.unstable_forceFrameRate=function(je){0>je||125<je?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<je?Math.floor(1e3/je):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(je){switch(w){case 1:case 2:case 3:var ce=3;break;default:ce=w}var le=w;w=ce;try{return je()}finally{w=le}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(je,ce){switch(je){case 1:case 2:case 3:case 4:case 5:break;default:je=3}var le=w;w=je;try{return ce()}finally{w=le}},e.unstable_scheduleCallback=function(je,ce,le){var ie=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ie+le:ie):le=ie,je){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=le+Y,je={id:f++,callback:ce,priorityLevel:je,startTime:le,expirationTime:Y,sortIndex:-1},le>ie?(je.sortIndex=le,t(p,je),n(v)===null&&je===n(p)&&(A?(O(se),se=-1):A=!0,Pe(_,le-ie))):(je.sortIndex=Y,t(v,je),j||S||(j=!0,q||(q=!0,Ee()))),je},e.unstable_shouldYield=pe,e.unstable_wrapCallback=function(je){var ce=w;return function(){var le=w;w=ce;try{return je.apply(this,arguments)}finally{w=le}}}}(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var e=requireReact();function t(v){var p="https://react.dev/errors/"+v;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)p+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+v+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(v,p,f){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:v,containerInfo:p,implementation:f}}var h=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(v,p){if(v==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,reactDom_production.createPortal=function(v,p){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(v,p,null,f)},reactDom_production.flushSync=function(v){var p=h.T,f=i.p;try{if(h.T=null,i.p=2,v)return v()}finally{h.T=p,i.p=f,i.d.f()}},reactDom_production.preconnect=function(v,p){typeof v=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(v,p))},reactDom_production.prefetchDNS=function(v){typeof v=="string"&&i.d.D(v)},reactDom_production.preinit=function(v,p){if(typeof v=="string"&&p&&typeof p.as=="string"){var f=p.as,b=m(f,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;f==="style"?i.d.S(v,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:S}):f==="script"&&i.d.X(v,{crossOrigin:b,integrity:w,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},reactDom_production.preinitModule=function(v,p){if(typeof v=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var f=m(p.as,p.crossOrigin);i.d.M(v,{crossOrigin:f,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(v)},reactDom_production.preload=function(v,p){if(typeof v=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var f=p.as,b=m(f,p.crossOrigin);i.d.L(v,f,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},reactDom_production.preloadModule=function(v,p){if(typeof v=="string")if(p){var f=m(p.as,p.crossOrigin);i.d.m(v,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:f,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(v)},reactDom_production.requestFormReset=function(v){i.d.r(v)},reactDom_production.unstable_batchedUpdates=function(v,p){return v(p)},reactDom_production.useFormState=function(v,p,f){return h.H.useFormState(v,p,f)},reactDom_production.useFormStatus=function(){return h.H.useHostTransitionStatus()},reactDom_production.version="19.1.1",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var e=requireScheduler(),t=requireReact(),n=requireReactDom();function i(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function u(l){var d=l,g=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(g=d.return),l=d.return;while(l)}return d.tag===3?g:null}function h(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function m(l){if(u(l)!==l)throw Error(i(188))}function v(l){var d=l.alternate;if(!d){if(d=u(l),d===null)throw Error(i(188));return d!==l?null:l}for(var g=l,E=d;;){var D=g.return;if(D===null)break;var H=D.alternate;if(H===null){if(E=D.return,E!==null){g=E;continue}break}if(D.child===H.child){for(H=D.child;H;){if(H===g)return m(D),l;if(H===E)return m(D),d;H=H.sibling}throw Error(i(188))}if(g.return!==E.return)g=D,E=H;else{for(var de=!1,be=D.child;be;){if(be===g){de=!0,g=D,E=H;break}if(be===E){de=!0,E=D,g=H;break}be=be.sibling}if(!de){for(be=H.child;be;){if(be===g){de=!0,g=H,E=D;break}if(be===E){de=!0,E=H,g=D;break}be=be.sibling}if(!de)throw Error(i(189))}}if(g.alternate!==E)throw Error(i(190))}if(g.tag!==3)throw Error(i(188));return g.stateNode.current===g?l:d}function p(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l;for(l=l.child;l!==null;){if(d=p(l),d!==null)return d;l=l.sibling}return null}var f=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),M=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),pe=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function Ee(l){return l===null||typeof l!="object"?null:(l=fe&&l[fe]||l["@@iterator"],typeof l=="function"?l:null)}var _e=Symbol.for("react.client.reference");function Re(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===_e?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case j:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case _:return"Suspense";case q:return"SuspenseList";case ae:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case S:return"Portal";case M:return(l.displayName||"Context")+".Provider";case O:return(l._context.displayName||"Context")+".Consumer";case R:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case se:return d=l.displayName||null,d!==null?d:Re(l.type)||"Memo";case ee:d=l._payload,l=l._init;try{return Re(l(d))}catch{}}return null}var Pe=Array.isArray,je=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ie=[],Y=-1;function ne(l){return{current:l}}function oe(l){0>Y||(l.current=ie[Y],ie[Y]=null,Y--)}function ue(l,d){Y++,ie[Y]=l.current,l.current=d}var ve=ne(null),me=ne(null),te=ne(null),he=ne(null);function ge(l,d){switch(ue(te,d),ue(me,l),ue(ve,null),d.nodeType){case 9:case 11:l=(l=d.documentElement)&&(l=l.namespaceURI)?zh(l):0;break;default:if(l=d.tagName,d=d.namespaceURI)d=zh(d),l=qh(d,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}oe(ve),ue(ve,l)}function xe(){oe(ve),oe(me),oe(te)}function ye(l){l.memoizedState!==null&&ue(he,l);var d=ve.current,g=qh(d,l.type);d!==g&&(ue(me,l),ue(ve,g))}function Se(l){me.current===l&&(oe(ve),oe(me)),he.current===l&&(oe(he),Ki._currentValue=le)}var we=Object.prototype.hasOwnProperty,ke=e.unstable_scheduleCallback,Ve=e.unstable_cancelCallback,Oe=e.unstable_shouldYield,Be=e.unstable_requestPaint,Fe=e.unstable_now,Ue=e.unstable_getCurrentPriorityLevel,He=e.unstable_ImmediatePriority,Ke=e.unstable_UserBlockingPriority,Ze=e.unstable_NormalPriority,Je=e.unstable_LowPriority,ct=e.unstable_IdlePriority,ut=e.log,$t=e.unstable_setDisableYieldValue,hr=null,Bt=null;function Ar(l){if(typeof ut=="function"&&$t(l),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(hr,l)}catch{}}var Ft=Math.clz32?Math.clz32:yo,Jr=Math.log,ri=Math.LN2;function yo(l){return l>>>=0,l===0?32:31-(Jr(l)/ri|0)|0}var gs=256,Ge=4194304;function De(l){var d=l&42;if(d!==0)return d;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Ne(l,d,g){var E=l.pendingLanes;if(E===0)return 0;var D=0,H=l.suspendedLanes,de=l.pingedLanes;l=l.warmLanes;var be=E&134217727;return be!==0?(E=be&~H,E!==0?D=De(E):(de&=be,de!==0?D=De(de):g||(g=be&~l,g!==0&&(D=De(g))))):(be=E&~H,be!==0?D=De(be):de!==0?D=De(de):g||(g=E&~l,g!==0&&(D=De(g)))),D===0?0:d!==0&&d!==D&&(d&H)===0&&(H=D&-D,g=d&-d,H>=g||H===32&&(g&4194048)!==0)?d:D}function Ye(l,d){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&d)===0}function kt(l,d){switch(l){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function or(){var l=gs;return gs<<=1,(gs&4194048)===0&&(gs=256),l}function lr(){var l=Ge;return Ge<<=1,(Ge&62914560)===0&&(Ge=4194304),l}function nn(l){for(var d=[],g=0;31>g;g++)d.push(l);return d}function Ur(l,d){l.pendingLanes|=d,d!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function dn(l,d,g,E,D,H){var de=l.pendingLanes;l.pendingLanes=g,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=g,l.entangledLanes&=g,l.errorRecoveryDisabledLanes&=g,l.shellSuspendCounter=0;var be=l.entanglements,Ae=l.expirationTimes,Le=l.hiddenUpdates;for(g=de&~g;0<g;){var ze=31-Ft(g),We=1<<ze;be[ze]=0,Ae[ze]=-1;var Ie=Le[ze];if(Ie!==null)for(Le[ze]=null,ze=0;ze<Ie.length;ze++){var $e=Ie[ze];$e!==null&&($e.lane&=-536870913)}g&=~We}E!==0&&br(l,E,0),H!==0&&D===0&&l.tag!==0&&(l.suspendedLanes|=H&~(de&~d))}function br(l,d,g){l.pendingLanes|=d,l.suspendedLanes&=~d;var E=31-Ft(d);l.entangledLanes|=d,l.entanglements[E]=l.entanglements[E]|1073741824|g&4194090}function hn(l,d){var g=l.entangledLanes|=d;for(l=l.entanglements;g;){var E=31-Ft(g),D=1<<E;D&d|l[E]&d&&(l[E]|=d),g&=~D}}function zr(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Tn(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function sr(){var l=ce.p;return l!==0?l:(l=window.event,l===void 0?32:cf(l.type))}function xs(l,d){var g=ce.p;try{return ce.p=l,d()}finally{ce.p=g}}var Dr=Math.random().toString(36).slice(2),cr="__reactFiber$"+Dr,mr="__reactProps$"+Dr,qr="__reactContainer$"+Dr,Er="__reactEvents$"+Dr,Zn="__reactListeners$"+Dr,ni="__reactHandles$"+Dr,Tc="__reactResources$"+Dr,si="__reactMarker$"+Dr;function bo(l){delete l[cr],delete l[mr],delete l[Er],delete l[Zn],delete l[ni]}function vs(l){var d=l[cr];if(d)return d;for(var g=l.parentNode;g;){if(d=g[qr]||g[cr]){if(g=d.alternate,d.child!==null||g!==null&&g.child!==null)for(l=Gh(l);l!==null;){if(g=l[cr])return g;l=Gh(l)}return d}l=g,g=l.parentNode}return null}function ys(l){if(l=l[cr]||l[qr]){var d=l.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return l}return null}function ii(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l.stateNode;throw Error(i(33))}function bs(l){var d=l[Tc];return d||(d=l[Tc]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function gr(l){l[si]=!0}var Pc=new Set,Cc={};function Qn(l,d){Es(l,d),Es(l+"Capture",d)}function Es(l,d){for(Cc[l]=d,l=0;l<d.length;l++)Pc.add(d[l])}var mf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kc={},Nc={};function gf(l){return we.call(Nc,l)?!0:we.call(kc,l)?!1:mf.test(l)?Nc[l]=!0:(kc[l]=!0,!1)}function ea(l,d,g){if(gf(d))if(g===null)l.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":l.removeAttribute(d);return;case"boolean":var E=d.toLowerCase().slice(0,5);if(E!=="data-"&&E!=="aria-"){l.removeAttribute(d);return}}l.setAttribute(d,""+g)}}function ta(l,d,g){if(g===null)l.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttribute(d,""+g)}}function fn(l,d,g,E){if(E===null)l.removeAttribute(g);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(g);return}l.setAttributeNS(d,g,""+E)}}var Eo,Dc;function ws(l){if(Eo===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);Eo=d&&d[1]||"",Dc=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Eo+l+Dc}var wo=!1;function jo(l,d){if(!l||wo)return"";wo=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(d){var We=function(){throw Error()};if(Object.defineProperty(We.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(We,[])}catch($e){var Ie=$e}Reflect.construct(l,[],We)}else{try{We.call()}catch($e){Ie=$e}l.call(We.prototype)}}else{try{throw Error()}catch($e){Ie=$e}(We=l())&&typeof We.catch=="function"&&We.catch(function(){})}}catch($e){if($e&&Ie&&typeof $e.stack=="string")return[$e.stack,Ie.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var H=E.DetermineComponentFrameRoot(),de=H[0],be=H[1];if(de&&be){var Ae=de.split(`
`),Le=be.split(`
`);for(D=E=0;E<Ae.length&&!Ae[E].includes("DetermineComponentFrameRoot");)E++;for(;D<Le.length&&!Le[D].includes("DetermineComponentFrameRoot");)D++;if(E===Ae.length||D===Le.length)for(E=Ae.length-1,D=Le.length-1;1<=E&&0<=D&&Ae[E]!==Le[D];)D--;for(;1<=E&&0<=D;E--,D--)if(Ae[E]!==Le[D]){if(E!==1||D!==1)do if(E--,D--,0>D||Ae[E]!==Le[D]){var ze=`
`+Ae[E].replace(" at new "," at ");return l.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",l.displayName)),ze}while(1<=E&&0<=D);break}}}finally{wo=!1,Error.prepareStackTrace=g}return(g=l?l.displayName||l.name:"")?ws(g):""}function xf(l){switch(l.tag){case 26:case 27:case 5:return ws(l.type);case 16:return ws("Lazy");case 13:return ws("Suspense");case 19:return ws("SuspenseList");case 0:case 15:return jo(l.type,!1);case 11:return jo(l.type.render,!1);case 1:return jo(l.type,!0);case 31:return ws("Activity");default:return""}}function Mc(l){try{var d="";do d+=xf(l),l=l.return;while(l);return d}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function Vr(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Oc(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function vf(l){var d=Oc(l)?"checked":"value",g=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),E=""+l[d];if(!l.hasOwnProperty(d)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var D=g.get,H=g.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return D.call(this)},set:function(de){E=""+de,H.call(this,de)}}),Object.defineProperty(l,d,{enumerable:g.enumerable}),{getValue:function(){return E},setValue:function(de){E=""+de},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function ra(l){l._valueTracker||(l._valueTracker=vf(l))}function Lc(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var g=d.getValue(),E="";return l&&(E=Oc(l)?l.checked?"true":"false":l.value),l=E,l!==g?(d.setValue(l),!0):!1}function na(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var yf=/[\n"\\]/g;function Wr(l){return l.replace(yf,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function So(l,d,g,E,D,H,de,be){l.name="",de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"?l.type=de:l.removeAttribute("type"),d!=null?de==="number"?(d===0&&l.value===""||l.value!=d)&&(l.value=""+Vr(d)):l.value!==""+Vr(d)&&(l.value=""+Vr(d)):de!=="submit"&&de!=="reset"||l.removeAttribute("value"),d!=null?Ao(l,de,Vr(d)):g!=null?Ao(l,de,Vr(g)):E!=null&&l.removeAttribute("value"),D==null&&H!=null&&(l.defaultChecked=!!H),D!=null&&(l.checked=D&&typeof D!="function"&&typeof D!="symbol"),be!=null&&typeof be!="function"&&typeof be!="symbol"&&typeof be!="boolean"?l.name=""+Vr(be):l.removeAttribute("name")}function Ic(l,d,g,E,D,H,de,be){if(H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(l.type=H),d!=null||g!=null){if(!(H!=="submit"&&H!=="reset"||d!=null))return;g=g!=null?""+Vr(g):"",d=d!=null?""+Vr(d):g,be||d===l.value||(l.value=d),l.defaultValue=d}E=E??D,E=typeof E!="function"&&typeof E!="symbol"&&!!E,l.checked=be?l.checked:!!E,l.defaultChecked=!!E,de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"&&(l.name=de)}function Ao(l,d,g){d==="number"&&na(l.ownerDocument)===l||l.defaultValue===""+g||(l.defaultValue=""+g)}function js(l,d,g,E){if(l=l.options,d){d={};for(var D=0;D<g.length;D++)d["$"+g[D]]=!0;for(g=0;g<l.length;g++)D=d.hasOwnProperty("$"+l[g].value),l[g].selected!==D&&(l[g].selected=D),D&&E&&(l[g].defaultSelected=!0)}else{for(g=""+Vr(g),d=null,D=0;D<l.length;D++){if(l[D].value===g){l[D].selected=!0,E&&(l[D].defaultSelected=!0);return}d!==null||l[D].disabled||(d=l[D])}d!==null&&(d.selected=!0)}}function $c(l,d,g){if(d!=null&&(d=""+Vr(d),d!==l.value&&(l.value=d),g==null)){l.defaultValue!==d&&(l.defaultValue=d);return}l.defaultValue=g!=null?""+Vr(g):""}function Bc(l,d,g,E){if(d==null){if(E!=null){if(g!=null)throw Error(i(92));if(Pe(E)){if(1<E.length)throw Error(i(93));E=E[0]}g=E}g==null&&(g=""),d=g}g=Vr(d),l.defaultValue=g,E=l.textContent,E===g&&E!==""&&E!==null&&(l.value=E)}function Ss(l,d){if(d){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=d;return}}l.textContent=d}var bf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fc(l,d,g){var E=d.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?E?l.setProperty(d,""):d==="float"?l.cssFloat="":l[d]="":E?l.setProperty(d,g):typeof g!="number"||g===0||bf.has(d)?d==="float"?l.cssFloat=g:l[d]=(""+g).trim():l[d]=g+"px"}function Uc(l,d,g){if(d!=null&&typeof d!="object")throw Error(i(62));if(l=l.style,g!=null){for(var E in g)!g.hasOwnProperty(E)||d!=null&&d.hasOwnProperty(E)||(E.indexOf("--")===0?l.setProperty(E,""):E==="float"?l.cssFloat="":l[E]="");for(var D in d)E=d[D],d.hasOwnProperty(D)&&g[D]!==E&&Fc(l,D,E)}else for(var H in d)d.hasOwnProperty(H)&&Fc(l,H,d[H])}function Ro(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ef=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(l){return wf.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var To=null;function Po(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var _s=null,As=null;function zc(l){var d=ys(l);if(d&&(l=d.stateNode)){var g=l[mr]||null;e:switch(l=d.stateNode,d.type){case"input":if(So(l,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),d=g.name,g.type==="radio"&&d!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Wr(""+d)+'"][type="radio"]'),d=0;d<g.length;d++){var E=g[d];if(E!==l&&E.form===l.form){var D=E[mr]||null;if(!D)throw Error(i(90));So(E,D.value,D.defaultValue,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name)}}for(d=0;d<g.length;d++)E=g[d],E.form===l.form&&Lc(E)}break e;case"textarea":$c(l,g.value,g.defaultValue);break e;case"select":d=g.value,d!=null&&js(l,!!g.multiple,d,!1)}}}var Co=!1;function qc(l,d,g){if(Co)return l(d,g);Co=!0;try{var E=l(d);return E}finally{if(Co=!1,(_s!==null||As!==null)&&(Va(),_s&&(d=_s,l=As,As=_s=null,zc(d),l)))for(d=0;d<l.length;d++)zc(l[d])}}function ai(l,d){var g=l.stateNode;if(g===null)return null;var E=g[mr]||null;if(E===null)return null;g=E[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(l=l.type,E=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!E;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(i(231,d,typeof g));return g}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ko=!1;if(pn)try{var oi={};Object.defineProperty(oi,"passive",{get:function(){ko=!0}}),window.addEventListener("test",oi,oi),window.removeEventListener("test",oi,oi)}catch{ko=!1}var Pn=null,No=null,ia=null;function Vc(){if(ia)return ia;var l,d=No,g=d.length,E,D="value"in Pn?Pn.value:Pn.textContent,H=D.length;for(l=0;l<g&&d[l]===D[l];l++);var de=g-l;for(E=1;E<=de&&d[g-E]===D[H-E];E++);return ia=D.slice(l,1<E?1-E:void 0)}function aa(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function oa(){return!0}function Wc(){return!1}function Tr(l){function d(g,E,D,H,de){this._reactName=g,this._targetInst=D,this.type=E,this.nativeEvent=H,this.target=de,this.currentTarget=null;for(var be in l)l.hasOwnProperty(be)&&(g=l[be],this[be]=g?g(H):H[be]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?oa:Wc,this.isPropagationStopped=Wc,this}return f(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=oa)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=oa)},persist:function(){},isPersistent:oa}),d}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=Tr(Jn),li=f({},Jn,{view:0,detail:0}),jf=Tr(li),Do,Mo,ci,ca=f({},li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lo,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ci&&(ci&&l.type==="mousemove"?(Do=l.screenX-ci.screenX,Mo=l.screenY-ci.screenY):Mo=Do=0,ci=l),Do)},movementY:function(l){return"movementY"in l?l.movementY:Mo}}),Hc=Tr(ca),Sf=f({},ca,{dataTransfer:0}),_f=Tr(Sf),Af=f({},li,{relatedTarget:0}),Oo=Tr(Af),Rf=f({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Tf=Tr(Rf),Pf=f({},Jn,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Cf=Tr(Pf),kf=f({},Jn,{data:0}),Gc=Tr(kf),Nf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Df={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Of(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=Mf[l])?!!d[l]:!1}function Lo(){return Of}var Lf=f({},li,{key:function(l){if(l.key){var d=Nf[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=aa(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Df[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lo,charCode:function(l){return l.type==="keypress"?aa(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?aa(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),If=Tr(Lf),$f=f({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kc=Tr($f),Bf=f({},li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lo}),Ff=Tr(Bf),Uf=f({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),zf=Tr(Uf),qf=f({},ca,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Vf=Tr(qf),Wf=f({},Jn,{newState:0,oldState:0}),Hf=Tr(Wf),Gf=[9,13,27,32],Io=pn&&"CompositionEvent"in window,ui=null;pn&&"documentMode"in document&&(ui=document.documentMode);var Kf=pn&&"TextEvent"in window&&!ui,Yc=pn&&(!Io||ui&&8<ui&&11>=ui),Xc=" ",Zc=!1;function Qc(l,d){switch(l){case"keyup":return Gf.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jc(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Rs=!1;function Yf(l,d){switch(l){case"compositionend":return Jc(d);case"keypress":return d.which!==32?null:(Zc=!0,Xc);case"textInput":return l=d.data,l===Xc&&Zc?null:l;default:return null}}function Xf(l,d){if(Rs)return l==="compositionend"||!Io&&Qc(l,d)?(l=Vc(),ia=No=Pn=null,Rs=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Yc&&d.locale!=="ko"?null:d.data;default:return null}}var Zf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eu(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!Zf[l.type]:d==="textarea"}function tu(l,d,g,E){_s?As?As.push(E):As=[E]:_s=E,d=Xa(d,"onChange"),0<d.length&&(g=new la("onChange","change",null,g,E),l.push({event:g,listeners:d}))}var di=null,hi=null;function Qf(l){Ih(l,0)}function ua(l){var d=ii(l);if(Lc(d))return l}function ru(l,d){if(l==="change")return d}var nu=!1;if(pn){var $o;if(pn){var Bo="oninput"in document;if(!Bo){var su=document.createElement("div");su.setAttribute("oninput","return;"),Bo=typeof su.oninput=="function"}$o=Bo}else $o=!1;nu=$o&&(!document.documentMode||9<document.documentMode)}function iu(){di&&(di.detachEvent("onpropertychange",au),hi=di=null)}function au(l){if(l.propertyName==="value"&&ua(hi)){var d=[];tu(d,hi,l,Po(l)),qc(Qf,d)}}function Jf(l,d,g){l==="focusin"?(iu(),di=d,hi=g,di.attachEvent("onpropertychange",au)):l==="focusout"&&iu()}function ep(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return ua(hi)}function tp(l,d){if(l==="click")return ua(d)}function rp(l,d){if(l==="input"||l==="change")return ua(d)}function np(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var Mr=typeof Object.is=="function"?Object.is:np;function fi(l,d){if(Mr(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var g=Object.keys(l),E=Object.keys(d);if(g.length!==E.length)return!1;for(E=0;E<g.length;E++){var D=g[E];if(!we.call(d,D)||!Mr(l[D],d[D]))return!1}return!0}function ou(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function lu(l,d){var g=ou(l);l=0;for(var E;g;){if(g.nodeType===3){if(E=l+g.textContent.length,l<=d&&E>=d)return{node:g,offset:d-l};l=E}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=ou(g)}}function cu(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?cu(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function uu(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var d=na(l.document);d instanceof l.HTMLIFrameElement;){try{var g=typeof d.contentWindow.location.href=="string"}catch{g=!1}if(g)l=d.contentWindow;else break;d=na(l.document)}return d}function Fo(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}var sp=pn&&"documentMode"in document&&11>=document.documentMode,Ts=null,Uo=null,mi=null,zo=!1;function du(l,d,g){var E=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;zo||Ts==null||Ts!==na(E)||(E=Ts,"selectionStart"in E&&Fo(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),mi&&fi(mi,E)||(mi=E,E=Xa(Uo,"onSelect"),0<E.length&&(d=new la("onSelect","select",null,d,g),l.push({event:d,listeners:E}),d.target=Ts)))}function es(l,d){var g={};return g[l.toLowerCase()]=d.toLowerCase(),g["Webkit"+l]="webkit"+d,g["Moz"+l]="moz"+d,g}var Ps={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionrun:es("Transition","TransitionRun"),transitionstart:es("Transition","TransitionStart"),transitioncancel:es("Transition","TransitionCancel"),transitionend:es("Transition","TransitionEnd")},qo={},hu={};pn&&(hu=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function ts(l){if(qo[l])return qo[l];if(!Ps[l])return l;var d=Ps[l],g;for(g in d)if(d.hasOwnProperty(g)&&g in hu)return qo[l]=d[g];return l}var fu=ts("animationend"),pu=ts("animationiteration"),mu=ts("animationstart"),ip=ts("transitionrun"),ap=ts("transitionstart"),op=ts("transitioncancel"),gu=ts("transitionend"),xu=new Map,Vo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vo.push("scrollEnd");function en(l,d){xu.set(l,d),Qn(d,[l])}var vu=new WeakMap;function Hr(l,d){if(typeof l=="object"&&l!==null){var g=vu.get(l);return g!==void 0?g:(d={value:l,source:d,stack:Mc(d)},vu.set(l,d),d)}return{value:l,source:d,stack:Mc(d)}}var Gr=[],Cs=0,Wo=0;function da(){for(var l=Cs,d=Wo=Cs=0;d<l;){var g=Gr[d];Gr[d++]=null;var E=Gr[d];Gr[d++]=null;var D=Gr[d];Gr[d++]=null;var H=Gr[d];if(Gr[d++]=null,E!==null&&D!==null){var de=E.pending;de===null?D.next=D:(D.next=de.next,de.next=D),E.pending=D}H!==0&&yu(g,D,H)}}function ha(l,d,g,E){Gr[Cs++]=l,Gr[Cs++]=d,Gr[Cs++]=g,Gr[Cs++]=E,Wo|=E,l.lanes|=E,l=l.alternate,l!==null&&(l.lanes|=E)}function Ho(l,d,g,E){return ha(l,d,g,E),fa(l)}function ks(l,d){return ha(l,null,null,d),fa(l)}function yu(l,d,g){l.lanes|=g;var E=l.alternate;E!==null&&(E.lanes|=g);for(var D=!1,H=l.return;H!==null;)H.childLanes|=g,E=H.alternate,E!==null&&(E.childLanes|=g),H.tag===22&&(l=H.stateNode,l===null||l._visibility&1||(D=!0)),l=H,H=H.return;return l.tag===3?(H=l.stateNode,D&&d!==null&&(D=31-Ft(g),l=H.hiddenUpdates,E=l[D],E===null?l[D]=[d]:E.push(d),d.lane=g|536870912),H):null}function fa(l){if(50<Fi)throw Fi=0,Ql=null,Error(i(185));for(var d=l.return;d!==null;)l=d,d=l.return;return l.tag===3?l.stateNode:null}var Ns={};function lp(l,d,g,E){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(l,d,g,E){return new lp(l,d,g,E)}function Go(l){return l=l.prototype,!(!l||!l.isReactComponent)}function mn(l,d){var g=l.alternate;return g===null?(g=Or(l.tag,d,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=d,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&65011712,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,d=l.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g.refCleanup=l.refCleanup,g}function bu(l,d){l.flags&=65011714;var g=l.alternate;return g===null?(l.childLanes=0,l.lanes=d,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=g.childLanes,l.lanes=g.lanes,l.child=g.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=g.memoizedProps,l.memoizedState=g.memoizedState,l.updateQueue=g.updateQueue,l.type=g.type,d=g.dependencies,l.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),l}function pa(l,d,g,E,D,H){var de=0;if(E=l,typeof l=="function")Go(l)&&(de=1);else if(typeof l=="string")de=um(l,g,ve.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case ae:return l=Or(31,g,d,D),l.elementType=ae,l.lanes=H,l;case j:return rs(g.children,D,H,d);case A:de=8,D|=24;break;case T:return l=Or(12,g,d,D|2),l.elementType=T,l.lanes=H,l;case _:return l=Or(13,g,d,D),l.elementType=_,l.lanes=H,l;case q:return l=Or(19,g,d,D),l.elementType=q,l.lanes=H,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case C:case M:de=10;break e;case O:de=9;break e;case R:de=11;break e;case se:de=14;break e;case ee:de=16,E=null;break e}de=29,g=Error(i(130,l===null?"null":typeof l,"")),E=null}return d=Or(de,g,d,D),d.elementType=l,d.type=E,d.lanes=H,d}function rs(l,d,g,E){return l=Or(7,l,E,d),l.lanes=g,l}function Ko(l,d,g){return l=Or(6,l,null,d),l.lanes=g,l}function Yo(l,d,g){return d=Or(4,l.children!==null?l.children:[],l.key,d),d.lanes=g,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}var Ds=[],Ms=0,ma=null,ga=0,Kr=[],Yr=0,ns=null,gn=1,xn="";function ss(l,d){Ds[Ms++]=ga,Ds[Ms++]=ma,ma=l,ga=d}function Eu(l,d,g){Kr[Yr++]=gn,Kr[Yr++]=xn,Kr[Yr++]=ns,ns=l;var E=gn;l=xn;var D=32-Ft(E)-1;E&=~(1<<D),g+=1;var H=32-Ft(d)+D;if(30<H){var de=D-D%5;H=(E&(1<<de)-1).toString(32),E>>=de,D-=de,gn=1<<32-Ft(d)+D|g<<D|E,xn=H+l}else gn=1<<H|g<<D|E,xn=l}function Xo(l){l.return!==null&&(ss(l,1),Eu(l,1,0))}function Zo(l){for(;l===ma;)ma=Ds[--Ms],Ds[Ms]=null,ga=Ds[--Ms],Ds[Ms]=null;for(;l===ns;)ns=Kr[--Yr],Kr[Yr]=null,xn=Kr[--Yr],Kr[Yr]=null,gn=Kr[--Yr],Kr[Yr]=null}var Rr=null,rr=null,Dt=!1,as=null,sn=!1,Qo=Error(i(519));function os(l){var d=Error(i(418,""));throw vi(Hr(d,l)),Qo}function wu(l){var d=l.stateNode,g=l.type,E=l.memoizedProps;switch(d[cr]=l,d[mr]=E,g){case"dialog":St("cancel",d),St("close",d);break;case"iframe":case"object":case"embed":St("load",d);break;case"video":case"audio":for(g=0;g<zi.length;g++)St(zi[g],d);break;case"source":St("error",d);break;case"img":case"image":case"link":St("error",d),St("load",d);break;case"details":St("toggle",d);break;case"input":St("invalid",d),Ic(d,E.value,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name,!0),ra(d);break;case"select":St("invalid",d);break;case"textarea":St("invalid",d),Bc(d,E.value,E.defaultValue,E.children),ra(d)}g=E.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||d.textContent===""+g||E.suppressHydrationWarning===!0||Uh(d.textContent,g)?(E.popover!=null&&(St("beforetoggle",d),St("toggle",d)),E.onScroll!=null&&St("scroll",d),E.onScrollEnd!=null&&St("scrollend",d),E.onClick!=null&&(d.onclick=Za),d=!0):d=!1,d||os(l)}function ju(l){for(Rr=l.return;Rr;)switch(Rr.tag){case 5:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:Rr=Rr.return}}function gi(l){if(l!==Rr)return!1;if(!Dt)return ju(l),Dt=!0,!1;var d=l.tag,g;if((g=d!==3&&d!==27)&&((g=d===5)&&(g=l.type,g=!(g!=="form"&&g!=="button")||pc(l.type,l.memoizedProps)),g=!g),g&&rr&&os(l),ju(l),d===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8)if(g=l.data,g==="/$"){if(d===0){rr=rn(l.nextSibling);break e}d--}else g!=="$"&&g!=="$!"&&g!=="$?"||d++;l=l.nextSibling}rr=null}}else d===27?(d=rr,Wn(l.type)?(l=vc,vc=null,rr=l):rr=d):rr=Rr?rn(l.stateNode.nextSibling):null;return!0}function xi(){rr=Rr=null,Dt=!1}function Su(){var l=as;return l!==null&&(Nr===null?Nr=l:Nr.push.apply(Nr,l),as=null),l}function vi(l){as===null?as=[l]:as.push(l)}var Jo=ne(null),ls=null,vn=null;function Cn(l,d,g){ue(Jo,d._currentValue),d._currentValue=g}function yn(l){l._currentValue=Jo.current,oe(Jo)}function el(l,d,g){for(;l!==null;){var E=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,E!==null&&(E.childLanes|=d)):E!==null&&(E.childLanes&d)!==d&&(E.childLanes|=d),l===g)break;l=l.return}}function tl(l,d,g,E){var D=l.child;for(D!==null&&(D.return=l);D!==null;){var H=D.dependencies;if(H!==null){var de=D.child;H=H.firstContext;e:for(;H!==null;){var be=H;H=D;for(var Ae=0;Ae<d.length;Ae++)if(be.context===d[Ae]){H.lanes|=g,be=H.alternate,be!==null&&(be.lanes|=g),el(H.return,g,l),E||(de=null);break e}H=be.next}}else if(D.tag===18){if(de=D.return,de===null)throw Error(i(341));de.lanes|=g,H=de.alternate,H!==null&&(H.lanes|=g),el(de,g,l),de=null}else de=D.child;if(de!==null)de.return=D;else for(de=D;de!==null;){if(de===l){de=null;break}if(D=de.sibling,D!==null){D.return=de.return,de=D;break}de=de.return}D=de}}function yi(l,d,g,E){l=null;for(var D=d,H=!1;D!==null;){if(!H){if((D.flags&524288)!==0)H=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var de=D.alternate;if(de===null)throw Error(i(387));if(de=de.memoizedProps,de!==null){var be=D.type;Mr(D.pendingProps.value,de.value)||(l!==null?l.push(be):l=[be])}}else if(D===he.current){if(de=D.alternate,de===null)throw Error(i(387));de.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(l!==null?l.push(Ki):l=[Ki])}D=D.return}l!==null&&tl(d,l,g,E),d.flags|=262144}function xa(l){for(l=l.firstContext;l!==null;){if(!Mr(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function cs(l){ls=l,vn=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function _r(l){return _u(ls,l)}function va(l,d){return ls===null&&cs(l),_u(l,d)}function _u(l,d){var g=d._currentValue;if(d={context:d,memoizedValue:g,next:null},vn===null){if(l===null)throw Error(i(308));vn=d,l.dependencies={lanes:0,firstContext:d},l.flags|=524288}else vn=vn.next=d;return g}var cp=typeof AbortController<"u"?AbortController:function(){var l=[],d=this.signal={aborted:!1,addEventListener:function(g,E){l.push(E)}};this.abort=function(){d.aborted=!0,l.forEach(function(g){return g()})}},up=e.unstable_scheduleCallback,dp=e.unstable_NormalPriority,fr={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rl(){return{controller:new cp,data:new Map,refCount:0}}function bi(l){l.refCount--,l.refCount===0&&up(dp,function(){l.controller.abort()})}var Ei=null,nl=0,Os=0,Ls=null;function hp(l,d){if(Ei===null){var g=Ei=[];nl=0,Os=ic(),Ls={status:"pending",value:void 0,then:function(E){g.push(E)}}}return nl++,d.then(Au,Au),d}function Au(){if(--nl===0&&Ei!==null){Ls!==null&&(Ls.status="fulfilled");var l=Ei;Ei=null,Os=0,Ls=null;for(var d=0;d<l.length;d++)(0,l[d])()}}function fp(l,d){var g=[],E={status:"pending",value:null,reason:null,then:function(D){g.push(D)}};return l.then(function(){E.status="fulfilled",E.value=d;for(var D=0;D<g.length;D++)(0,g[D])(d)},function(D){for(E.status="rejected",E.reason=D,D=0;D<g.length;D++)(0,g[D])(void 0)}),E}var Ru=je.S;je.S=function(l,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&hp(l,d),Ru!==null&&Ru(l,d)};var us=ne(null);function sl(){var l=us.current;return l!==null?l:Jt.pooledCache}function ya(l,d){d===null?ue(us,us.current):ue(us,d.pool)}function Tu(){var l=sl();return l===null?null:{parent:fr._currentValue,pool:l}}var wi=Error(i(460)),Pu=Error(i(474)),ba=Error(i(542)),il={then:function(){}};function Cu(l){return l=l.status,l==="fulfilled"||l==="rejected"}function Ea(){}function ku(l,d,g){switch(g=l[g],g===void 0?l.push(d):g!==d&&(d.then(Ea,Ea),d=g),d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,Du(l),l;default:if(typeof d.status=="string")d.then(Ea,Ea);else{if(l=Jt,l!==null&&100<l.shellSuspendCounter)throw Error(i(482));l=d,l.status="pending",l.then(function(E){if(d.status==="pending"){var D=d;D.status="fulfilled",D.value=E}},function(E){if(d.status==="pending"){var D=d;D.status="rejected",D.reason=E}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,Du(l),l}throw ji=d,wi}}var ji=null;function Nu(){if(ji===null)throw Error(i(459));var l=ji;return ji=null,l}function Du(l){if(l===wi||l===ba)throw Error(i(483))}var kn=!1;function al(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ol(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Nn(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Dn(l,d,g){var E=l.updateQueue;if(E===null)return null;if(E=E.shared,(Ut&2)!==0){var D=E.pending;return D===null?d.next=d:(d.next=D.next,D.next=d),E.pending=d,d=fa(l),yu(l,null,g),d}return ha(l,E,d,g),fa(l)}function Si(l,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194048)!==0)){var E=d.lanes;E&=l.pendingLanes,g|=E,d.lanes=g,hn(l,g)}}function ll(l,d){var g=l.updateQueue,E=l.alternate;if(E!==null&&(E=E.updateQueue,g===E)){var D=null,H=null;if(g=g.firstBaseUpdate,g!==null){do{var de={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};H===null?D=H=de:H=H.next=de,g=g.next}while(g!==null);H===null?D=H=d:H=H.next=d}else D=H=d;g={baseState:E.baseState,firstBaseUpdate:D,lastBaseUpdate:H,shared:E.shared,callbacks:E.callbacks},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=d:l.next=d,g.lastBaseUpdate=d}var cl=!1;function _i(){if(cl){var l=Ls;if(l!==null)throw l}}function Ai(l,d,g,E){cl=!1;var D=l.updateQueue;kn=!1;var H=D.firstBaseUpdate,de=D.lastBaseUpdate,be=D.shared.pending;if(be!==null){D.shared.pending=null;var Ae=be,Le=Ae.next;Ae.next=null,de===null?H=Le:de.next=Le,de=Ae;var ze=l.alternate;ze!==null&&(ze=ze.updateQueue,be=ze.lastBaseUpdate,be!==de&&(be===null?ze.firstBaseUpdate=Le:be.next=Le,ze.lastBaseUpdate=Ae))}if(H!==null){var We=D.baseState;de=0,ze=Le=Ae=null,be=H;do{var Ie=be.lane&-536870913,$e=Ie!==be.lane;if($e?(Rt&Ie)===Ie:(E&Ie)===Ie){Ie!==0&&Ie===Os&&(cl=!0),ze!==null&&(ze=ze.next={lane:0,tag:be.tag,payload:be.payload,callback:null,next:null});e:{var ot=l,et=be;Ie=d;var Yt=g;switch(et.tag){case 1:if(ot=et.payload,typeof ot=="function"){We=ot.call(Yt,We,Ie);break e}We=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=et.payload,Ie=typeof ot=="function"?ot.call(Yt,We,Ie):ot,Ie==null)break e;We=f({},We,Ie);break e;case 2:kn=!0}}Ie=be.callback,Ie!==null&&(l.flags|=64,$e&&(l.flags|=8192),$e=D.callbacks,$e===null?D.callbacks=[Ie]:$e.push(Ie))}else $e={lane:Ie,tag:be.tag,payload:be.payload,callback:be.callback,next:null},ze===null?(Le=ze=$e,Ae=We):ze=ze.next=$e,de|=Ie;if(be=be.next,be===null){if(be=D.shared.pending,be===null)break;$e=be,be=$e.next,$e.next=null,D.lastBaseUpdate=$e,D.shared.pending=null}}while(!0);ze===null&&(Ae=We),D.baseState=Ae,D.firstBaseUpdate=Le,D.lastBaseUpdate=ze,H===null&&(D.shared.lanes=0),Un|=de,l.lanes=de,l.memoizedState=We}}function Mu(l,d){if(typeof l!="function")throw Error(i(191,l));l.call(d)}function Ou(l,d){var g=l.callbacks;if(g!==null)for(l.callbacks=null,l=0;l<g.length;l++)Mu(g[l],d)}var Is=ne(null),wa=ne(0);function Lu(l,d){l=An,ue(wa,l),ue(Is,d),An=l|d.baseLanes}function ul(){ue(wa,An),ue(Is,Is.current)}function dl(){An=wa.current,oe(Is),oe(wa)}var Mn=0,dt=null,Ht=null,ur=null,ja=!1,$s=!1,ds=!1,Sa=0,Ri=0,Bs=null,pp=0;function ir(){throw Error(i(321))}function hl(l,d){if(d===null)return!1;for(var g=0;g<d.length&&g<l.length;g++)if(!Mr(l[g],d[g]))return!1;return!0}function fl(l,d,g,E,D,H){return Mn=H,dt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,je.H=l===null||l.memoizedState===null?bd:Ed,ds=!1,H=g(E,D),ds=!1,$s&&(H=$u(d,g,E,D)),Iu(l),H}function Iu(l){je.H=Ca;var d=Ht!==null&&Ht.next!==null;if(Mn=0,ur=Ht=dt=null,ja=!1,Ri=0,Bs=null,d)throw Error(i(300));l===null||xr||(l=l.dependencies,l!==null&&xa(l)&&(xr=!0))}function $u(l,d,g,E){dt=l;var D=0;do{if($s&&(Bs=null),Ri=0,$s=!1,25<=D)throw Error(i(301));if(D+=1,ur=Ht=null,l.updateQueue!=null){var H=l.updateQueue;H.lastEffect=null,H.events=null,H.stores=null,H.memoCache!=null&&(H.memoCache.index=0)}je.H=Ep,H=d(g,E)}while($s);return H}function mp(){var l=je.H,d=l.useState()[0];return d=typeof d.then=="function"?Ti(d):d,l=l.useState()[0],(Ht!==null?Ht.memoizedState:null)!==l&&(dt.flags|=1024),d}function pl(){var l=Sa!==0;return Sa=0,l}function ml(l,d,g){d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~g}function gl(l){if(ja){for(l=l.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}ja=!1}Mn=0,ur=Ht=dt=null,$s=!1,Ri=Sa=0,Bs=null}function Pr(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?dt.memoizedState=ur=l:ur=ur.next=l,ur}function dr(){if(Ht===null){var l=dt.alternate;l=l!==null?l.memoizedState:null}else l=Ht.next;var d=ur===null?dt.memoizedState:ur.next;if(d!==null)ur=d,Ht=l;else{if(l===null)throw dt.alternate===null?Error(i(467)):Error(i(310));Ht=l,l={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},ur===null?dt.memoizedState=ur=l:ur=ur.next=l}return ur}function xl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ti(l){var d=Ri;return Ri+=1,Bs===null&&(Bs=[]),l=ku(Bs,l,d),d=dt,(ur===null?d.memoizedState:ur.next)===null&&(d=d.alternate,je.H=d===null||d.memoizedState===null?bd:Ed),l}function _a(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Ti(l);if(l.$$typeof===M)return _r(l)}throw Error(i(438,String(l)))}function vl(l){var d=null,g=dt.updateQueue;if(g!==null&&(d=g.memoCache),d==null){var E=dt.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(d={data:E.data.map(function(D){return D.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),g===null&&(g=xl(),dt.updateQueue=g),g.memoCache=d,g=d.data[d.index],g===void 0)for(g=d.data[d.index]=Array(l),E=0;E<l;E++)g[E]=pe;return d.index++,g}function bn(l,d){return typeof d=="function"?d(l):d}function Aa(l){var d=dr();return yl(d,Ht,l)}function yl(l,d,g){var E=l.queue;if(E===null)throw Error(i(311));E.lastRenderedReducer=g;var D=l.baseQueue,H=E.pending;if(H!==null){if(D!==null){var de=D.next;D.next=H.next,H.next=de}d.baseQueue=D=H,E.pending=null}if(H=l.baseState,D===null)l.memoizedState=H;else{d=D.next;var be=de=null,Ae=null,Le=d,ze=!1;do{var We=Le.lane&-536870913;if(We!==Le.lane?(Rt&We)===We:(Mn&We)===We){var Ie=Le.revertLane;if(Ie===0)Ae!==null&&(Ae=Ae.next={lane:0,revertLane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),We===Os&&(ze=!0);else if((Mn&Ie)===Ie){Le=Le.next,Ie===Os&&(ze=!0);continue}else We={lane:0,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},Ae===null?(be=Ae=We,de=H):Ae=Ae.next=We,dt.lanes|=Ie,Un|=Ie;We=Le.action,ds&&g(H,We),H=Le.hasEagerState?Le.eagerState:g(H,We)}else Ie={lane:We,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},Ae===null?(be=Ae=Ie,de=H):Ae=Ae.next=Ie,dt.lanes|=We,Un|=We;Le=Le.next}while(Le!==null&&Le!==d);if(Ae===null?de=H:Ae.next=be,!Mr(H,l.memoizedState)&&(xr=!0,ze&&(g=Ls,g!==null)))throw g;l.memoizedState=H,l.baseState=de,l.baseQueue=Ae,E.lastRenderedState=H}return D===null&&(E.lanes=0),[l.memoizedState,E.dispatch]}function bl(l){var d=dr(),g=d.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=l;var E=g.dispatch,D=g.pending,H=d.memoizedState;if(D!==null){g.pending=null;var de=D=D.next;do H=l(H,de.action),de=de.next;while(de!==D);Mr(H,d.memoizedState)||(xr=!0),d.memoizedState=H,d.baseQueue===null&&(d.baseState=H),g.lastRenderedState=H}return[H,E]}function Bu(l,d,g){var E=dt,D=dr(),H=Dt;if(H){if(g===void 0)throw Error(i(407));g=g()}else g=d();var de=!Mr((Ht||D).memoizedState,g);de&&(D.memoizedState=g,xr=!0),D=D.queue;var be=zu.bind(null,E,D,l);if(Pi(2048,8,be,[l]),D.getSnapshot!==d||de||ur!==null&&ur.memoizedState.tag&1){if(E.flags|=2048,Fs(9,Ra(),Uu.bind(null,E,D,g,d),null),Jt===null)throw Error(i(349));H||(Mn&124)!==0||Fu(E,d,g)}return g}function Fu(l,d,g){l.flags|=16384,l={getSnapshot:d,value:g},d=dt.updateQueue,d===null?(d=xl(),dt.updateQueue=d,d.stores=[l]):(g=d.stores,g===null?d.stores=[l]:g.push(l))}function Uu(l,d,g,E){d.value=g,d.getSnapshot=E,qu(d)&&Vu(l)}function zu(l,d,g){return g(function(){qu(d)&&Vu(l)})}function qu(l){var d=l.getSnapshot;l=l.value;try{var g=d();return!Mr(l,g)}catch{return!0}}function Vu(l){var d=ks(l,2);d!==null&&Fr(d,l,2)}function El(l){var d=Pr();if(typeof l=="function"){var g=l;if(l=g(),ds){Ar(!0);try{g()}finally{Ar(!1)}}}return d.memoizedState=d.baseState=l,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:l},d}function Wu(l,d,g,E){return l.baseState=g,yl(l,Ht,typeof E=="function"?E:bn)}function gp(l,d,g,E,D){if(Pa(l))throw Error(i(485));if(l=d.action,l!==null){var H={payload:D,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(de){H.listeners.push(de)}};je.T!==null?g(!0):H.isTransition=!1,E(H),g=d.pending,g===null?(H.next=d.pending=H,Hu(d,H)):(H.next=g.next,d.pending=g.next=H)}}function Hu(l,d){var g=d.action,E=d.payload,D=l.state;if(d.isTransition){var H=je.T,de={};je.T=de;try{var be=g(D,E),Ae=je.S;Ae!==null&&Ae(de,be),Gu(l,d,be)}catch(Le){wl(l,d,Le)}finally{je.T=H}}else try{H=g(D,E),Gu(l,d,H)}catch(Le){wl(l,d,Le)}}function Gu(l,d,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(E){Ku(l,d,E)},function(E){return wl(l,d,E)}):Ku(l,d,g)}function Ku(l,d,g){d.status="fulfilled",d.value=g,Yu(d),l.state=g,d=l.pending,d!==null&&(g=d.next,g===d?l.pending=null:(g=g.next,d.next=g,Hu(l,g)))}function wl(l,d,g){var E=l.pending;if(l.pending=null,E!==null){E=E.next;do d.status="rejected",d.reason=g,Yu(d),d=d.next;while(d!==E)}l.action=null}function Yu(l){l=l.listeners;for(var d=0;d<l.length;d++)(0,l[d])()}function Xu(l,d){return d}function Zu(l,d){if(Dt){var g=Jt.formState;if(g!==null){e:{var E=dt;if(Dt){if(rr){t:{for(var D=rr,H=sn;D.nodeType!==8;){if(!H){D=null;break t}if(D=rn(D.nextSibling),D===null){D=null;break t}}H=D.data,D=H==="F!"||H==="F"?D:null}if(D){rr=rn(D.nextSibling),E=D.data==="F!";break e}}os(E)}E=!1}E&&(d=g[0])}}return g=Pr(),g.memoizedState=g.baseState=d,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xu,lastRenderedState:d},g.queue=E,g=xd.bind(null,dt,E),E.dispatch=g,E=El(!1),H=Rl.bind(null,dt,!1,E.queue),E=Pr(),D={state:d,dispatch:null,action:l,pending:null},E.queue=D,g=gp.bind(null,dt,D,H,g),D.dispatch=g,E.memoizedState=l,[d,g,!1]}function Qu(l){var d=dr();return Ju(d,Ht,l)}function Ju(l,d,g){if(d=yl(l,d,Xu)[0],l=Aa(bn)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var E=Ti(d)}catch(de){throw de===wi?ba:de}else E=d;d=dr();var D=d.queue,H=D.dispatch;return g!==d.memoizedState&&(dt.flags|=2048,Fs(9,Ra(),xp.bind(null,D,g),null)),[E,H,l]}function xp(l,d){l.action=d}function ed(l){var d=dr(),g=Ht;if(g!==null)return Ju(d,g,l);dr(),d=d.memoizedState,g=dr();var E=g.queue.dispatch;return g.memoizedState=l,[d,E,!1]}function Fs(l,d,g,E){return l={tag:l,create:g,deps:E,inst:d,next:null},d=dt.updateQueue,d===null&&(d=xl(),dt.updateQueue=d),g=d.lastEffect,g===null?d.lastEffect=l.next=l:(E=g.next,g.next=l,l.next=E,d.lastEffect=l),l}function Ra(){return{destroy:void 0,resource:void 0}}function td(){return dr().memoizedState}function Ta(l,d,g,E){var D=Pr();E=E===void 0?null:E,dt.flags|=l,D.memoizedState=Fs(1|d,Ra(),g,E)}function Pi(l,d,g,E){var D=dr();E=E===void 0?null:E;var H=D.memoizedState.inst;Ht!==null&&E!==null&&hl(E,Ht.memoizedState.deps)?D.memoizedState=Fs(d,H,g,E):(dt.flags|=l,D.memoizedState=Fs(1|d,H,g,E))}function rd(l,d){Ta(8390656,8,l,d)}function nd(l,d){Pi(2048,8,l,d)}function sd(l,d){return Pi(4,2,l,d)}function ad(l,d){return Pi(4,4,l,d)}function od(l,d){if(typeof d=="function"){l=l();var g=d(l);return function(){typeof g=="function"?g():d(null)}}if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function ld(l,d,g){g=g!=null?g.concat([l]):null,Pi(4,4,od.bind(null,d,l),g)}function jl(){}function cd(l,d){var g=dr();d=d===void 0?null:d;var E=g.memoizedState;return d!==null&&hl(d,E[1])?E[0]:(g.memoizedState=[l,d],l)}function ud(l,d){var g=dr();d=d===void 0?null:d;var E=g.memoizedState;if(d!==null&&hl(d,E[1]))return E[0];if(E=l(),ds){Ar(!0);try{l()}finally{Ar(!1)}}return g.memoizedState=[E,d],E}function Sl(l,d,g){return g===void 0||(Mn&1073741824)!==0?l.memoizedState=d:(l.memoizedState=g,l=fh(),dt.lanes|=l,Un|=l,g)}function dd(l,d,g,E){return Mr(g,d)?g:Is.current!==null?(l=Sl(l,g,E),Mr(l,d)||(xr=!0),l):(Mn&42)===0?(xr=!0,l.memoizedState=g):(l=fh(),dt.lanes|=l,Un|=l,d)}function hd(l,d,g,E,D){var H=ce.p;ce.p=H!==0&&8>H?H:8;var de=je.T,be={};je.T=be,Rl(l,!1,d,g);try{var Ae=D(),Le=je.S;if(Le!==null&&Le(be,Ae),Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var ze=fp(Ae,E);Ci(l,d,ze,Br(l))}else Ci(l,d,E,Br(l))}catch(We){Ci(l,d,{then:function(){},status:"rejected",reason:We},Br())}finally{ce.p=H,je.T=de}}function vp(){}function _l(l,d,g,E){if(l.tag!==5)throw Error(i(476));var D=fd(l).queue;hd(l,D,d,le,g===null?vp:function(){return pd(l),g(E)})}function fd(l){var d=l.memoizedState;if(d!==null)return d;d={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:le},next:null};var g={};return d.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:g},next:null},l.memoizedState=d,l=l.alternate,l!==null&&(l.memoizedState=d),d}function pd(l){var d=fd(l).next.queue;Ci(l,d,{},Br())}function Al(){return _r(Ki)}function md(){return dr().memoizedState}function gd(){return dr().memoizedState}function yp(l){for(var d=l.return;d!==null;){switch(d.tag){case 24:case 3:var g=Br();l=Nn(g);var E=Dn(d,l,g);E!==null&&(Fr(E,d,g),Si(E,d,g)),d={cache:rl()},l.payload=d;return}d=d.return}}function bp(l,d,g){var E=Br();g={lane:E,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},Pa(l)?vd(d,g):(g=Ho(l,d,g,E),g!==null&&(Fr(g,l,E),yd(g,d,E)))}function xd(l,d,g){var E=Br();Ci(l,d,g,E)}function Ci(l,d,g,E){var D={lane:E,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(Pa(l))vd(d,D);else{var H=l.alternate;if(l.lanes===0&&(H===null||H.lanes===0)&&(H=d.lastRenderedReducer,H!==null))try{var de=d.lastRenderedState,be=H(de,g);if(D.hasEagerState=!0,D.eagerState=be,Mr(be,de))return ha(l,d,D,0),Jt===null&&da(),!1}catch{}finally{}if(g=Ho(l,d,D,E),g!==null)return Fr(g,l,E),yd(g,d,E),!0}return!1}function Rl(l,d,g,E){if(E={lane:2,revertLane:ic(),action:E,hasEagerState:!1,eagerState:null,next:null},Pa(l)){if(d)throw Error(i(479))}else d=Ho(l,g,E,2),d!==null&&Fr(d,l,2)}function Pa(l){var d=l.alternate;return l===dt||d!==null&&d===dt}function vd(l,d){$s=ja=!0;var g=l.pending;g===null?d.next=d:(d.next=g.next,g.next=d),l.pending=d}function yd(l,d,g){if((g&4194048)!==0){var E=d.lanes;E&=l.pendingLanes,g|=E,d.lanes=g,hn(l,g)}}var Ca={readContext:_r,use:_a,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useLayoutEffect:ir,useInsertionEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useSyncExternalStore:ir,useId:ir,useHostTransitionStatus:ir,useFormState:ir,useActionState:ir,useOptimistic:ir,useMemoCache:ir,useCacheRefresh:ir},bd={readContext:_r,use:_a,useCallback:function(l,d){return Pr().memoizedState=[l,d===void 0?null:d],l},useContext:_r,useEffect:rd,useImperativeHandle:function(l,d,g){g=g!=null?g.concat([l]):null,Ta(4194308,4,od.bind(null,d,l),g)},useLayoutEffect:function(l,d){return Ta(4194308,4,l,d)},useInsertionEffect:function(l,d){Ta(4,2,l,d)},useMemo:function(l,d){var g=Pr();d=d===void 0?null:d;var E=l();if(ds){Ar(!0);try{l()}finally{Ar(!1)}}return g.memoizedState=[E,d],E},useReducer:function(l,d,g){var E=Pr();if(g!==void 0){var D=g(d);if(ds){Ar(!0);try{g(d)}finally{Ar(!1)}}}else D=d;return E.memoizedState=E.baseState=D,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:D},E.queue=l,l=l.dispatch=bp.bind(null,dt,l),[E.memoizedState,l]},useRef:function(l){var d=Pr();return l={current:l},d.memoizedState=l},useState:function(l){l=El(l);var d=l.queue,g=xd.bind(null,dt,d);return d.dispatch=g,[l.memoizedState,g]},useDebugValue:jl,useDeferredValue:function(l,d){var g=Pr();return Sl(g,l,d)},useTransition:function(){var l=El(!1);return l=hd.bind(null,dt,l.queue,!0,!1),Pr().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,d,g){var E=dt,D=Pr();if(Dt){if(g===void 0)throw Error(i(407));g=g()}else{if(g=d(),Jt===null)throw Error(i(349));(Rt&124)!==0||Fu(E,d,g)}D.memoizedState=g;var H={value:g,getSnapshot:d};return D.queue=H,rd(zu.bind(null,E,H,l),[l]),E.flags|=2048,Fs(9,Ra(),Uu.bind(null,E,H,g,d),null),g},useId:function(){var l=Pr(),d=Jt.identifierPrefix;if(Dt){var g=xn,E=gn;g=(E&~(1<<32-Ft(E)-1)).toString(32)+g,d="«"+d+"R"+g,g=Sa++,0<g&&(d+="H"+g.toString(32)),d+="»"}else g=pp++,d="«"+d+"r"+g.toString(32)+"»";return l.memoizedState=d},useHostTransitionStatus:Al,useFormState:Zu,useActionState:Zu,useOptimistic:function(l){var d=Pr();d.memoizedState=d.baseState=l;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=g,d=Rl.bind(null,dt,!0,g),g.dispatch=d,[l,d]},useMemoCache:vl,useCacheRefresh:function(){return Pr().memoizedState=yp.bind(null,dt)}},Ed={readContext:_r,use:_a,useCallback:cd,useContext:_r,useEffect:nd,useImperativeHandle:ld,useInsertionEffect:sd,useLayoutEffect:ad,useMemo:ud,useReducer:Aa,useRef:td,useState:function(){return Aa(bn)},useDebugValue:jl,useDeferredValue:function(l,d){var g=dr();return dd(g,Ht.memoizedState,l,d)},useTransition:function(){var l=Aa(bn)[0],d=dr().memoizedState;return[typeof l=="boolean"?l:Ti(l),d]},useSyncExternalStore:Bu,useId:md,useHostTransitionStatus:Al,useFormState:Qu,useActionState:Qu,useOptimistic:function(l,d){var g=dr();return Wu(g,Ht,l,d)},useMemoCache:vl,useCacheRefresh:gd},Ep={readContext:_r,use:_a,useCallback:cd,useContext:_r,useEffect:nd,useImperativeHandle:ld,useInsertionEffect:sd,useLayoutEffect:ad,useMemo:ud,useReducer:bl,useRef:td,useState:function(){return bl(bn)},useDebugValue:jl,useDeferredValue:function(l,d){var g=dr();return Ht===null?Sl(g,l,d):dd(g,Ht.memoizedState,l,d)},useTransition:function(){var l=bl(bn)[0],d=dr().memoizedState;return[typeof l=="boolean"?l:Ti(l),d]},useSyncExternalStore:Bu,useId:md,useHostTransitionStatus:Al,useFormState:ed,useActionState:ed,useOptimistic:function(l,d){var g=dr();return Ht!==null?Wu(g,Ht,l,d):(g.baseState=l,[l,g.queue.dispatch])},useMemoCache:vl,useCacheRefresh:gd},Us=null,ki=0;function Na(l){var d=ki;return ki+=1,Us===null&&(Us=[]),ku(Us,l,d)}function Ni(l,d){d=d.props.ref,l.ref=d!==void 0?d:null}function Da(l,d){throw d.$$typeof===b?Error(i(525)):(l=Object.prototype.toString.call(d),Error(i(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l)))}function wd(l){var d=l._init;return d(l._payload)}function jd(l){function d(Ce,Te){if(l){var Me=Ce.deletions;Me===null?(Ce.deletions=[Te],Ce.flags|=16):Me.push(Te)}}function g(Ce,Te){if(!l)return null;for(;Te!==null;)d(Ce,Te),Te=Te.sibling;return null}function E(Ce){for(var Te=new Map;Ce!==null;)Ce.key!==null?Te.set(Ce.key,Ce):Te.set(Ce.index,Ce),Ce=Ce.sibling;return Te}function D(Ce,Te){return Ce=mn(Ce,Te),Ce.index=0,Ce.sibling=null,Ce}function H(Ce,Te,Me){return Ce.index=Me,l?(Me=Ce.alternate,Me!==null?(Me=Me.index,Me<Te?(Ce.flags|=67108866,Te):Me):(Ce.flags|=67108866,Te)):(Ce.flags|=1048576,Te)}function de(Ce){return l&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function be(Ce,Te,Me,qe){return Te===null||Te.tag!==6?(Te=Ko(Me,Ce.mode,qe),Te.return=Ce,Te):(Te=D(Te,Me),Te.return=Ce,Te)}function Ae(Ce,Te,Me,qe){var Xe=Me.type;return Xe===j?ze(Ce,Te,Me.props.children,qe,Me.key):Te!==null&&(Te.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===ee&&wd(Xe)===Te.type)?(Te=D(Te,Me.props),Ni(Te,Me),Te.return=Ce,Te):(Te=pa(Me.type,Me.key,Me.props,null,Ce.mode,qe),Ni(Te,Me),Te.return=Ce,Te)}function Le(Ce,Te,Me,qe){return Te===null||Te.tag!==4||Te.stateNode.containerInfo!==Me.containerInfo||Te.stateNode.implementation!==Me.implementation?(Te=Yo(Me,Ce.mode,qe),Te.return=Ce,Te):(Te=D(Te,Me.children||[]),Te.return=Ce,Te)}function ze(Ce,Te,Me,qe,Xe){return Te===null||Te.tag!==7?(Te=rs(Me,Ce.mode,qe,Xe),Te.return=Ce,Te):(Te=D(Te,Me),Te.return=Ce,Te)}function We(Ce,Te,Me){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return Te=Ko(""+Te,Ce.mode,Me),Te.return=Ce,Te;if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case w:return Me=pa(Te.type,Te.key,Te.props,null,Ce.mode,Me),Ni(Me,Te),Me.return=Ce,Me;case S:return Te=Yo(Te,Ce.mode,Me),Te.return=Ce,Te;case ee:var qe=Te._init;return Te=qe(Te._payload),We(Ce,Te,Me)}if(Pe(Te)||Ee(Te))return Te=rs(Te,Ce.mode,Me,null),Te.return=Ce,Te;if(typeof Te.then=="function")return We(Ce,Na(Te),Me);if(Te.$$typeof===M)return We(Ce,va(Ce,Te),Me);Da(Ce,Te)}return null}function Ie(Ce,Te,Me,qe){var Xe=Te!==null?Te.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return Xe!==null?null:be(Ce,Te,""+Me,qe);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case w:return Me.key===Xe?Ae(Ce,Te,Me,qe):null;case S:return Me.key===Xe?Le(Ce,Te,Me,qe):null;case ee:return Xe=Me._init,Me=Xe(Me._payload),Ie(Ce,Te,Me,qe)}if(Pe(Me)||Ee(Me))return Xe!==null?null:ze(Ce,Te,Me,qe,null);if(typeof Me.then=="function")return Ie(Ce,Te,Na(Me),qe);if(Me.$$typeof===M)return Ie(Ce,Te,va(Ce,Me),qe);Da(Ce,Me)}return null}function $e(Ce,Te,Me,qe,Xe){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return Ce=Ce.get(Me)||null,be(Te,Ce,""+qe,Xe);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case w:return Ce=Ce.get(qe.key===null?Me:qe.key)||null,Ae(Te,Ce,qe,Xe);case S:return Ce=Ce.get(qe.key===null?Me:qe.key)||null,Le(Te,Ce,qe,Xe);case ee:var ft=qe._init;return qe=ft(qe._payload),$e(Ce,Te,Me,qe,Xe)}if(Pe(qe)||Ee(qe))return Ce=Ce.get(Me)||null,ze(Te,Ce,qe,Xe,null);if(typeof qe.then=="function")return $e(Ce,Te,Me,Na(qe),Xe);if(qe.$$typeof===M)return $e(Ce,Te,Me,va(Te,qe),Xe);Da(Te,qe)}return null}function ot(Ce,Te,Me,qe){for(var Xe=null,ft=null,Qe=Te,it=Te=0,yr=null;Qe!==null&&it<Me.length;it++){Qe.index>it?(yr=Qe,Qe=null):yr=Qe.sibling;var Tt=Ie(Ce,Qe,Me[it],qe);if(Tt===null){Qe===null&&(Qe=yr);break}l&&Qe&&Tt.alternate===null&&d(Ce,Qe),Te=H(Tt,Te,it),ft===null?Xe=Tt:ft.sibling=Tt,ft=Tt,Qe=yr}if(it===Me.length)return g(Ce,Qe),Dt&&ss(Ce,it),Xe;if(Qe===null){for(;it<Me.length;it++)Qe=We(Ce,Me[it],qe),Qe!==null&&(Te=H(Qe,Te,it),ft===null?Xe=Qe:ft.sibling=Qe,ft=Qe);return Dt&&ss(Ce,it),Xe}for(Qe=E(Qe);it<Me.length;it++)yr=$e(Qe,Ce,it,Me[it],qe),yr!==null&&(l&&yr.alternate!==null&&Qe.delete(yr.key===null?it:yr.key),Te=H(yr,Te,it),ft===null?Xe=yr:ft.sibling=yr,ft=yr);return l&&Qe.forEach(function(Xn){return d(Ce,Xn)}),Dt&&ss(Ce,it),Xe}function et(Ce,Te,Me,qe){if(Me==null)throw Error(i(151));for(var Xe=null,ft=null,Qe=Te,it=Te=0,yr=null,Tt=Me.next();Qe!==null&&!Tt.done;it++,Tt=Me.next()){Qe.index>it?(yr=Qe,Qe=null):yr=Qe.sibling;var Xn=Ie(Ce,Qe,Tt.value,qe);if(Xn===null){Qe===null&&(Qe=yr);break}l&&Qe&&Xn.alternate===null&&d(Ce,Qe),Te=H(Xn,Te,it),ft===null?Xe=Xn:ft.sibling=Xn,ft=Xn,Qe=yr}if(Tt.done)return g(Ce,Qe),Dt&&ss(Ce,it),Xe;if(Qe===null){for(;!Tt.done;it++,Tt=Me.next())Tt=We(Ce,Tt.value,qe),Tt!==null&&(Te=H(Tt,Te,it),ft===null?Xe=Tt:ft.sibling=Tt,ft=Tt);return Dt&&ss(Ce,it),Xe}for(Qe=E(Qe);!Tt.done;it++,Tt=Me.next())Tt=$e(Qe,Ce,it,Tt.value,qe),Tt!==null&&(l&&Tt.alternate!==null&&Qe.delete(Tt.key===null?it:Tt.key),Te=H(Tt,Te,it),ft===null?Xe=Tt:ft.sibling=Tt,ft=Tt);return l&&Qe.forEach(function(wm){return d(Ce,wm)}),Dt&&ss(Ce,it),Xe}function Yt(Ce,Te,Me,qe){if(typeof Me=="object"&&Me!==null&&Me.type===j&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case w:e:{for(var Xe=Me.key;Te!==null;){if(Te.key===Xe){if(Xe=Me.type,Xe===j){if(Te.tag===7){g(Ce,Te.sibling),qe=D(Te,Me.props.children),qe.return=Ce,Ce=qe;break e}}else if(Te.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===ee&&wd(Xe)===Te.type){g(Ce,Te.sibling),qe=D(Te,Me.props),Ni(qe,Me),qe.return=Ce,Ce=qe;break e}g(Ce,Te);break}else d(Ce,Te);Te=Te.sibling}Me.type===j?(qe=rs(Me.props.children,Ce.mode,qe,Me.key),qe.return=Ce,Ce=qe):(qe=pa(Me.type,Me.key,Me.props,null,Ce.mode,qe),Ni(qe,Me),qe.return=Ce,Ce=qe)}return de(Ce);case S:e:{for(Xe=Me.key;Te!==null;){if(Te.key===Xe)if(Te.tag===4&&Te.stateNode.containerInfo===Me.containerInfo&&Te.stateNode.implementation===Me.implementation){g(Ce,Te.sibling),qe=D(Te,Me.children||[]),qe.return=Ce,Ce=qe;break e}else{g(Ce,Te);break}else d(Ce,Te);Te=Te.sibling}qe=Yo(Me,Ce.mode,qe),qe.return=Ce,Ce=qe}return de(Ce);case ee:return Xe=Me._init,Me=Xe(Me._payload),Yt(Ce,Te,Me,qe)}if(Pe(Me))return ot(Ce,Te,Me,qe);if(Ee(Me)){if(Xe=Ee(Me),typeof Xe!="function")throw Error(i(150));return Me=Xe.call(Me),et(Ce,Te,Me,qe)}if(typeof Me.then=="function")return Yt(Ce,Te,Na(Me),qe);if(Me.$$typeof===M)return Yt(Ce,Te,va(Ce,Me),qe);Da(Ce,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,Te!==null&&Te.tag===6?(g(Ce,Te.sibling),qe=D(Te,Me),qe.return=Ce,Ce=qe):(g(Ce,Te),qe=Ko(Me,Ce.mode,qe),qe.return=Ce,Ce=qe),de(Ce)):g(Ce,Te)}return function(Ce,Te,Me,qe){try{ki=0;var Xe=Yt(Ce,Te,Me,qe);return Us=null,Xe}catch(Qe){if(Qe===wi||Qe===ba)throw Qe;var ft=Or(29,Qe,null,Ce.mode);return ft.lanes=qe,ft.return=Ce,ft}finally{}}}var zs=jd(!0),Sd=jd(!1),Xr=ne(null),an=null;function On(l){var d=l.alternate;ue(pr,pr.current&1),ue(Xr,l),an===null&&(d===null||Is.current!==null||d.memoizedState!==null)&&(an=l)}function _d(l){if(l.tag===22){if(ue(pr,pr.current),ue(Xr,l),an===null){var d=l.alternate;d!==null&&d.memoizedState!==null&&(an=l)}}else Ln()}function Ln(){ue(pr,pr.current),ue(Xr,Xr.current)}function En(l){oe(Xr),an===l&&(an=null),oe(pr)}var pr=ne(0);function Ma(l){for(var d=l;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||xc(g)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function Tl(l,d,g,E){d=l.memoizedState,g=g(E,d),g=g==null?d:f({},d,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var Pl={enqueueSetState:function(l,d,g){l=l._reactInternals;var E=Br(),D=Nn(E);D.payload=d,g!=null&&(D.callback=g),d=Dn(l,D,E),d!==null&&(Fr(d,l,E),Si(d,l,E))},enqueueReplaceState:function(l,d,g){l=l._reactInternals;var E=Br(),D=Nn(E);D.tag=1,D.payload=d,g!=null&&(D.callback=g),d=Dn(l,D,E),d!==null&&(Fr(d,l,E),Si(d,l,E))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var g=Br(),E=Nn(g);E.tag=2,d!=null&&(E.callback=d),d=Dn(l,E,g),d!==null&&(Fr(d,l,g),Si(d,l,g))}};function Ad(l,d,g,E,D,H,de){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(E,H,de):d.prototype&&d.prototype.isPureReactComponent?!fi(g,E)||!fi(D,H):!0}function Rd(l,d,g,E){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,E),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,E),d.state!==l&&Pl.enqueueReplaceState(d,d.state,null)}function hs(l,d){var g=d;if("ref"in d){g={};for(var E in d)E!=="ref"&&(g[E]=d[E])}if(l=l.defaultProps){g===d&&(g=f({},g));for(var D in l)g[D]===void 0&&(g[D]=l[D])}return g}var Oa=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function Td(l){Oa(l)}function Pd(l){console.error(l)}function Cd(l){Oa(l)}function La(l,d){try{var g=l.onUncaughtError;g(d.value,{componentStack:d.stack})}catch(E){setTimeout(function(){throw E})}}function kd(l,d,g){try{var E=l.onCaughtError;E(g.value,{componentStack:g.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function Cl(l,d,g){return g=Nn(g),g.tag=3,g.payload={element:null},g.callback=function(){La(l,d)},g}function Nd(l){return l=Nn(l),l.tag=3,l}function Dd(l,d,g,E){var D=g.type.getDerivedStateFromError;if(typeof D=="function"){var H=E.value;l.payload=function(){return D(H)},l.callback=function(){kd(d,g,E)}}var de=g.stateNode;de!==null&&typeof de.componentDidCatch=="function"&&(l.callback=function(){kd(d,g,E),typeof D!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var be=E.stack;this.componentDidCatch(E.value,{componentStack:be!==null?be:""})})}function wp(l,d,g,E,D){if(g.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(d=g.alternate,d!==null&&yi(d,g,D,!0),g=Xr.current,g!==null){switch(g.tag){case 13:return an===null?ec():g.alternate===null&&nr===0&&(nr=3),g.flags&=-257,g.flags|=65536,g.lanes=D,E===il?g.flags|=16384:(d=g.updateQueue,d===null?g.updateQueue=new Set([E]):d.add(E),rc(l,E,D)),!1;case 22:return g.flags|=65536,E===il?g.flags|=16384:(d=g.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([E])},g.updateQueue=d):(g=d.retryQueue,g===null?d.retryQueue=new Set([E]):g.add(E)),rc(l,E,D)),!1}throw Error(i(435,g.tag))}return rc(l,E,D),ec(),!1}if(Dt)return d=Xr.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=D,E!==Qo&&(l=Error(i(422),{cause:E}),vi(Hr(l,g)))):(E!==Qo&&(d=Error(i(423),{cause:E}),vi(Hr(d,g))),l=l.current.alternate,l.flags|=65536,D&=-D,l.lanes|=D,E=Hr(E,g),D=Cl(l.stateNode,E,D),ll(l,D),nr!==4&&(nr=2)),!1;var H=Error(i(520),{cause:E});if(H=Hr(H,g),Bi===null?Bi=[H]:Bi.push(H),nr!==4&&(nr=2),d===null)return!0;E=Hr(E,g),g=d;do{switch(g.tag){case 3:return g.flags|=65536,l=D&-D,g.lanes|=l,l=Cl(g.stateNode,E,l),ll(g,l),!1;case 1:if(d=g.type,H=g.stateNode,(g.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(zn===null||!zn.has(H))))return g.flags|=65536,D&=-D,g.lanes|=D,D=Nd(D),Dd(D,l,g,E),ll(g,D),!1}g=g.return}while(g!==null);return!1}var Md=Error(i(461)),xr=!1;function wr(l,d,g,E){d.child=l===null?Sd(d,null,g,E):zs(d,l.child,g,E)}function Od(l,d,g,E,D){g=g.render;var H=d.ref;if("ref"in E){var de={};for(var be in E)be!=="ref"&&(de[be]=E[be])}else de=E;return cs(d),E=fl(l,d,g,de,H,D),be=pl(),l!==null&&!xr?(ml(l,d,D),wn(l,d,D)):(Dt&&be&&Xo(d),d.flags|=1,wr(l,d,E,D),d.child)}function Ld(l,d,g,E,D){if(l===null){var H=g.type;return typeof H=="function"&&!Go(H)&&H.defaultProps===void 0&&g.compare===null?(d.tag=15,d.type=H,Id(l,d,H,E,D)):(l=pa(g.type,null,E,d,d.mode,D),l.ref=d.ref,l.return=d,d.child=l)}if(H=l.child,!$l(l,D)){var de=H.memoizedProps;if(g=g.compare,g=g!==null?g:fi,g(de,E)&&l.ref===d.ref)return wn(l,d,D)}return d.flags|=1,l=mn(H,E),l.ref=d.ref,l.return=d,d.child=l}function Id(l,d,g,E,D){if(l!==null){var H=l.memoizedProps;if(fi(H,E)&&l.ref===d.ref)if(xr=!1,d.pendingProps=E=H,$l(l,D))(l.flags&131072)!==0&&(xr=!0);else return d.lanes=l.lanes,wn(l,d,D)}return kl(l,d,g,E,D)}function $d(l,d,g){var E=d.pendingProps,D=E.children,H=l!==null?l.memoizedState:null;if(E.mode==="hidden"){if((d.flags&128)!==0){if(E=H!==null?H.baseLanes|g:g,l!==null){for(D=d.child=l.child,H=0;D!==null;)H=H|D.lanes|D.childLanes,D=D.sibling;d.childLanes=H&~E}else d.childLanes=0,d.child=null;return Bd(l,d,E,g)}if((g&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},l!==null&&ya(d,H!==null?H.cachePool:null),H!==null?Lu(d,H):ul(),_d(d);else return d.lanes=d.childLanes=536870912,Bd(l,d,H!==null?H.baseLanes|g:g,g)}else H!==null?(ya(d,H.cachePool),Lu(d,H),Ln(),d.memoizedState=null):(l!==null&&ya(d,null),ul(),Ln());return wr(l,d,D,g),d.child}function Bd(l,d,g,E){var D=sl();return D=D===null?null:{parent:fr._currentValue,pool:D},d.memoizedState={baseLanes:g,cachePool:D},l!==null&&ya(d,null),ul(),_d(d),l!==null&&yi(l,d,E,!0),null}function Ia(l,d){var g=d.ref;if(g===null)l!==null&&l.ref!==null&&(d.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(i(284));(l===null||l.ref!==g)&&(d.flags|=4194816)}}function kl(l,d,g,E,D){return cs(d),g=fl(l,d,g,E,void 0,D),E=pl(),l!==null&&!xr?(ml(l,d,D),wn(l,d,D)):(Dt&&E&&Xo(d),d.flags|=1,wr(l,d,g,D),d.child)}function Fd(l,d,g,E,D,H){return cs(d),d.updateQueue=null,g=$u(d,E,g,D),Iu(l),E=pl(),l!==null&&!xr?(ml(l,d,H),wn(l,d,H)):(Dt&&E&&Xo(d),d.flags|=1,wr(l,d,g,H),d.child)}function Ud(l,d,g,E,D){if(cs(d),d.stateNode===null){var H=Ns,de=g.contextType;typeof de=="object"&&de!==null&&(H=_r(de)),H=new g(E,H),d.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,H.updater=Pl,d.stateNode=H,H._reactInternals=d,H=d.stateNode,H.props=E,H.state=d.memoizedState,H.refs={},al(d),de=g.contextType,H.context=typeof de=="object"&&de!==null?_r(de):Ns,H.state=d.memoizedState,de=g.getDerivedStateFromProps,typeof de=="function"&&(Tl(d,g,de,E),H.state=d.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(de=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),de!==H.state&&Pl.enqueueReplaceState(H,H.state,null),Ai(d,E,H,D),_i(),H.state=d.memoizedState),typeof H.componentDidMount=="function"&&(d.flags|=4194308),E=!0}else if(l===null){H=d.stateNode;var be=d.memoizedProps,Ae=hs(g,be);H.props=Ae;var Le=H.context,ze=g.contextType;de=Ns,typeof ze=="object"&&ze!==null&&(de=_r(ze));var We=g.getDerivedStateFromProps;ze=typeof We=="function"||typeof H.getSnapshotBeforeUpdate=="function",be=d.pendingProps!==be,ze||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(be||Le!==de)&&Rd(d,H,E,de),kn=!1;var Ie=d.memoizedState;H.state=Ie,Ai(d,E,H,D),_i(),Le=d.memoizedState,be||Ie!==Le||kn?(typeof We=="function"&&(Tl(d,g,We,E),Le=d.memoizedState),(Ae=kn||Ad(d,g,Ae,E,Ie,Le,de))?(ze||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(d.flags|=4194308)):(typeof H.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=E,d.memoizedState=Le),H.props=E,H.state=Le,H.context=de,E=Ae):(typeof H.componentDidMount=="function"&&(d.flags|=4194308),E=!1)}else{H=d.stateNode,ol(l,d),de=d.memoizedProps,ze=hs(g,de),H.props=ze,We=d.pendingProps,Ie=H.context,Le=g.contextType,Ae=Ns,typeof Le=="object"&&Le!==null&&(Ae=_r(Le)),be=g.getDerivedStateFromProps,(Le=typeof be=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(de!==We||Ie!==Ae)&&Rd(d,H,E,Ae),kn=!1,Ie=d.memoizedState,H.state=Ie,Ai(d,E,H,D),_i();var $e=d.memoizedState;de!==We||Ie!==$e||kn||l!==null&&l.dependencies!==null&&xa(l.dependencies)?(typeof be=="function"&&(Tl(d,g,be,E),$e=d.memoizedState),(ze=kn||Ad(d,g,ze,E,Ie,$e,Ae)||l!==null&&l.dependencies!==null&&xa(l.dependencies))?(Le||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(E,$e,Ae),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(E,$e,Ae)),typeof H.componentDidUpdate=="function"&&(d.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof H.componentDidUpdate!="function"||de===l.memoizedProps&&Ie===l.memoizedState||(d.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||de===l.memoizedProps&&Ie===l.memoizedState||(d.flags|=1024),d.memoizedProps=E,d.memoizedState=$e),H.props=E,H.state=$e,H.context=Ae,E=ze):(typeof H.componentDidUpdate!="function"||de===l.memoizedProps&&Ie===l.memoizedState||(d.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||de===l.memoizedProps&&Ie===l.memoizedState||(d.flags|=1024),E=!1)}return H=E,Ia(l,d),E=(d.flags&128)!==0,H||E?(H=d.stateNode,g=E&&typeof g.getDerivedStateFromError!="function"?null:H.render(),d.flags|=1,l!==null&&E?(d.child=zs(d,l.child,null,D),d.child=zs(d,null,g,D)):wr(l,d,g,D),d.memoizedState=H.state,l=d.child):l=wn(l,d,D),l}function zd(l,d,g,E){return xi(),d.flags|=256,wr(l,d,g,E),d.child}var Nl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dl(l){return{baseLanes:l,cachePool:Tu()}}function Ml(l,d,g){return l=l!==null?l.childLanes&~g:0,d&&(l|=Zr),l}function qd(l,d,g){var E=d.pendingProps,D=!1,H=(d.flags&128)!==0,de;if((de=H)||(de=l!==null&&l.memoizedState===null?!1:(pr.current&2)!==0),de&&(D=!0,d.flags&=-129),de=(d.flags&32)!==0,d.flags&=-33,l===null){if(Dt){if(D?On(d):Ln(),Dt){var be=rr,Ae;if(Ae=be){e:{for(Ae=be,be=sn;Ae.nodeType!==8;){if(!be){be=null;break e}if(Ae=rn(Ae.nextSibling),Ae===null){be=null;break e}}be=Ae}be!==null?(d.memoizedState={dehydrated:be,treeContext:ns!==null?{id:gn,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},Ae=Or(18,null,null,0),Ae.stateNode=be,Ae.return=d,d.child=Ae,Rr=d,rr=null,Ae=!0):Ae=!1}Ae||os(d)}if(be=d.memoizedState,be!==null&&(be=be.dehydrated,be!==null))return xc(be)?d.lanes=32:d.lanes=536870912,null;En(d)}return be=E.children,E=E.fallback,D?(Ln(),D=d.mode,be=$a({mode:"hidden",children:be},D),E=rs(E,D,g,null),be.return=d,E.return=d,be.sibling=E,d.child=be,D=d.child,D.memoizedState=Dl(g),D.childLanes=Ml(l,de,g),d.memoizedState=Nl,E):(On(d),Ol(d,be))}if(Ae=l.memoizedState,Ae!==null&&(be=Ae.dehydrated,be!==null)){if(H)d.flags&256?(On(d),d.flags&=-257,d=Ll(l,d,g)):d.memoizedState!==null?(Ln(),d.child=l.child,d.flags|=128,d=null):(Ln(),D=E.fallback,be=d.mode,E=$a({mode:"visible",children:E.children},be),D=rs(D,be,g,null),D.flags|=2,E.return=d,D.return=d,E.sibling=D,d.child=E,zs(d,l.child,null,g),E=d.child,E.memoizedState=Dl(g),E.childLanes=Ml(l,de,g),d.memoizedState=Nl,d=D);else if(On(d),xc(be)){if(de=be.nextSibling&&be.nextSibling.dataset,de)var Le=de.dgst;de=Le,E=Error(i(419)),E.stack="",E.digest=de,vi({value:E,source:null,stack:null}),d=Ll(l,d,g)}else if(xr||yi(l,d,g,!1),de=(g&l.childLanes)!==0,xr||de){if(de=Jt,de!==null&&(E=g&-g,E=(E&42)!==0?1:zr(E),E=(E&(de.suspendedLanes|g))!==0?0:E,E!==0&&E!==Ae.retryLane))throw Ae.retryLane=E,ks(l,E),Fr(de,l,E),Md;be.data==="$?"||ec(),d=Ll(l,d,g)}else be.data==="$?"?(d.flags|=192,d.child=l.child,d=null):(l=Ae.treeContext,rr=rn(be.nextSibling),Rr=d,Dt=!0,as=null,sn=!1,l!==null&&(Kr[Yr++]=gn,Kr[Yr++]=xn,Kr[Yr++]=ns,gn=l.id,xn=l.overflow,ns=d),d=Ol(d,E.children),d.flags|=4096);return d}return D?(Ln(),D=E.fallback,be=d.mode,Ae=l.child,Le=Ae.sibling,E=mn(Ae,{mode:"hidden",children:E.children}),E.subtreeFlags=Ae.subtreeFlags&65011712,Le!==null?D=mn(Le,D):(D=rs(D,be,g,null),D.flags|=2),D.return=d,E.return=d,E.sibling=D,d.child=E,E=D,D=d.child,be=l.child.memoizedState,be===null?be=Dl(g):(Ae=be.cachePool,Ae!==null?(Le=fr._currentValue,Ae=Ae.parent!==Le?{parent:Le,pool:Le}:Ae):Ae=Tu(),be={baseLanes:be.baseLanes|g,cachePool:Ae}),D.memoizedState=be,D.childLanes=Ml(l,de,g),d.memoizedState=Nl,E):(On(d),g=l.child,l=g.sibling,g=mn(g,{mode:"visible",children:E.children}),g.return=d,g.sibling=null,l!==null&&(de=d.deletions,de===null?(d.deletions=[l],d.flags|=16):de.push(l)),d.child=g,d.memoizedState=null,g)}function Ol(l,d){return d=$a({mode:"visible",children:d},l.mode),d.return=l,l.child=d}function $a(l,d){return l=Or(22,l,null,d),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function Ll(l,d,g){return zs(d,l.child,null,g),l=Ol(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function Vd(l,d,g){l.lanes|=d;var E=l.alternate;E!==null&&(E.lanes|=d),el(l.return,d,g)}function Il(l,d,g,E,D){var H=l.memoizedState;H===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:E,tail:g,tailMode:D}:(H.isBackwards=d,H.rendering=null,H.renderingStartTime=0,H.last=E,H.tail=g,H.tailMode=D)}function Wd(l,d,g){var E=d.pendingProps,D=E.revealOrder,H=E.tail;if(wr(l,d,E.children,g),E=pr.current,(E&2)!==0)E=E&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Vd(l,g,d);else if(l.tag===19)Vd(l,g,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}E&=1}switch(ue(pr,E),D){case"forwards":for(g=d.child,D=null;g!==null;)l=g.alternate,l!==null&&Ma(l)===null&&(D=g),g=g.sibling;g=D,g===null?(D=d.child,d.child=null):(D=g.sibling,g.sibling=null),Il(d,!1,D,g,H);break;case"backwards":for(g=null,D=d.child,d.child=null;D!==null;){if(l=D.alternate,l!==null&&Ma(l)===null){d.child=D;break}l=D.sibling,D.sibling=g,g=D,D=l}Il(d,!0,g,null,H);break;case"together":Il(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function wn(l,d,g){if(l!==null&&(d.dependencies=l.dependencies),Un|=d.lanes,(g&d.childLanes)===0)if(l!==null){if(yi(l,d,g,!1),(g&d.childLanes)===0)return null}else return null;if(l!==null&&d.child!==l.child)throw Error(i(153));if(d.child!==null){for(l=d.child,g=mn(l,l.pendingProps),d.child=g,g.return=d;l.sibling!==null;)l=l.sibling,g=g.sibling=mn(l,l.pendingProps),g.return=d;g.sibling=null}return d.child}function $l(l,d){return(l.lanes&d)!==0?!0:(l=l.dependencies,!!(l!==null&&xa(l)))}function jp(l,d,g){switch(d.tag){case 3:ge(d,d.stateNode.containerInfo),Cn(d,fr,l.memoizedState.cache),xi();break;case 27:case 5:ye(d);break;case 4:ge(d,d.stateNode.containerInfo);break;case 10:Cn(d,d.type,d.memoizedProps.value);break;case 13:var E=d.memoizedState;if(E!==null)return E.dehydrated!==null?(On(d),d.flags|=128,null):(g&d.child.childLanes)!==0?qd(l,d,g):(On(d),l=wn(l,d,g),l!==null?l.sibling:null);On(d);break;case 19:var D=(l.flags&128)!==0;if(E=(g&d.childLanes)!==0,E||(yi(l,d,g,!1),E=(g&d.childLanes)!==0),D){if(E)return Wd(l,d,g);d.flags|=128}if(D=d.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),ue(pr,pr.current),E)break;return null;case 22:case 23:return d.lanes=0,$d(l,d,g);case 24:Cn(d,fr,l.memoizedState.cache)}return wn(l,d,g)}function Hd(l,d,g){if(l!==null)if(l.memoizedProps!==d.pendingProps)xr=!0;else{if(!$l(l,g)&&(d.flags&128)===0)return xr=!1,jp(l,d,g);xr=(l.flags&131072)!==0}else xr=!1,Dt&&(d.flags&1048576)!==0&&Eu(d,ga,d.index);switch(d.lanes=0,d.tag){case 16:e:{l=d.pendingProps;var E=d.elementType,D=E._init;if(E=D(E._payload),d.type=E,typeof E=="function")Go(E)?(l=hs(E,l),d.tag=1,d=Ud(null,d,E,l,g)):(d.tag=0,d=kl(null,d,E,l,g));else{if(E!=null){if(D=E.$$typeof,D===R){d.tag=11,d=Od(null,d,E,l,g);break e}else if(D===se){d.tag=14,d=Ld(null,d,E,l,g);break e}}throw d=Re(E)||E,Error(i(306,d,""))}}return d;case 0:return kl(l,d,d.type,d.pendingProps,g);case 1:return E=d.type,D=hs(E,d.pendingProps),Ud(l,d,E,D,g);case 3:e:{if(ge(d,d.stateNode.containerInfo),l===null)throw Error(i(387));E=d.pendingProps;var H=d.memoizedState;D=H.element,ol(l,d),Ai(d,E,null,g);var de=d.memoizedState;if(E=de.cache,Cn(d,fr,E),E!==H.cache&&tl(d,[fr],g,!0),_i(),E=de.element,H.isDehydrated)if(H={element:E,isDehydrated:!1,cache:de.cache},d.updateQueue.baseState=H,d.memoizedState=H,d.flags&256){d=zd(l,d,E,g);break e}else if(E!==D){D=Hr(Error(i(424)),d),vi(D),d=zd(l,d,E,g);break e}else{switch(l=d.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(rr=rn(l.firstChild),Rr=d,Dt=!0,as=null,sn=!0,g=Sd(d,null,E,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(xi(),E===D){d=wn(l,d,g);break e}wr(l,d,E,g)}d=d.child}return d;case 26:return Ia(l,d),l===null?(g=Zh(d.type,null,d.pendingProps,null))?d.memoizedState=g:Dt||(g=d.type,l=d.pendingProps,E=Qa(te.current).createElement(g),E[cr]=d,E[mr]=l,Sr(E,g,l),gr(E),d.stateNode=E):d.memoizedState=Zh(d.type,l.memoizedProps,d.pendingProps,l.memoizedState),null;case 27:return ye(d),l===null&&Dt&&(E=d.stateNode=Kh(d.type,d.pendingProps,te.current),Rr=d,sn=!0,D=rr,Wn(d.type)?(vc=D,rr=rn(E.firstChild)):rr=D),wr(l,d,d.pendingProps.children,g),Ia(l,d),l===null&&(d.flags|=4194304),d.child;case 5:return l===null&&Dt&&((D=E=rr)&&(E=Zp(E,d.type,d.pendingProps,sn),E!==null?(d.stateNode=E,Rr=d,rr=rn(E.firstChild),sn=!1,D=!0):D=!1),D||os(d)),ye(d),D=d.type,H=d.pendingProps,de=l!==null?l.memoizedProps:null,E=H.children,pc(D,H)?E=null:de!==null&&pc(D,de)&&(d.flags|=32),d.memoizedState!==null&&(D=fl(l,d,mp,null,null,g),Ki._currentValue=D),Ia(l,d),wr(l,d,E,g),d.child;case 6:return l===null&&Dt&&((l=g=rr)&&(g=Qp(g,d.pendingProps,sn),g!==null?(d.stateNode=g,Rr=d,rr=null,l=!0):l=!1),l||os(d)),null;case 13:return qd(l,d,g);case 4:return ge(d,d.stateNode.containerInfo),E=d.pendingProps,l===null?d.child=zs(d,null,E,g):wr(l,d,E,g),d.child;case 11:return Od(l,d,d.type,d.pendingProps,g);case 7:return wr(l,d,d.pendingProps,g),d.child;case 8:return wr(l,d,d.pendingProps.children,g),d.child;case 12:return wr(l,d,d.pendingProps.children,g),d.child;case 10:return E=d.pendingProps,Cn(d,d.type,E.value),wr(l,d,E.children,g),d.child;case 9:return D=d.type._context,E=d.pendingProps.children,cs(d),D=_r(D),E=E(D),d.flags|=1,wr(l,d,E,g),d.child;case 14:return Ld(l,d,d.type,d.pendingProps,g);case 15:return Id(l,d,d.type,d.pendingProps,g);case 19:return Wd(l,d,g);case 31:return E=d.pendingProps,g=d.mode,E={mode:E.mode,children:E.children},l===null?(g=$a(E,g),g.ref=d.ref,d.child=g,g.return=d,d=g):(g=mn(l.child,E),g.ref=d.ref,d.child=g,g.return=d,d=g),d;case 22:return $d(l,d,g);case 24:return cs(d),E=_r(fr),l===null?(D=sl(),D===null&&(D=Jt,H=rl(),D.pooledCache=H,H.refCount++,H!==null&&(D.pooledCacheLanes|=g),D=H),d.memoizedState={parent:E,cache:D},al(d),Cn(d,fr,D)):((l.lanes&g)!==0&&(ol(l,d),Ai(d,null,null,g),_i()),D=l.memoizedState,H=d.memoizedState,D.parent!==E?(D={parent:E,cache:E},d.memoizedState=D,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=D),Cn(d,fr,E)):(E=H.cache,Cn(d,fr,E),E!==D.cache&&tl(d,[fr],g,!0))),wr(l,d,d.pendingProps.children,g),d.child;case 29:throw d.pendingProps}throw Error(i(156,d.tag))}function jn(l){l.flags|=4}function Gd(l,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!rf(d)){if(d=Xr.current,d!==null&&((Rt&4194048)===Rt?an!==null:(Rt&62914560)!==Rt&&(Rt&536870912)===0||d!==an))throw ji=il,Pu;l.flags|=8192}}function Ba(l,d){d!==null&&(l.flags|=4),l.flags&16384&&(d=l.tag!==22?lr():536870912,l.lanes|=d,Hs|=d)}function Di(l,d){if(!Dt)switch(l.tailMode){case"hidden":d=l.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var E=null;g!==null;)g.alternate!==null&&(E=g),g=g.sibling;E===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:E.sibling=null}}function tr(l){var d=l.alternate!==null&&l.alternate.child===l.child,g=0,E=0;if(d)for(var D=l.child;D!==null;)g|=D.lanes|D.childLanes,E|=D.subtreeFlags&65011712,E|=D.flags&65011712,D.return=l,D=D.sibling;else for(D=l.child;D!==null;)g|=D.lanes|D.childLanes,E|=D.subtreeFlags,E|=D.flags,D.return=l,D=D.sibling;return l.subtreeFlags|=E,l.childLanes=g,d}function Sp(l,d,g){var E=d.pendingProps;switch(Zo(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(d),null;case 1:return tr(d),null;case 3:return g=d.stateNode,E=null,l!==null&&(E=l.memoizedState.cache),d.memoizedState.cache!==E&&(d.flags|=2048),yn(fr),xe(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(l===null||l.child===null)&&(gi(d)?jn(d):l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Su())),tr(d),null;case 26:return g=d.memoizedState,l===null?(jn(d),g!==null?(tr(d),Gd(d,g)):(tr(d),d.flags&=-16777217)):g?g!==l.memoizedState?(jn(d),tr(d),Gd(d,g)):(tr(d),d.flags&=-16777217):(l.memoizedProps!==E&&jn(d),tr(d),d.flags&=-16777217),null;case 27:Se(d),g=te.current;var D=d.type;if(l!==null&&d.stateNode!=null)l.memoizedProps!==E&&jn(d);else{if(!E){if(d.stateNode===null)throw Error(i(166));return tr(d),null}l=ve.current,gi(d)?wu(d):(l=Kh(D,E,g),d.stateNode=l,jn(d))}return tr(d),null;case 5:if(Se(d),g=d.type,l!==null&&d.stateNode!=null)l.memoizedProps!==E&&jn(d);else{if(!E){if(d.stateNode===null)throw Error(i(166));return tr(d),null}if(l=ve.current,gi(d))wu(d);else{switch(D=Qa(te.current),l){case 1:l=D.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:l=D.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":l=D.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":l=D.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":l=D.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof E.is=="string"?D.createElement("select",{is:E.is}):D.createElement("select"),E.multiple?l.multiple=!0:E.size&&(l.size=E.size);break;default:l=typeof E.is=="string"?D.createElement(g,{is:E.is}):D.createElement(g)}}l[cr]=d,l[mr]=E;e:for(D=d.child;D!==null;){if(D.tag===5||D.tag===6)l.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===d)break e;for(;D.sibling===null;){if(D.return===null||D.return===d)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}d.stateNode=l;e:switch(Sr(l,g,E),g){case"button":case"input":case"select":case"textarea":l=!!E.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&jn(d)}}return tr(d),d.flags&=-16777217,null;case 6:if(l&&d.stateNode!=null)l.memoizedProps!==E&&jn(d);else{if(typeof E!="string"&&d.stateNode===null)throw Error(i(166));if(l=te.current,gi(d)){if(l=d.stateNode,g=d.memoizedProps,E=null,D=Rr,D!==null)switch(D.tag){case 27:case 5:E=D.memoizedProps}l[cr]=d,l=!!(l.nodeValue===g||E!==null&&E.suppressHydrationWarning===!0||Uh(l.nodeValue,g)),l||os(d)}else l=Qa(l).createTextNode(E),l[cr]=d,d.stateNode=l}return tr(d),null;case 13:if(E=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(D=gi(d),E!==null&&E.dehydrated!==null){if(l===null){if(!D)throw Error(i(318));if(D=d.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(i(317));D[cr]=d}else xi(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;tr(d),D=!1}else D=Su(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=D),D=!0;if(!D)return d.flags&256?(En(d),d):(En(d),null)}if(En(d),(d.flags&128)!==0)return d.lanes=g,d;if(g=E!==null,l=l!==null&&l.memoizedState!==null,g){E=d.child,D=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(D=E.alternate.memoizedState.cachePool.pool);var H=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(H=E.memoizedState.cachePool.pool),H!==D&&(E.flags|=2048)}return g!==l&&g&&(d.child.flags|=8192),Ba(d,d.updateQueue),tr(d),null;case 4:return xe(),l===null&&cc(d.stateNode.containerInfo),tr(d),null;case 10:return yn(d.type),tr(d),null;case 19:if(oe(pr),D=d.memoizedState,D===null)return tr(d),null;if(E=(d.flags&128)!==0,H=D.rendering,H===null)if(E)Di(D,!1);else{if(nr!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(H=Ma(l),H!==null){for(d.flags|=128,Di(D,!1),l=H.updateQueue,d.updateQueue=l,Ba(d,l),d.subtreeFlags=0,l=g,g=d.child;g!==null;)bu(g,l),g=g.sibling;return ue(pr,pr.current&1|2),d.child}l=l.sibling}D.tail!==null&&Fe()>za&&(d.flags|=128,E=!0,Di(D,!1),d.lanes=4194304)}else{if(!E)if(l=Ma(H),l!==null){if(d.flags|=128,E=!0,l=l.updateQueue,d.updateQueue=l,Ba(d,l),Di(D,!0),D.tail===null&&D.tailMode==="hidden"&&!H.alternate&&!Dt)return tr(d),null}else 2*Fe()-D.renderingStartTime>za&&g!==536870912&&(d.flags|=128,E=!0,Di(D,!1),d.lanes=4194304);D.isBackwards?(H.sibling=d.child,d.child=H):(l=D.last,l!==null?l.sibling=H:d.child=H,D.last=H)}return D.tail!==null?(d=D.tail,D.rendering=d,D.tail=d.sibling,D.renderingStartTime=Fe(),d.sibling=null,l=pr.current,ue(pr,E?l&1|2:l&1),d):(tr(d),null);case 22:case 23:return En(d),dl(),E=d.memoizedState!==null,l!==null?l.memoizedState!==null!==E&&(d.flags|=8192):E&&(d.flags|=8192),E?(g&536870912)!==0&&(d.flags&128)===0&&(tr(d),d.subtreeFlags&6&&(d.flags|=8192)):tr(d),g=d.updateQueue,g!==null&&Ba(d,g.retryQueue),g=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),E=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(E=d.memoizedState.cachePool.pool),E!==g&&(d.flags|=2048),l!==null&&oe(us),null;case 24:return g=null,l!==null&&(g=l.memoizedState.cache),d.memoizedState.cache!==g&&(d.flags|=2048),yn(fr),tr(d),null;case 25:return null;case 30:return null}throw Error(i(156,d.tag))}function _p(l,d){switch(Zo(d),d.tag){case 1:return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return yn(fr),xe(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 26:case 27:case 5:return Se(d),null;case 13:if(En(d),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(i(340));xi()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return oe(pr),null;case 4:return xe(),null;case 10:return yn(d.type),null;case 22:case 23:return En(d),dl(),l!==null&&oe(us),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 24:return yn(fr),null;case 25:return null;default:return null}}function Kd(l,d){switch(Zo(d),d.tag){case 3:yn(fr),xe();break;case 26:case 27:case 5:Se(d);break;case 4:xe();break;case 13:En(d);break;case 19:oe(pr);break;case 10:yn(d.type);break;case 22:case 23:En(d),dl(),l!==null&&oe(us);break;case 24:yn(fr)}}function Mi(l,d){try{var g=d.updateQueue,E=g!==null?g.lastEffect:null;if(E!==null){var D=E.next;g=D;do{if((g.tag&l)===l){E=void 0;var H=g.create,de=g.inst;E=H(),de.destroy=E}g=g.next}while(g!==D)}}catch(be){Zt(d,d.return,be)}}function In(l,d,g){try{var E=d.updateQueue,D=E!==null?E.lastEffect:null;if(D!==null){var H=D.next;E=H;do{if((E.tag&l)===l){var de=E.inst,be=de.destroy;if(be!==void 0){de.destroy=void 0,D=d;var Ae=g,Le=be;try{Le()}catch(ze){Zt(D,Ae,ze)}}}E=E.next}while(E!==H)}}catch(ze){Zt(d,d.return,ze)}}function Yd(l){var d=l.updateQueue;if(d!==null){var g=l.stateNode;try{Ou(d,g)}catch(E){Zt(l,l.return,E)}}}function Xd(l,d,g){g.props=hs(l.type,l.memoizedProps),g.state=l.memoizedState;try{g.componentWillUnmount()}catch(E){Zt(l,d,E)}}function Oi(l,d){try{var g=l.ref;if(g!==null){switch(l.tag){case 26:case 27:case 5:var E=l.stateNode;break;case 30:E=l.stateNode;break;default:E=l.stateNode}typeof g=="function"?l.refCleanup=g(E):g.current=E}}catch(D){Zt(l,d,D)}}function on(l,d){var g=l.ref,E=l.refCleanup;if(g!==null)if(typeof E=="function")try{E()}catch(D){Zt(l,d,D)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(D){Zt(l,d,D)}else g.current=null}function Zd(l){var d=l.type,g=l.memoizedProps,E=l.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":g.autoFocus&&E.focus();break e;case"img":g.src?E.src=g.src:g.srcSet&&(E.srcset=g.srcSet)}}catch(D){Zt(l,l.return,D)}}function Bl(l,d,g){try{var E=l.stateNode;Hp(E,l.type,g,d),E[mr]=d}catch(D){Zt(l,l.return,D)}}function Qd(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Wn(l.type)||l.tag===4}function Fl(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Qd(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Wn(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Ul(l,d,g){var E=l.tag;if(E===5||E===6)l=l.stateNode,d?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(l,d):(d=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,d.appendChild(l),g=g._reactRootContainer,g!=null||d.onclick!==null||(d.onclick=Za));else if(E!==4&&(E===27&&Wn(l.type)&&(g=l.stateNode,d=null),l=l.child,l!==null))for(Ul(l,d,g),l=l.sibling;l!==null;)Ul(l,d,g),l=l.sibling}function Fa(l,d,g){var E=l.tag;if(E===5||E===6)l=l.stateNode,d?g.insertBefore(l,d):g.appendChild(l);else if(E!==4&&(E===27&&Wn(l.type)&&(g=l.stateNode),l=l.child,l!==null))for(Fa(l,d,g),l=l.sibling;l!==null;)Fa(l,d,g),l=l.sibling}function Jd(l){var d=l.stateNode,g=l.memoizedProps;try{for(var E=l.type,D=d.attributes;D.length;)d.removeAttributeNode(D[0]);Sr(d,E,g),d[cr]=l,d[mr]=g}catch(H){Zt(l,l.return,H)}}var Sn=!1,ar=!1,zl=!1,eh=typeof WeakSet=="function"?WeakSet:Set,vr=null;function Ap(l,d){if(l=l.containerInfo,hc=ho,l=uu(l),Fo(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var E=g.getSelection&&g.getSelection();if(E&&E.rangeCount!==0){g=E.anchorNode;var D=E.anchorOffset,H=E.focusNode;E=E.focusOffset;try{g.nodeType,H.nodeType}catch{g=null;break e}var de=0,be=-1,Ae=-1,Le=0,ze=0,We=l,Ie=null;t:for(;;){for(var $e;We!==g||D!==0&&We.nodeType!==3||(be=de+D),We!==H||E!==0&&We.nodeType!==3||(Ae=de+E),We.nodeType===3&&(de+=We.nodeValue.length),($e=We.firstChild)!==null;)Ie=We,We=$e;for(;;){if(We===l)break t;if(Ie===g&&++Le===D&&(be=de),Ie===H&&++ze===E&&(Ae=de),($e=We.nextSibling)!==null)break;We=Ie,Ie=We.parentNode}We=$e}g=be===-1||Ae===-1?null:{start:be,end:Ae}}else g=null}g=g||{start:0,end:0}}else g=null;for(fc={focusedElem:l,selectionRange:g},ho=!1,vr=d;vr!==null;)if(d=vr,l=d.child,(d.subtreeFlags&1024)!==0&&l!==null)l.return=d,vr=l;else for(;vr!==null;){switch(d=vr,H=d.alternate,l=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&H!==null){l=void 0,g=d,D=H.memoizedProps,H=H.memoizedState,E=g.stateNode;try{var ot=hs(g.type,D,g.elementType===g.type);l=E.getSnapshotBeforeUpdate(ot,H),E.__reactInternalSnapshotBeforeUpdate=l}catch(et){Zt(g,g.return,et)}}break;case 3:if((l&1024)!==0){if(l=d.stateNode.containerInfo,g=l.nodeType,g===9)gc(l);else if(g===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":gc(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(i(163))}if(l=d.sibling,l!==null){l.return=d.return,vr=l;break}vr=d.return}}function th(l,d,g){var E=g.flags;switch(g.tag){case 0:case 11:case 15:$n(l,g),E&4&&Mi(5,g);break;case 1:if($n(l,g),E&4)if(l=g.stateNode,d===null)try{l.componentDidMount()}catch(de){Zt(g,g.return,de)}else{var D=hs(g.type,d.memoizedProps);d=d.memoizedState;try{l.componentDidUpdate(D,d,l.__reactInternalSnapshotBeforeUpdate)}catch(de){Zt(g,g.return,de)}}E&64&&Yd(g),E&512&&Oi(g,g.return);break;case 3:if($n(l,g),E&64&&(l=g.updateQueue,l!==null)){if(d=null,g.child!==null)switch(g.child.tag){case 27:case 5:d=g.child.stateNode;break;case 1:d=g.child.stateNode}try{Ou(l,d)}catch(de){Zt(g,g.return,de)}}break;case 27:d===null&&E&4&&Jd(g);case 26:case 5:$n(l,g),d===null&&E&4&&Zd(g),E&512&&Oi(g,g.return);break;case 12:$n(l,g);break;case 13:$n(l,g),E&4&&sh(l,g),E&64&&(l=g.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(g=Op.bind(null,g),Jp(l,g))));break;case 22:if(E=g.memoizedState!==null||Sn,!E){d=d!==null&&d.memoizedState!==null||ar,D=Sn;var H=ar;Sn=E,(ar=d)&&!H?Bn(l,g,(g.subtreeFlags&8772)!==0):$n(l,g),Sn=D,ar=H}break;case 30:break;default:$n(l,g)}}function rh(l){var d=l.alternate;d!==null&&(l.alternate=null,rh(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&bo(d)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var er=null,Cr=!1;function _n(l,d,g){for(g=g.child;g!==null;)nh(l,d,g),g=g.sibling}function nh(l,d,g){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(hr,g)}catch{}switch(g.tag){case 26:ar||on(g,d),_n(l,d,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:ar||on(g,d);var E=er,D=Cr;Wn(g.type)&&(er=g.stateNode,Cr=!1),_n(l,d,g),Vi(g.stateNode),er=E,Cr=D;break;case 5:ar||on(g,d);case 6:if(E=er,D=Cr,er=null,_n(l,d,g),er=E,Cr=D,er!==null)if(Cr)try{(er.nodeType===9?er.body:er.nodeName==="HTML"?er.ownerDocument.body:er).removeChild(g.stateNode)}catch(H){Zt(g,d,H)}else try{er.removeChild(g.stateNode)}catch(H){Zt(g,d,H)}break;case 18:er!==null&&(Cr?(l=er,Hh(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,g.stateNode),Qi(l)):Hh(er,g.stateNode));break;case 4:E=er,D=Cr,er=g.stateNode.containerInfo,Cr=!0,_n(l,d,g),er=E,Cr=D;break;case 0:case 11:case 14:case 15:ar||In(2,g,d),ar||In(4,g,d),_n(l,d,g);break;case 1:ar||(on(g,d),E=g.stateNode,typeof E.componentWillUnmount=="function"&&Xd(g,d,E)),_n(l,d,g);break;case 21:_n(l,d,g);break;case 22:ar=(E=ar)||g.memoizedState!==null,_n(l,d,g),ar=E;break;default:_n(l,d,g)}}function sh(l,d){if(d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Qi(l)}catch(g){Zt(d,d.return,g)}}function Rp(l){switch(l.tag){case 13:case 19:var d=l.stateNode;return d===null&&(d=l.stateNode=new eh),d;case 22:return l=l.stateNode,d=l._retryCache,d===null&&(d=l._retryCache=new eh),d;default:throw Error(i(435,l.tag))}}function ql(l,d){var g=Rp(l);d.forEach(function(E){var D=Lp.bind(null,l,E);g.has(E)||(g.add(E),E.then(D,D))})}function Lr(l,d){var g=d.deletions;if(g!==null)for(var E=0;E<g.length;E++){var D=g[E],H=l,de=d,be=de;e:for(;be!==null;){switch(be.tag){case 27:if(Wn(be.type)){er=be.stateNode,Cr=!1;break e}break;case 5:er=be.stateNode,Cr=!1;break e;case 3:case 4:er=be.stateNode.containerInfo,Cr=!0;break e}be=be.return}if(er===null)throw Error(i(160));nh(H,de,D),er=null,Cr=!1,H=D.alternate,H!==null&&(H.return=null),D.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)ih(d,l),d=d.sibling}var tn=null;function ih(l,d){var g=l.alternate,E=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Lr(d,l),Ir(l),E&4&&(In(3,l,l.return),Mi(3,l),In(5,l,l.return));break;case 1:Lr(d,l),Ir(l),E&512&&(ar||g===null||on(g,g.return)),E&64&&Sn&&(l=l.updateQueue,l!==null&&(E=l.callbacks,E!==null&&(g=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=g===null?E:g.concat(E))));break;case 26:var D=tn;if(Lr(d,l),Ir(l),E&512&&(ar||g===null||on(g,g.return)),E&4){var H=g!==null?g.memoizedState:null;if(E=l.memoizedState,g===null)if(E===null)if(l.stateNode===null){e:{E=l.type,g=l.memoizedProps,D=D.ownerDocument||D;t:switch(E){case"title":H=D.getElementsByTagName("title")[0],(!H||H[si]||H[cr]||H.namespaceURI==="http://www.w3.org/2000/svg"||H.hasAttribute("itemprop"))&&(H=D.createElement(E),D.head.insertBefore(H,D.querySelector("head > title"))),Sr(H,E,g),H[cr]=l,gr(H),E=H;break e;case"link":var de=ef("link","href",D).get(E+(g.href||""));if(de){for(var be=0;be<de.length;be++)if(H=de[be],H.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&H.getAttribute("rel")===(g.rel==null?null:g.rel)&&H.getAttribute("title")===(g.title==null?null:g.title)&&H.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){de.splice(be,1);break t}}H=D.createElement(E),Sr(H,E,g),D.head.appendChild(H);break;case"meta":if(de=ef("meta","content",D).get(E+(g.content||""))){for(be=0;be<de.length;be++)if(H=de[be],H.getAttribute("content")===(g.content==null?null:""+g.content)&&H.getAttribute("name")===(g.name==null?null:g.name)&&H.getAttribute("property")===(g.property==null?null:g.property)&&H.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&H.getAttribute("charset")===(g.charSet==null?null:g.charSet)){de.splice(be,1);break t}}H=D.createElement(E),Sr(H,E,g),D.head.appendChild(H);break;default:throw Error(i(468,E))}H[cr]=l,gr(H),E=H}l.stateNode=E}else tf(D,l.type,l.stateNode);else l.stateNode=Jh(D,E,l.memoizedProps);else H!==E?(H===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):H.count--,E===null?tf(D,l.type,l.stateNode):Jh(D,E,l.memoizedProps)):E===null&&l.stateNode!==null&&Bl(l,l.memoizedProps,g.memoizedProps)}break;case 27:Lr(d,l),Ir(l),E&512&&(ar||g===null||on(g,g.return)),g!==null&&E&4&&Bl(l,l.memoizedProps,g.memoizedProps);break;case 5:if(Lr(d,l),Ir(l),E&512&&(ar||g===null||on(g,g.return)),l.flags&32){D=l.stateNode;try{Ss(D,"")}catch($e){Zt(l,l.return,$e)}}E&4&&l.stateNode!=null&&(D=l.memoizedProps,Bl(l,D,g!==null?g.memoizedProps:D)),E&1024&&(zl=!0);break;case 6:if(Lr(d,l),Ir(l),E&4){if(l.stateNode===null)throw Error(i(162));E=l.memoizedProps,g=l.stateNode;try{g.nodeValue=E}catch($e){Zt(l,l.return,$e)}}break;case 3:if(oo=null,D=tn,tn=Ja(d.containerInfo),Lr(d,l),tn=D,Ir(l),E&4&&g!==null&&g.memoizedState.isDehydrated)try{Qi(d.containerInfo)}catch($e){Zt(l,l.return,$e)}zl&&(zl=!1,ah(l));break;case 4:E=tn,tn=Ja(l.stateNode.containerInfo),Lr(d,l),Ir(l),tn=E;break;case 12:Lr(d,l),Ir(l);break;case 13:Lr(d,l),Ir(l),l.child.flags&8192&&l.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(Yl=Fe()),E&4&&(E=l.updateQueue,E!==null&&(l.updateQueue=null,ql(l,E)));break;case 22:D=l.memoizedState!==null;var Ae=g!==null&&g.memoizedState!==null,Le=Sn,ze=ar;if(Sn=Le||D,ar=ze||Ae,Lr(d,l),ar=ze,Sn=Le,Ir(l),E&8192)e:for(d=l.stateNode,d._visibility=D?d._visibility&-2:d._visibility|1,D&&(g===null||Ae||Sn||ar||fs(l)),g=null,d=l;;){if(d.tag===5||d.tag===26){if(g===null){Ae=g=d;try{if(H=Ae.stateNode,D)de=H.style,typeof de.setProperty=="function"?de.setProperty("display","none","important"):de.display="none";else{be=Ae.stateNode;var We=Ae.memoizedProps.style,Ie=We!=null&&We.hasOwnProperty("display")?We.display:null;be.style.display=Ie==null||typeof Ie=="boolean"?"":(""+Ie).trim()}}catch($e){Zt(Ae,Ae.return,$e)}}}else if(d.tag===6){if(g===null){Ae=d;try{Ae.stateNode.nodeValue=D?"":Ae.memoizedProps}catch($e){Zt(Ae,Ae.return,$e)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===l)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;g===d&&(g=null),d=d.return}g===d&&(g=null),d.sibling.return=d.return,d=d.sibling}E&4&&(E=l.updateQueue,E!==null&&(g=E.retryQueue,g!==null&&(E.retryQueue=null,ql(l,g))));break;case 19:Lr(d,l),Ir(l),E&4&&(E=l.updateQueue,E!==null&&(l.updateQueue=null,ql(l,E)));break;case 30:break;case 21:break;default:Lr(d,l),Ir(l)}}function Ir(l){var d=l.flags;if(d&2){try{for(var g,E=l.return;E!==null;){if(Qd(E)){g=E;break}E=E.return}if(g==null)throw Error(i(160));switch(g.tag){case 27:var D=g.stateNode,H=Fl(l);Fa(l,H,D);break;case 5:var de=g.stateNode;g.flags&32&&(Ss(de,""),g.flags&=-33);var be=Fl(l);Fa(l,be,de);break;case 3:case 4:var Ae=g.stateNode.containerInfo,Le=Fl(l);Ul(l,Le,Ae);break;default:throw Error(i(161))}}catch(ze){Zt(l,l.return,ze)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function ah(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var d=l;ah(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),l=l.sibling}}function $n(l,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)th(l,d.alternate,d),d=d.sibling}function fs(l){for(l=l.child;l!==null;){var d=l;switch(d.tag){case 0:case 11:case 14:case 15:In(4,d,d.return),fs(d);break;case 1:on(d,d.return);var g=d.stateNode;typeof g.componentWillUnmount=="function"&&Xd(d,d.return,g),fs(d);break;case 27:Vi(d.stateNode);case 26:case 5:on(d,d.return),fs(d);break;case 22:d.memoizedState===null&&fs(d);break;case 30:fs(d);break;default:fs(d)}l=l.sibling}}function Bn(l,d,g){for(g=g&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var E=d.alternate,D=l,H=d,de=H.flags;switch(H.tag){case 0:case 11:case 15:Bn(D,H,g),Mi(4,H);break;case 1:if(Bn(D,H,g),E=H,D=E.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(Le){Zt(E,E.return,Le)}if(E=H,D=E.updateQueue,D!==null){var be=E.stateNode;try{var Ae=D.shared.hiddenCallbacks;if(Ae!==null)for(D.shared.hiddenCallbacks=null,D=0;D<Ae.length;D++)Mu(Ae[D],be)}catch(Le){Zt(E,E.return,Le)}}g&&de&64&&Yd(H),Oi(H,H.return);break;case 27:Jd(H);case 26:case 5:Bn(D,H,g),g&&E===null&&de&4&&Zd(H),Oi(H,H.return);break;case 12:Bn(D,H,g);break;case 13:Bn(D,H,g),g&&de&4&&sh(D,H);break;case 22:H.memoizedState===null&&Bn(D,H,g),Oi(H,H.return);break;case 30:break;default:Bn(D,H,g)}d=d.sibling}}function Vl(l,d){var g=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),l=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(l=d.memoizedState.cachePool.pool),l!==g&&(l!=null&&l.refCount++,g!=null&&bi(g))}function Wl(l,d){l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&bi(l))}function cn(l,d,g,E){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)oh(l,d,g,E),d=d.sibling}function oh(l,d,g,E){var D=d.flags;switch(d.tag){case 0:case 11:case 15:cn(l,d,g,E),D&2048&&Mi(9,d);break;case 1:cn(l,d,g,E);break;case 3:cn(l,d,g,E),D&2048&&(l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&bi(l)));break;case 12:if(D&2048){cn(l,d,g,E),l=d.stateNode;try{var H=d.memoizedProps,de=H.id,be=H.onPostCommit;typeof be=="function"&&be(de,d.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(Ae){Zt(d,d.return,Ae)}}else cn(l,d,g,E);break;case 13:cn(l,d,g,E);break;case 23:break;case 22:H=d.stateNode,de=d.alternate,d.memoizedState!==null?H._visibility&2?cn(l,d,g,E):Li(l,d):H._visibility&2?cn(l,d,g,E):(H._visibility|=2,qs(l,d,g,E,(d.subtreeFlags&10256)!==0)),D&2048&&Vl(de,d);break;case 24:cn(l,d,g,E),D&2048&&Wl(d.alternate,d);break;default:cn(l,d,g,E)}}function qs(l,d,g,E,D){for(D=D&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var H=l,de=d,be=g,Ae=E,Le=de.flags;switch(de.tag){case 0:case 11:case 15:qs(H,de,be,Ae,D),Mi(8,de);break;case 23:break;case 22:var ze=de.stateNode;de.memoizedState!==null?ze._visibility&2?qs(H,de,be,Ae,D):Li(H,de):(ze._visibility|=2,qs(H,de,be,Ae,D)),D&&Le&2048&&Vl(de.alternate,de);break;case 24:qs(H,de,be,Ae,D),D&&Le&2048&&Wl(de.alternate,de);break;default:qs(H,de,be,Ae,D)}d=d.sibling}}function Li(l,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var g=l,E=d,D=E.flags;switch(E.tag){case 22:Li(g,E),D&2048&&Vl(E.alternate,E);break;case 24:Li(g,E),D&2048&&Wl(E.alternate,E);break;default:Li(g,E)}d=d.sibling}}var Ii=8192;function Vs(l){if(l.subtreeFlags&Ii)for(l=l.child;l!==null;)lh(l),l=l.sibling}function lh(l){switch(l.tag){case 26:Vs(l),l.flags&Ii&&l.memoizedState!==null&&hm(tn,l.memoizedState,l.memoizedProps);break;case 5:Vs(l);break;case 3:case 4:var d=tn;tn=Ja(l.stateNode.containerInfo),Vs(l),tn=d;break;case 22:l.memoizedState===null&&(d=l.alternate,d!==null&&d.memoizedState!==null?(d=Ii,Ii=16777216,Vs(l),Ii=d):Vs(l));break;default:Vs(l)}}function ch(l){var d=l.alternate;if(d!==null&&(l=d.child,l!==null)){d.child=null;do d=l.sibling,l.sibling=null,l=d;while(l!==null)}}function $i(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var g=0;g<d.length;g++){var E=d[g];vr=E,dh(E,l)}ch(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)uh(l),l=l.sibling}function uh(l){switch(l.tag){case 0:case 11:case 15:$i(l),l.flags&2048&&In(9,l,l.return);break;case 3:$i(l);break;case 12:$i(l);break;case 22:var d=l.stateNode;l.memoizedState!==null&&d._visibility&2&&(l.return===null||l.return.tag!==13)?(d._visibility&=-3,Ua(l)):$i(l);break;default:$i(l)}}function Ua(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var g=0;g<d.length;g++){var E=d[g];vr=E,dh(E,l)}ch(l)}for(l=l.child;l!==null;){switch(d=l,d.tag){case 0:case 11:case 15:In(8,d,d.return),Ua(d);break;case 22:g=d.stateNode,g._visibility&2&&(g._visibility&=-3,Ua(d));break;default:Ua(d)}l=l.sibling}}function dh(l,d){for(;vr!==null;){var g=vr;switch(g.tag){case 0:case 11:case 15:In(8,g,d);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var E=g.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:bi(g.memoizedState.cache)}if(E=g.child,E!==null)E.return=g,vr=E;else e:for(g=l;vr!==null;){E=vr;var D=E.sibling,H=E.return;if(rh(E),E===g){vr=null;break e}if(D!==null){D.return=H,vr=D;break e}vr=H}}}var Tp={getCacheForType:function(l){var d=_r(fr),g=d.data.get(l);return g===void 0&&(g=l(),d.data.set(l,g)),g}},Pp=typeof WeakMap=="function"?WeakMap:Map,Ut=0,Jt=null,jt=null,Rt=0,zt=0,$r=null,Fn=!1,Ws=!1,Hl=!1,An=0,nr=0,Un=0,ps=0,Gl=0,Zr=0,Hs=0,Bi=null,Nr=null,Kl=!1,Yl=0,za=1/0,qa=null,zn=null,jr=0,qn=null,Gs=null,Ks=0,Xl=0,Zl=null,hh=null,Fi=0,Ql=null;function Br(){if((Ut&2)!==0&&Rt!==0)return Rt&-Rt;if(je.T!==null){var l=Os;return l!==0?l:ic()}return sr()}function fh(){Zr===0&&(Zr=(Rt&536870912)===0||Dt?or():536870912);var l=Xr.current;return l!==null&&(l.flags|=32),Zr}function Fr(l,d,g){(l===Jt&&(zt===2||zt===9)||l.cancelPendingCommit!==null)&&(Ys(l,0),Vn(l,Rt,Zr,!1)),Ur(l,g),((Ut&2)===0||l!==Jt)&&(l===Jt&&((Ut&2)===0&&(ps|=g),nr===4&&Vn(l,Rt,Zr,!1)),un(l))}function ph(l,d,g){if((Ut&6)!==0)throw Error(i(327));var E=!g&&(d&124)===0&&(d&l.expiredLanes)===0||Ye(l,d),D=E?Np(l,d):tc(l,d,!0),H=E;do{if(D===0){Ws&&!E&&Vn(l,d,0,!1);break}else{if(g=l.current.alternate,H&&!Cp(g)){D=tc(l,d,!1),H=!1;continue}if(D===2){if(H=d,l.errorRecoveryDisabledLanes&H)var de=0;else de=l.pendingLanes&-536870913,de=de!==0?de:de&536870912?536870912:0;if(de!==0){d=de;e:{var be=l;D=Bi;var Ae=be.current.memoizedState.isDehydrated;if(Ae&&(Ys(be,de).flags|=256),de=tc(be,de,!1),de!==2){if(Hl&&!Ae){be.errorRecoveryDisabledLanes|=H,ps|=H,D=4;break e}H=Nr,Nr=D,H!==null&&(Nr===null?Nr=H:Nr.push.apply(Nr,H))}D=de}if(H=!1,D!==2)continue}}if(D===1){Ys(l,0),Vn(l,d,0,!0);break}e:{switch(E=l,H=D,H){case 0:case 1:throw Error(i(345));case 4:if((d&4194048)!==d)break;case 6:Vn(E,d,Zr,!Fn);break e;case 2:Nr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((d&62914560)===d&&(D=Yl+300-Fe(),10<D)){if(Vn(E,d,Zr,!Fn),Ne(E,0,!0)!==0)break e;E.timeoutHandle=Vh(mh.bind(null,E,g,Nr,qa,Kl,d,Zr,ps,Hs,Fn,H,2,-0,0),D);break e}mh(E,g,Nr,qa,Kl,d,Zr,ps,Hs,Fn,H,0,-0,0)}}break}while(!0);un(l)}function mh(l,d,g,E,D,H,de,be,Ae,Le,ze,We,Ie,$e){if(l.timeoutHandle=-1,We=d.subtreeFlags,(We&8192||(We&16785408)===16785408)&&(Gi={stylesheets:null,count:0,unsuspend:dm},lh(d),We=fm(),We!==null)){l.cancelPendingCommit=We(jh.bind(null,l,d,H,g,E,D,de,be,Ae,ze,1,Ie,$e)),Vn(l,H,de,!Le);return}jh(l,d,H,g,E,D,de,be,Ae)}function Cp(l){for(var d=l;;){var g=d.tag;if((g===0||g===11||g===15)&&d.flags&16384&&(g=d.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var E=0;E<g.length;E++){var D=g[E],H=D.getSnapshot;D=D.value;try{if(!Mr(H(),D))return!1}catch{return!1}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Vn(l,d,g,E){d&=~Gl,d&=~ps,l.suspendedLanes|=d,l.pingedLanes&=~d,E&&(l.warmLanes|=d),E=l.expirationTimes;for(var D=d;0<D;){var H=31-Ft(D),de=1<<H;E[H]=-1,D&=~de}g!==0&&br(l,g,d)}function Va(){return(Ut&6)===0?(Ui(0),!1):!0}function Jl(){if(jt!==null){if(zt===0)var l=jt.return;else l=jt,vn=ls=null,gl(l),Us=null,ki=0,l=jt;for(;l!==null;)Kd(l.alternate,l),l=l.return;jt=null}}function Ys(l,d){var g=l.timeoutHandle;g!==-1&&(l.timeoutHandle=-1,Kp(g)),g=l.cancelPendingCommit,g!==null&&(l.cancelPendingCommit=null,g()),Jl(),Jt=l,jt=g=mn(l.current,null),Rt=d,zt=0,$r=null,Fn=!1,Ws=Ye(l,d),Hl=!1,Hs=Zr=Gl=ps=Un=nr=0,Nr=Bi=null,Kl=!1,(d&8)!==0&&(d|=d&32);var E=l.entangledLanes;if(E!==0)for(l=l.entanglements,E&=d;0<E;){var D=31-Ft(E),H=1<<D;d|=l[D],E&=~H}return An=d,da(),g}function gh(l,d){dt=null,je.H=Ca,d===wi||d===ba?(d=Nu(),zt=3):d===Pu?(d=Nu(),zt=4):zt=d===Md?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,$r=d,jt===null&&(nr=1,La(l,Hr(d,l.current)))}function xh(){var l=je.H;return je.H=Ca,l===null?Ca:l}function yh(){var l=je.A;return je.A=Tp,l}function ec(){nr=4,Fn||(Rt&4194048)!==Rt&&Xr.current!==null||(Ws=!0),(Un&134217727)===0&&(ps&134217727)===0||Jt===null||Vn(Jt,Rt,Zr,!1)}function tc(l,d,g){var E=Ut;Ut|=2;var D=xh(),H=yh();(Jt!==l||Rt!==d)&&(qa=null,Ys(l,d)),d=!1;var de=nr;e:do try{if(zt!==0&&jt!==null){var be=jt,Ae=$r;switch(zt){case 8:Jl(),de=6;break e;case 3:case 2:case 9:case 6:Xr.current===null&&(d=!0);var Le=zt;if(zt=0,$r=null,Xs(l,be,Ae,Le),g&&Ws){de=0;break e}break;default:Le=zt,zt=0,$r=null,Xs(l,be,Ae,Le)}}kp(),de=nr;break}catch(ze){gh(l,ze)}while(!0);return d&&l.shellSuspendCounter++,vn=ls=null,Ut=E,je.H=D,je.A=H,jt===null&&(Jt=null,Rt=0,da()),de}function kp(){for(;jt!==null;)bh(jt)}function Np(l,d){var g=Ut;Ut|=2;var E=xh(),D=yh();Jt!==l||Rt!==d?(qa=null,za=Fe()+500,Ys(l,d)):Ws=Ye(l,d);e:do try{if(zt!==0&&jt!==null){d=jt;var H=$r;t:switch(zt){case 1:zt=0,$r=null,Xs(l,d,H,1);break;case 2:case 9:if(Cu(H)){zt=0,$r=null,Eh(d);break}d=function(){zt!==2&&zt!==9||Jt!==l||(zt=7),un(l)},H.then(d,d);break e;case 3:zt=7;break e;case 4:zt=5;break e;case 7:Cu(H)?(zt=0,$r=null,Eh(d)):(zt=0,$r=null,Xs(l,d,H,7));break;case 5:var de=null;switch(jt.tag){case 26:de=jt.memoizedState;case 5:case 27:var be=jt;if(!de||rf(de)){zt=0,$r=null;var Ae=be.sibling;if(Ae!==null)jt=Ae;else{var Le=be.return;Le!==null?(jt=Le,Wa(Le)):jt=null}break t}}zt=0,$r=null,Xs(l,d,H,5);break;case 6:zt=0,$r=null,Xs(l,d,H,6);break;case 8:Jl(),nr=6;break e;default:throw Error(i(462))}}Dp();break}catch(ze){gh(l,ze)}while(!0);return vn=ls=null,je.H=E,je.A=D,Ut=g,jt!==null?0:(Jt=null,Rt=0,da(),nr)}function Dp(){for(;jt!==null&&!Oe();)bh(jt)}function bh(l){var d=Hd(l.alternate,l,An);l.memoizedProps=l.pendingProps,d===null?Wa(l):jt=d}function Eh(l){var d=l,g=d.alternate;switch(d.tag){case 15:case 0:d=Fd(g,d,d.pendingProps,d.type,void 0,Rt);break;case 11:d=Fd(g,d,d.pendingProps,d.type.render,d.ref,Rt);break;case 5:gl(d);default:Kd(g,d),d=jt=bu(d,An),d=Hd(g,d,An)}l.memoizedProps=l.pendingProps,d===null?Wa(l):jt=d}function Xs(l,d,g,E){vn=ls=null,gl(d),Us=null,ki=0;var D=d.return;try{if(wp(l,D,d,g,Rt)){nr=1,La(l,Hr(g,l.current)),jt=null;return}}catch(H){if(D!==null)throw jt=D,H;nr=1,La(l,Hr(g,l.current)),jt=null;return}d.flags&32768?(Dt||E===1?l=!0:Ws||(Rt&536870912)!==0?l=!1:(Fn=l=!0,(E===2||E===9||E===3||E===6)&&(E=Xr.current,E!==null&&E.tag===13&&(E.flags|=16384))),wh(d,l)):Wa(d)}function Wa(l){var d=l;do{if((d.flags&32768)!==0){wh(d,Fn);return}l=d.return;var g=Sp(d.alternate,d,An);if(g!==null){jt=g;return}if(d=d.sibling,d!==null){jt=d;return}jt=d=l}while(d!==null);nr===0&&(nr=5)}function wh(l,d){do{var g=_p(l.alternate,l);if(g!==null){g.flags&=32767,jt=g;return}if(g=l.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!d&&(l=l.sibling,l!==null)){jt=l;return}jt=l=g}while(l!==null);nr=6,jt=null}function jh(l,d,g,E,D,H,de,be,Ae){l.cancelPendingCommit=null;do Ha();while(jr!==0);if((Ut&6)!==0)throw Error(i(327));if(d!==null){if(d===l.current)throw Error(i(177));if(H=d.lanes|d.childLanes,H|=Wo,dn(l,g,H,de,be,Ae),l===Jt&&(jt=Jt=null,Rt=0),Gs=d,qn=l,Ks=g,Xl=H,Zl=D,hh=E,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,Ip(Ze,function(){return Th(),null})):(l.callbackNode=null,l.callbackPriority=0),E=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||E){E=je.T,je.T=null,D=ce.p,ce.p=2,de=Ut,Ut|=4;try{Ap(l,d,g)}finally{Ut=de,ce.p=D,je.T=E}}jr=1,Sh(),_h(),Ah()}}function Sh(){if(jr===1){jr=0;var l=qn,d=Gs,g=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||g){g=je.T,je.T=null;var E=ce.p;ce.p=2;var D=Ut;Ut|=4;try{ih(d,l);var H=fc,de=uu(l.containerInfo),be=H.focusedElem,Ae=H.selectionRange;if(de!==be&&be&&be.ownerDocument&&cu(be.ownerDocument.documentElement,be)){if(Ae!==null&&Fo(be)){var Le=Ae.start,ze=Ae.end;if(ze===void 0&&(ze=Le),"selectionStart"in be)be.selectionStart=Le,be.selectionEnd=Math.min(ze,be.value.length);else{var We=be.ownerDocument||document,Ie=We&&We.defaultView||window;if(Ie.getSelection){var $e=Ie.getSelection(),ot=be.textContent.length,et=Math.min(Ae.start,ot),Yt=Ae.end===void 0?et:Math.min(Ae.end,ot);!$e.extend&&et>Yt&&(de=Yt,Yt=et,et=de);var Ce=lu(be,et),Te=lu(be,Yt);if(Ce&&Te&&($e.rangeCount!==1||$e.anchorNode!==Ce.node||$e.anchorOffset!==Ce.offset||$e.focusNode!==Te.node||$e.focusOffset!==Te.offset)){var Me=We.createRange();Me.setStart(Ce.node,Ce.offset),$e.removeAllRanges(),et>Yt?($e.addRange(Me),$e.extend(Te.node,Te.offset)):(Me.setEnd(Te.node,Te.offset),$e.addRange(Me))}}}}for(We=[],$e=be;$e=$e.parentNode;)$e.nodeType===1&&We.push({element:$e,left:$e.scrollLeft,top:$e.scrollTop});for(typeof be.focus=="function"&&be.focus(),be=0;be<We.length;be++){var qe=We[be];qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}}ho=!!hc,fc=hc=null}finally{Ut=D,ce.p=E,je.T=g}}l.current=d,jr=2}}function _h(){if(jr===2){jr=0;var l=qn,d=Gs,g=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||g){g=je.T,je.T=null;var E=ce.p;ce.p=2;var D=Ut;Ut|=4;try{th(l,d.alternate,d)}finally{Ut=D,ce.p=E,je.T=g}}jr=3}}function Ah(){if(jr===4||jr===3){jr=0,Be();var l=qn,d=Gs,g=Ks,E=hh;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?jr=5:(jr=0,Gs=qn=null,Rh(l,l.pendingLanes));var D=l.pendingLanes;if(D===0&&(zn=null),Tn(g),d=d.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(hr,d,void 0,(d.current.flags&128)===128)}catch{}if(E!==null){d=je.T,D=ce.p,ce.p=2,je.T=null;try{for(var H=l.onRecoverableError,de=0;de<E.length;de++){var be=E[de];H(be.value,{componentStack:be.stack})}}finally{je.T=d,ce.p=D}}(Ks&3)!==0&&Ha(),un(l),D=l.pendingLanes,(g&4194090)!==0&&(D&42)!==0?l===Ql?Fi++:(Fi=0,Ql=l):Fi=0,Ui(0)}}function Rh(l,d){(l.pooledCacheLanes&=d)===0&&(d=l.pooledCache,d!=null&&(l.pooledCache=null,bi(d)))}function Ha(l){return Sh(),_h(),Ah(),Th()}function Th(){if(jr!==5)return!1;var l=qn,d=Xl;Xl=0;var g=Tn(Ks),E=je.T,D=ce.p;try{ce.p=32>g?32:g,je.T=null,g=Zl,Zl=null;var H=qn,de=Ks;if(jr=0,Gs=qn=null,Ks=0,(Ut&6)!==0)throw Error(i(331));var be=Ut;if(Ut|=4,uh(H.current),oh(H,H.current,de,g),Ut=be,Ui(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(hr,H)}catch{}return!0}finally{ce.p=D,je.T=E,Rh(l,d)}}function Ph(l,d,g){d=Hr(g,d),d=Cl(l.stateNode,d,2),l=Dn(l,d,2),l!==null&&(Ur(l,2),un(l))}function Zt(l,d,g){if(l.tag===3)Ph(l,l,g);else for(;d!==null;){if(d.tag===3){Ph(d,l,g);break}else if(d.tag===1){var E=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(zn===null||!zn.has(E))){l=Hr(g,l),g=Nd(2),E=Dn(d,g,2),E!==null&&(Dd(g,E,d,l),Ur(E,2),un(E));break}}d=d.return}}function rc(l,d,g){var E=l.pingCache;if(E===null){E=l.pingCache=new Pp;var D=new Set;E.set(d,D)}else D=E.get(d),D===void 0&&(D=new Set,E.set(d,D));D.has(g)||(Hl=!0,D.add(g),l=Mp.bind(null,l,d,g),d.then(l,l))}function Mp(l,d,g){var E=l.pingCache;E!==null&&E.delete(d),l.pingedLanes|=l.suspendedLanes&g,l.warmLanes&=~g,Jt===l&&(Rt&g)===g&&(nr===4||nr===3&&(Rt&62914560)===Rt&&300>Fe()-Yl?(Ut&2)===0&&Ys(l,0):Gl|=g,Hs===Rt&&(Hs=0)),un(l)}function Ch(l,d){d===0&&(d=lr()),l=ks(l,d),l!==null&&(Ur(l,d),un(l))}function Op(l){var d=l.memoizedState,g=0;d!==null&&(g=d.retryLane),Ch(l,g)}function Lp(l,d){var g=0;switch(l.tag){case 13:var E=l.stateNode,D=l.memoizedState;D!==null&&(g=D.retryLane);break;case 19:E=l.stateNode;break;case 22:E=l.stateNode._retryCache;break;default:throw Error(i(314))}E!==null&&E.delete(d),Ch(l,g)}function Ip(l,d){return ke(l,d)}var Ga=null,Zs=null,nc=!1,Ka=!1,sc=!1,ms=0;function un(l){l!==Zs&&l.next===null&&(Zs===null?Ga=Zs=l:Zs=Zs.next=l),Ka=!0,nc||(nc=!0,Bp())}function Ui(l,d){if(!sc&&Ka){sc=!0;do for(var g=!1,E=Ga;E!==null;){if(l!==0){var D=E.pendingLanes;if(D===0)var H=0;else{var de=E.suspendedLanes,be=E.pingedLanes;H=(1<<31-Ft(42|l)+1)-1,H&=D&~(de&~be),H=H&201326741?H&201326741|1:H?H|2:0}H!==0&&(g=!0,Mh(E,H))}else H=Rt,H=Ne(E,E===Jt?H:0,E.cancelPendingCommit!==null||E.timeoutHandle!==-1),(H&3)===0||Ye(E,H)||(g=!0,Mh(E,H));E=E.next}while(g);sc=!1}}function $p(){kh()}function kh(){Ka=nc=!1;var l=0;ms!==0&&(Gp()&&(l=ms),ms=0);for(var d=Fe(),g=null,E=Ga;E!==null;){var D=E.next,H=Nh(E,d);H===0?(E.next=null,g===null?Ga=D:g.next=D,D===null&&(Zs=g)):(g=E,(l!==0||(H&3)!==0)&&(Ka=!0)),E=D}Ui(l)}function Nh(l,d){for(var g=l.suspendedLanes,E=l.pingedLanes,D=l.expirationTimes,H=l.pendingLanes&-62914561;0<H;){var de=31-Ft(H),be=1<<de,Ae=D[de];Ae===-1?((be&g)===0||(be&E)!==0)&&(D[de]=kt(be,d)):Ae<=d&&(l.expiredLanes|=be),H&=~be}if(d=Jt,g=Rt,g=Ne(l,l===d?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),E=l.callbackNode,g===0||l===d&&(zt===2||zt===9)||l.cancelPendingCommit!==null)return E!==null&&E!==null&&Ve(E),l.callbackNode=null,l.callbackPriority=0;if((g&3)===0||Ye(l,g)){if(d=g&-g,d===l.callbackPriority)return d;switch(E!==null&&Ve(E),Tn(g)){case 2:case 8:g=Ke;break;case 32:g=Ze;break;case 268435456:g=ct;break;default:g=Ze}return E=Dh.bind(null,l),g=ke(g,E),l.callbackPriority=d,l.callbackNode=g,d}return E!==null&&E!==null&&Ve(E),l.callbackPriority=2,l.callbackNode=null,2}function Dh(l,d){if(jr!==0&&jr!==5)return l.callbackNode=null,l.callbackPriority=0,null;var g=l.callbackNode;if(Ha()&&l.callbackNode!==g)return null;var E=Rt;return E=Ne(l,l===Jt?E:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),E===0?null:(ph(l,E,d),Nh(l,Fe()),l.callbackNode!=null&&l.callbackNode===g?Dh.bind(null,l):null)}function Mh(l,d){if(Ha())return null;ph(l,d,!0)}function Bp(){Yp(function(){(Ut&6)!==0?ke(He,$p):kh()})}function ic(){return ms===0&&(ms=or()),ms}function Oh(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:sa(""+l)}function Lh(l,d){var g=d.ownerDocument.createElement("input");return g.name=d.name,g.value=d.value,l.id&&g.setAttribute("form",l.id),d.parentNode.insertBefore(g,d),l=new FormData(l),g.parentNode.removeChild(g),l}function Fp(l,d,g,E,D){if(d==="submit"&&g&&g.stateNode===D){var H=Oh((D[mr]||null).action),de=E.submitter;de&&(d=(d=de[mr]||null)?Oh(d.formAction):de.getAttribute("formAction"),d!==null&&(H=d,de=null));var be=new la("action","action",null,E,D);l.push({event:be,listeners:[{instance:null,listener:function(){if(E.defaultPrevented){if(ms!==0){var Ae=de?Lh(D,de):new FormData(D);_l(g,{pending:!0,data:Ae,method:D.method,action:H},null,Ae)}}else typeof H=="function"&&(be.preventDefault(),Ae=de?Lh(D,de):new FormData(D),_l(g,{pending:!0,data:Ae,method:D.method,action:H},H,Ae))},currentTarget:D}]})}}for(var ac=0;ac<Vo.length;ac++){var oc=Vo[ac],Up=oc.toLowerCase(),zp=oc[0].toUpperCase()+oc.slice(1);en(Up,"on"+zp)}en(fu,"onAnimationEnd"),en(pu,"onAnimationIteration"),en(mu,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(ip,"onTransitionRun"),en(ap,"onTransitionStart"),en(op,"onTransitionCancel"),en(gu,"onTransitionEnd"),Es("onMouseEnter",["mouseout","mouseover"]),Es("onMouseLeave",["mouseout","mouseover"]),Es("onPointerEnter",["pointerout","pointerover"]),Es("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zi));function Ih(l,d){d=(d&4)!==0;for(var g=0;g<l.length;g++){var E=l[g],D=E.event;E=E.listeners;e:{var H=void 0;if(d)for(var de=E.length-1;0<=de;de--){var be=E[de],Ae=be.instance,Le=be.currentTarget;if(be=be.listener,Ae!==H&&D.isPropagationStopped())break e;H=be,D.currentTarget=Le;try{H(D)}catch(ze){Oa(ze)}D.currentTarget=null,H=Ae}else for(de=0;de<E.length;de++){if(be=E[de],Ae=be.instance,Le=be.currentTarget,be=be.listener,Ae!==H&&D.isPropagationStopped())break e;H=be,D.currentTarget=Le;try{H(D)}catch(ze){Oa(ze)}D.currentTarget=null,H=Ae}}}}function St(l,d){var g=d[Er];g===void 0&&(g=d[Er]=new Set);var E=l+"__bubble";g.has(E)||($h(d,l,2,!1),g.add(E))}function lc(l,d,g){var E=0;d&&(E|=4),$h(g,l,E,d)}var Ya="_reactListening"+Math.random().toString(36).slice(2);function cc(l){if(!l[Ya]){l[Ya]=!0,Pc.forEach(function(g){g!=="selectionchange"&&(qp.has(g)||lc(g,!1,l),lc(g,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[Ya]||(d[Ya]=!0,lc("selectionchange",!1,d))}}function $h(l,d,g,E){switch(cf(d)){case 2:var D=gm;break;case 8:D=xm;break;default:D=jc}g=D.bind(null,d,g,l),D=void 0,!ko||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(D=!0),E?D!==void 0?l.addEventListener(d,g,{capture:!0,passive:D}):l.addEventListener(d,g,!0):D!==void 0?l.addEventListener(d,g,{passive:D}):l.addEventListener(d,g,!1)}function uc(l,d,g,E,D){var H=E;if((d&1)===0&&(d&2)===0&&E!==null)e:for(;;){if(E===null)return;var de=E.tag;if(de===3||de===4){var be=E.stateNode.containerInfo;if(be===D)break;if(de===4)for(de=E.return;de!==null;){var Ae=de.tag;if((Ae===3||Ae===4)&&de.stateNode.containerInfo===D)return;de=de.return}for(;be!==null;){if(de=vs(be),de===null)return;if(Ae=de.tag,Ae===5||Ae===6||Ae===26||Ae===27){E=H=de;continue e}be=be.parentNode}}E=E.return}qc(function(){var Le=H,ze=Po(g),We=[];e:{var Ie=xu.get(l);if(Ie!==void 0){var $e=la,ot=l;switch(l){case"keypress":if(aa(g)===0)break e;case"keydown":case"keyup":$e=If;break;case"focusin":ot="focus",$e=Oo;break;case"focusout":ot="blur",$e=Oo;break;case"beforeblur":case"afterblur":$e=Oo;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$e=Hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$e=_f;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$e=Ff;break;case fu:case pu:case mu:$e=Tf;break;case gu:$e=zf;break;case"scroll":case"scrollend":$e=jf;break;case"wheel":$e=Vf;break;case"copy":case"cut":case"paste":$e=Cf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$e=Kc;break;case"toggle":case"beforetoggle":$e=Hf}var et=(d&4)!==0,Yt=!et&&(l==="scroll"||l==="scrollend"),Ce=et?Ie!==null?Ie+"Capture":null:Ie;et=[];for(var Te=Le,Me;Te!==null;){var qe=Te;if(Me=qe.stateNode,qe=qe.tag,qe!==5&&qe!==26&&qe!==27||Me===null||Ce===null||(qe=ai(Te,Ce),qe!=null&&et.push(qi(Te,qe,Me))),Yt)break;Te=Te.return}0<et.length&&(Ie=new $e(Ie,ot,null,g,ze),We.push({event:Ie,listeners:et}))}}if((d&7)===0){e:{if(Ie=l==="mouseover"||l==="pointerover",$e=l==="mouseout"||l==="pointerout",Ie&&g!==To&&(ot=g.relatedTarget||g.fromElement)&&(vs(ot)||ot[qr]))break e;if(($e||Ie)&&(Ie=ze.window===ze?ze:(Ie=ze.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,$e?(ot=g.relatedTarget||g.toElement,$e=Le,ot=ot?vs(ot):null,ot!==null&&(Yt=u(ot),et=ot.tag,ot!==Yt||et!==5&&et!==27&&et!==6)&&(ot=null)):($e=null,ot=Le),$e!==ot)){if(et=Hc,qe="onMouseLeave",Ce="onMouseEnter",Te="mouse",(l==="pointerout"||l==="pointerover")&&(et=Kc,qe="onPointerLeave",Ce="onPointerEnter",Te="pointer"),Yt=$e==null?Ie:ii($e),Me=ot==null?Ie:ii(ot),Ie=new et(qe,Te+"leave",$e,g,ze),Ie.target=Yt,Ie.relatedTarget=Me,qe=null,vs(ze)===Le&&(et=new et(Ce,Te+"enter",ot,g,ze),et.target=Me,et.relatedTarget=Yt,qe=et),Yt=qe,$e&&ot)t:{for(et=$e,Ce=ot,Te=0,Me=et;Me;Me=Qs(Me))Te++;for(Me=0,qe=Ce;qe;qe=Qs(qe))Me++;for(;0<Te-Me;)et=Qs(et),Te--;for(;0<Me-Te;)Ce=Qs(Ce),Me--;for(;Te--;){if(et===Ce||Ce!==null&&et===Ce.alternate)break t;et=Qs(et),Ce=Qs(Ce)}et=null}else et=null;$e!==null&&Bh(We,Ie,$e,et,!1),ot!==null&&Yt!==null&&Bh(We,Yt,ot,et,!0)}}e:{if(Ie=Le?ii(Le):window,$e=Ie.nodeName&&Ie.nodeName.toLowerCase(),$e==="select"||$e==="input"&&Ie.type==="file")var Xe=ru;else if(eu(Ie))if(nu)Xe=rp;else{Xe=ep;var ft=Jf}else $e=Ie.nodeName,!$e||$e.toLowerCase()!=="input"||Ie.type!=="checkbox"&&Ie.type!=="radio"?Le&&Ro(Le.elementType)&&(Xe=ru):Xe=tp;if(Xe&&(Xe=Xe(l,Le))){tu(We,Xe,g,ze);break e}ft&&ft(l,Ie,Le),l==="focusout"&&Le&&Ie.type==="number"&&Le.memoizedProps.value!=null&&Ao(Ie,"number",Ie.value)}switch(ft=Le?ii(Le):window,l){case"focusin":(eu(ft)||ft.contentEditable==="true")&&(Ts=ft,Uo=Le,mi=null);break;case"focusout":mi=Uo=Ts=null;break;case"mousedown":zo=!0;break;case"contextmenu":case"mouseup":case"dragend":zo=!1,du(We,g,ze);break;case"selectionchange":if(sp)break;case"keydown":case"keyup":du(We,g,ze)}var Qe;if(Io)e:{switch(l){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else Rs?Qc(l,g)&&(it="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(it="onCompositionStart");it&&(Yc&&g.locale!=="ko"&&(Rs||it!=="onCompositionStart"?it==="onCompositionEnd"&&Rs&&(Qe=Vc()):(Pn=ze,No="value"in Pn?Pn.value:Pn.textContent,Rs=!0)),ft=Xa(Le,it),0<ft.length&&(it=new Gc(it,l,null,g,ze),We.push({event:it,listeners:ft}),Qe?it.data=Qe:(Qe=Jc(g),Qe!==null&&(it.data=Qe)))),(Qe=Kf?Yf(l,g):Xf(l,g))&&(it=Xa(Le,"onBeforeInput"),0<it.length&&(ft=new Gc("onBeforeInput","beforeinput",null,g,ze),We.push({event:ft,listeners:it}),ft.data=Qe)),Fp(We,l,Le,g,ze)}Ih(We,d)})}function qi(l,d,g){return{instance:l,listener:d,currentTarget:g}}function Xa(l,d){for(var g=d+"Capture",E=[];l!==null;){var D=l,H=D.stateNode;if(D=D.tag,D!==5&&D!==26&&D!==27||H===null||(D=ai(l,g),D!=null&&E.unshift(qi(l,D,H)),D=ai(l,d),D!=null&&E.push(qi(l,D,H))),l.tag===3)return E;l=l.return}return[]}function Qs(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function Bh(l,d,g,E,D){for(var H=d._reactName,de=[];g!==null&&g!==E;){var be=g,Ae=be.alternate,Le=be.stateNode;if(be=be.tag,Ae!==null&&Ae===E)break;be!==5&&be!==26&&be!==27||Le===null||(Ae=Le,D?(Le=ai(g,H),Le!=null&&de.unshift(qi(g,Le,Ae))):D||(Le=ai(g,H),Le!=null&&de.push(qi(g,Le,Ae)))),g=g.return}de.length!==0&&l.push({event:d,listeners:de})}var Vp=/\r\n?/g,Wp=/\u0000|\uFFFD/g;function Fh(l){return(typeof l=="string"?l:""+l).replace(Vp,`
`).replace(Wp,"")}function Uh(l,d){return d=Fh(d),Fh(l)===d}function Za(){}function Kt(l,d,g,E,D,H){switch(g){case"children":typeof E=="string"?d==="body"||d==="textarea"&&E===""||Ss(l,E):(typeof E=="number"||typeof E=="bigint")&&d!=="body"&&Ss(l,""+E);break;case"className":ta(l,"class",E);break;case"tabIndex":ta(l,"tabindex",E);break;case"dir":case"role":case"viewBox":case"width":case"height":ta(l,g,E);break;case"style":Uc(l,E,H);break;case"data":if(d!=="object"){ta(l,"data",E);break}case"src":case"href":if(E===""&&(d!=="a"||g!=="href")){l.removeAttribute(g);break}if(E==null||typeof E=="function"||typeof E=="symbol"||typeof E=="boolean"){l.removeAttribute(g);break}E=sa(""+E),l.setAttribute(g,E);break;case"action":case"formAction":if(typeof E=="function"){l.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof H=="function"&&(g==="formAction"?(d!=="input"&&Kt(l,d,"name",D.name,D,null),Kt(l,d,"formEncType",D.formEncType,D,null),Kt(l,d,"formMethod",D.formMethod,D,null),Kt(l,d,"formTarget",D.formTarget,D,null)):(Kt(l,d,"encType",D.encType,D,null),Kt(l,d,"method",D.method,D,null),Kt(l,d,"target",D.target,D,null)));if(E==null||typeof E=="symbol"||typeof E=="boolean"){l.removeAttribute(g);break}E=sa(""+E),l.setAttribute(g,E);break;case"onClick":E!=null&&(l.onclick=Za);break;case"onScroll":E!=null&&St("scroll",l);break;case"onScrollEnd":E!=null&&St("scrollend",l);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(i(61));if(g=E.__html,g!=null){if(D.children!=null)throw Error(i(60));l.innerHTML=g}}break;case"multiple":l.multiple=E&&typeof E!="function"&&typeof E!="symbol";break;case"muted":l.muted=E&&typeof E!="function"&&typeof E!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(E==null||typeof E=="function"||typeof E=="boolean"||typeof E=="symbol"){l.removeAttribute("xlink:href");break}g=sa(""+E),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":E!=null&&typeof E!="function"&&typeof E!="symbol"?l.setAttribute(g,""+E):l.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":E&&typeof E!="function"&&typeof E!="symbol"?l.setAttribute(g,""):l.removeAttribute(g);break;case"capture":case"download":E===!0?l.setAttribute(g,""):E!==!1&&E!=null&&typeof E!="function"&&typeof E!="symbol"?l.setAttribute(g,E):l.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":E!=null&&typeof E!="function"&&typeof E!="symbol"&&!isNaN(E)&&1<=E?l.setAttribute(g,E):l.removeAttribute(g);break;case"rowSpan":case"start":E==null||typeof E=="function"||typeof E=="symbol"||isNaN(E)?l.removeAttribute(g):l.setAttribute(g,E);break;case"popover":St("beforetoggle",l),St("toggle",l),ea(l,"popover",E);break;case"xlinkActuate":fn(l,"http://www.w3.org/1999/xlink","xlink:actuate",E);break;case"xlinkArcrole":fn(l,"http://www.w3.org/1999/xlink","xlink:arcrole",E);break;case"xlinkRole":fn(l,"http://www.w3.org/1999/xlink","xlink:role",E);break;case"xlinkShow":fn(l,"http://www.w3.org/1999/xlink","xlink:show",E);break;case"xlinkTitle":fn(l,"http://www.w3.org/1999/xlink","xlink:title",E);break;case"xlinkType":fn(l,"http://www.w3.org/1999/xlink","xlink:type",E);break;case"xmlBase":fn(l,"http://www.w3.org/XML/1998/namespace","xml:base",E);break;case"xmlLang":fn(l,"http://www.w3.org/XML/1998/namespace","xml:lang",E);break;case"xmlSpace":fn(l,"http://www.w3.org/XML/1998/namespace","xml:space",E);break;case"is":ea(l,"is",E);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Ef.get(g)||g,ea(l,g,E))}}function dc(l,d,g,E,D,H){switch(g){case"style":Uc(l,E,H);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(i(61));if(g=E.__html,g!=null){if(D.children!=null)throw Error(i(60));l.innerHTML=g}}break;case"children":typeof E=="string"?Ss(l,E):(typeof E=="number"||typeof E=="bigint")&&Ss(l,""+E);break;case"onScroll":E!=null&&St("scroll",l);break;case"onScrollEnd":E!=null&&St("scrollend",l);break;case"onClick":E!=null&&(l.onclick=Za);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cc.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(D=g.endsWith("Capture"),d=g.slice(2,D?g.length-7:void 0),H=l[mr]||null,H=H!=null?H[g]:null,typeof H=="function"&&l.removeEventListener(d,H,D),typeof E=="function")){typeof H!="function"&&H!==null&&(g in l?l[g]=null:l.hasAttribute(g)&&l.removeAttribute(g)),l.addEventListener(d,E,D);break e}g in l?l[g]=E:E===!0?l.setAttribute(g,""):ea(l,g,E)}}}function Sr(l,d,g){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",l),St("load",l);var E=!1,D=!1,H;for(H in g)if(g.hasOwnProperty(H)){var de=g[H];if(de!=null)switch(H){case"src":E=!0;break;case"srcSet":D=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,d));default:Kt(l,d,H,de,g,null)}}D&&Kt(l,d,"srcSet",g.srcSet,g,null),E&&Kt(l,d,"src",g.src,g,null);return;case"input":St("invalid",l);var be=H=de=D=null,Ae=null,Le=null;for(E in g)if(g.hasOwnProperty(E)){var ze=g[E];if(ze!=null)switch(E){case"name":D=ze;break;case"type":de=ze;break;case"checked":Ae=ze;break;case"defaultChecked":Le=ze;break;case"value":H=ze;break;case"defaultValue":be=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(i(137,d));break;default:Kt(l,d,E,ze,g,null)}}Ic(l,H,be,Ae,Le,de,D,!1),ra(l);return;case"select":St("invalid",l),E=de=H=null;for(D in g)if(g.hasOwnProperty(D)&&(be=g[D],be!=null))switch(D){case"value":H=be;break;case"defaultValue":de=be;break;case"multiple":E=be;default:Kt(l,d,D,be,g,null)}d=H,g=de,l.multiple=!!E,d!=null?js(l,!!E,d,!1):g!=null&&js(l,!!E,g,!0);return;case"textarea":St("invalid",l),H=D=E=null;for(de in g)if(g.hasOwnProperty(de)&&(be=g[de],be!=null))switch(de){case"value":E=be;break;case"defaultValue":D=be;break;case"children":H=be;break;case"dangerouslySetInnerHTML":if(be!=null)throw Error(i(91));break;default:Kt(l,d,de,be,g,null)}Bc(l,E,D,H),ra(l);return;case"option":for(Ae in g)if(g.hasOwnProperty(Ae)&&(E=g[Ae],E!=null))switch(Ae){case"selected":l.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:Kt(l,d,Ae,E,g,null)}return;case"dialog":St("beforetoggle",l),St("toggle",l),St("cancel",l),St("close",l);break;case"iframe":case"object":St("load",l);break;case"video":case"audio":for(E=0;E<zi.length;E++)St(zi[E],l);break;case"image":St("error",l),St("load",l);break;case"details":St("toggle",l);break;case"embed":case"source":case"link":St("error",l),St("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Le in g)if(g.hasOwnProperty(Le)&&(E=g[Le],E!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,d));default:Kt(l,d,Le,E,g,null)}return;default:if(Ro(d)){for(ze in g)g.hasOwnProperty(ze)&&(E=g[ze],E!==void 0&&dc(l,d,ze,E,g,void 0));return}}for(be in g)g.hasOwnProperty(be)&&(E=g[be],E!=null&&Kt(l,d,be,E,g,null))}function Hp(l,d,g,E){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var D=null,H=null,de=null,be=null,Ae=null,Le=null,ze=null;for($e in g){var We=g[$e];if(g.hasOwnProperty($e)&&We!=null)switch($e){case"checked":break;case"value":break;case"defaultValue":Ae=We;default:E.hasOwnProperty($e)||Kt(l,d,$e,null,E,We)}}for(var Ie in E){var $e=E[Ie];if(We=g[Ie],E.hasOwnProperty(Ie)&&($e!=null||We!=null))switch(Ie){case"type":H=$e;break;case"name":D=$e;break;case"checked":Le=$e;break;case"defaultChecked":ze=$e;break;case"value":de=$e;break;case"defaultValue":be=$e;break;case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(i(137,d));break;default:$e!==We&&Kt(l,d,Ie,$e,E,We)}}So(l,de,be,Ae,Le,ze,H,D);return;case"select":$e=de=be=Ie=null;for(H in g)if(Ae=g[H],g.hasOwnProperty(H)&&Ae!=null)switch(H){case"value":break;case"multiple":$e=Ae;default:E.hasOwnProperty(H)||Kt(l,d,H,null,E,Ae)}for(D in E)if(H=E[D],Ae=g[D],E.hasOwnProperty(D)&&(H!=null||Ae!=null))switch(D){case"value":Ie=H;break;case"defaultValue":be=H;break;case"multiple":de=H;default:H!==Ae&&Kt(l,d,D,H,E,Ae)}d=be,g=de,E=$e,Ie!=null?js(l,!!g,Ie,!1):!!E!=!!g&&(d!=null?js(l,!!g,d,!0):js(l,!!g,g?[]:"",!1));return;case"textarea":$e=Ie=null;for(be in g)if(D=g[be],g.hasOwnProperty(be)&&D!=null&&!E.hasOwnProperty(be))switch(be){case"value":break;case"children":break;default:Kt(l,d,be,null,E,D)}for(de in E)if(D=E[de],H=g[de],E.hasOwnProperty(de)&&(D!=null||H!=null))switch(de){case"value":Ie=D;break;case"defaultValue":$e=D;break;case"children":break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:D!==H&&Kt(l,d,de,D,E,H)}$c(l,Ie,$e);return;case"option":for(var ot in g)if(Ie=g[ot],g.hasOwnProperty(ot)&&Ie!=null&&!E.hasOwnProperty(ot))switch(ot){case"selected":l.selected=!1;break;default:Kt(l,d,ot,null,E,Ie)}for(Ae in E)if(Ie=E[Ae],$e=g[Ae],E.hasOwnProperty(Ae)&&Ie!==$e&&(Ie!=null||$e!=null))switch(Ae){case"selected":l.selected=Ie&&typeof Ie!="function"&&typeof Ie!="symbol";break;default:Kt(l,d,Ae,Ie,E,$e)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in g)Ie=g[et],g.hasOwnProperty(et)&&Ie!=null&&!E.hasOwnProperty(et)&&Kt(l,d,et,null,E,Ie);for(Le in E)if(Ie=E[Le],$e=g[Le],E.hasOwnProperty(Le)&&Ie!==$e&&(Ie!=null||$e!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(i(137,d));break;default:Kt(l,d,Le,Ie,E,$e)}return;default:if(Ro(d)){for(var Yt in g)Ie=g[Yt],g.hasOwnProperty(Yt)&&Ie!==void 0&&!E.hasOwnProperty(Yt)&&dc(l,d,Yt,void 0,E,Ie);for(ze in E)Ie=E[ze],$e=g[ze],!E.hasOwnProperty(ze)||Ie===$e||Ie===void 0&&$e===void 0||dc(l,d,ze,Ie,E,$e);return}}for(var Ce in g)Ie=g[Ce],g.hasOwnProperty(Ce)&&Ie!=null&&!E.hasOwnProperty(Ce)&&Kt(l,d,Ce,null,E,Ie);for(We in E)Ie=E[We],$e=g[We],!E.hasOwnProperty(We)||Ie===$e||Ie==null&&$e==null||Kt(l,d,We,Ie,E,$e)}var hc=null,fc=null;function Qa(l){return l.nodeType===9?l:l.ownerDocument}function zh(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qh(l,d){if(l===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&d==="foreignObject"?0:l}function pc(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var mc=null;function Gp(){var l=window.event;return l&&l.type==="popstate"?l===mc?!1:(mc=l,!0):(mc=null,!1)}var Vh=typeof setTimeout=="function"?setTimeout:void 0,Kp=typeof clearTimeout=="function"?clearTimeout:void 0,Wh=typeof Promise=="function"?Promise:void 0,Yp=typeof queueMicrotask=="function"?queueMicrotask:typeof Wh<"u"?function(l){return Wh.resolve(null).then(l).catch(Xp)}:Vh;function Xp(l){setTimeout(function(){throw l})}function Wn(l){return l==="head"}function Hh(l,d){var g=d,E=0,D=0;do{var H=g.nextSibling;if(l.removeChild(g),H&&H.nodeType===8)if(g=H.data,g==="/$"){if(0<E&&8>E){g=E;var de=l.ownerDocument;if(g&1&&Vi(de.documentElement),g&2&&Vi(de.body),g&4)for(g=de.head,Vi(g),de=g.firstChild;de;){var be=de.nextSibling,Ae=de.nodeName;de[si]||Ae==="SCRIPT"||Ae==="STYLE"||Ae==="LINK"&&de.rel.toLowerCase()==="stylesheet"||g.removeChild(de),de=be}}if(D===0){l.removeChild(H),Qi(d);return}D--}else g==="$"||g==="$?"||g==="$!"?D++:E=g.charCodeAt(0)-48;else E=0;g=H}while(g);Qi(d)}function gc(l){var d=l.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var g=d;switch(d=d.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":gc(g),bo(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}l.removeChild(g)}}function Zp(l,d,g,E){for(;l.nodeType===1;){var D=g;if(l.nodeName.toLowerCase()!==d.toLowerCase()){if(!E&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(E){if(!l[si])switch(d){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(H=l.getAttribute("rel"),H==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(H!==D.rel||l.getAttribute("href")!==(D.href==null||D.href===""?null:D.href)||l.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin)||l.getAttribute("title")!==(D.title==null?null:D.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(H=l.getAttribute("src"),(H!==(D.src==null?null:D.src)||l.getAttribute("type")!==(D.type==null?null:D.type)||l.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin))&&H&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(d==="input"&&l.type==="hidden"){var H=D.name==null?null:""+D.name;if(D.type==="hidden"&&l.getAttribute("name")===H)return l}else return l;if(l=rn(l.nextSibling),l===null)break}return null}function Qp(l,d,g){if(d==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!g||(l=rn(l.nextSibling),l===null))return null;return l}function xc(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function Jp(l,d){var g=l.ownerDocument;if(l.data!=="$?"||g.readyState==="complete")d();else{var E=function(){d(),g.removeEventListener("DOMContentLoaded",E)};g.addEventListener("DOMContentLoaded",E),l._reactRetry=E}}function rn(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return l}var vc=null;function Gh(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"){if(d===0)return l;d--}else g==="/$"&&d++}l=l.previousSibling}return null}function Kh(l,d,g){switch(d=Qa(g),l){case"html":if(l=d.documentElement,!l)throw Error(i(452));return l;case"head":if(l=d.head,!l)throw Error(i(453));return l;case"body":if(l=d.body,!l)throw Error(i(454));return l;default:throw Error(i(451))}}function Vi(l){for(var d=l.attributes;d.length;)l.removeAttributeNode(d[0]);bo(l)}var Qr=new Map,Yh=new Set;function Ja(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Rn=ce.d;ce.d={f:em,r:tm,D:rm,C:nm,L:sm,m:im,X:om,S:am,M:lm};function em(){var l=Rn.f(),d=Va();return l||d}function tm(l){var d=ys(l);d!==null&&d.tag===5&&d.type==="form"?pd(d):Rn.r(l)}var Js=typeof document>"u"?null:document;function Xh(l,d,g){var E=Js;if(E&&typeof d=="string"&&d){var D=Wr(d);D='link[rel="'+l+'"][href="'+D+'"]',typeof g=="string"&&(D+='[crossorigin="'+g+'"]'),Yh.has(D)||(Yh.add(D),l={rel:l,crossOrigin:g,href:d},E.querySelector(D)===null&&(d=E.createElement("link"),Sr(d,"link",l),gr(d),E.head.appendChild(d)))}}function rm(l){Rn.D(l),Xh("dns-prefetch",l,null)}function nm(l,d){Rn.C(l,d),Xh("preconnect",l,d)}function sm(l,d,g){Rn.L(l,d,g);var E=Js;if(E&&l&&d){var D='link[rel="preload"][as="'+Wr(d)+'"]';d==="image"&&g&&g.imageSrcSet?(D+='[imagesrcset="'+Wr(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(D+='[imagesizes="'+Wr(g.imageSizes)+'"]')):D+='[href="'+Wr(l)+'"]';var H=D;switch(d){case"style":H=ei(l);break;case"script":H=ti(l)}Qr.has(H)||(l=f({rel:"preload",href:d==="image"&&g&&g.imageSrcSet?void 0:l,as:d},g),Qr.set(H,l),E.querySelector(D)!==null||d==="style"&&E.querySelector(Wi(H))||d==="script"&&E.querySelector(Hi(H))||(d=E.createElement("link"),Sr(d,"link",l),gr(d),E.head.appendChild(d)))}}function im(l,d){Rn.m(l,d);var g=Js;if(g&&l){var E=d&&typeof d.as=="string"?d.as:"script",D='link[rel="modulepreload"][as="'+Wr(E)+'"][href="'+Wr(l)+'"]',H=D;switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":H=ti(l)}if(!Qr.has(H)&&(l=f({rel:"modulepreload",href:l},d),Qr.set(H,l),g.querySelector(D)===null)){switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Hi(H)))return}E=g.createElement("link"),Sr(E,"link",l),gr(E),g.head.appendChild(E)}}}function am(l,d,g){Rn.S(l,d,g);var E=Js;if(E&&l){var D=bs(E).hoistableStyles,H=ei(l);d=d||"default";var de=D.get(H);if(!de){var be={loading:0,preload:null};if(de=E.querySelector(Wi(H)))be.loading=5;else{l=f({rel:"stylesheet",href:l,"data-precedence":d},g),(g=Qr.get(H))&&yc(l,g);var Ae=de=E.createElement("link");gr(Ae),Sr(Ae,"link",l),Ae._p=new Promise(function(Le,ze){Ae.onload=Le,Ae.onerror=ze}),Ae.addEventListener("load",function(){be.loading|=1}),Ae.addEventListener("error",function(){be.loading|=2}),be.loading|=4,eo(de,d,E)}de={type:"stylesheet",instance:de,count:1,state:be},D.set(H,de)}}}function om(l,d){Rn.X(l,d);var g=Js;if(g&&l){var E=bs(g).hoistableScripts,D=ti(l),H=E.get(D);H||(H=g.querySelector(Hi(D)),H||(l=f({src:l,async:!0},d),(d=Qr.get(D))&&bc(l,d),H=g.createElement("script"),gr(H),Sr(H,"link",l),g.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},E.set(D,H))}}function lm(l,d){Rn.M(l,d);var g=Js;if(g&&l){var E=bs(g).hoistableScripts,D=ti(l),H=E.get(D);H||(H=g.querySelector(Hi(D)),H||(l=f({src:l,async:!0,type:"module"},d),(d=Qr.get(D))&&bc(l,d),H=g.createElement("script"),gr(H),Sr(H,"link",l),g.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},E.set(D,H))}}function Zh(l,d,g,E){var D=(D=te.current)?Ja(D):null;if(!D)throw Error(i(446));switch(l){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(d=ei(g.href),g=bs(D).hoistableStyles,E=g.get(d),E||(E={type:"style",instance:null,count:0,state:null},g.set(d,E)),E):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){l=ei(g.href);var H=bs(D).hoistableStyles,de=H.get(l);if(de||(D=D.ownerDocument||D,de={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},H.set(l,de),(H=D.querySelector(Wi(l)))&&!H._p&&(de.instance=H,de.state.loading=5),Qr.has(l)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Qr.set(l,g),H||cm(D,l,g,de.state))),d&&E===null)throw Error(i(528,""));return de}if(d&&E!==null)throw Error(i(529,""));return null;case"script":return d=g.async,g=g.src,typeof g=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=ti(g),g=bs(D).hoistableScripts,E=g.get(d),E||(E={type:"script",instance:null,count:0,state:null},g.set(d,E)),E):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,l))}}function ei(l){return'href="'+Wr(l)+'"'}function Wi(l){return'link[rel="stylesheet"]['+l+"]"}function Qh(l){return f({},l,{"data-precedence":l.precedence,precedence:null})}function cm(l,d,g,E){l.querySelector('link[rel="preload"][as="style"]['+d+"]")?E.loading=1:(d=l.createElement("link"),E.preload=d,d.addEventListener("load",function(){return E.loading|=1}),d.addEventListener("error",function(){return E.loading|=2}),Sr(d,"link",g),gr(d),l.head.appendChild(d))}function ti(l){return'[src="'+Wr(l)+'"]'}function Hi(l){return"script[async]"+l}function Jh(l,d,g){if(d.count++,d.instance===null)switch(d.type){case"style":var E=l.querySelector('style[data-href~="'+Wr(g.href)+'"]');if(E)return d.instance=E,gr(E),E;var D=f({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return E=(l.ownerDocument||l).createElement("style"),gr(E),Sr(E,"style",D),eo(E,g.precedence,l),d.instance=E;case"stylesheet":D=ei(g.href);var H=l.querySelector(Wi(D));if(H)return d.state.loading|=4,d.instance=H,gr(H),H;E=Qh(g),(D=Qr.get(D))&&yc(E,D),H=(l.ownerDocument||l).createElement("link"),gr(H);var de=H;return de._p=new Promise(function(be,Ae){de.onload=be,de.onerror=Ae}),Sr(H,"link",E),d.state.loading|=4,eo(H,g.precedence,l),d.instance=H;case"script":return H=ti(g.src),(D=l.querySelector(Hi(H)))?(d.instance=D,gr(D),D):(E=g,(D=Qr.get(H))&&(E=f({},g),bc(E,D)),l=l.ownerDocument||l,D=l.createElement("script"),gr(D),Sr(D,"link",E),l.head.appendChild(D),d.instance=D);case"void":return null;default:throw Error(i(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(E=d.instance,d.state.loading|=4,eo(E,g.precedence,l));return d.instance}function eo(l,d,g){for(var E=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),D=E.length?E[E.length-1]:null,H=D,de=0;de<E.length;de++){var be=E[de];if(be.dataset.precedence===d)H=be;else if(H!==D)break}H?H.parentNode.insertBefore(l,H.nextSibling):(d=g.nodeType===9?g.head:g,d.insertBefore(l,d.firstChild))}function yc(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.title==null&&(l.title=d.title)}function bc(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.integrity==null&&(l.integrity=d.integrity)}var oo=null;function ef(l,d,g){if(oo===null){var E=new Map,D=oo=new Map;D.set(g,E)}else D=oo,E=D.get(g),E||(E=new Map,D.set(g,E));if(E.has(l))return E;for(E.set(l,null),g=g.getElementsByTagName(l),D=0;D<g.length;D++){var H=g[D];if(!(H[si]||H[cr]||l==="link"&&H.getAttribute("rel")==="stylesheet")&&H.namespaceURI!=="http://www.w3.org/2000/svg"){var de=H.getAttribute(d)||"";de=l+de;var be=E.get(de);be?be.push(H):E.set(de,[H])}}return E}function tf(l,d,g){l=l.ownerDocument||l,l.head.insertBefore(g,d==="title"?l.querySelector("head > title"):null)}function um(l,d,g){if(g===1||d.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return l=d.disabled,typeof d.precedence=="string"&&l==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function rf(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var Gi=null;function dm(){}function hm(l,d,g){if(Gi===null)throw Error(i(475));var E=Gi;if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var D=ei(g.href),H=l.querySelector(Wi(D));if(H){l=H._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(E.count++,E=co.bind(E),l.then(E,E)),d.state.loading|=4,d.instance=H,gr(H);return}H=l.ownerDocument||l,g=Qh(g),(D=Qr.get(D))&&yc(g,D),H=H.createElement("link"),gr(H);var de=H;de._p=new Promise(function(be,Ae){de.onload=be,de.onerror=Ae}),Sr(H,"link",g),d.instance=H}E.stylesheets===null&&(E.stylesheets=new Map),E.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(E.count++,d=co.bind(E),l.addEventListener("load",d),l.addEventListener("error",d))}}function fm(){if(Gi===null)throw Error(i(475));var l=Gi;return l.stylesheets&&l.count===0&&Ec(l,l.stylesheets),0<l.count?function(d){var g=setTimeout(function(){if(l.stylesheets&&Ec(l,l.stylesheets),l.unsuspend){var E=l.unsuspend;l.unsuspend=null,E()}},6e4);return l.unsuspend=d,function(){l.unsuspend=null,clearTimeout(g)}}:null}function co(){if(this.count--,this.count===0){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var uo=null;function Ec(l,d){l.stylesheets=null,l.unsuspend!==null&&(l.count++,uo=new Map,d.forEach(pm,l),uo=null,co.call(l))}function pm(l,d){if(!(d.state.loading&4)){var g=uo.get(l);if(g)var E=g.get(null);else{g=new Map,uo.set(l,g);for(var D=l.querySelectorAll("link[data-precedence],style[data-precedence]"),H=0;H<D.length;H++){var de=D[H];(de.nodeName==="LINK"||de.getAttribute("media")!=="not all")&&(g.set(de.dataset.precedence,de),E=de)}E&&g.set(null,E)}D=d.instance,de=D.getAttribute("data-precedence"),H=g.get(de)||E,H===E&&g.set(null,D),g.set(de,D),this.count++,E=co.bind(this),D.addEventListener("load",E),D.addEventListener("error",E),H?H.parentNode.insertBefore(D,H.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(D,l.firstChild)),d.state.loading|=4}}var Ki={$$typeof:M,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function mm(l,d,g,E,D,H,de,be){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nn(0),this.hiddenUpdates=nn(null),this.identifierPrefix=E,this.onUncaughtError=D,this.onCaughtError=H,this.onRecoverableError=de,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=be,this.incompleteTransitions=new Map}function nf(l,d,g,E,D,H,de,be,Ae,Le,ze,We){return l=new mm(l,d,g,de,be,Ae,Le,We),d=1,H===!0&&(d|=24),H=Or(3,null,null,d),l.current=H,H.stateNode=l,d=rl(),d.refCount++,l.pooledCache=d,d.refCount++,H.memoizedState={element:E,isDehydrated:g,cache:d},al(H),l}function sf(l){return l?(l=Ns,l):Ns}function af(l,d,g,E,D,H){D=sf(D),E.context===null?E.context=D:E.pendingContext=D,E=Nn(d),E.payload={element:g},H=H===void 0?null:H,H!==null&&(E.callback=H),g=Dn(l,E,d),g!==null&&(Fr(g,l,d),Si(g,l,d))}function of(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<d?g:d}}function wc(l,d){of(l,d),(l=l.alternate)&&of(l,d)}function lf(l){if(l.tag===13){var d=ks(l,67108864);d!==null&&Fr(d,l,67108864),wc(l,67108864)}}var ho=!0;function gm(l,d,g,E){var D=je.T;je.T=null;var H=ce.p;try{ce.p=2,jc(l,d,g,E)}finally{ce.p=H,je.T=D}}function xm(l,d,g,E){var D=je.T;je.T=null;var H=ce.p;try{ce.p=8,jc(l,d,g,E)}finally{ce.p=H,je.T=D}}function jc(l,d,g,E){if(ho){var D=Sc(E);if(D===null)uc(l,d,E,fo,g),uf(l,E);else if(ym(D,l,d,g,E))E.stopPropagation();else if(uf(l,E),d&4&&-1<vm.indexOf(l)){for(;D!==null;){var H=ys(D);if(H!==null)switch(H.tag){case 3:if(H=H.stateNode,H.current.memoizedState.isDehydrated){var de=De(H.pendingLanes);if(de!==0){var be=H;for(be.pendingLanes|=2,be.entangledLanes|=2;de;){var Ae=1<<31-Ft(de);be.entanglements[1]|=Ae,de&=~Ae}un(H),(Ut&6)===0&&(za=Fe()+500,Ui(0))}}break;case 13:be=ks(H,2),be!==null&&Fr(be,H,2),Va(),wc(H,2)}if(H=Sc(E),H===null&&uc(l,d,E,fo,g),H===D)break;D=H}D!==null&&E.stopPropagation()}else uc(l,d,E,null,g)}}function Sc(l){return l=Po(l),_c(l)}var fo=null;function _c(l){if(fo=null,l=vs(l),l!==null){var d=u(l);if(d===null)l=null;else{var g=d.tag;if(g===13){if(l=h(d),l!==null)return l;l=null}else if(g===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null)}}return fo=l,null}function cf(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ue()){case He:return 2;case Ke:return 8;case Ze:case Je:return 32;case ct:return 268435456;default:return 32}default:return 32}}var Ac=!1,Hn=null,Gn=null,Kn=null,Yi=new Map,Xi=new Map,Yn=[],vm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uf(l,d){switch(l){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":Yi.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xi.delete(d.pointerId)}}function Zi(l,d,g,E,D,H){return l===null||l.nativeEvent!==H?(l={blockedOn:d,domEventName:g,eventSystemFlags:E,nativeEvent:H,targetContainers:[D]},d!==null&&(d=ys(d),d!==null&&lf(d)),l):(l.eventSystemFlags|=E,d=l.targetContainers,D!==null&&d.indexOf(D)===-1&&d.push(D),l)}function ym(l,d,g,E,D){switch(d){case"focusin":return Hn=Zi(Hn,l,d,g,E,D),!0;case"dragenter":return Gn=Zi(Gn,l,d,g,E,D),!0;case"mouseover":return Kn=Zi(Kn,l,d,g,E,D),!0;case"pointerover":var H=D.pointerId;return Yi.set(H,Zi(Yi.get(H)||null,l,d,g,E,D)),!0;case"gotpointercapture":return H=D.pointerId,Xi.set(H,Zi(Xi.get(H)||null,l,d,g,E,D)),!0}return!1}function df(l){var d=vs(l.target);if(d!==null){var g=u(d);if(g!==null){if(d=g.tag,d===13){if(d=h(g),d!==null){l.blockedOn=d,xs(l.priority,function(){if(g.tag===13){var E=Br();E=zr(E);var D=ks(g,E);D!==null&&Fr(D,g,E),wc(g,E)}});return}}else if(d===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function po(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var g=Sc(l.nativeEvent);if(g===null){g=l.nativeEvent;var E=new g.constructor(g.type,g);To=E,g.target.dispatchEvent(E),To=null}else return d=ys(g),d!==null&&lf(d),l.blockedOn=g,!1;d.shift()}return!0}function hf(l,d,g){po(l)&&g.delete(d)}function bm(){Ac=!1,Hn!==null&&po(Hn)&&(Hn=null),Gn!==null&&po(Gn)&&(Gn=null),Kn!==null&&po(Kn)&&(Kn=null),Yi.forEach(hf),Xi.forEach(hf)}function mo(l,d){l.blockedOn===d&&(l.blockedOn=null,Ac||(Ac=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bm)))}var go=null;function ff(l){go!==l&&(go=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){go===l&&(go=null);for(var d=0;d<l.length;d+=3){var g=l[d],E=l[d+1],D=l[d+2];if(typeof E!="function"){if(_c(E||g)===null)continue;break}var H=ys(g);H!==null&&(l.splice(d,3),d-=3,_l(H,{pending:!0,data:D,method:g.method,action:E},E,D))}}))}function Qi(l){function d(Ae){return mo(Ae,l)}Hn!==null&&mo(Hn,l),Gn!==null&&mo(Gn,l),Kn!==null&&mo(Kn,l),Yi.forEach(d),Xi.forEach(d);for(var g=0;g<Yn.length;g++){var E=Yn[g];E.blockedOn===l&&(E.blockedOn=null)}for(;0<Yn.length&&(g=Yn[0],g.blockedOn===null);)df(g),g.blockedOn===null&&Yn.shift();if(g=(l.ownerDocument||l).$$reactFormReplay,g!=null)for(E=0;E<g.length;E+=3){var D=g[E],H=g[E+1],de=D[mr]||null;if(typeof H=="function")de||ff(g);else if(de){var be=null;if(H&&H.hasAttribute("formAction")){if(D=H,de=H[mr]||null)be=de.formAction;else if(_c(D)!==null)continue}else be=de.action;typeof be=="function"?g[E+1]=be:(g.splice(E,3),E-=3),ff(g)}}}function Rc(l){this._internalRoot=l}xo.prototype.render=Rc.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(i(409));var g=d.current,E=Br();af(g,E,l,d,null,null)},xo.prototype.unmount=Rc.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;af(l.current,2,null,l,null,null),Va(),d[qr]=null}};function xo(l){this._internalRoot=l}xo.prototype.unstable_scheduleHydration=function(l){if(l){var d=sr();l={blockedOn:null,target:l,priority:d};for(var g=0;g<Yn.length&&d!==0&&d<Yn[g].priority;g++);Yn.splice(g,0,l),g===0&&df(l)}};var pf=t.version;if(pf!=="19.1.1")throw Error(i(527,pf,"19.1.1"));ce.findDOMNode=function(l){var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(i(188)):(l=Object.keys(l).join(","),Error(i(268,l)));return l=v(d),l=l!==null?p(l):null,l=l===null?null:l.stateNode,l};var Em={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:je,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vo.isDisabled&&vo.supportsFiber)try{hr=vo.inject(Em),Bt=vo}catch{}}return reactDomClient_production.createRoot=function(l,d){if(!o(l))throw Error(i(299));var g=!1,E="",D=Td,H=Pd,de=Cd,be=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onUncaughtError!==void 0&&(D=d.onUncaughtError),d.onCaughtError!==void 0&&(H=d.onCaughtError),d.onRecoverableError!==void 0&&(de=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(be=d.unstable_transitionCallbacks)),d=nf(l,1,!1,null,null,g,E,D,H,de,be,null),l[qr]=d.current,cc(l),new Rc(d)},reactDomClient_production.hydrateRoot=function(l,d,g){if(!o(l))throw Error(i(299));var E=!1,D="",H=Td,de=Pd,be=Cd,Ae=null,Le=null;return g!=null&&(g.unstable_strictMode===!0&&(E=!0),g.identifierPrefix!==void 0&&(D=g.identifierPrefix),g.onUncaughtError!==void 0&&(H=g.onUncaughtError),g.onCaughtError!==void 0&&(de=g.onCaughtError),g.onRecoverableError!==void 0&&(be=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(Ae=g.unstable_transitionCallbacks),g.formState!==void 0&&(Le=g.formState)),d=nf(l,1,!0,d,g??null,E,D,H,de,be,Ae,Le),d.context=sf(null),g=d.current,E=Br(),E=zr(E),D=Nn(E),D.callback=null,Dn(g,D,E),g=E,d.current.lanes=g,Ur(d,g),un(d),l[qr]=d.current,cc(l),new xo(d)},reactDomClient_production.version="19.1.1",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createBrowserHistory(e={}){function t(i,o){let{pathname:u,search:h,hash:m}=i.location;return createLocation("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:createPath(o)}return getUrlBasedHistory(t,n,null,e)}function invariant$2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function warning(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(e,t){return{usr:e.state,key:e.key,idx:t}}function createLocation(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?parsePath(t):t,state:n,key:t&&t.key||i||createKey()}}function createPath({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function parsePath(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function getUrlBasedHistory(e,t,n,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,h=o.history,m="POP",v=null,p=f();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function f(){return(h.state||{idx:null}).idx}function b(){m="POP";let T=f(),C=T==null?null:T-p;p=T,v&&v({action:m,location:A.location,delta:C})}function w(T,C){m="PUSH";let O=createLocation(A.location,T,C);p=f()+1;let M=getHistoryState(O,p),R=A.createHref(O);try{h.pushState(M,"",R)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;o.location.assign(R)}u&&v&&v({action:m,location:A.location,delta:1})}function S(T,C){m="REPLACE";let O=createLocation(A.location,T,C);p=f();let M=getHistoryState(O,p),R=A.createHref(O);h.replaceState(M,"",R),u&&v&&v({action:m,location:A.location,delta:0})}function j(T){return createBrowserURLImpl(T)}let A={get action(){return m},get location(){return e(o,h)},listen(T){if(v)throw new Error("A history only accepts one active listener");return o.addEventListener(PopStateEventType,b),v=T,()=>{o.removeEventListener(PopStateEventType,b),v=null}},createHref(T){return t(o,T)},createURL:j,encodeLocation(T){let C=j(T);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:w,replace:S,go(T){return h.go(T)}};return A}function createBrowserURLImpl(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),invariant$2(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:createPath(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function matchRoutes(e,t,n="/"){return matchRoutesImpl(e,t,n,!1)}function matchRoutesImpl(e,t,n,i){let o=typeof t=="string"?parsePath(t):t,u=stripBasename(o.pathname||"/",n);if(u==null)return null;let h=flattenRoutes(e);rankRouteBranches(h);let m=null;for(let v=0;m==null&&v<h.length;++v){let p=decodePath(u);m=matchRouteBranch(h[v],p,i)}return m}function flattenRoutes(e,t=[],n=[],i=""){let o=(u,h,m)=>{let v={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};v.relativePath.startsWith("/")&&(invariant$2(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length));let p=joinPaths([i,v.relativePath]),f=n.concat(v);u.children&&u.children.length>0&&(invariant$2(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),flattenRoutes(u.children,t,f,p)),!(u.path==null&&!u.index)&&t.push({path:p,score:computeScore(p,u.index),routesMeta:f})};return e.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let m of explodeOptionalSegments(u.path))o(u,h,m)}),t}function explodeOptionalSegments(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let h=explodeOptionalSegments(i.join("/")),m=[];return m.push(...h.map(v=>v===""?u:[u,v].join("/"))),o&&m.push(...h),m.map(v=>e.startsWith("/")&&v===""?"/":v)}function rankRouteBranches(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:compareIndexes(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=e=>e==="*";function computeScore(e,t){let n=e.split("/"),i=n.length;return n.some(isSplat)&&(i+=splatPenalty),t&&(i+=indexRouteValue),n.filter(o=>!isSplat(o)).reduce((o,u)=>o+(paramRe.test(u)?dynamicSegmentValue:u===""?emptySegmentValue:staticSegmentValue),i)}function compareIndexes(e,t){return e.length===t.length&&e.slice(0,-1).every((i,o)=>i===t[o])?e[e.length-1]-t[t.length-1]:0}function matchRouteBranch(e,t,n=!1){let{routesMeta:i}=e,o={},u="/",h=[];for(let m=0;m<i.length;++m){let v=i[m],p=m===i.length-1,f=u==="/"?t:t.slice(u.length)||"/",b=matchPath({path:v.relativePath,caseSensitive:v.caseSensitive,end:p},f),w=v.route;if(!b&&p&&n&&!i[i.length-1].route.index&&(b=matchPath({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},f)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:joinPaths([u,b.pathname]),pathnameBase:normalizePathname(joinPaths([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=joinPaths([u,b.pathnameBase]))}return h}function matchPath(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=compilePath(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:i.reduce((p,{paramName:f,isOptional:b},w)=>{if(f==="*"){let j=m[w]||"";h=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const S=m[w];return b&&!S?p[f]=void 0:p[f]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:e}}function compilePath(e,t=!1,n=!0){warning(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,v)=>(i.push({paramName:m,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function decodePath(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return warning(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function stripBasename(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function resolvePath(e,t="/"){let{pathname:n,search:i="",hash:o=""}=typeof e=="string"?parsePath(e):e;return{pathname:n?n.startsWith("/")?n:resolvePathname(n,t):t,search:normalizeSearch(i),hash:normalizeHash(o)}}function resolvePathname(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function getInvalidPathError(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function getResolveToMatches(e){let t=getPathContributingMatches(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function resolveTo(e,t,n,i=!1){let o;typeof e=="string"?o=parsePath(e):(o={...e},invariant$2(!o.pathname||!o.pathname.includes("?"),getInvalidPathError("?","pathname","search",o)),invariant$2(!o.pathname||!o.pathname.includes("#"),getInvalidPathError("#","pathname","hash",o)),invariant$2(!o.search||!o.search.includes("#"),getInvalidPathError("#","search","hash",o)));let u=e===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=t.length-1;if(!i&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}m=b>=0?t[b]:"/"}let v=resolvePath(o,m),p=h&&h!=="/"&&h.endsWith("/"),f=(u||h===".")&&n.endsWith("/");return!v.pathname.endsWith("/")&&(p||f)&&(v.pathname+="/"),v}var joinPaths=e=>e.join("/").replace(/\/\/+/g,"/"),normalizePathname=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,normalizeHash=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function isRouteErrorResponse(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";reactExports.createContext(!1);var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(e,{relative:t}={}){invariant$2(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=reactExports.useContext(NavigationContext),{hash:o,pathname:u,search:h}=useResolvedPath(e,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:joinPaths([n,u])),i.createHref({pathname:m,search:h,hash:o})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$2(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$2(e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(e)}function useNavigate(){let{isDataRoute:e}=reactExports.useContext(RouteContext);return e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$2(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let e=reactExports.useContext(DataRouterContext),{basename:t,navigator:n}=reactExports.useContext(NavigationContext),{matches:i}=reactExports.useContext(RouteContext),{pathname:o}=useLocation(),u=JSON.stringify(getResolveToMatches(i)),h=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{h.current=!0}),reactExports.useCallback((v,p={})=>{if(warning(h.current,navigateEffectWarning),!h.current)return;if(typeof v=="number"){n.go(v);return}let f=resolveTo(v,JSON.parse(u),o,p.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:joinPaths([t,f.pathname])),(p.replace?n.replace:n.push)(f,p.state,p)},[t,n,u,o,e])}reactExports.createContext(null);function useResolvedPath(e,{relative:t}={}){let{matches:n}=reactExports.useContext(RouteContext),{pathname:i}=useLocation(),o=JSON.stringify(getResolveToMatches(n));return reactExports.useMemo(()=>resolveTo(e,JSON.parse(o),i,t==="path"),[e,o,i,t])}function useRoutes(e,t){return useRoutesImpl(e,t)}function useRoutesImpl(e,t,n,i){invariant$2(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=reactExports.useContext(NavigationContext),{matches:u}=reactExports.useContext(RouteContext),h=u[u.length-1],m=h?h.params:{},v=h?h.pathname:"/",p=h?h.pathnameBase:"/",f=h&&h.route;{let C=f&&f.path||"";warningOnce(v,!f||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let b=useLocation(),w;if(t){let C=typeof t=="string"?parsePath(t):t;invariant$2(p==="/"||C.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${C.pathname}" was given in the \`location\` prop.`),w=C}else w=b;let S=w.pathname||"/",j=S;if(p!=="/"){let C=p.replace(/^\//,"").split("/");j="/"+S.replace(/^\//,"").split("/").slice(C.length).join("/")}let A=matchRoutes(e,{pathname:j});warning(f||A!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),warning(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=_renderMatches(A&&A.map(C=>Object.assign({},C,{params:Object.assign({},m,C.params),pathname:joinPaths([p,o.encodeLocation?o.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:joinPaths([p,o.encodeLocation?o.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),u,n,i);return t&&T?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},T):T}function DefaultErrorComponent(){let e=useRouteError(),t=isRouteErrorResponse(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",e),h=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null,"💿 Hey developer 👋"),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:u},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:u},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},t),n?reactExports.createElement("pre",{style:o},n):null,h)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:e,match:t,children:n}){let i=reactExports.useContext(DataRouterContext);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),reactExports.createElement(RouteContext.Provider,{value:e},n)}function _renderMatches(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,u=n?.errors;if(u!=null){let v=o.findIndex(p=>p.route.id&&u?.[p.route.id]!==void 0);invariant$2(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,v+1))}let h=!1,m=-1;if(n)for(let v=0;v<o.length;v++){let p=o[v];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=v),p.route.id){let{loaderData:f,errors:b}=n,w=p.route.loader&&!f.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||w){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((v,p,f)=>{let b,w=!1,S=null,j=null;n&&(b=u&&p.route.id?u[p.route.id]:void 0,S=p.route.errorElement||defaultErrorElement,h&&(m<0&&f===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,j=null):m===f&&(w=!0,j=p.route.hydrateFallbackElement||null)));let A=t.concat(o.slice(0,f+1)),T=()=>{let C;return b?C=S:w?C=j:p.route.Component?C=reactExports.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=v,reactExports.createElement(RenderedRoute,{match:p,routeContext:{outlet:v,matches:A,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?reactExports.createElement(RenderErrorBoundary,{location:n.location,revalidation:n.revalidation,component:S,error:b,children:T(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):T()},null)}function getDataRouterConsoleError(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(e){let t=reactExports.useContext(DataRouterContext);return invariant$2(t,getDataRouterConsoleError(e)),t}function useDataRouterState(e){let t=reactExports.useContext(DataRouterStateContext);return invariant$2(t,getDataRouterConsoleError(e)),t}function useRouteContext(e){let t=reactExports.useContext(RouteContext);return invariant$2(t,getDataRouterConsoleError(e)),t}function useCurrentRouteId(e){let t=useRouteContext(e),n=t.matches[t.matches.length-1];return invariant$2(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){let e=reactExports.useContext(RouteErrorContext),t=useDataRouterState("useRouteError"),n=useCurrentRouteId("useRouteError");return e!==void 0?e:t.errors?.[n]}function useNavigateStable(){let{router:e}=useDataRouterContext("useNavigate"),t=useCurrentRouteId("useNavigate"),n=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{n.current=!0}),reactExports.useCallback(async(o,u={})=>{warning(n.current,navigateEffectWarning),n.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...u}))},[e,t])}var alreadyWarned={};function warningOnce(e,t,n){!t&&!alreadyWarned[e]&&(alreadyWarned[e]=!0,warning(!1,n))}reactExports.memo(DataRoutes);function DataRoutes({routes:e,future:t,state:n}){return useRoutesImpl(e,void 0,n,t)}function Navigate({to:e,replace:t,state:n,relative:i}){invariant$2(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=reactExports.useContext(NavigationContext);warning(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=reactExports.useContext(RouteContext),{pathname:h}=useLocation(),m=useNavigate(),v=resolveTo(e,getResolveToMatches(u),h,i==="path"),p=JSON.stringify(v);return reactExports.useEffect(()=>{m(JSON.parse(p),{replace:t,state:n,relative:i})},[m,p,i,t,n]),null}function Route(e){invariant$2(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:o,static:u=!1}){invariant$2(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=e.replace(/^\/*/,"/"),m=reactExports.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=parsePath(n));let{pathname:v="/",search:p="",hash:f="",state:b=null,key:w="default"}=n,S=reactExports.useMemo(()=>{let j=stripBasename(v,h);return j==null?null:{location:{pathname:j,search:p,hash:f,state:b,key:w},navigationType:i}},[h,v,p,f,b,w,i]);return warning(S!=null,`<Router basename="${h}"> is not able to match the URL "${v}${p}${f}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:reactExports.createElement(NavigationContext.Provider,{value:m},reactExports.createElement(LocationContext.Provider,{children:t,value:S}))}function Routes({children:e,location:t}){return useRoutes(createRoutesFromChildren(e),t)}function createRoutesFromChildren(e,t=[]){let n=[];return reactExports.Children.forEach(e,(i,o)=>{if(!reactExports.isValidElement(i))return;let u=[...t,o];if(i.type===reactExports.Fragment){n.push.apply(n,createRoutesFromChildren(i.props.children,u));return}invariant$2(i.type===Route,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$2(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=createRoutesFromChildren(i.props.children,u)),n.push(h)}),n}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(e){return e!=null&&typeof e.tagName=="string"}function isButtonElement(e){return isHtmlElement(e)&&e.tagName.toLowerCase()==="button"}function isFormElement(e){return isHtmlElement(e)&&e.tagName.toLowerCase()==="form"}function isInputElement(e){return isHtmlElement(e)&&e.tagName.toLowerCase()==="input"}function isModifiedEvent(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function shouldProcessLinkClick(e,t){return e.button===0&&(!t||t==="_self")&&!isModifiedEvent(e)}function createSearchParams(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map(o=>[n,o]):[[n,i]])},[]))}function getSearchParamsForLocation(e,t){let n=createSearchParams(e);return t&&t.forEach((i,o)=>{n.has(o)||t.getAll(o).forEach(u=>{n.append(o,u)})}),n}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(e){return e!=null&&!supportedFormEncTypes.has(e)?(warning(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):e}function getFormSubmissionInfo(e,t){let n,i,o,u,h;if(isFormElement(e)){let m=e.getAttribute("action");i=m?stripBasename(m,t):null,n=e.getAttribute("method")||defaultMethod,o=getFormEncType(e.getAttribute("enctype"))||defaultEncType,u=new FormData(e)}else if(isButtonElement(e)||isInputElement(e)&&(e.type==="submit"||e.type==="image")){let m=e.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=e.getAttribute("formaction")||m.getAttribute("action");if(i=v?stripBasename(v,t):null,n=e.getAttribute("formmethod")||m.getAttribute("method")||defaultMethod,o=getFormEncType(e.getAttribute("formenctype"))||getFormEncType(m.getAttribute("enctype"))||defaultEncType,u=new FormData(m,e),!isFormDataSubmitterSupported()){let{name:p,type:f,value:b}=e;if(f==="image"){let w=p?`${p}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else p&&u.append(p,b)}}else{if(isHtmlElement(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=defaultMethod,i=null,o=defaultEncType,h=e}return u&&o==="text/plain"&&(h=u,u=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function singleFetchUrl(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&stripBasename(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function loadRouteModule(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function getKeyedPrefetchLinks(e,t,n){let i=await Promise.all(e.map(async o=>{let u=t.routes[o.route.id];if(u){let h=await loadRouteModule(u,n);return h.links?h.links():[]}return[]}));return dedupeLinkDescriptors(i.flat(1).filter(isHtmlLinkDescriptor).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function getNewMatchesForLinks(e,t,n,i,o,u){let h=(v,p)=>n[p]?v.route.id!==n[p].route.id:!0,m=(v,p)=>n[p].pathname!==v.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==v.params["*"];return u==="assets"?t.filter((v,p)=>h(v,p)||m(v,p)):u==="data"?t.filter((v,p)=>{let f=i.routes[v.route.id];if(!f||!f.hasLoader)return!1;if(h(v,p)||m(v,p))return!0;if(v.route.shouldRevalidate){let b=v.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function getModuleLinkHrefs(e,t,{includeHydrateFallback:n}={}){return dedupeHrefs(e.map(i=>{let o=t.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function dedupeHrefs(e){return[...new Set(e)]}function sortKeys(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function dedupeLinkDescriptors(e,t){let n=new Set;return new Set(t),e.reduce((i,o)=>{let u=JSON.stringify(sortKeys(o));return n.has(u)||(n.add(u),i.push({key:u,link:o})),i},[])}function useDataRouterContext2(){let e=reactExports.useContext(DataRouterContext);return invariant2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function useDataRouterStateContext(){let e=reactExports.useContext(DataRouterStateContext);return invariant2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let e=reactExports.useContext(FrameworkContext);return invariant2(e,"You must render this element inside a <HydratedRouter> element"),e}function usePrefetchBehavior(e,t){let n=reactExports.useContext(FrameworkContext),[i,o]=reactExports.useState(!1),[u,h]=reactExports.useState(!1),{onFocus:m,onBlur:v,onMouseEnter:p,onMouseLeave:f,onTouchStart:b}=t,w=reactExports.useRef(null);reactExports.useEffect(()=>{if(e==="render"&&h(!0),e==="viewport"){let A=C=>{C.forEach(O=>{h(O.isIntersecting)})},T=new IntersectionObserver(A,{threshold:.5});return w.current&&T.observe(w.current),()=>{T.disconnect()}}},[e]),reactExports.useEffect(()=>{if(i){let A=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(A)}}},[i]);let S=()=>{o(!0)},j=()=>{o(!1),h(!1)};return n?e!=="intent"?[u,w,{}]:[u,w,{onFocus:composeEventHandlers(m,S),onBlur:composeEventHandlers(v,j),onMouseEnter:composeEventHandlers(p,S),onMouseLeave:composeEventHandlers(f,j),onTouchStart:composeEventHandlers(b,S)}]:[!1,w,{}]}function composeEventHandlers(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function PrefetchPageLinks({page:e,...t}){let{router:n}=useDataRouterContext2(),i=reactExports.useMemo(()=>matchRoutes(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?reactExports.createElement(PrefetchPageLinksImpl,{page:e,matches:i,...t}):null}function useKeyedPrefetchLinks(e){let{manifest:t,routeModules:n}=useFrameworkContext(),[i,o]=reactExports.useState([]);return reactExports.useEffect(()=>{let u=!1;return getKeyedPrefetchLinks(e,t,n).then(h=>{u||o(h)}),()=>{u=!0}},[e,t,n]),i}function PrefetchPageLinksImpl({page:e,matches:t,...n}){let i=useLocation(),{manifest:o,routeModules:u}=useFrameworkContext(),{basename:h}=useDataRouterContext2(),{loaderData:m,matches:v}=useDataRouterStateContext(),p=reactExports.useMemo(()=>getNewMatchesForLinks(e,t,v,o,i,"data"),[e,t,v,o,i]),f=reactExports.useMemo(()=>getNewMatchesForLinks(e,t,v,o,i,"assets"),[e,t,v,o,i]),b=reactExports.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let j=new Set,A=!1;if(t.forEach(C=>{let O=o.routes[C.route.id];!O||!O.hasLoader||(!p.some(M=>M.route.id===C.route.id)&&C.route.id in m&&u[C.route.id]?.shouldRevalidate||O.hasClientLoader?A=!0:j.add(C.route.id))}),j.size===0)return[];let T=singleFetchUrl(e,h,"data");return A&&j.size>0&&T.searchParams.set("_routes",t.filter(C=>j.has(C.route.id)).map(C=>C.route.id).join(",")),[T.pathname+T.search]},[h,m,i,o,p,t,e,u]),w=reactExports.useMemo(()=>getModuleLinkHrefs(f,o),[f,o]),S=useKeyedPrefetchLinks(f);return reactExports.createElement(reactExports.Fragment,null,b.map(j=>reactExports.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),w.map(j=>reactExports.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),S.map(({key:j,link:A})=>reactExports.createElement("link",{key:j,...A})))}function mergeRefs(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser$2&&(window.__reactRouterVersion="7.7.1")}catch{}function BrowserRouter({basename:e,children:t,window:n}){let i=reactExports.useRef();i.current==null&&(i.current=createBrowserHistory({window:n,v5Compat:!0}));let o=i.current,[u,h]=reactExports.useState({action:o.action,location:o.location}),m=reactExports.useCallback(v=>{reactExports.startTransition(()=>h(v))},[h]);return reactExports.useLayoutEffect(()=>o.listen(m),[o,m]),reactExports.createElement(Router,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:o})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:o,reloadDocument:u,replace:h,state:m,target:v,to:p,preventScrollReset:f,viewTransition:b,...w},S){let{basename:j}=reactExports.useContext(NavigationContext),A=typeof p=="string"&&ABSOLUTE_URL_REGEX2.test(p),T,C=!1;if(typeof p=="string"&&A&&(T=p,isBrowser$2))try{let ae=new URL(window.location.href),pe=p.startsWith("//")?new URL(ae.protocol+p):new URL(p),fe=stripBasename(pe.pathname,j);pe.origin===ae.origin&&fe!=null?p=fe+pe.search+pe.hash:C=!0}catch{warning(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=useHref(p,{relative:o}),[M,R,_]=usePrefetchBehavior(i,w),q=useLinkClickHandler(p,{replace:h,state:m,target:v,preventScrollReset:f,relative:o,viewTransition:b});function se(ae){t&&t(ae),ae.defaultPrevented||q(ae)}let ee=reactExports.createElement("a",{...w,..._,href:T||O,onClick:C||u?t:se,ref:mergeRefs(S,R),target:v,"data-discover":!A&&n==="render"?"true":void 0});return M&&!A?reactExports.createElement(reactExports.Fragment,null,ee,reactExports.createElement(PrefetchPageLinks,{page:O})):ee});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:o=!1,style:u,to:h,viewTransition:m,children:v,...p},f){let b=useResolvedPath(h,{relative:p.relative}),w=useLocation(),S=reactExports.useContext(DataRouterStateContext),{navigator:j,basename:A}=reactExports.useContext(NavigationContext),T=S!=null&&useViewTransitionState(b)&&m===!0,C=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,O=w.pathname,M=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(O=O.toLowerCase(),M=M?M.toLowerCase():null,C=C.toLowerCase()),M&&A&&(M=stripBasename(M,A)||M);const R=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let _=O===C||!o&&O.startsWith(C)&&O.charAt(R)==="/",q=M!=null&&(M===C||!o&&M.startsWith(C)&&M.charAt(C.length)==="/"),se={isActive:_,isPending:q,isTransitioning:T},ee=_?t:void 0,ae;typeof i=="function"?ae=i(se):ae=[i,_?"active":null,q?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let pe=typeof u=="function"?u(se):u;return reactExports.createElement(Link,{...p,"aria-current":ee,className:ae,ref:f,style:pe,to:h,viewTransition:m},typeof v=="function"?v(se):v)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:o,state:u,method:h=defaultMethod,action:m,onSubmit:v,relative:p,preventScrollReset:f,viewTransition:b,...w},S)=>{let j=useSubmit(),A=useFormAction(m,{relative:p}),T=h.toLowerCase()==="get"?"get":"post",C=typeof m=="string"&&ABSOLUTE_URL_REGEX2.test(m),O=M=>{if(v&&v(M),M.defaultPrevented)return;M.preventDefault();let R=M.nativeEvent.submitter,_=R?.getAttribute("formmethod")||h;j(R||M.currentTarget,{fetcherKey:t,method:_,navigate:n,replace:o,state:u,relative:p,preventScrollReset:f,viewTransition:b})};return reactExports.createElement("form",{ref:S,method:T,action:A,onSubmit:i?v:O,...w,"data-discover":!C&&e==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(e){let t=reactExports.useContext(DataRouterContext);return invariant$2(t,getDataRouterConsoleError2(e)),t}function useLinkClickHandler(e,{target:t,replace:n,state:i,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=useNavigate(),v=useLocation(),p=useResolvedPath(e,{relative:u});return reactExports.useCallback(f=>{if(shouldProcessLinkClick(f,t)){f.preventDefault();let b=n!==void 0?n:createPath(v)===createPath(p);m(e,{replace:b,state:i,preventScrollReset:o,relative:u,viewTransition:h})}},[v,m,p,n,i,t,e,o,u,h])}function useSearchParams(e){warning(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=reactExports.useRef(createSearchParams(e)),n=reactExports.useRef(!1),i=useLocation(),o=reactExports.useMemo(()=>getSearchParamsForLocation(i.search,n.current?null:t.current),[i.search]),u=useNavigate(),h=reactExports.useCallback((m,v)=>{const p=createSearchParams(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+p,v)},[u,o]);return[o,h]}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:e}=useDataRouterContext3("useSubmit"),{basename:t}=reactExports.useContext(NavigationContext),n=useRouteId();return reactExports.useCallback(async(i,o={})=>{let{action:u,method:h,encType:m,formData:v,body:p}=getFormSubmissionInfo(i,t);if(o.navigate===!1){let f=o.fetcherKey||getUniqueFetcherId();await e.fetch(f,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:v,body:p,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await e.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:v,body:p,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,n])}function useFormAction(e,{relative:t}={}){let{basename:n}=reactExports.useContext(NavigationContext),i=reactExports.useContext(RouteContext);invariant$2(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...useResolvedPath(e||".",{relative:t})},h=useLocation();if(e==null){u.search=h.search;let m=new URLSearchParams(u.search),v=m.getAll("index");if(v.some(f=>f==="")){m.delete("index"),v.filter(b=>b).forEach(b=>m.append("index",b));let f=m.toString();u.search=f?`?${f}`:""}}return(!e||e===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:joinPaths([n,u.pathname])),createPath(u)}function useViewTransitionState(e,{relative:t}={}){let n=reactExports.useContext(ViewTransitionContext);invariant$2(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=useDataRouterContext3("useViewTransitionState"),o=useResolvedPath(e,{relative:t});if(!n.isTransitioning)return!1;let u=stripBasename(n.currentLocation.pathname,i)||n.currentLocation.pathname,h=stripBasename(n.nextLocation.pathname,i)||n.nextLocation.pathname;return matchPath(o.pathname,h)!=null||matchPath(o.pathname,u)!=null}var reactDomExports=requireReactDom();function r(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function clsx(){for(var e,t,n=0,i="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}function Mt(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Mt(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var L=e=>typeof e=="number"&&!isNaN(e),N=e=>typeof e=="string",P$1=e=>typeof e=="function",mt=e=>N(e)||L(e),B=e=>N(e)||P$1(e)?e:null,pt=(e,t)=>e===!1||L(e)&&e>0?e:t,z=e=>reactExports.isValidElement(e)||N(e)||P$1(e)||L(e);function Z(e,t,n=300){let{scrollHeight:i,style:o}=e;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)})})}function $({enter:e,exit:t,appendPosition:n=!1,collapse:i=!0,collapseDuration:o=300}){return function({children:u,position:h,preventExitTransition:m,done:v,nodeRef:p,isIn:f,playToast:b}){let w=n?`${e}--${h}`:e,S=n?`${t}--${h}`:t,j=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{let A=p.current,T=w.split(" "),C=O=>{O.target===p.current&&(b(),A.removeEventListener("animationend",C),A.removeEventListener("animationcancel",C),j.current===0&&O.type!=="animationcancel"&&A.classList.remove(...T))};A.classList.add(...T),A.addEventListener("animationend",C),A.addEventListener("animationcancel",C)},[]),reactExports.useEffect(()=>{let A=p.current,T=()=>{A.removeEventListener("animationend",T),i?Z(A,v,o):v()};f||(m?T():(j.current=1,A.className+=` ${S}`,A.addEventListener("animationend",T)))},[f]),React.createElement(React.Fragment,null,u)}}function J(e,t){return{content:tt(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function tt(e,t,n=!1){return reactExports.isValidElement(e)&&!N(e.type)?reactExports.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):P$1(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function yt({closeToast:e,theme:t,ariaLabel:n="close"}){return React.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:i=>{i.stopPropagation(),e(!0)},"aria-label":n},React.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},React.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function gt({delay:e,isRunning:t,closeToast:n,type:i="default",hide:o,className:u,controlledProgress:h,progress:m,rtl:v,isIn:p,theme:f}){let b=o||h&&m===0,w={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};h&&(w.transform=`scaleX(${m})`);let S=clsx("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":v}),j=P$1(u)?u({rtl:v,type:i,defaultClassName:S}):clsx(S,u),A={[h&&m>=1?"onTransitionEnd":"onAnimationEnd"]:h&&m<1?null:()=>{p&&n()}};return React.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},React.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${i}`}),React.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:j,style:w,...A}))}var Xt=1,at=()=>`${Xt++}`;function _t(e,t,n){let i=1,o=0,u=[],h=[],m=t,v=new Map,p=new Set,f=O=>(p.add(O),()=>p.delete(O)),b=()=>{h=Array.from(v.values()),p.forEach(O=>O())},w=({containerId:O,toastId:M,updateId:R})=>{let _=O?O!==e:e!==1,q=v.has(M)&&R==null;return _||q},S=(O,M)=>{v.forEach(R=>{var _;(M==null||M===R.props.toastId)&&((_=R.toggle)==null||_.call(R,O))})},j=O=>{var M,R;(R=(M=O.props)==null?void 0:M.onClose)==null||R.call(M,O.removalReason),O.isActive=!1},A=O=>{if(O==null)v.forEach(j);else{let M=v.get(O);M&&j(M)}b()},T=()=>{o-=u.length,u=[]},C=O=>{var M,R;let{toastId:_,updateId:q}=O.props,se=q==null;O.staleId&&v.delete(O.staleId),O.isActive=!0,v.set(_,O),b(),n(J(O,se?"added":"updated")),se&&((R=(M=O.props).onOpen)==null||R.call(M))};return{id:e,props:m,observe:f,toggle:S,removeToast:A,toasts:v,clearQueue:T,buildToast:(O,M)=>{if(w(M))return;let{toastId:R,updateId:_,data:q,staleId:se,delay:ee}=M,ae=_==null;ae&&o++;let pe={...m,style:m.toastStyle,key:i++,...Object.fromEntries(Object.entries(M).filter(([Ee,_e])=>_e!=null)),toastId:R,updateId:_,data:q,isIn:!1,className:B(M.className||m.toastClassName),progressClassName:B(M.progressClassName||m.progressClassName),autoClose:M.isLoading?!1:pt(M.autoClose,m.autoClose),closeToast(Ee){v.get(R).removalReason=Ee,A(R)},deleteToast(){let Ee=v.get(R);if(Ee!=null){if(n(J(Ee,"removed")),v.delete(R),o--,o<0&&(o=0),u.length>0){C(u.shift());return}b()}}};pe.closeButton=m.closeButton,M.closeButton===!1||z(M.closeButton)?pe.closeButton=M.closeButton:M.closeButton===!0&&(pe.closeButton=z(m.closeButton)?m.closeButton:!0);let fe={content:O,props:pe,staleId:se};m.limit&&m.limit>0&&o>m.limit&&ae?u.push(fe):L(ee)?setTimeout(()=>{C(fe)},ee):C(fe)},setProps(O){m=O},setToggle:(O,M)=>{let R=v.get(O);R&&(R.toggle=M)},isToastActive:O=>{var M;return(M=v.get(O))==null?void 0:M.isActive},getSnapshot:()=>h}}var I=new Map,F=[],st=new Set,Vt=e=>st.forEach(t=>t(e)),bt=()=>I.size>0;function Qt(){F.forEach(e=>nt(e.content,e.options)),F=[]}var vt=(e,{containerId:t})=>{var n;return(n=I.get(t||1))==null?void 0:n.toasts.get(e)};function X(e,t){var n;if(t)return!!((n=I.get(t))!=null&&n.isToastActive(e));let i=!1;return I.forEach(o=>{o.isToastActive(e)&&(i=!0)}),i}function ht(e){if(!bt()){F=F.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||mt(e))I.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=I.get(e.containerId);t?t.removeToast(e.id):I.forEach(n=>{n.removeToast(e.id)})}}var Ct=(e={})=>{I.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function nt(e,t){z(e)&&(bt()||F.push({content:e,options:t}),I.forEach(n=>{n.buildToast(e,t)}))}function xt(e){var t;(t=I.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function rt(e,t){I.forEach(n=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===n.id)&&n.toggle(e,t?.id)})}function Et(e){let t=e.containerId||1;return{subscribe(n){let i=_t(t,e,Vt);I.set(t,i);let o=i.observe(n);return Qt(),()=>{o(),I.delete(t)}},setProps(n){var i;(i=I.get(t))==null||i.setProps(n)},getSnapshot(){var n;return(n=I.get(t))==null?void 0:n.getSnapshot()}}}function Pt(e){return st.add(e),()=>{st.delete(e)}}function Wt(e){return e&&(N(e.toastId)||L(e.toastId))?e.toastId:at()}function U(e,t){return nt(e,t),t.toastId}function V(e,t){return{...t,type:t&&t.type||e,toastId:Wt(t)}}function Q(e){return(t,n)=>U(t,V(e,n))}function y$1(e,t){return U(e,V("default",t))}y$1.loading=(e,t)=>U(e,V("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function Gt(e,{pending:t,error:n,success:i},o){let u;t&&(u=N(t)?y$1.loading(t,o):y$1.loading(t.render,{...o,...t}));let h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(p,f,b)=>{if(f==null){y$1.dismiss(u);return}let w={type:p,...h,...o,data:b},S=N(f)?{render:f}:f;return u?y$1.update(u,{...w,...S}):y$1(S.render,{...w,...S}),b},v=P$1(e)?e():e;return v.then(p=>m("success",i,p)).catch(p=>m("error",n,p)),v}y$1.promise=Gt;y$1.success=Q("success");y$1.info=Q("info");y$1.error=Q("error");y$1.warning=Q("warning");y$1.warn=y$1.warning;y$1.dark=(e,t)=>U(e,V("default",{theme:"dark",...t}));function qt(e){ht(e)}y$1.dismiss=qt;y$1.clearWaitingQueue=Ct;y$1.isActive=X;y$1.update=(e,t={})=>{let n=vt(e,t);if(n){let{props:i,content:o}=n,u={delay:100,...i,...t,toastId:t.toastId||e,updateId:at()};u.toastId!==e&&(u.staleId=e);let h=u.render||o;delete u.render,U(h,u)}};y$1.done=e=>{y$1.update(e,{progress:1})};y$1.onChange=Pt;y$1.play=e=>rt(!0,e);y$1.pause=e=>rt(!1,e);function It(e){var t;let{subscribe:n,getSnapshot:i,setProps:o}=reactExports.useRef(Et(e)).current;o(e);let u=(t=reactExports.useSyncExternalStore(n,i,i))==null?void 0:t.slice();function h(m){if(!u)return[];let v=new Map;return e.newestOnTop&&u.reverse(),u.forEach(p=>{let{position:f}=p.props;v.has(f)||v.set(f,[]),v.get(f).push(p)}),Array.from(v,p=>m(p[0],p[1]))}return{getToastToRender:h,isToastActive:X,count:u?.length}}function At(e){let[t,n]=reactExports.useState(!1),[i,o]=reactExports.useState(!1),u=reactExports.useRef(null),h=reactExports.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:v,closeToast:p,onClick:f,closeOnClick:b}=e;xt({id:e.toastId,containerId:e.containerId,fn:n}),reactExports.useEffect(()=>{if(e.pauseOnFocusLoss)return w(),()=>{S()}},[e.pauseOnFocusLoss]);function w(){document.hasFocus()||C(),window.addEventListener("focus",T),window.addEventListener("blur",C)}function S(){window.removeEventListener("focus",T),window.removeEventListener("blur",C)}function j(se){if(e.draggable===!0||e.draggable===se.pointerType){O();let ee=u.current;h.canCloseOnClick=!0,h.canDrag=!0,ee.style.transition="none",e.draggableDirection==="x"?(h.start=se.clientX,h.removalDistance=ee.offsetWidth*(e.draggablePercent/100)):(h.start=se.clientY,h.removalDistance=ee.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function A(se){let{top:ee,bottom:ae,left:pe,right:fe}=u.current.getBoundingClientRect();se.nativeEvent.type!=="touchend"&&e.pauseOnHover&&se.clientX>=pe&&se.clientX<=fe&&se.clientY>=ee&&se.clientY<=ae?C():T()}function T(){n(!0)}function C(){n(!1)}function O(){h.didMove=!1,document.addEventListener("pointermove",R),document.addEventListener("pointerup",_)}function M(){document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",_)}function R(se){let ee=u.current;if(h.canDrag&&ee){h.didMove=!0,t&&C(),e.draggableDirection==="x"?h.delta=se.clientX-h.start:h.delta=se.clientY-h.start,h.start!==se.clientX&&(h.canCloseOnClick=!1);let ae=e.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`;ee.style.transform=`translate3d(${ae},0)`,ee.style.opacity=`${1-Math.abs(h.delta/h.removalDistance)}`}}function _(){M();let se=u.current;if(h.canDrag&&h.didMove&&se){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance){o(!0),e.closeToast(!0),e.collapseAll();return}se.style.transition="transform 0.2s, opacity 0.2s",se.style.removeProperty("transform"),se.style.removeProperty("opacity")}}let q={onPointerDown:j,onPointerUp:A};return m&&v&&(q.onMouseEnter=C,e.stacked||(q.onMouseLeave=T)),b&&(q.onClick=se=>{f&&f(se),h.canCloseOnClick&&p(!0)}),{playToast:T,pauseToast:C,isRunning:t,preventExitTransition:i,toastRef:u,eventHandlers:q}}var Ot=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,G=({theme:e,type:t,isLoading:n,...i})=>React.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i});function ao(e){return React.createElement(G,{...e},React.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function so(e){return React.createElement(G,{...e},React.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function no(e){return React.createElement(G,{...e},React.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ro(e){return React.createElement(G,{...e},React.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function io(){return React.createElement("div",{className:"Toastify__spinner"})}var W={info:so,warning:ao,success:no,error:ro,spinner:io},lo=e=>e in W;function Nt({theme:e,type:t,isLoading:n,icon:i}){let o=null,u={theme:e,type:t};return i===!1||(P$1(i)?o=i({...u,isLoading:n}):reactExports.isValidElement(i)?o=reactExports.cloneElement(i,u):n?o=W.spinner():lo(t)&&(o=W[t](u))),o}var wt=e=>{let{isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:o,playToast:u}=At(e),{closeButton:h,children:m,autoClose:v,onClick:p,type:f,hideProgressBar:b,closeToast:w,transition:S,position:j,className:A,style:T,progressClassName:C,updateId:O,role:M,progress:R,rtl:_,toastId:q,deleteToast:se,isIn:ee,isLoading:ae,closeOnClick:pe,theme:fe,ariaLabel:Ee}=e,_e=clsx("Toastify__toast",`Toastify__toast-theme--${fe}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":_},{"Toastify__toast--close-on-click":pe}),Re=P$1(A)?A({rtl:_,position:j,type:f,defaultClassName:_e}):clsx(_e,A),Pe=Nt(e),je=!!R||!v,ce={closeToast:w,type:f,theme:fe},le=null;return h===!1||(P$1(h)?le=h(ce):reactExports.isValidElement(h)?le=reactExports.cloneElement(h,ce):le=yt(ce)),React.createElement(S,{isIn:ee,done:se,position:j,preventExitTransition:n,nodeRef:i,playToast:u},React.createElement("div",{id:q,tabIndex:0,onClick:p,"data-in":ee,className:Re,...o,style:T,ref:i,...ee&&{role:M,"aria-label":Ee}},Pe!=null&&React.createElement("div",{className:clsx("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!ae})},Pe),tt(m,e,!t),le,!e.customProgressBar&&React.createElement(gt,{...O&&!je?{key:`p-${O}`}:{},rtl:_,theme:fe,delay:v,isRunning:t,isIn:ee,closeToast:w,hide:b,type:f,className:C,controlledProgress:je,progress:R||0})))},K=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),lt=$(K("bounce",!0)),_o={position:"top-right",transition:lt,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function Lt(e){let t={..._o,...e},n=e.stacked,[i,o]=reactExports.useState(!0),u=reactExports.useRef(null),{getToastToRender:h,isToastActive:m,count:v}=It(t),{className:p,style:f,rtl:b,containerId:w,hotKeys:S}=t;function j(T){let C=clsx("Toastify__toast-container",`Toastify__toast-container--${T}`,{"Toastify__toast-container--rtl":b});return P$1(p)?p({position:T,rtl:b,defaultClassName:C}):clsx(C,B(p))}function A(){n&&(o(!0),y$1.play())}return Ot(()=>{var T;if(n){let C=u.current.querySelectorAll('[data-in="true"]'),O=12,M=(T=t.position)==null?void 0:T.includes("top"),R=0,_=0;Array.from(C).reverse().forEach((q,se)=>{let ee=q;ee.classList.add("Toastify__toast--stacked"),se>0&&(ee.dataset.collapsed=`${i}`),ee.dataset.pos||(ee.dataset.pos=M?"top":"bot");let ae=R*(i?.2:1)+(i?0:O*se);ee.style.setProperty("--y",`${M?ae:ae*-1}px`),ee.style.setProperty("--g",`${O}`),ee.style.setProperty("--s",`${1-(i?_:0)}`),R+=ee.offsetHeight,_+=.025})}},[i,v,n]),reactExports.useEffect(()=>{function T(C){var O;let M=u.current;S(C)&&((O=M.querySelector('[tabIndex="0"]'))==null||O.focus(),o(!1),y$1.pause()),C.key==="Escape"&&(document.activeElement===M||M!=null&&M.contains(document.activeElement))&&(o(!0),y$1.play())}return document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}},[S]),React.createElement("section",{ref:u,className:"Toastify",id:w,onMouseEnter:()=>{n&&(o(!1),y$1.pause())},onMouseLeave:A,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},h((T,C)=>{let O=C.length?{...f}:{...f,pointerEvents:"none"};return React.createElement("div",{tabIndex:-1,className:j(T),"data-stacked":n,style:O,key:`c-${T}`},C.map(({content:M,props:R})=>React.createElement(wt,{...R,stacked:n,collapseAll:A,isIn:m(R.toastId,R.containerId),key:`t-${R.key}`},M)))}))}const scriptRel="modulepreload",assetsURL=function(e){return"/"+e},seen={},__vitePreload=function(t,n,i){let o=Promise.resolve();if(n&&n.length>0){let p=function(f){return Promise.all(f.map(b=>Promise.resolve(b).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var h=p;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),v=m?.nonce||m?.getAttribute("nonce");o=p(n.map(f=>{if(f=assetsURL(f),f in seen)return;seen[f]=!0;const b=f.endsWith(".css"),w=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${w}`))return;const S=document.createElement("link");if(S.rel=b?"stylesheet":scriptRel,b||(S.as="script"),S.crossOrigin="",S.href=f,v&&S.setAttribute("nonce",v),document.head.appendChild(S),b)return new Promise((j,A)=>{S.addEventListener("load",j),S.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${f}`)))})}))}function u(m){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=m,window.dispatchEvent(v),!v.defaultPrevented)throw m}return o.then(m=>{for(const v of m||[])v.status==="rejected"&&u(v.reason);return t().catch(u)})},resolveFetch$3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>__vitePreload(async()=>{const{default:i}=await Promise.resolve().then(()=>browser);return{default:i}},[]).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)};class FunctionsError extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class FunctionsFetchError extends FunctionsError{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class FunctionsRelayError extends FunctionsError{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class FunctionsHttpError extends FunctionsError{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var FunctionRegion;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(FunctionRegion||(FunctionRegion={}));var __awaiter$7=function(e,t,n,i){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(f){try{p(i.next(f))}catch(b){h(b)}}function v(f){try{p(i.throw(f))}catch(b){h(b)}}function p(f){f.done?u(f.value):o(f.value).then(m,v)}p((i=i.apply(e,t||[])).next())})};class FunctionsClient{constructor(t,{headers:n={},customFetch:i,region:o=FunctionRegion.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=resolveFetch$3(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var i;return __awaiter$7(this,void 0,void 0,function*(){try{const{headers:o,method:u,body:h}=n;let m={},{region:v}=n;v||(v=this.region);const p=new URL(`${this.url}/${t}`);v&&v!=="any"&&(m["x-region"]=v,p.searchParams.set("forceFunctionRegion",v));let f;h&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",f=h):typeof h=="string"?(m["Content-Type"]="text/plain",f=h):typeof FormData<"u"&&h instanceof FormData?f=h:(m["Content-Type"]="application/json",f=JSON.stringify(h)));const b=yield this.fetch(p.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),o),body:f}).catch(A=>{throw new FunctionsFetchError(A)}),w=b.headers.get("x-relay-error");if(w&&w==="true")throw new FunctionsRelayError(b);if(!b.ok)throw new FunctionsHttpError(b);let S=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return S==="application/json"?j=yield b.json():S==="application/octet-stream"?j=yield b.blob():S==="text/event-stream"?j=b:S==="multipart/form-data"?j=yield b.formData():j=yield b.text(),{data:j,error:null,response:b}}catch(o){return{data:null,error:o,response:o instanceof FunctionsHttpError||o instanceof FunctionsRelayError?o.context:void 0}}})}}var cjs={},PostgrestClient$1={},PostgrestQueryBuilder$1={},PostgrestFilterBuilder$1={},PostgrestTransformBuilder$1={},PostgrestBuilder$1={},getGlobal=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},globalObject=getGlobal();const fetch$1=globalObject.fetch,nodeFetch=globalObject.fetch.bind(globalObject),Headers$1=globalObject.Headers,Request=globalObject.Request,Response$1=globalObject.Response,browser=Object.freeze(Object.defineProperty({__proto__:null,Headers:Headers$1,Request,Response:Response$1,default:nodeFetch,fetch:fetch$1},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(browser);var PostgrestError$1={},hasRequiredPostgrestError;function requirePostgrestError(){if(hasRequiredPostgrestError)return PostgrestError$1;hasRequiredPostgrestError=1,Object.defineProperty(PostgrestError$1,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return PostgrestError$1.default=e,PostgrestError$1}var hasRequiredPostgrestBuilder;function requirePostgrestBuilder(){if(hasRequiredPostgrestBuilder)return PostgrestBuilder$1;hasRequiredPostgrestBuilder=1;var e=PostgrestBuilder$1&&PostgrestBuilder$1.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(PostgrestBuilder$1,"__esModule",{value:!0});const t=e(require$$0),n=e(requirePostgrestError());class i{constructor(u){var h,m;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(h=u.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=u.signal,this.isMaybeSingle=(m=u.isMaybeSingle)!==null&&m!==void 0?m:!1,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,h){return this.headers=new Headers(this.headers),this.headers.set(u,h),this}then(u,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const m=this.fetch;let v=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var f,b,w,S;let j=null,A=null,T=null,C=p.status,O=p.statusText;if(p.ok){if(this.method!=="HEAD"){const q=await p.text();q===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?A=q:A=JSON.parse(q))}const R=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),_=(w=p.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");R&&_&&_.length>1&&(T=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(j={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,T=null,C=406,O="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const R=await p.text();try{j=JSON.parse(R),Array.isArray(j)&&p.status===404&&(A=[],j=null,C=200,O="OK")}catch{p.status===404&&R===""?(C=204,O="No Content"):j={message:R}}if(j&&this.isMaybeSingle&&(!((S=j?.details)===null||S===void 0)&&S.includes("0 rows"))&&(j=null,C=200,O="OK"),j&&this.shouldThrowOnError)throw new n.default(j)}return{error:j,data:A,count:T,status:C,statusText:O}});return this.shouldThrowOnError||(v=v.catch(p=>{var f,b,w;return{error:{message:`${(f=p?.name)!==null&&f!==void 0?f:"FetchError"}: ${p?.message}`,details:`${(b=p?.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(w=p?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),v.then(u,h)}returns(){return this}overrideTypes(){return this}}return PostgrestBuilder$1.default=i,PostgrestBuilder$1}var hasRequiredPostgrestTransformBuilder;function requirePostgrestTransformBuilder(){if(hasRequiredPostgrestTransformBuilder)return PostgrestTransformBuilder$1;hasRequiredPostgrestTransformBuilder=1;var e=PostgrestTransformBuilder$1&&PostgrestTransformBuilder$1.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(PostgrestTransformBuilder$1,"__esModule",{value:!0});const t=e(requirePostgrestBuilder());class n extends t.default{select(o){let u=!1;const h=(o??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:u=!0,nullsFirst:h,foreignTable:m,referencedTable:v=m}={}){const p=v?`${v}.order`:"order",f=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${f?`${f},`:""}${o}.${u?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:u,referencedTable:h=u}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${o}`),this}range(o,u,{foreignTable:h,referencedTable:m=h}={}){const v=typeof m>"u"?"offset":`${m}.offset`,p=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(v,`${o}`),this.url.searchParams.set(p,`${u-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:u=!1,settings:h=!1,buffers:m=!1,wal:v=!1,format:p="text"}={}){var f;const b=[o?"analyze":null,u?"verbose":null,h?"settings":null,m?"buffers":null,v?"wal":null].filter(Boolean).join("|"),w=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${w}"; options=${b};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return PostgrestTransformBuilder$1.default=n,PostgrestTransformBuilder$1}var hasRequiredPostgrestFilterBuilder;function requirePostgrestFilterBuilder(){if(hasRequiredPostgrestFilterBuilder)return PostgrestFilterBuilder$1;hasRequiredPostgrestFilterBuilder=1;var e=PostgrestFilterBuilder$1&&PostgrestFilterBuilder$1.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(PostgrestFilterBuilder$1,"__esModule",{value:!0});const t=e(requirePostgrestTransformBuilder());class n extends t.default{eq(o,u){return this.url.searchParams.append(o,`eq.${u}`),this}neq(o,u){return this.url.searchParams.append(o,`neq.${u}`),this}gt(o,u){return this.url.searchParams.append(o,`gt.${u}`),this}gte(o,u){return this.url.searchParams.append(o,`gte.${u}`),this}lt(o,u){return this.url.searchParams.append(o,`lt.${u}`),this}lte(o,u){return this.url.searchParams.append(o,`lte.${u}`),this}like(o,u){return this.url.searchParams.append(o,`like.${u}`),this}likeAllOf(o,u){return this.url.searchParams.append(o,`like(all).{${u.join(",")}}`),this}likeAnyOf(o,u){return this.url.searchParams.append(o,`like(any).{${u.join(",")}}`),this}ilike(o,u){return this.url.searchParams.append(o,`ilike.${u}`),this}ilikeAllOf(o,u){return this.url.searchParams.append(o,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(o,u){return this.url.searchParams.append(o,`ilike(any).{${u.join(",")}}`),this}is(o,u){return this.url.searchParams.append(o,`is.${u}`),this}in(o,u){const h=Array.from(new Set(u)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(o,`in.(${h})`),this}contains(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cs.{${u.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(u)}`),this}containedBy(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cd.{${u.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(u)}`),this}rangeGt(o,u){return this.url.searchParams.append(o,`sr.${u}`),this}rangeGte(o,u){return this.url.searchParams.append(o,`nxl.${u}`),this}rangeLt(o,u){return this.url.searchParams.append(o,`sl.${u}`),this}rangeLte(o,u){return this.url.searchParams.append(o,`nxr.${u}`),this}rangeAdjacent(o,u){return this.url.searchParams.append(o,`adj.${u}`),this}overlaps(o,u){return typeof u=="string"?this.url.searchParams.append(o,`ov.${u}`):this.url.searchParams.append(o,`ov.{${u.join(",")}}`),this}textSearch(o,u,{config:h,type:m}={}){let v="";m==="plain"?v="pl":m==="phrase"?v="ph":m==="websearch"&&(v="w");const p=h===void 0?"":`(${h})`;return this.url.searchParams.append(o,`${v}fts${p}.${u}`),this}match(o){return Object.entries(o).forEach(([u,h])=>{this.url.searchParams.append(u,`eq.${h}`)}),this}not(o,u,h){return this.url.searchParams.append(o,`not.${u}.${h}`),this}or(o,{foreignTable:u,referencedTable:h=u}={}){const m=h?`${h}.or`:"or";return this.url.searchParams.append(m,`(${o})`),this}filter(o,u,h){return this.url.searchParams.append(o,`${u}.${h}`),this}}return PostgrestFilterBuilder$1.default=n,PostgrestFilterBuilder$1}var hasRequiredPostgrestQueryBuilder;function requirePostgrestQueryBuilder(){if(hasRequiredPostgrestQueryBuilder)return PostgrestQueryBuilder$1;hasRequiredPostgrestQueryBuilder=1;var e=PostgrestQueryBuilder$1&&PostgrestQueryBuilder$1.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(PostgrestQueryBuilder$1,"__esModule",{value:!0});const t=e(requirePostgrestFilterBuilder());class n{constructor(o,{headers:u={},schema:h,fetch:m}){this.url=o,this.headers=new Headers(u),this.schema=h,this.fetch=m}select(o,{head:u=!1,count:h}={}){const m=u?"HEAD":"GET";let v=!1;const p=(o??"*").split("").map(f=>/\s/.test(f)&&!v?"":(f==='"'&&(v=!v),f)).join("");return this.url.searchParams.set("select",p),h&&this.headers.append("Prefer",`count=${h}`),new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:u,defaultToNull:h=!0}={}){var m;const v="POST";if(u&&this.headers.append("Prefer",`count=${u}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((f,b)=>f.concat(Object.keys(b)),[]);if(p.length>0){const f=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(o,{onConflict:u,ignoreDuplicates:h=!1,count:m,defaultToNull:v=!0}={}){var p;const f="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),m&&this.headers.append("Prefer",`count=${m}`),v||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const b=o.reduce((w,S)=>w.concat(Object.keys(S)),[]);if(b.length>0){const w=[...new Set(b)].map(S=>`"${S}"`);this.url.searchParams.set("columns",w.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:u}={}){var h;const m="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:o}={}){var u;const h="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return PostgrestQueryBuilder$1.default=n,PostgrestQueryBuilder$1}var hasRequiredPostgrestClient;function requirePostgrestClient(){if(hasRequiredPostgrestClient)return PostgrestClient$1;hasRequiredPostgrestClient=1;var e=PostgrestClient$1&&PostgrestClient$1.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(PostgrestClient$1,"__esModule",{value:!0});const t=e(requirePostgrestQueryBuilder()),n=e(requirePostgrestFilterBuilder());class i{constructor(u,{headers:h={},schema:m,fetch:v}={}){this.url=u,this.headers=new Headers(h),this.schemaName=m,this.fetch=v}from(u){const h=new URL(`${this.url}/${u}`);return new t.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new i(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,h={},{head:m=!1,get:v=!1,count:p}={}){var f;let b;const w=new URL(`${this.url}/rpc/${u}`);let S;m||v?(b=m?"HEAD":"GET",Object.entries(h).filter(([A,T])=>T!==void 0).map(([A,T])=>[A,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([A,T])=>{w.searchParams.append(A,T)})):(b="POST",S=h);const j=new Headers(this.headers);return p&&j.set("Prefer",`count=${p}`),new n.default({method:b,url:w,headers:j,schema:this.schemaName,body:S,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return PostgrestClient$1.default=i,PostgrestClient$1}var hasRequiredCjs;function requireCjs(){if(hasRequiredCjs)return cjs;hasRequiredCjs=1;var e=cjs&&cjs.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(cjs,"__esModule",{value:!0}),cjs.PostgrestError=cjs.PostgrestBuilder=cjs.PostgrestTransformBuilder=cjs.PostgrestFilterBuilder=cjs.PostgrestQueryBuilder=cjs.PostgrestClient=void 0;const t=e(requirePostgrestClient());cjs.PostgrestClient=t.default;const n=e(requirePostgrestQueryBuilder());cjs.PostgrestQueryBuilder=n.default;const i=e(requirePostgrestFilterBuilder());cjs.PostgrestFilterBuilder=i.default;const o=e(requirePostgrestTransformBuilder());cjs.PostgrestTransformBuilder=o.default;const u=e(requirePostgrestBuilder());cjs.PostgrestBuilder=u.default;const h=e(requirePostgrestError());return cjs.PostgrestError=h.default,cjs.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:u.default,PostgrestError:h.default},cjs}var cjsExports=requireCjs();const index=getDefaultExportFromCjs(cjsExports),{PostgrestClient,PostgrestQueryBuilder,PostgrestFilterBuilder,PostgrestTransformBuilder,PostgrestBuilder,PostgrestError}=index;class WebSocketFactory{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const i=this.getWebSocketConstructor();return new i(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const version$3="2.15.5",DEFAULT_VERSION=`realtime-js/${version$3}`,VSN="1.0.0",DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3,MAX_PUSH_BUFFER_SIZE=100;var SOCKET_STATES;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(e){e.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Serializer{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,n,i)}_decodeBroadcast(t,n,i){const o=n.getUint8(1),u=n.getUint8(2);let h=this.HEADER_LENGTH+2;const m=i.decode(t.slice(h,h+o));h=h+o;const v=i.decode(t.slice(h,h+u));h=h+u;const p=JSON.parse(i.decode(t.slice(h,t.byteLength)));return{ref:null,topic:m,event:v,payload:p}}}class Timer{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var PostgresTypes;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(e,t,n={})=>{var i;const o=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(t).reduce((u,h)=>(u[h]=convertColumn(h,e,t,o),u),{})},convertColumn=(e,t,n,i)=>{const o=t.find(m=>m.name===e),u=o?.type,h=n[e];return u&&!i.includes(u)?convertCell(u,h):noop$8(h)},convertCell=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return toArray$2(t,n)}switch(e){case PostgresTypes.bool:return toBoolean(t);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber$1(t);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(t);case PostgresTypes.timestamp:return toTimestampString(t);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$8(t);default:return noop$8(t)}},noop$8=e=>e,toBoolean=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},toNumber$1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},toJson=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},toArray$2=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let u;const h=e.slice(1,n);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(m=>convertCell(t,m))}return e},toTimestampString=e=>typeof e=="string"?e.replace(" ","T"):e,httpEndpointURL=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Push{constructor(t,n,i={},o=DEFAULT_TIMEOUT){this.channel=t,this.event=n,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:u,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,o,u,h),this.pendingDiffs.forEach(v=>{this.state=RealtimePresence.syncDiff(this.state,v,u,h)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},o=>{const{onJoin:u,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=RealtimePresence.syncDiff(this.state,o,u,h),m())}),this.onJoin((o,u,h)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:h})}),this.onLeave((o,u,h)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,o){const u=this.cloneDeep(t),h=this.transformState(n),m={},v={};return this.map(u,(p,f)=>{h[p]||(v[p]=f)}),this.map(h,(p,f)=>{const b=u[p];if(b){const w=f.map(T=>T.presence_ref),S=b.map(T=>T.presence_ref),j=f.filter(T=>S.indexOf(T.presence_ref)<0),A=b.filter(T=>w.indexOf(T.presence_ref)<0);j.length>0&&(m[p]=j),A.length>0&&(v[p]=A)}else m[p]=f}),this.syncDiff(u,{joins:m,leaves:v},i,o)}static syncDiff(t,n,i,o){const{joins:u,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(u,(m,v)=>{var p;const f=(p=t[m])!==null&&p!==void 0?p:[];if(t[m]=this.cloneDeep(v),f.length>0){const b=t[m].map(S=>S.presence_ref),w=f.filter(S=>b.indexOf(S.presence_ref)<0);t[m].unshift(...w)}i(m,f,v)}),this.map(h,(m,v)=>{let p=t[m];if(!p)return;const f=v.map(b=>b.presence_ref);p=p.filter(b=>f.indexOf(b.presence_ref)<0),t[m]=p,o(m,p,v),p.length===0&&delete t[m]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const o=t[i];return"metas"in o?n[i]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[i]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(t,n={config:{}},i){this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var i,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==CHANNEL_STATES.closed){const{config:{broadcast:h,presence:m,private:v}}=this.params,p=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&o!==void 0?o:[],f=!!this.bindings[REALTIME_LISTEN_TYPES.PRESENCE]&&this.bindings[REALTIME_LISTEN_TYPES.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,b={},w={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:f}),postgres_changes:p,private:v};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(S=>t?.(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,S)),this._onClose(()=>t?.(REALTIME_SUBSCRIBE_STATES.CLOSED)),this.updateJoinPayload(Object.assign({config:w},b)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var j;if(this.socket.setAuth(),S===void 0){t?.(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,T=(j=A?.length)!==null&&j!==void 0?j:0,C=[];for(let O=0;O<T;O++){const M=A[O],{filter:{event:R,schema:_,table:q,filter:se}}=M,ee=S&&S[O];if(ee&&ee.event===R&&ee.schema===_&&ee.table===q&&ee.filter===se)C.push(Object.assign(Object.assign({},M),{id:ee.id}));else{this.unsubscribe(),this.state=CHANNEL_STATES.errored,t?.(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}}).receive("error",S=>{this.state=CHANNEL_STATES.errored,t?.(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{t?.(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this.state===CHANNEL_STATES.joined&&t===REALTIME_LISTEN_TYPES.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,i)}async send(t,n={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){const{event:u,payload:h}=t,v={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,m,v;const p=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((v=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||v===void 0)&&v.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=CHANNEL_STATES.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Push(this,CHANNEL_EVENTS.leave,{},t),i.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=CHANNEL_STATES.closed,this.bindings={}}async _fetchWithTimeout(t,n,i){const o=new AbortController,u=setTimeout(()=>o.abort(),i),h=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(u),h}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Push(this,t,n,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>MAX_PUSH_BUFFER_SIZE){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var o,u;const h=t.toLocaleLowerCase(),{close:m,error:v,leave:p,join:f}=CHANNEL_EVENTS;if(i&&[m,v,p,f].indexOf(h)>=0&&i!==this._joinRef())return;let w=this._onMessage(h,n,i);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var j,A,T;return((j=S.filter)===null||j===void 0?void 0:j.event)==="*"||((T=(A=S.filter)===null||A===void 0?void 0:A.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===h}).map(S=>S.callback(w,i)):(u=this.bindings[h])===null||u===void 0||u.filter(S=>{var j,A,T,C,O,M;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in S){const R=S.id,_=(j=S.filter)===null||j===void 0?void 0:j.event;return R&&((A=n.ids)===null||A===void 0?void 0:A.includes(R))&&(_==="*"||_?.toLocaleLowerCase()===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const R=(O=(C=S?.filter)===null||C===void 0?void 0:C.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return R==="*"||R===((M=n?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===h}).map(S=>{if(typeof w=="object"&&"ids"in w){const j=w.data,{schema:A,table:T,commit_timestamp:C,type:O,errors:M}=j;w=Object.assign(Object.assign({},{schema:A,table:T,commit_timestamp:C,eventType:O,new:{},old:{},errors:M}),this._getPayloadRecords(j))}S.callback(w,i)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const o=t.toLocaleLowerCase(),u={type:o,filter:n,callback:i};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&RealtimeChannel.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(CHANNEL_EVENTS.close,{},t)}_onError(t){this._on(CHANNEL_EVENTS.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=convertChangeData(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=convertChangeData(t.columns,t.old_record)),n}}const noop$7=()=>{},CONNECTION_TIMEOUTS={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RECONNECT_INTERVALS=[1e3,2e3,5e3,1e4],DEFAULT_RECONNECT_FALLBACK=1e4,WORKER_SCRIPT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RealtimeClient{constructor(t,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=DEFAULT_TIMEOUT,this.transport=null,this.heartbeatIntervalMs=CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=noop$7,this.ref=0,this.reconnectTimer=null,this.logger=noop$7,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let u;return o?u=o:typeof fetch>"u"?u=(...h)=>__vitePreload(async()=>{const{default:m}=await Promise.resolve().then(()=>browser);return{default:m}},void 0).then(({default:m})=>m(...h)).catch(m=>{throw new Error(`Failed to load @supabase/node-fetch: ${m.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...h)=>u(...h)},!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WebSocketFactory.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VSN}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const i=`realtime:${t}`,o=this.getChannels().find(u=>u.topic===i);if(o)return o;{const u=new RealtimeChannel(`realtime:${t}`,n,this);return this.channels.push(u),u}}push(t){const{topic:n,event:i,payload:o,ref:u}=t,h=()=>{this.encode(t,m=>{var v;(v=this.conn)===null||v===void 0||v.send(m)})};this.log("push",`${n} ${i} (${u})`,o),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(WS_CLOSE_NORMAL,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},CONNECTION_TIMEOUTS.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:u,ref:h}=n,m=h?`(${h})`:"",v=u.status||"";this.log("receive",`${v} ${i} ${o} ${m}`.trim(),u),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(o,u,h)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(CHANNEL_EVENTS.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${i}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([WORKER_SCRIPT],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:DEFAULT_VERSION};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(CHANNEL_EVENTS.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Timer(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},CONNECTION_TIMEOUTS.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,i,o,u,h,m,v,p,f;if(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:DEFAULT_TIMEOUT,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(h=t?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=t?.heartbeatCallback)!==null&&m!==void 0?m:noop$7,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=t?.reconnectAfterMs)!==null&&v!==void 0?v:b=>RECONNECT_INTERVALS[b-1]||DEFAULT_RECONNECT_FALLBACK,this.encode=(p=t?.encode)!==null&&p!==void 0?p:(b,w)=>w(JSON.stringify(b)),this.decode=(f=t?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class StorageError extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function isStorageError(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class StorageApiError extends StorageError{constructor(t,n,i){super(t),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class StorageUnknownError extends StorageError{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var __awaiter$6=function(e,t,n,i){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(f){try{p(i.next(f))}catch(b){h(b)}}function v(f){try{p(i.throw(f))}catch(b){h(b)}}function p(f){f.done?u(f.value):o(f.value).then(m,v)}p((i=i.apply(e,t||[])).next())})};const resolveFetch$2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>__vitePreload(async()=>{const{default:i}=await Promise.resolve().then(()=>browser);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},resolveResponse=()=>__awaiter$6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield __vitePreload(()=>Promise.resolve().then(()=>browser),void 0)).Response:Response}),recursiveToCamel=e=>{if(Array.isArray(e))return e.map(n=>recursiveToCamel(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,i])=>{const o=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[o]=recursiveToCamel(i)}),t},isPlainObject$5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var __awaiter$5=function(e,t,n,i){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(f){try{p(i.next(f))}catch(b){h(b)}}function v(f){try{p(i.throw(f))}catch(b){h(b)}}function p(f){f.done?u(f.value):o(f.value).then(m,v)}p((i=i.apply(e,t||[])).next())})};const _getErrorMessage$1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),handleError$1=(e,t,n)=>__awaiter$5(void 0,void 0,void 0,function*(){const i=yield resolveResponse();e instanceof i&&!n?.noResolveJson?e.json().then(o=>{const u=e.status||500,h=o?.statusCode||u+"";t(new StorageApiError(_getErrorMessage$1(o),u,h))}).catch(o=>{t(new StorageUnknownError(_getErrorMessage$1(o),o))}):t(new StorageUnknownError(_getErrorMessage$1(e),e))}),_getRequestParams$1=(e,t,n,i)=>{const o={method:e,headers:t?.headers||{}};return e==="GET"||!i?o:(isPlainObject$5(i)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(i)):o.body=i,t?.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),n))};function _handleRequest$1(e,t,n,i,o,u){return __awaiter$5(this,void 0,void 0,function*(){return new Promise((h,m)=>{e(n,_getRequestParams$1(t,i,o,u)).then(v=>{if(!v.ok)throw v;return i?.noResolveJson?v:v.json()}).then(v=>h(v)).catch(v=>handleError$1(v,m,i))})})}function get$3(e,t,n,i){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(e,"GET",t,n,i)})}function post(e,t,n,i,o){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(e,"POST",t,i,o,n)})}function put(e,t,n,i,o){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(e,"PUT",t,i,o,n)})}function head(e,t,n,i){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function remove(e,t,n,i,o){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(e,"DELETE",t,i,o,n)})}var __awaiter$4=function(e,t,n,i){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(f){try{p(i.next(f))}catch(b){h(b)}}function v(f){try{p(i.throw(f))}catch(b){h(b)}}function p(f){f.done?u(f.value):o(f.value).then(m,v)}p((i=i.apply(e,t||[])).next())})};const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class StorageFileApi{constructor(t,n={},i,o){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=i,this.fetch=resolveFetch$2(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,i,o){return __awaiter$4(this,void 0,void 0,function*(){try{let u;const h=Object.assign(Object.assign({},DEFAULT_FILE_OPTIONS),o);let m=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(h.upsert)});const v=h.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),v&&u.append("metadata",this.encodeMetadata(v)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",h.cacheControl),v&&u.append("metadata",this.encodeMetadata(v))):(u=i,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,v&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(v)))),o?.headers&&(m=Object.assign(Object.assign({},m),o.headers));const p=this._removeEmptyFolders(n),f=this._getFinalPath(p),b=yield(t=="PUT"?put:post)(this.fetch,`${this.url}/object/${f}`,u,Object.assign({headers:m},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:p,id:b.Id,fullPath:b.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(isStorageError(u))return{data:null,error:u};throw u}})}upload(t,n,i){return __awaiter$4(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,i)})}uploadToSignedUrl(t,n,i,o){return __awaiter$4(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(t),h=this._getFinalPath(u),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",n);try{let v;const p=Object.assign({upsert:DEFAULT_FILE_OPTIONS.upsert},o),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(v=new FormData,v.append("cacheControl",p.cacheControl),v.append("",i)):typeof FormData<"u"&&i instanceof FormData?(v=i,v.append("cacheControl",p.cacheControl)):(v=i,f["cache-control"]=`max-age=${p.cacheControl}`,f["content-type"]=p.contentType);const b=yield put(this.fetch,m.toString(),v,{headers:f});return{data:{path:u,fullPath:b.Key},error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(isStorageError(v))return{data:null,error:v};throw v}})}createSignedUploadUrl(t,n){return __awaiter$4(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");const u=yield post(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),h=new URL(this.url+u.url),m=h.searchParams.get("token");if(!m)throw new StorageError("No token returned by API");return{data:{signedUrl:h.toString(),path:t,token:m},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(isStorageError(i))return{data:null,error:i};throw i}})}update(t,n,i){return __awaiter$4(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,i)})}move(t,n,i){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}})}copy(t,n,i){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:{path:(yield post(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,i){return __awaiter$4(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),u=yield post(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const h=i?.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${h}`)},{data:u,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,i){return __awaiter$4(this,void 0,void 0,function*(){try{const o=yield post(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${u}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}})}download(t,n){return __awaiter$4(this,void 0,void 0,function*(){const o=typeof n?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(n?.transform||{}),h=u?`?${u}`:"";try{const m=this._getFinalPath(t);return{data:yield(yield get$3(this.fetch,`${this.url}/${o}/${m}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(isStorageError(m))return{data:null,error:m};throw m}})}info(t){return __awaiter$4(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const i=yield get$3(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:recursiveToCamel(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(isStorageError(i))return{data:null,error:i};throw i}})}exists(t){return __awaiter$4(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield head(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(isStorageError(i)&&i instanceof StorageUnknownError){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,n){const i=this._getFinalPath(t),o=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&o.push(u);const m=typeof n?.transform<"u"?"render/image":"object",v=this.transformOptsToQueryString(n?.transform||{});v!==""&&o.push(v);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${i}${p}`)}}}remove(t){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(isStorageError(n))return{data:null,error:n};throw n}})}list(t,n,i){return __awaiter$4(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},DEFAULT_SEARCH_OPTIONS),n),{prefix:t||""});return{data:yield post(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}})}listV2(t,n){return __awaiter$4(this,void 0,void 0,function*(){try{const i=Object.assign({},t);return{data:yield post(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(isStorageError(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const version$2="2.12.1",DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$2}`};var __awaiter$3=function(e,t,n,i){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(f){try{p(i.next(f))}catch(b){h(b)}}function v(f){try{p(i.throw(f))}catch(b){h(b)}}function p(f){f.done?u(f.value):o(f.value).then(m,v)}p((i=i.apply(e,t||[])).next())})};class StorageBucketApi{constructor(t,n={},i,o){this.shouldThrowOnError=!1;const u=new URL(t);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),n),this.fetch=resolveFetch$2(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield get$3(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(isStorageError(t))return{data:null,error:t};throw t}})}getBucket(t){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield get$3(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(isStorageError(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(isStorageError(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield put(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(isStorageError(i))return{data:null,error:i};throw i}})}emptyBucket(t){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(isStorageError(n))return{data:null,error:n};throw n}})}deleteBucket(t){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(isStorageError(n))return{data:null,error:n};throw n}})}}class StorageClient extends StorageBucketApi{constructor(t,n={},i,o){super(t,n,i,o)}from(t){return new StorageFileApi(this.url,this.headers,t,this.fetch)}}const version$1="2.57.4";let JS_ENV="";typeof Deno<"u"?JS_ENV="deno":typeof document<"u"?JS_ENV="web":typeof navigator<"u"&&navigator.product==="ReactNative"?JS_ENV="react-native":JS_ENV="node";const DEFAULT_HEADERS$1={"X-Client-Info":`supabase-js-${JS_ENV}/${version$1}`},DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS$1},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={};var __awaiter$2=function(e,t,n,i){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(f){try{p(i.next(f))}catch(b){h(b)}}function v(f){try{p(i.throw(f))}catch(b){h(b)}}function p(f){f.done?u(f.value):o(f.value).then(m,v)}p((i=i.apply(e,t||[])).next())})};const resolveFetch$1=e=>{let t;return e?t=e:typeof fetch>"u"?t=nodeFetch:t=fetch,(...n)=>t(...n)},resolveHeadersConstructor=()=>typeof Headers>"u"?Headers$1:Headers,fetchWithAuth=(e,t,n)=>{const i=resolveFetch$1(n),o=resolveHeadersConstructor();return(u,h)=>__awaiter$2(void 0,void 0,void 0,function*(){var m;const v=(m=yield t())!==null&&m!==void 0?m:e;let p=new o(h?.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${v}`),i(u,Object.assign(Object.assign({},h),{headers:p}))})};var __awaiter$1=function(e,t,n,i){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(f){try{p(i.next(f))}catch(b){h(b)}}function v(f){try{p(i.throw(f))}catch(b){h(b)}}function p(f){f.done?u(f.value):o(f.value).then(m,v)}p((i=i.apply(e,t||[])).next())})};function ensureTrailingSlash(e){return e.endsWith("/")?e:e+"/"}function applySettingDefaults(e,t){var n,i;const{db:o,auth:u,realtime:h,global:m}=e,{db:v,auth:p,realtime:f,global:b}=t,w={db:Object.assign(Object.assign({},v),o),auth:Object.assign(Object.assign({},p),u),realtime:Object.assign(Object.assign({},f),h),storage:{},global:Object.assign(Object.assign(Object.assign({},b),m),{headers:Object.assign(Object.assign({},(n=b?.headers)!==null&&n!==void 0?n:{}),(i=m?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>__awaiter$1(this,void 0,void 0,function*(){return""})};return e.accessToken?w.accessToken=e.accessToken:delete w.accessToken,w}function validateSupabaseUrl(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ensureTrailingSlash(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const version="2.71.1",AUTO_REFRESH_TICK_DURATION_MS=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3,EXPIRY_MARGIN_MS=AUTO_REFRESH_TICK_THRESHOLD*AUTO_REFRESH_TICK_DURATION_MS,GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS={"X-Client-Info":`gotrue-js/${version}`},API_VERSION_HEADER_NAME="X-Supabase-Api-Version",API_VERSIONS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BASE64URL_REGEX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JWKS_TTL=600*1e3;class AuthError extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function isAuthError(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class AuthApiError extends AuthError{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function isAuthApiError(e){return isAuthError(e)&&e.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class CustomAuthError extends AuthError{constructor(t,n,i,o){super(t,i,o),this.name=n,this.status=i}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function isAuthSessionMissingError(e){return isAuthError(e)&&e.name==="AuthSessionMissingError"}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function isAuthImplicitGrantRedirectError(e){return isAuthError(e)&&e.name==="AuthImplicitGrantRedirectError"}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthRetryableFetchError extends CustomAuthError{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function isAuthRetryableFetchError(e){return isAuthError(e)&&e.name==="AuthRetryableFetchError"}class AuthWeakPasswordError extends CustomAuthError{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class AuthInvalidJwtError extends CustomAuthError{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const TO_BASE64URL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IGNORE_BASE64URL=` 	
\r=`.split(""),FROM_BASE64URL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<IGNORE_BASE64URL.length;t+=1)e[IGNORE_BASE64URL[t].charCodeAt(0)]=-2;for(let t=0;t<TO_BASE64URL.length;t+=1)e[TO_BASE64URL[t].charCodeAt(0)]=t;return e})();function byteToBase64URL(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(TO_BASE64URL[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(TO_BASE64URL[i]),t.queuedBits-=6}}function byteFromBase64URL(e,t,n){const i=FROM_BASE64URL[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function stringFromBase64URL(e){const t=[],n=h=>{t.push(String.fromCodePoint(h))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=h=>{stringFromUTF8(h,i,n)};for(let h=0;h<e.length;h+=1)byteFromBase64URL(e.charCodeAt(h),o,u);return t.join("")}function codepointToUTF8(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function stringToUTF8(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}codepointToUTF8(i,t)}}function stringFromUTF8(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function base64UrlToUint8Array(e){const t=[],n={queue:0,queuedBits:0},i=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)byteFromBase64URL(e.charCodeAt(o),n,i);return new Uint8Array(t)}function stringToUint8Array(e){const t=[];return stringToUTF8(e,n=>t.push(n)),new Uint8Array(t)}function bytesToBase64URL(e){const t=[],n={queue:0,queuedBits:0},i=o=>{t.push(o)};return e.forEach(o=>byteToBase64URL(o,n,i)),byteToBase64URL(null,n,i),t.join("")}function expiresAt(e){return Math.round(Date.now()/1e3)+e}function uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const isBrowser$1=()=>typeof window<"u"&&typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser$1())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function parseParametersFromURL(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,u)=>{t[u]=o})}catch{}return n.searchParams.forEach((i,o)=>{t[o]=i}),t}const resolveFetch=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>__vitePreload(async()=>{const{default:i}=await Promise.resolve().then(()=>browser);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},looksLikeFetchResponse=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",setItemAsync=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},getItemAsync=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},removeItemAsync=async(e,t)=>{await e.removeItem(t)};class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Deferred.promiseConstructor=Promise;function decodeJWT(e){const t=e.split(".");if(t.length!==3)throw new AuthInvalidJwtError("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!BASE64URL_REGEX.test(t[i]))throw new AuthInvalidJwtError("JWT not in base64url format");return{header:JSON.parse(stringFromBase64URL(t[0])),payload:JSON.parse(stringFromBase64URL(t[1])),signature:base64UrlToUint8Array(t[2]),raw:{header:t[0],payload:t[1]}}}async function sleep(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function retryable(e,t){return new Promise((i,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await e(u);if(!t(u,null,h)){i(h);return}}catch(h){if(!t(u,h)){o(h);return}}})()})}function dec2hex(e){return("0"+e.toString(16)).substr(-2)}function generatePKCEVerifier(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let o="";for(let u=0;u<56;u++)o+=n.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(t),Array.from(t,dec2hex).join("")}async function sha256(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(i);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function generatePKCEChallenge(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await sha256(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function getCodeChallengeAndMethod(e,t,n=!1){const i=generatePKCEVerifier();let o=i;n&&(o+="/PASSWORD_RECOVERY"),await setItemAsync(e,`${t}-code-verifier`,o);const u=await generatePKCEChallenge(i);return[u,i===u?"plain":"s256"]}const API_VERSION_REGEX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function parseResponseAPIVersion(e){const t=e.headers.get(API_VERSION_HEADER_NAME);if(!t||!t.match(API_VERSION_REGEX))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function validateExp(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function getAlgorithm(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UUID_REGEX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function validateUUID(e){if(!UUID_REGEX.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function userNotAvailableProxy(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function deepClone(e){return JSON.parse(JSON.stringify(e))}var __rest$1=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n};const _getErrorMessage=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),NETWORK_ERROR_CODES=[502,503,504];async function handleError(e){var t;if(!looksLikeFetchResponse(e))throw new AuthRetryableFetchError(_getErrorMessage(e),0);if(NETWORK_ERROR_CODES.includes(e.status))throw new AuthRetryableFetchError(_getErrorMessage(e),e.status);let n;try{n=await e.json()}catch(u){throw new AuthUnknownError(_getErrorMessage(u),u)}let i;const o=parseResponseAPIVersion(e);if(o&&o.getTime()>=API_VERSIONS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new AuthWeakPasswordError(_getErrorMessage(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new AuthSessionMissingError}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new AuthWeakPasswordError(_getErrorMessage(n),e.status,n.weak_password.reasons);throw new AuthApiError(_getErrorMessage(n),e.status||500,i)}const _getRequestParams=(e,t,n,i)=>{const o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),n))};async function _request(e,t,n,i){var o;const u=Object.assign({},i?.headers);u[API_VERSION_HEADER_NAME]||(u[API_VERSION_HEADER_NAME]=API_VERSIONS["2024-01-01"].name),i?.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const h=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(h.redirect_to=i.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",v=await _handleRequest(e,t,n+m,{headers:u,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(v):{data:Object.assign({},v),error:null}}async function _handleRequest(e,t,n,i,o,u){const h=_getRequestParams(t,i,o,u);let m;try{m=await e(n,Object.assign({},h))}catch(v){throw console.error(v),new AuthRetryableFetchError(_getErrorMessage(v),0)}if(m.ok||await handleError(m),i?.noResolveJson)return m;try{return await m.json()}catch(v){await handleError(v)}}function _sessionResponse(e){var t;let n=null;hasSession(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=expiresAt(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function _sessionResponsePassword(e){const t=_sessionResponse(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function _userResponse(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function _ssoResponse(e){return{data:e,error:null}}function _generateLinkResponse(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:o,verification_type:u}=e,h=__rest$1(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:t,email_otp:n,hashed_token:i,redirect_to:o,verification_type:u},v=Object.assign({},h);return{data:{properties:m,user:v},error:null}}function _noResolveJsonResponse(e){return e}function hasSession(e){return e.access_token&&e.refresh_token&&e.expires_in}const SIGN_OUT_SCOPES=["global","local","others"];var __rest=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n};class GoTrueAdminApi{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=resolveFetch(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=SIGN_OUT_SCOPES[0]){if(SIGN_OUT_SCOPES.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${SIGN_OUT_SCOPES.join(", ")}`);try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(isAuthError(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:_userResponse})}catch(i){if(isAuthError(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=__rest(t,["options"]),o=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:_generateLinkResponse,redirectTo:n?.redirectTo})}catch(n){if(isAuthError(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_userResponse})}catch(n){if(isAuthError(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,o,u,h,m,v;try{const p={nextPage:null,lastPage:0,total:0},f=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:_noResolveJsonResponse});if(f.error)throw f.error;const b=await f.json(),w=(h=f.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(v=(m=f.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&v!==void 0?v:[];return S.length>0&&(S.forEach(j=>{const A=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(j.split(";")[1].split("=")[1]);p[`${T}Page`]=A}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(isAuthError(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){validateUUID(t);try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_userResponse})}catch(n){if(isAuthError(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){validateUUID(t);try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:_userResponse})}catch(i){if(isAuthError(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){validateUUID(t);try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:_userResponse})}catch(i){if(isAuthError(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){validateUUID(t.userId);try{const{data:n,error:i}=await _request(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:i}}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}}async _deleteFactor(t){validateUUID(t.userId),validateUUID(t.id);try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}}}function memoryLocalStorageAdapter(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const internals={debug:!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LockAcquireTimeoutError extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError{}async function navigatorLock(e,t,n){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),internals.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(internals.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lockNoOp(e,t,n){return await n()}const GLOBAL_JWKS={};class GoTrueClient{constructor(t){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=GoTrueClient.nextInstanceID,GoTrueClient.nextInstanceID+=1,this.instanceID>0&&isBrowser$1()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},DEFAULT_OPTIONS),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new GoTrueAdminApi({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=resolveFetch(o.fetch),this.lock=o.lock||lockNoOp,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:isBrowser$1()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:supportsLocalStorage()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),isBrowser$1()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=GLOBAL_JWKS[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=GLOBAL_JWKS[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${version}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=parseParametersFromURL(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),isBrowser$1()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:u}=await this._getSessionFromURL(n,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),isAuthImplicitGrantRedirectError(u)){const v=(t=u.details)===null||t===void 0?void 0:t.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:h,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return isAuthError(n)?{error:n}:{error:new AuthUnknownError("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,o;try{const u=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:_sessionResponse}),{data:h,error:m}=u;if(m||!h)return{data:{user:null,session:null},error:m};const v=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:p,session:v},error:null}}catch(u){if(isAuthError(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(t){var n,i,o;try{let u;if("email"in t){const{email:f,password:b,options:w}=t;let S=null,j=null;this.flowType==="pkce"&&([S,j]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),u=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:f,password:b,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:S,code_challenge_method:j},xform:_sessionResponse})}else if("phone"in t){const{phone:f,password:b,options:w}=t;u=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:b,data:(i=w?.data)!==null&&i!==void 0?i:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:h,error:m}=u;if(m||!h)return{data:{user:null,session:null},error:m};const v=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:p,session:v},error:null}}catch(u){if(isAuthError(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(t){try{let n;if("email"in t){const{email:u,password:h,options:m}=t;n=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:_sessionResponsePassword})}else if("phone"in t){const{phone:u,password:h,options:m}=t;n=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:_sessionResponsePassword})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:i,error:o}=n;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(n){if(isAuthError(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,i,o,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,i,o,u,h,m,v,p,f,b,w,S;let j,A;if("message"in t)j=t.message,A=t.signature;else{const{chain:T,wallet:C,statement:O,options:M}=t;let R;if(isBrowser$1())if(typeof C=="object")R=C;else{const q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))R=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=C}const _=new URL((n=M?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in R&&R.signIn){const q=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),O?{statement:O}:null));let se;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")se=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)se=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in se&&"signature"in se&&(typeof se.signedMessage=="string"||se.signedMessage instanceof Uint8Array)&&se.signature instanceof Uint8Array)j=typeof se.signedMessage=="string"?se.signedMessage:new TextDecoder().decode(se.signedMessage),A=se.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${_.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(o=(i=M?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=M?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((h=M?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((m=M?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((v=M?.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((p=M?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((b=(f=M?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||b===void 0)&&b.length?["Resources",...M.signInWithSolana.resources.map(se=>`- ${se}`)]:[]].join(`
`);const q=await R.signMessage(new TextEncoder().encode(j),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=q}}try{const{data:T,error:C}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:bytesToBase64URL(A)},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:_sessionResponse});if(C)throw C;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:C})}catch(T){if(isAuthError(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(t){const n=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(n??"").split("/");try{const{data:u,error:h}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:_sessionResponse});if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new AuthInvalidTokenResponseError}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:h})}catch(u){if(isAuthError(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(t){try{const{options:n,provider:i,token:o,access_token:u,nonce:h}=t,m=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:_sessionResponse}),{data:v,error:p}=m;return p?{data:{user:null,session:null},error:p}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:v,error:p})}catch(n){if(isAuthError(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,i,o,u,h;try{if("email"in t){const{email:m,options:v}=t;let p=null,f=null;this.flowType==="pkce"&&([p,f]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{error:b}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(n=v?.data)!==null&&n!==void 0?n:{},create_user:(i=v?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:p,code_challenge_method:f},redirectTo:v?.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in t){const{phone:m,options:v}=t,{data:p,error:f}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=v?.data)!==null&&o!==void 0?o:{},create_user:(u=v?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},channel:(h=v?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:f}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(m){if(isAuthError(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(t){var n,i;try{let o,u;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,u=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:h,error:m}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:_sessionResponse});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const v=h.session,p=h.user;return v?.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),{data:{user:p,session:v},error:null}}catch(o){if(isAuthError(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var n,i,o;try{let u=null,h=null;return this.flowType==="pkce"&&([u,h]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:_ssoResponse})}catch(u){if(isAuthError(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new AuthSessionMissingError;const{error:o}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(isAuthError(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:o,options:u}=t,{error:h}=await _request(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in t){const{phone:i,type:o,options:u}=t,{data:h,error:m}=await _request(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:m}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(n){if(isAuthError(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<EXPIRY_MARGIN_MS:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const h=await getItemAsync(this.userStorage,this.storageKey+"-user");h?.user?t.user=h.user:t.user=userNotAvailableProxy()}if(this.storage.isServer&&t.user){let h=this.suppressGetSessionWarning;t=new Proxy(t,{get:(v,p,f)=>(!h&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(v,p,f))})}return{data:{session:t},error:null}}const{session:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{session:null},error:u}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_userResponse}):await this._useSession(async n=>{var i,o,u;const{data:h,error:m}=n;if(m)throw m;return!(!((i=h.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new AuthSessionMissingError}:await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:_userResponse})})}catch(n){if(isAuthError(n))return isAuthSessionMissingError(n)&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:o,error:u}=i;if(u)throw u;if(!o.session)throw new AuthSessionMissingError;const h=o.session;let m=null,v=null;this.flowType==="pkce"&&t.email!=null&&([m,v]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{data:p,error:f}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:m,code_challenge_method:v}),jwt:h.access_token,xform:_userResponse});if(f)throw f;return h.user=p.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(i){if(isAuthError(i))return{data:{user:null},error:i};throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new AuthSessionMissingError;const n=Date.now()/1e3;let i=n,o=!0,u=null;const{payload:h}=decodeJWT(t.access_token);if(h.exp&&(i=h.exp,o=i<=n),o){const{session:m,error:v}=await this._callRefreshToken(t.refresh_token);if(v)return{data:{user:null,session:null},error:v};if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:v}=await this._getUser(t.access_token);if(v)throw v;u={access_token:t.access_token,refresh_token:t.refresh_token,user:m.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(n){if(isAuthError(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:h,error:m}=n;if(m)throw m;t=(i=h.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new AuthSessionMissingError;const{session:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?{data:{user:null,session:null},error:u}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(isAuthError(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!isBrowser$1())throw new AuthImplicitGrantRedirectError("No browser detected.");if(t.error||t.error_description||t.error_code)throw new AuthImplicitGrantRedirectError(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:O,error:M}=await this._exchangeCodeForSession(t.code);if(M)throw M;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:u,refresh_token:h,expires_in:m,expires_at:v,token_type:p}=t;if(!u||!m||!h||!p)throw new AuthImplicitGrantRedirectError("No session defined in URL");const f=Math.round(Date.now()/1e3),b=parseInt(m);let w=f+b;v&&(w=parseInt(v));const S=w-f;S*1e3<=AUTO_REFRESH_TICK_DURATION_MS&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${b}s`);const j=w-b;f-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,w,f):f-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,w,f);const{data:A,error:T}=await this._getUser(u);if(T)throw T;const C={provider_token:i,provider_refresh_token:o,access_token:u,expires_in:b,expires_at:w,refresh_token:h,token_type:p,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:t.type},error:null}}catch(i){if(isAuthError(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:o,error:u}=n;if(u)return{error:u};const h=(i=o.session)===null||i===void 0?void 0:i.access_token;if(h){const{error:m}=await this.admin.signOut(h,t);if(m&&!(isAuthApiError(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return t!=="others"&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=uuid(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,o;try{const{data:{session:u},error:h}=n;if(h)throw h;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,n={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await getCodeChallengeAndMethod(this.storage,this.storageKey,!0));try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(isAuthError(u))return{data:null,error:u};throw u}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:i,error:o}=await this._useSession(async u=>{var h,m,v,p,f;const{data:b,error:w}=u;if(w)throw w;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(h=t.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=t.options)===null||m===void 0?void 0:m.scopes,queryParams:(v=t.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await _request(this.fetch,"GET",S,{headers:this.headers,jwt:(f=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&f!==void 0?f:void 0})});if(o)throw o;return isBrowser$1()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:t.provider,url:i?.url},error:null}}catch(i){if(isAuthError(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,o;const{data:u,error:h}=n;if(h)throw h;return await _request(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await retryable(async o=>(o>0&&await sleep(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_sessionResponse})),(o,u)=>{const h=200*Math.pow(2,o);return u&&isAuthRetryableFetchError(u)&&Date.now()+h-i<AUTO_REFRESH_TICK_DURATION_MS})}catch(i){if(this._debug(n,"error",i),isAuthError(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),isBrowser$1()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await getItemAsync(this.storage,this.storageKey);if(o&&this.userStorage){let h=await getItemAsync(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:o.user},await setItemAsync(this.userStorage,this.storageKey+"-user",h)),o.user=(t=h?.user)!==null&&t!==void 0?t:userNotAvailableProxy()}else if(o&&!o.user&&!o.user){const h=await getItemAsync(this.storage,this.storageKey+"-user");h&&h?.user?(o.user=h.user,await removeItemAsync(this.storage,this.storageKey+"-user"),await setItemAsync(this.storage,this.storageKey,o)):o.user=userNotAvailableProxy()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const u=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<EXPIRY_MARGIN_MS;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${EXPIRY_MARGIN_MS}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:h}=await this._callRefreshToken(o.refresh_token);h&&(console.error(h),isAuthRetryableFetchError(h)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(o.access_token);!m&&h?.user?(o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(i,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Deferred;const{data:u,error:h}=await this._refreshAccessToken(t);if(h)throw h;if(!u.session)throw new AuthSessionMissingError;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={session:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(o,"error",u),isAuthError(u)){const h={session:null,error:u};return isAuthRetryableFetchError(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,i=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(t,n)}catch(v){u.push(v)}});if(await Promise.all(h),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await setItemAsync(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const u=deepClone(o);await setItemAsync(this.storage,this.storageKey,u)}else{const o=deepClone(n);await setItemAsync(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await removeItemAsync(this.storage,this.storageKey),await removeItemAsync(this.storage,this.storageKey+"-code-verifier"),await removeItemAsync(this.storage,this.storageKey+"-user"),this.userStorage&&await removeItemAsync(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&isBrowser$1()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION_MS);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-t)/AUTO_REFRESH_TICK_DURATION_MS);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION_MS}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`),o<=AUTO_REFRESH_TICK_THRESHOLD&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof LockAcquireTimeoutError)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!isBrowser$1()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const o=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,h]=await getCodeChallengeAndMethod(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});o.push(m.toString())}if(i?.queryParams){const u=new URLSearchParams(i.queryParams);o.push(u.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:o,error:u}=n;return u?{data:null,error:u}:await _request(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,o;const{data:u,error:h}=n;if(h)return{data:null,error:h};const m=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:v,error:p}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(t.factorType==="totp"&&(!((o=v?.totp)===null||o===void 0)&&o.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),{data:v,error:null})})}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:u}=n;if(u)return{data:null,error:u};const{data:h,error:m}=await _request(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:m})})}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:u}=n;return u?{data:null,error:u}:await _request(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=t?.factors||[],o=i.filter(h=>h.factor_type==="totp"&&h.status==="verified"),u=i.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:i,totp:o,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,i;const{data:{session:o},error:u}=t;if(u)return{data:null,error:u};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=decodeJWT(o.access_token);let m=null;h.aal&&(m=h.aal);let v=m;((i=(n=o.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(v="aal2");const f=h.amr||[];return{data:{currentLevel:m,nextLevel:v,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(m=>m.kid===t);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(m=>m.kid===t),i&&this.jwks_cached_at+JWKS_TTL>o)return i;const{data:u,error:h}=await _request(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,i=u.keys.find(m=>m.kid===t),!i)?null:i}async getClaims(t,n={}){try{let i=t;if(!i){const{data:S,error:j}=await this.getSession();if(j||!S.session)return{data:null,error:j};i=S.session.access_token}const{header:o,payload:u,signature:h,raw:{header:m,payload:v}}=decodeJWT(i);n?.allowExpired||validateExp(u.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:u,header:o,signature:h},error:null}}const f=getAlgorithm(o.alg),b=await crypto.subtle.importKey("jwk",p,f,!0,["verify"]);if(!await crypto.subtle.verify(f,b,h,stringToUint8Array(`${m}.${v}`)))throw new AuthInvalidJwtError("Invalid JWT signature");return{data:{claims:u,header:o,signature:h},error:null}}catch(i){if(isAuthError(i))return{data:null,error:i};throw i}}}GoTrueClient.nextInstanceID=0;const AuthClient=GoTrueClient;class SupabaseAuthClient extends AuthClient{constructor(t){super(t)}}var __awaiter=function(e,t,n,i){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(f){try{p(i.next(f))}catch(b){h(b)}}function v(f){try{p(i.throw(f))}catch(b){h(b)}}function p(f){f.done?u(f.value):o(f.value).then(m,v)}p((i=i.apply(e,t||[])).next())})};class SupabaseClient{constructor(t,n,i){var o,u,h;this.supabaseUrl=t,this.supabaseKey=n;const m=validateSupabaseUrl(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const v=`sb-${m.hostname.split(".")[0]}-auth-token`,p={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},DEFAULT_AUTH_OPTIONS),{storageKey:v}),global:DEFAULT_GLOBAL_OPTIONS},f=applySettingDefaults(i??{},p);this.storageKey=(o=f.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(u=f.global.headers)!==null&&u!==void 0?u:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(b,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=f.auth)!==null&&h!==void 0?h:{},this.headers,f.global.fetch),this.fetch=fetchWithAuth(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new PostgrestClient(new URL("rest/v1",m).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new StorageClient(this.storageUrl.href,this.headers,this.fetch,i?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},i={}){return this.rest.rpc(t,n,i)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return __awaiter(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:o,userStorage:u,storageKey:h,flowType:m,lock:v,debug:p},f,b){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),f),storageKey:h,autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:o,userStorage:u,flowType:m,lock:v,debug:p,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i?.access_token)})}_handleTokenChanged(t,n,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const createClient=(e,t,n)=>new SupabaseClient(e,t,n);function shouldShowDeprecationWarning(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}shouldShowDeprecationWarning()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const supabaseUrl="https://amegbgoimnslpdjqgijn.supabase.co",supabaseAnonKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFtZWdiZ29pbW5zbHBkanFnaWpuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc4NTE3MjAsImV4cCI6MjA3MzQyNzcyMH0.u0szvKfBXZU0z9Hu-nBA9RsK1tiEoex64_ingAiAPDM",ADMIN_UUID="cf6f292d-9800-49d6-b7ff-bc733067ca99",SUPER_ADMIN_UUID="5314c060-f221-4bf8-a63e-4b80cd8fa648",supabase=createClient(supabaseUrl,supabaseAnonKey);typeof window<"u"&&(window.supabaseClient=supabase);const auth={signIn:async(e,t)=>{const{data:n,error:i}=await supabase.auth.signInWithPassword({email:e,password:t});return{data:n,error:i}},signOut:async()=>{try{const{error:e}=await supabase.auth.signOut();return localStorage.removeItem("vibeUser"),localStorage.removeItem("vibeRole"),localStorage.removeItem("vibeAdmin"),localStorage.removeItem("vibeSuperAdmin"),localStorage.removeItem("vibePrimarySuperAdmin"),localStorage.removeItem("vibePrimaryAdmin"),localStorage.removeItem("vibeAdminActiveTab"),{error:e}}catch(e){return console.error("Error during sign out:",e),localStorage.removeItem("vibeUser"),localStorage.removeItem("vibeRole"),localStorage.removeItem("vibeAdmin"),localStorage.removeItem("vibeSuperAdmin"),localStorage.removeItem("vibePrimarySuperAdmin"),localStorage.removeItem("vibePrimaryAdmin"),localStorage.removeItem("vibeAdminActiveTab"),{error:e}}},getCurrentUser:async()=>{const{data:{user:e},error:t}=await supabase.auth.getUser();return{user:e,error:t}},getUserRole:async e=>{const{data:t,error:n}=await supabase.from("user_profiles").select("role").eq("id",e).single();return{role:t?.role,error:n}},createUser:async(e,t,n)=>{const{data:i,error:o}=await supabase.functions.invoke("create-user",{body:{email:e,username:t,role:n}});return{data:i,error:o}},createSuperAdmin:async(e,t,n,i)=>{const{data:o,error:u}=await supabase.functions.invoke("create-superadmin",{body:{email:e,username:t,display_name:n,password:i}});return{data:o,error:u}},getAllSuperAdmins:async()=>{const{data:e,error:t}=await supabase.rpc("get_all_superadmins");return{data:e,error:t}}},LayoutGroupContext=reactExports.createContext({});function useConstant(e){const t=reactExports.useRef(null);return t.current===null&&(t.current=e()),t.current}const isBrowser=typeof window<"u",useIsomorphicLayoutEffect$1=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,PresenceContext=reactExports.createContext(null);function addUniqueItem(e,t){e.indexOf(t)===-1&&e.push(t)}function removeItem(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const clamp=(e,t,n)=>n>t?t:n<e?e:n;let invariant$1=()=>{};const MotionGlobalConfig={},isNumericalString=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function isObject$1(e){return typeof e=="object"&&e!==null}const isZeroValueString=e=>/^0[^.\s]+$/u.test(e);function memo(e){let t;return()=>(t===void 0&&(t=e()),t)}const noop$6=e=>e,combineFunctions=(e,t)=>n=>t(e(n)),pipe=(...e)=>e.reduce(combineFunctions),progress=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class SubscriptionManager{constructor(){this.subscriptions=[]}add(t){return addUniqueItem(this.subscriptions,t),()=>removeItem(this.subscriptions,t)}notify(t,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,i);else for(let u=0;u<o;u++){const h=this.subscriptions[u];h&&h(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const secondsToMilliseconds=e=>e*1e3,millisecondsToSeconds=e=>e/1e3;function velocityPerSecond(e,t){return t?e*(1e3/t):0}const calcBezier=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(e,t,n,i,o){let u,h,m=0;do h=t+(n-t)/2,u=calcBezier(h,i,o)-e,u>0?n=h:t=h;while(Math.abs(u)>subdivisionPrecision&&++m<subdivisionMaxIterations);return h}function cubicBezier$1(e,t,n,i){if(e===t&&n===i)return noop$6;const o=u=>binarySubdivide(u,0,1,e,n);return u=>u===0||u===1?u:calcBezier(o(u),t,i)}const mirrorEasing=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,reverseEasing=e=>t=>1-e(1-t),backOut=cubicBezier$1(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=e=>(e*=2)<1?.5*backIn(e):.5*(2-Math.pow(2,-10*(e-1))),circIn=e=>1-Math.sin(Math.acos(e)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),easeIn=cubicBezier$1(.42,0,1,1),easeOut=cubicBezier$1(0,0,.58,1),easeInOut=cubicBezier$1(.42,0,.58,1),isEasingArray=e=>Array.isArray(e)&&typeof e[0]!="number",isBezierDefinition=e=>Array.isArray(e)&&typeof e[0]=="number",easingLookup={linear:noop$6,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},isValidEasing=e=>typeof e=="string",easingDefinitionToFunction=e=>{if(isBezierDefinition(e)){invariant$1(e.length===4);const[t,n,i,o]=e;return cubicBezier$1(t,n,i,o)}else if(isValidEasing(e))return easingLookup[e];return e},stepsOrder=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function createRenderStep(e,t){let n=new Set,i=new Set,o=!1,u=!1;const h=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function v(f){h.has(f)&&(p.schedule(f),e()),f(m)}const p={schedule:(f,b=!1,w=!1)=>{const j=w&&o?n:i;return b&&h.add(f),j.has(f)||j.add(f),f},cancel:f=>{i.delete(f),h.delete(f)},process:f=>{if(m=f,o){u=!0;return}o=!0,[n,i]=[i,n],n.forEach(v),n.clear(),o=!1,u&&(u=!1,p.process(f))}};return p}const maxElapsed=40;function createRenderBatcher(e,t){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,h=stepsOrder.reduce((M,R)=>(M[R]=createRenderStep(u),M),{}),{setup:m,read:v,resolveKeyframes:p,preUpdate:f,update:b,preRender:w,render:S,postRender:j}=h,A=()=>{const M=MotionGlobalConfig.useManualTiming?o.timestamp:performance.now();n=!1,MotionGlobalConfig.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(M-o.timestamp,maxElapsed),1)),o.timestamp=M,o.isProcessing=!0,m.process(o),v.process(o),p.process(o),f.process(o),b.process(o),w.process(o),S.process(o),j.process(o),o.isProcessing=!1,n&&t&&(i=!1,e(A))},T=()=>{n=!0,i=!0,o.isProcessing||e(A)};return{schedule:stepsOrder.reduce((M,R)=>{const _=h[R];return M[R]=(q,se=!1,ee=!1)=>(n||T(),_.schedule(q,se,ee)),M},{}),cancel:M=>{for(let R=0;R<stepsOrder.length;R++)h[stepsOrder[R]].cancel(M)},state:o,steps:h}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$6,!0);let now;function clearTime(){now=void 0}const time$1={now:()=>(now===void 0&&time$1.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:e=>{now=e,queueMicrotask(clearTime)}},checkStringStartsWith=e=>t=>typeof t=="string"&&t.startsWith(e),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=e=>startsAsVariableToken(e)?singleCssVariableRegex.test(e.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,number$3={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},alpha$1={...number$3,transform:e=>clamp(0,1,e)},scale={...number$3,default:1},sanitize=e=>Math.round(e*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish$1(e){return e==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(e,t)=>n=>!!(typeof n=="string"&&singleColorRegex.test(n)&&n.startsWith(e)||t&&!isNullish$1(n)&&Object.prototype.hasOwnProperty.call(n,t)),splitColor=(e,t,n)=>i=>{if(typeof i!="string")return i;const[o,u,h,m]=i.match(floatRegex);return{[e]:parseFloat(o),[t]:parseFloat(u),[n]:parseFloat(h),alpha:m!==void 0?parseFloat(m):1}},clampRgbUnit=e=>clamp(0,255,e),rgbUnit={...number$3,transform:e=>Math.round(clampRgbUnit(e))},rgba$1={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+rgbUnit.transform(e)+", "+rgbUnit.transform(t)+", "+rgbUnit.transform(n)+", "+sanitize(alpha$1.transform(i))+")"};function parseHex(e){let t="",n="",i="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,i+=i,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const hex$1={test:isColorString("#"),parse:parseHex,transform:rgba$1.transform},createUnitType=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:e=>percent.parse(e)/100,transform:e=>percent.transform(e*100)},hsla$1={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+percent.transform(sanitize(t))+", "+percent.transform(sanitize(n))+", "+sanitize(alpha$1.transform(i))+")"},color$1={test:e=>rgba$1.test(e)||hex$1.test(e)||hsla$1.test(e),parse:e=>rgba$1.test(e)?rgba$1.parse(e):hsla$1.test(e)?hsla$1.parse(e):hex$1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?rgba$1.transform(e):hsla$1.transform(e),getAnimatableNone:e=>{const t=color$1.parse(e);return t.alpha=0,color$1.transform(t)}},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(e){return isNaN(e)&&typeof e=="string"&&(e.match(floatRegex)?.length||0)+(e.match(colorRegex)?.length||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(complexRegex,v=>(color$1.test(v)?(i.color.push(u),o.push(COLOR_TOKEN),n.push(color$1.parse(v))):v.startsWith(VAR_FUNCTION_TOKEN)?(i.var.push(u),o.push(VAR_TOKEN),n.push(v)):(i.number.push(u),o.push(NUMBER_TOKEN),n.push(parseFloat(v))),++u,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:n,split:m,indexes:i,types:o}}function parseComplexValue(e){return analyseComplexValue(e).values}function createTransformer(e){const{split:t,types:n}=analyseComplexValue(e),i=t.length;return o=>{let u="";for(let h=0;h<i;h++)if(u+=t[h],o[h]!==void 0){const m=n[h];m===NUMBER_TOKEN?u+=sanitize(o[h]):m===COLOR_TOKEN?u+=color$1.transform(o[h]):u+=o[h]}return u}}const convertNumbersToZero=e=>typeof e=="number"?0:color$1.test(e)?color$1.getAnimatableNone(e):e;function getAnimatableNone$1(e){const t=parseComplexValue(e);return createTransformer(e)(t.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1};function hueToRgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hslaToRgba({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let o=0,u=0,h=0;if(!t)o=u=h=n;else{const m=n<.5?n*(1+t):n+t-n*t,v=2*n-m;o=hueToRgb(v,m,e+1/3),u=hueToRgb(v,m,e),h=hueToRgb(v,m,e-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(h*255),alpha:i}}function mixImmediate(e,t){return n=>n>0?t:e}const mixNumber$1=(e,t,n)=>e+(t-e)*n,mixLinearColor=(e,t,n)=>{const i=e*e,o=n*(t*t-i)+i;return o<0?0:Math.sqrt(o)},colorTypes=[hex$1,rgba$1,hsla$1],getColorType=e=>colorTypes.find(t=>t.test(e));function asRGBA(e){const t=getColorType(e);if(!t)return!1;let n=t.parse(e);return t===hsla$1&&(n=hslaToRgba(n)),n}const mixColor=(e,t)=>{const n=asRGBA(e),i=asRGBA(t);if(!n||!i)return mixImmediate(e,t);const o={...n};return u=>(o.red=mixLinearColor(n.red,i.red,u),o.green=mixLinearColor(n.green,i.green,u),o.blue=mixLinearColor(n.blue,i.blue,u),o.alpha=mixNumber$1(n.alpha,i.alpha,u),rgba$1.transform(o))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(e,t){return invisibleValues.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function mixNumber(e,t){return n=>mixNumber$1(e,t,n)}function getMixer(e){return typeof e=="number"?mixNumber:typeof e=="string"?isCSSVariableToken(e)?mixImmediate:color$1.test(e)?mixColor:mixComplex:Array.isArray(e)?mixArray:typeof e=="object"?color$1.test(e)?mixColor:mixObject:mixImmediate}function mixArray(e,t){const n=[...e],i=n.length,o=e.map((u,h)=>getMixer(u)(u,t[h]));return u=>{for(let h=0;h<i;h++)n[h]=o[h](u);return n}}function mixObject(e,t){const n={...e,...t},i={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(i[o]=getMixer(e[o])(e[o],t[o]));return o=>{for(const u in i)n[u]=i[u](o);return n}}function matchOrder(e,t){const n=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],h=e.indexes[u][i[u]],m=e.values[h]??0;n[o]=m,i[u]++}return n}const mixComplex=(e,t)=>{const n=complex.createTransformer(t),i=analyseComplexValue(e),o=analyseComplexValue(t);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?invisibleValues.has(e)&&!o.values.length||invisibleValues.has(t)&&!i.values.length?mixVisibility(e,t):pipe(mixArray(matchOrder(i,o),o.values),n):mixImmediate(e,t)};function mix(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?mixNumber$1(e,t,n):getMixer(e)(e,t)}const frameloopDriver=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>frame.update(t,n),stop:()=>cancelFrame(t),now:()=>frameData.isProcessing?frameData.timestamp:time$1.now()}},generateLinearEasing=(e,t,n=10)=>{let i="";const o=Math.max(Math.round(t/n),2);for(let u=0;u<o;u++)i+=Math.round(e(u/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},maxGeneratorDuration=2e4;function calcGeneratorDuration(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<maxGeneratorDuration;)t+=n,i=e.next(t);return t>=maxGeneratorDuration?1/0:t}function createGeneratorEasing(e,t=100,n){const i=n({...e,keyframes:[0,t]}),o=Math.min(calcGeneratorDuration(i),maxGeneratorDuration);return{type:"keyframes",ease:u=>i.next(o*u).value/t,duration:millisecondsToSeconds(o)}}const velocitySampleDuration=5;function calcGeneratorVelocity(e,t,n){const i=Math.max(t-velocitySampleDuration,0);return velocityPerSecond(n-e(i),t-i)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:e=springDefaults.duration,bounce:t=springDefaults.bounce,velocity:n=springDefaults.velocity,mass:i=springDefaults.mass}){let o,u,h=1-t;h=clamp(springDefaults.minDamping,springDefaults.maxDamping,h),e=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(e)),h<1?(o=p=>{const f=p*h,b=f*e,w=f-n,S=calcAngularFreq(p,h),j=Math.exp(-b);return safeMin-w/S*j},u=p=>{const b=p*h*e,w=b*n+n,S=Math.pow(h,2)*Math.pow(p,2)*e,j=Math.exp(-b),A=calcAngularFreq(Math.pow(p,2),h);return(-o(p)+safeMin>0?-1:1)*((w-S)*j)/A}):(o=p=>{const f=Math.exp(-p*e),b=(p-n)*e+1;return-safeMin+f*b},u=p=>{const f=Math.exp(-p*e),b=(n-p)*(e*e);return f*b});const m=5/e,v=approximateRoot(o,u,m);if(e=secondsToMilliseconds(e),isNaN(v))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:e};{const p=Math.pow(v,2)*i;return{stiffness:p,damping:h*2*Math.sqrt(i*p),duration:e}}}const rootIterations=12;function approximateRoot(e,t,n){let i=n;for(let o=1;o<rootIterations;o++)i=i-e(i)/t(i);return i}function calcAngularFreq(e,t){return e*Math.sqrt(1-t*t)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(e,t){return t.some(n=>e[n]!==void 0)}function getSpringOptions(e){let t={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...e};if(!isSpringType(e,physicsKeys)&&isSpringType(e,durationKeys))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,u=2*clamp(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:springDefaults.mass,stiffness:o,damping:u}}else{const n=findSpring(e);t={...t,...n,mass:springDefaults.mass},t.isResolvedFromDuration=!0}return t}function spring(e=springDefaults.visualDuration,t=springDefaults.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:o}=n;const u=n.keyframes[0],h=n.keyframes[n.keyframes.length-1],m={done:!1,value:u},{stiffness:v,damping:p,mass:f,duration:b,velocity:w,isResolvedFromDuration:S}=getSpringOptions({...n,velocity:-millisecondsToSeconds(n.velocity||0)}),j=w||0,A=p/(2*Math.sqrt(v*f)),T=h-u,C=millisecondsToSeconds(Math.sqrt(v/f)),O=Math.abs(T)<5;i||(i=O?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),o||(o=O?springDefaults.restDelta.granular:springDefaults.restDelta.default);let M;if(A<1){const _=calcAngularFreq(C,A);M=q=>{const se=Math.exp(-A*C*q);return h-se*((j+A*C*T)/_*Math.sin(_*q)+T*Math.cos(_*q))}}else if(A===1)M=_=>h-Math.exp(-C*_)*(T+(j+C*T)*_);else{const _=C*Math.sqrt(A*A-1);M=q=>{const se=Math.exp(-A*C*q),ee=Math.min(_*q,300);return h-se*((j+A*C*T)*Math.sinh(ee)+_*T*Math.cosh(ee))/_}}const R={calculatedDuration:S&&b||null,next:_=>{const q=M(_);if(S)m.done=_>=b;else{let se=_===0?j:0;A<1&&(se=_===0?secondsToMilliseconds(j):calcGeneratorVelocity(M,_,q));const ee=Math.abs(se)<=i,ae=Math.abs(h-q)<=o;m.done=ee&&ae}return m.value=m.done?h:q,m},toString:()=>{const _=Math.min(calcGeneratorDuration(R),maxGeneratorDuration),q=generateLinearEasing(se=>R.next(_*se).value,_,30);return _+"ms "+q},toTransition:()=>{}};return R}spring.applyToOptions=e=>{const t=createGeneratorEasing(e,100,spring);return e.ease=t.ease,e.duration=secondsToMilliseconds(t.duration),e.type="keyframes",e};function inertia({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:h,min:m,max:v,restDelta:p=.5,restSpeed:f}){const b=e[0],w={done:!1,value:b},S=ee=>m!==void 0&&ee<m||v!==void 0&&ee>v,j=ee=>m===void 0?v:v===void 0||Math.abs(m-ee)<Math.abs(v-ee)?m:v;let A=n*t;const T=b+A,C=h===void 0?T:h(T);C!==T&&(A=C-b);const O=ee=>-A*Math.exp(-ee/i),M=ee=>C+O(ee),R=ee=>{const ae=O(ee),pe=M(ee);w.done=Math.abs(ae)<=p,w.value=w.done?C:pe};let _,q;const se=ee=>{S(w.value)&&(_=ee,q=spring({keyframes:[w.value,j(w.value)],velocity:calcGeneratorVelocity(M,ee,w.value),damping:o,stiffness:u,restDelta:p,restSpeed:f}))};return se(0),{calculatedDuration:null,next:ee=>{let ae=!1;return!q&&_===void 0&&(ae=!0,R(ee),se(ee)),_!==void 0&&ee>=_?q.next(ee-_):(!ae&&R(ee),w)}}}function createMixers(e,t,n){const i=[],o=n||MotionGlobalConfig.mix||mix,u=e.length-1;for(let h=0;h<u;h++){let m=o(e[h],e[h+1]);if(t){const v=Array.isArray(t)?t[h]||noop$6:t;m=pipe(v,m)}i.push(m)}return i}function interpolate$2(e,t,{clamp:n=!0,ease:i,mixer:o}={}){const u=e.length;if(invariant$1(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const h=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const m=createMixers(t,i,o),v=m.length,p=f=>{if(h&&f<e[0])return t[0];let b=0;if(v>1)for(;b<e.length-2&&!(f<e[b+1]);b++);const w=progress(e[b],e[b+1],f);return m[b](w)};return n?f=>p(clamp(e[0],e[u-1],f)):p}function fillOffset(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const o=progress(0,t,i);e.push(mixNumber$1(n,1,o))}}function defaultOffset(e){const t=[0];return fillOffset(t,e.length-1),t}function convertOffsetToTimes(e,t){return e.map(n=>n*t)}function defaultEasing(e,t){return e.map(()=>t||easeInOut).splice(0,e.length-1)}function keyframes({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const o=isEasingArray(i)?i.map(easingDefinitionToFunction):easingDefinitionToFunction(i),u={done:!1,value:t[0]},h=convertOffsetToTimes(n&&n.length===t.length?n:defaultOffset(t),e),m=interpolate$2(h,t,{ease:Array.isArray(o)?o:defaultEasing(t,o)});return{calculatedDuration:e,next:v=>(u.value=m(v),u.done=v>=e,u)}}const isNotNull$1=e=>e!==null;function getFinalKeyframe$1(e,{repeat:t,repeatType:n="loop"},i,o=1){const u=e.filter(isNotNull$1),m=o<0||t&&n!=="loop"&&t%2===1?0:u.length-1;return!m||i===void 0?u[m]:i}const transitionTypeMap={decay:inertia,inertia,tween:keyframes,keyframes,spring};function replaceTransitionType(e){typeof e.type=="string"&&(e.type=transitionTypeMap[e.type])}class WithPromise{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const percentToProgress=e=>e/100;class JSAnimation extends WithPromise{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==time$1.now()&&this.tick(time$1.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;replaceTransitionType(t);const{type:n=keyframes,repeat:i=0,repeatDelay:o=0,repeatType:u,velocity:h=0}=t;let{keyframes:m}=t;const v=n||keyframes;v!==keyframes&&typeof m[0]!="number"&&(this.mixKeyframes=pipe(percentToProgress,mix(m[0],m[1])),m=[0,100]);const p=v({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=v({...t,keyframes:[...m].reverse(),velocity:-h})),p.calculatedDuration===null&&(p.calculatedDuration=calcGeneratorDuration(p));const{calculatedDuration:f}=p;this.calculatedDuration=f,this.resolvedDuration=f+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:o,mixKeyframes:u,mirroredGenerator:h,resolvedDuration:m,calculatedDuration:v}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:f,repeat:b,repeatType:w,repeatDelay:S,type:j,onUpdate:A,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const C=this.currentTime-p*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?C<0:C>o;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let M=this.currentTime,R=i;if(b){const ee=Math.min(this.currentTime,o)/m;let ae=Math.floor(ee),pe=ee%1;!pe&&ee>=1&&(pe=1),pe===1&&ae--,ae=Math.min(ae,b+1),!!(ae%2)&&(w==="reverse"?(pe=1-pe,S&&(pe-=S/m)):w==="mirror"&&(R=h)),M=clamp(0,1,pe)*m}const _=O?{done:!1,value:f[0]}:R.next(M);u&&(_.value=u(_.value));let{done:q}=_;!O&&v!==null&&(q=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const se=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return se&&j!==inertia&&(_.value=getFinalKeyframe$1(f,this.options,T,this.speed)),A&&A(_.value),se&&this.finish(),_}then(t,n){return this.finished.then(t,n)}get duration(){return millisecondsToSeconds(this.calculatedDuration)}get time(){return millisecondsToSeconds(this.currentTime)}set time(t){t=secondsToMilliseconds(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(time$1.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=frameloopDriver,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(time$1.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function fillWildcards(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const radToDeg=e=>e*180/Math.PI,rotate=e=>{const t=radToDeg(Math.atan2(e[1],e[0]));return rebaseAngle(t)},matrix2dParsers={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate,rotateZ:rotate,skewX:e=>radToDeg(Math.atan(e[1])),skewY:e=>radToDeg(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},rebaseAngle=e=>(e=e%360,e<0&&(e+=360),e),rotateZ=rotate,scaleX=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),scaleY=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),matrix3dParsers={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX,scaleY,scale:e=>(scaleX(e)+scaleY(e))/2,rotateX:e=>rebaseAngle(radToDeg(Math.atan2(e[6],e[5]))),rotateY:e=>rebaseAngle(radToDeg(Math.atan2(-e[2],e[0]))),rotateZ,rotate:rotateZ,skewX:e=>radToDeg(Math.atan(e[4])),skewY:e=>radToDeg(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function defaultTransformValue(e){return e.includes("scale")?1:0}function parseValueFromTransform(e,t){if(!e||e==="none")return defaultTransformValue(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=matrix3dParsers,o=n;else{const m=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=matrix2dParsers,o=m}if(!o)return defaultTransformValue(t);const u=i[t],h=o[1].split(",").map(convertTransformToNumber);return typeof u=="function"?u(h):h[u]}const readTransformValue=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return parseValueFromTransform(n,t)};function convertTransformToNumber(e){return parseFloat(e.trim())}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),isNumOrPxType=e=>e===number$3||e===px,transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(e=>!transformKeys.has(e));function removeNonTranslationalTransform(e){const t=[];return nonTranslationalTransformKeys.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const positionalValues={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>parseValueFromTransform(t,"x"),y:(e,{transform:t})=>parseValueFromTransform(t,"y")};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1,isForced=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const e=Array.from(toResolve).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const o=removeNonTranslationalTransform(i);o.length&&(n.set(i,o),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([u,h])=>{i.getValue(u)?.set(h)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(e=>e.complete(isForced)),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){isForced=!0,readAllKeyframes(),measureAllKeyframes(),isForced=!1}class KeyframeResolver{constructor(t,n,i,o,u,h=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=o,this.element=u,this.isAsync=h}scheduleResolve(){this.state="scheduled",this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:o}=this;if(t[0]===null){const u=o?.get(),h=t[t.length-1];if(u!==void 0)t[0]=u;else if(i&&n){const m=i.readValue(n,h);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=h),o&&u===void 0&&o.set(t[0])}fillWildcards(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),toResolve.delete(this)}cancel(){this.state==="scheduled"&&(toResolve.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const isCSSVar=e=>e.startsWith("--");function setStyle(e,t,n){isCSSVar(t)?e.style.setProperty(t,n):e.style[t]=n}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0),supportsFlags={};function memoSupports(e,t){const n=memo(e);return()=>supportsFlags[t]??n()}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cubicBezierAsString=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(e,t){if(e)return typeof e=="function"?supportsLinearEasing()?generateLinearEasing(e,t):"ease-out":isBezierDefinition(e)?cubicBezierAsString(e):Array.isArray(e)?e.map(n=>mapEasingToNativeEasing(n,t)||supportedWaapiEasing.easeOut):supportedWaapiEasing[e]}function startWaapiAnimation(e,t,n,{delay:i=0,duration:o=300,repeat:u=0,repeatType:h="loop",ease:m="easeOut",times:v}={},p=void 0){const f={[t]:n};v&&(f.offset=v);const b=mapEasingToNativeEasing(m,o);Array.isArray(b)&&(f.easing=b);const w={delay:i,duration:o,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:u+1,direction:h==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),e.animate(f,w)}function isGenerator(e){return typeof e=="function"&&"applyToOptions"in e}function applyGeneratorOptions({type:e,...t}){return isGenerator(e)&&supportsLinearEasing()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class NativeAnimation extends WithPromise{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:o,pseudoElement:u,allowFlatten:h=!1,finalKeyframe:m,onComplete:v}=t;this.isPseudoElement=!!u,this.allowFlatten=h,this.options=t,invariant$1(typeof t.type!="string");const p=applyGeneratorOptions(t);this.animation=startWaapiAnimation(n,i,o,p,u),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const f=getFinalKeyframe$1(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(f):setStyle(n,i,f),this.animation.cancel()}v?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return millisecondsToSeconds(Number(t))}get time(){return millisecondsToSeconds(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=secondsToMilliseconds(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&supportsScrollTimeline()?(this.animation.timeline=t,noop$6):n(this)}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(e){return e in unsupportedEasingFunctions}function replaceStringEasing(e){typeof e.ease=="string"&&isUnsupportedEase(e.ease)&&(e.ease=unsupportedEasingFunctions[e.ease])}const sampleDelta=10;class NativeAnimationExtended extends NativeAnimation{constructor(t){replaceStringEasing(t),replaceTransitionType(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:o,element:u,...h}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const m=new JSAnimation({...h,autoplay:!1}),v=secondsToMilliseconds(this.finishedTime??this.time);n.setWithVelocity(m.sample(v-sampleDelta).value,m.sample(v).value,sampleDelta),m.stop()}}const isAnimatable=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(complex.test(e)||e==="0")&&!e.startsWith("url("));function hasKeyframesChanged(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function canAnimate(e,t,n,i){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],h=isAnimatable(o,t),m=isAnimatable(u,t);return!h||!m?!1:hasKeyframesChanged(e)||(n==="spring"||isGenerator(n))&&i}function makeAnimationInstant(e){e.duration=0,e.type}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function supportsBrowserAnimation(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:o,damping:u,type:h}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:v,transformTemplate:p}=t.owner.getProps();return supportsWaapi()&&n&&acceleratedValues.has(n)&&(n!=="transform"||!p)&&!v&&!i&&o!=="mirror"&&u!==0&&h!=="inertia"}const MAX_RESOLVE_DELAY=40;class AsyncMotionValueAnimation extends WithPromise{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:h="loop",keyframes:m,name:v,motionValue:p,element:f,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=time$1.now();const w={autoplay:t,delay:n,type:i,repeat:o,repeatDelay:u,repeatType:h,name:v,motionValue:p,element:f,...b},S=f?.KeyframeResolver||KeyframeResolver;this.keyframeResolver=new S(m,(j,A,T)=>this.onKeyframesResolved(j,A,w,!T),v,p,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,o){this.keyframeResolver=void 0;const{name:u,type:h,velocity:m,delay:v,isHandoff:p,onUpdate:f}=i;this.resolvedAt=time$1.now(),canAnimate(t,u,h,m)||((MotionGlobalConfig.instantAnimations||!v)&&f?.(getFinalKeyframe$1(t,i,n)),t[0]=t[t.length-1],makeAnimationInstant(i),i.repeat=0);const w={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},S=!p&&supportsBrowserAnimation(w)?new NativeAnimationExtended({...w,element:w.motionValue.owner.current}):new JSAnimation(w);S.finished.then(()=>this.notifyFinished()).catch(noop$6),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),flushKeyframeResolvers()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(e){const t=splitCSSVariableRegex.exec(e);if(!t)return[,];const[,n,i,o]=t;return[`--${n??i}`,o]}function getVariableValue(e,t,n=1){const[i,o]=parseCSSVariable(e);if(!i)return;const u=window.getComputedStyle(t).getPropertyValue(i);if(u){const h=u.trim();return isNumericalString(h)?parseFloat(h):h}return isCSSVariableToken(o)?getVariableValue(o,t,n+1):o}function getValueTransition(e,t){return e?.[t]??e?.default??e}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]),auto={test:e=>e==="auto",parse:e=>e},testValueType=e=>t=>t.test(e),dimensionValueTypes=[number$3,px,percent,degrees,vw,vh,auto],findDimensionValueType=e=>dimensionValueTypes.find(testValueType(e));function isNone(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||isZeroValueString(e):!0}const maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(floatRegex)||[];if(!i)return e;const o=n.replace(i,"");let u=maxDefaults.has(t)?1:0;return i!==n&&(u*=100),t+"("+u+o+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:e=>{const t=e.match(functionRegex);return t?t.map(applyDefaultFilter).join(" "):e}},int={...number$3,transform:Math.round},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha$1,originX:progressPercentage,originY:progressPercentage,originZ:px},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px,...transformValueTypes,zIndex:int,fillOpacity:alpha$1,strokeOpacity:alpha$1,numOctaves:int},defaultValueTypes={...numberValueTypes,color:color$1,backgroundColor:color$1,outlineColor:color$1,fill:color$1,stroke:color$1,borderColor:color$1,borderTopColor:color$1,borderRightColor:color$1,borderBottomColor:color$1,borderLeftColor:color$1,filter,WebkitFilter:filter},getDefaultValueType=e=>defaultValueTypes[e];function getAnimatableNone(e,t){let n=getDefaultValueType(e);return n!==filter&&(n=complex),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(e,t,n){let i=0,o;for(;i<e.length&&!o;){const u=e[i];typeof u=="string"&&!invalidTemplates.has(u)&&analyseComplexValue(u).values.length&&(o=e[i]),i++}if(o&&n)for(const u of t)e[u]=getAnimatableNone(n,o)}class DOMKeyframesResolver extends KeyframeResolver{constructor(t,n,i,o,u){super(t,n,i,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let v=0;v<t.length;v++){let p=t[v];if(typeof p=="string"&&(p=p.trim(),isCSSVariableToken(p))){const f=getVariableValue(p,n.current);f!==void 0&&(t[v]=f),v===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(i)||t.length!==2)return;const[o,u]=t,h=findDimensionValueType(o),m=findDimensionValueType(u);if(h!==m)if(isNumOrPxType(h)&&isNumOrPxType(m))for(let v=0;v<t.length;v++){const p=t[v];typeof p=="string"&&(t[v]=parseFloat(p))}else positionalValues[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let o=0;o<t.length;o++)(t[o]===null||isNone(t[o]))&&i.push(o);i.length&&makeNoneKeyframesAnimatable(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(i,o).jump(o,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=i.length-1,h=i[u];i[u]=positionalValues[n](t.measureViewportBox(),window.getComputedStyle(t.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,v])=>{t.getValue(m).set(v)}),this.resolveNoneKeyframes()}}function resolveElements(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const o=n?.[e]??i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const getValueAsType=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function isHTMLElement(e){return isObject$1(e)&&"offsetHeight"in e}const MAX_VELOCITY_DELTA=30,isFloat=e=>!isNaN(parseFloat(e));class MotionValue{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const o=time$1.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=time$1.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new SubscriptionManager);const i=this.events[t].add(n);return t==="change"?()=>{i(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=time$1.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(e,t){return new MotionValue(e,t)}const{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function setDragLock(e){return e==="x"||e==="y"?isDragging[e]?null:(isDragging[e]=!0,()=>{isDragging[e]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function setupGesture(e,t){const n=resolveElements(e),i=new AbortController,o={passive:!0,...t,signal:i.signal};return[n,o,()=>i.abort()]}function isValidHover(e){return!(e.pointerType==="touch"||isDragActive())}function hover(e,t,n={}){const[i,o,u]=setupGesture(e,n),h=m=>{if(!isValidHover(m))return;const{target:v}=m,p=t(v,m);if(typeof p!="function"||!v)return;const f=b=>{isValidHover(b)&&(p(b),v.removeEventListener("pointerleave",f))};v.addEventListener("pointerleave",f,o)};return i.forEach(m=>{m.addEventListener("pointerenter",h,o)}),u}const isNodeOrChild=(e,t)=>t?e===t?!0:isNodeOrChild(e,t.parentElement):!1,isPrimaryPointer=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(e){return focusableElements.has(e.tagName)||e.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(e){return t=>{t.key==="Enter"&&e(t)}}function firePointerEvent(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=filterEvents(()=>{if(isPressing.has(n))return;firePointerEvent(n,"down");const o=filterEvents(()=>{firePointerEvent(n,"up")}),u=()=>firePointerEvent(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function isValidPressEvent(e){return isPrimaryPointer(e)&&!isDragActive()}function press(e,t,n={}){const[i,o,u]=setupGesture(e,n),h=m=>{const v=m.currentTarget;if(!isValidPressEvent(m))return;isPressing.add(v);const p=t(v,m),f=(S,j)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",w),isPressing.has(v)&&isPressing.delete(v),isValidPressEvent(S)&&typeof p=="function"&&p(S,{success:j})},b=S=>{f(S,v===window||v===document||n.useGlobalTarget||isNodeOrChild(v,S.target))},w=S=>{f(S,!1)};window.addEventListener("pointerup",b,o),window.addEventListener("pointercancel",w,o)};return i.forEach(m=>{(n.useGlobalTarget?window:m).addEventListener("pointerdown",h,o),isHTMLElement(m)&&(m.addEventListener("focus",p=>enableKeyboardPress(p,o)),!isElementKeyboardAccessible(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function isSVGElement(e){return isObject$1(e)&&"ownerSVGElement"in e}function isSVGSVGElement(e){return isSVGElement(e)&&e.tagName==="svg"}const isMotionValue=e=>!!(e&&e.getVelocity),valueTypes=[...dimensionValueTypes,color$1,complex],findValueType=e=>valueTypes.find(testValueType(e)),MotionConfigContext=reactExports.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function usePresence(e=!0){const t=reactExports.useContext(PresenceContext);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=t,u=reactExports.useId();reactExports.useEffect(()=>{if(e)return o(u)},[e]);const h=reactExports.useCallback(()=>e&&i&&i(u),[u,i,e]);return!n&&i?[!1,h]:[!0]}const LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const e in featureProps)featureDefinitions[e]={isEnabled:t=>featureProps[e].some(n=>!!t[n])};function loadFeatures(e){for(const t in e)featureDefinitions[t]={...featureDefinitions[t],...e[t]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||validMotionProps.has(e)}let shouldForward=e=>!isValidMotionProp(e);function loadExternalIsValidProp(e){typeof e=="function"&&(shouldForward=t=>t.startsWith("on")?!isValidMotionProp(t):e(t))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps$1(e,t,n){const i={};for(const o in e)o==="values"&&typeof e.values=="object"||(shouldForward(o)||n===!0&&isValidMotionProp(o)||!t&&!isValidMotionProp(o)||e.draggable&&o.startsWith("onDrag"))&&(i[o]=e[o]);return i}const MotionContext=reactExports.createContext({});function isAnimationControls(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function isVariantLabel(e){return typeof e=="string"||Array.isArray(e)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(e){return isAnimationControls(e.animate)||variantProps.some(t=>isVariantLabel(e[t]))}function isVariantNode(e){return!!(isControllingVariants(e)||e.variants)}function getCurrentTreeVariants(e,t){if(isControllingVariants(e)){const{initial:n,animate:i}=e;return{initial:n===!1||isVariantLabel(n)?n:void 0,animate:isVariantLabel(i)?i:void 0}}return e.inherit!==!1?t:{}}function useCreateMotionContext(e){const{initial:t,animate:n}=getCurrentTreeVariants(e,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:t,animate:n}),[variantLabelsAsDependency(t),variantLabelsAsDependency(n)])}function variantLabelsAsDependency(e){return Array.isArray(e)?e.join(" "):e}const scaleCorrectors={};function addScaleCorrector(e){for(const t in e)scaleCorrectors[t]=e[t],isCSSVariableName(t)&&(scaleCorrectors[t].isCSSVariable=!0)}function isForcedMotionValue(e,{layout:t,layoutId:n}){return transformProps.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!scaleCorrectors[e]||e==="opacity")}const translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(e,t,n){let i="",o=!0;for(let u=0;u<numTransforms;u++){const h=transformPropOrder[u],m=e[h];if(m===void 0)continue;let v=!0;if(typeof m=="number"?v=m===(h.startsWith("scale")?1:0):v=parseFloat(m)===0,!v||n){const p=getValueAsType(m,numberValueTypes[h]);if(!v){o=!1;const f=translateAlias[h]||h;i+=`${f}(${p}) `}n&&(t[h]=p)}}return i=i.trim(),n?i=n(t,o?"":i):o&&(i="none"),i}function buildHTMLStyles(e,t,n){const{style:i,vars:o,transformOrigin:u}=e;let h=!1,m=!1;for(const v in t){const p=t[v];if(transformProps.has(v)){h=!0;continue}else if(isCSSVariableName(v)){o[v]=p;continue}else{const f=getValueAsType(p,numberValueTypes[v]);v.startsWith("origin")?(m=!0,u[v]=f):i[v]=f}}if(t.transform||(h||n?i.transform=buildTransform(t,e.transform,n):i.transform&&(i.transform="none")),m){const{originX:v="50%",originY:p="50%",originZ:f=0}=u;i.transformOrigin=`${v} ${p} ${f}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(e,t,n){for(const i in t)!isMotionValue(t[i])&&!isForcedMotionValue(i,n)&&(e[i]=t[i])}function useInitialMotionValues({transformTemplate:e},t){return reactExports.useMemo(()=>{const n=createHtmlRenderState();return buildHTMLStyles(n,t,e),Object.assign({},n.vars,n.style)},[t])}function useStyle(e,t){const n=e.style||{},i={};return copyRawValuesOnly(i,n,e),Object.assign(i,useInitialMotionValues(e,t)),i}function useHTMLProps(e,t){const n={},i=useStyle(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(e,t,n=1,i=0,o=!0){e.pathLength=1;const u=o?dashKeys:camelKeys;e[u.offset]=px.transform(-i);const h=px.transform(t),m=px.transform(n);e[u.array]=`${h} ${m}`}function buildSVGAttrs(e,{attrX:t,attrY:n,attrScale:i,pathLength:o,pathSpacing:u=1,pathOffset:h=0,...m},v,p,f){if(buildHTMLStyles(e,m,p),v){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:b,style:w}=e;b.transform&&(w.transform=b.transform,delete b.transform),(w.transform||b.transformOrigin)&&(w.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),w.transform&&(w.transformBox=f?.transformBox??"fill-box",delete b.transformBox),t!==void 0&&(b.x=t),n!==void 0&&(b.y=n),i!==void 0&&(b.scale=i),o!==void 0&&buildSVGPath(b,o,u,h,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=e=>typeof e=="string"&&e.toLowerCase()==="svg";function useSVGProps(e,t,n,i){const o=reactExports.useMemo(()=>{const u=createSvgRenderState();return buildSVGAttrs(u,t,isSVGTag(i),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};copyRawValuesOnly(u,e.style,e),o.style={...u,...o.style}}return o}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(e){return typeof e!="string"||e.includes("-")?!1:!!(lowercaseSVGElements.indexOf(e)>-1||/[A-Z]/u.test(e))}function useRender(e,t,n,{latestValues:i},o,u=!1){const m=(isSVGComponent(e)?useSVGProps:useHTMLProps)(t,i,o,e),v=filterProps$1(t,typeof e=="string",u),p=e!==reactExports.Fragment?{...v,...m,ref:n}:{},{children:f}=t,b=reactExports.useMemo(()=>isMotionValue(f)?f.get():f,[f]);return reactExports.createElement(e,{...p,children:b})}function getValueState(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function resolveVariantFromProps(e,t,n,i){if(typeof t=="function"){const[o,u]=getValueState(i);t=t(n!==void 0?n:e.custom,o,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,u]=getValueState(i);t=t(n!==void 0?n:e.custom,o,u)}return t}function resolveMotionValue(e){return isMotionValue(e)?e.get():e}function makeState({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,o){return{latestValues:makeLatestValues(n,i,o,e),renderState:t()}}function makeLatestValues(e,t,n,i){const o={},u=i(e,{});for(const w in u)o[w]=resolveMotionValue(u[w]);let{initial:h,animate:m}=e;const v=isControllingVariants(e),p=isVariantNode(e);t&&p&&!v&&e.inherit!==!1&&(h===void 0&&(h=t.initial),m===void 0&&(m=t.animate));let f=n?n.initial===!1:!1;f=f||h===!1;const b=f?m:h;if(b&&typeof b!="boolean"&&!isAnimationControls(b)){const w=Array.isArray(b)?b:[b];for(let S=0;S<w.length;S++){const j=resolveVariantFromProps(e,w[S]);if(j){const{transitionEnd:A,transition:T,...C}=j;for(const O in C){let M=C[O];if(Array.isArray(M)){const R=f?M.length-1:0;M=M[R]}M!==null&&(o[O]=M)}for(const O in A)o[O]=A[O]}}}return o}const makeUseVisualState=e=>(t,n)=>{const i=reactExports.useContext(MotionContext),o=reactExports.useContext(PresenceContext),u=()=>makeState(e,t,i,o);return n?u():useConstant(u)};function scrapeMotionValuesFromProps$1(e,t,n){const{style:i}=e,o={};for(const u in i)(isMotionValue(i[u])||t.style&&isMotionValue(t.style[u])||isForcedMotionValue(u,e)||n?.getValue(u)?.liveStyle!==void 0)&&(o[u]=i[u]);return o}const useHTMLVisualState=makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState});function scrapeMotionValuesFromProps(e,t,n){const i=scrapeMotionValuesFromProps$1(e,t,n);for(const o in e)if(isMotionValue(e[o])||isMotionValue(t[o])){const u=transformPropOrder.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[u]=e[o]}return i}const useSVGVisualState=makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function useMotionRef(e,t,n){const i=reactExports.useRef(null);return reactExports.useCallback(o=>{const u=i.current;i.current=o,o!==u&&(o&&e.onMount&&e.onMount(o),t&&(o?t.mount(o):t.unmount())),n&&(typeof n=="function"?n(o):isRefObject(n)&&(n.current=o))},[t,n])}const camelToDash=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(e,t,n,i,o){const{visualElement:u}=reactExports.useContext(MotionContext),h=reactExports.useContext(LazyContext),m=reactExports.useContext(PresenceContext),v=reactExports.useContext(MotionConfigContext).reducedMotion,p=reactExports.useRef(null);i=i||h.renderer,!p.current&&i&&(p.current=i(e,{visualState:t,parent:u,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:v}));const f=p.current,b=reactExports.useContext(SwitchLayoutGroupContext);f&&!f.projection&&o&&(f.type==="html"||f.type==="svg")&&createProjectionNode$1(p.current,n,o,b);const w=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{f&&w.current&&f.update(n,m)});const S=n[optimizedAppearDataAttribute],j=reactExports.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return useIsomorphicLayoutEffect$1(()=>{f&&(w.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),j.current&&f.animationState&&f.animationState.animateChanges())}),reactExports.useEffect(()=>{f&&(!j.current&&f.animationState&&f.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),j.current=!1),f.enteringChildren=void 0)}),f}function createProjectionNode$1(e,t,n,i){const{layoutId:o,layout:u,drag:h,dragConstraints:m,layoutScroll:v,layoutRoot:p,layoutCrossfade:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:getClosestProjectingNode(e.parent)),e.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!h||m&&isRefObject(m),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,crossfade:f,layoutScroll:v,layoutRoot:p})}function getClosestProjectingNode(e){if(e)return e.options.allowProjection!==!1?e.projection:getClosestProjectingNode(e.parent)}function createMotionComponent(e,{forwardMotionProps:t=!1}={},n,i){n&&loadFeatures(n);const o=isSVGComponent(e)?useSVGVisualState:useHTMLVisualState;function u(m,v){let p;const f={...reactExports.useContext(MotionConfigContext),...m,layoutId:useLayoutId(m)},{isStatic:b}=f,w=useCreateMotionContext(m),S=o(m,b);if(!b&&isBrowser){useStrictMode();const j=getProjectionFunctionality(f);p=j.MeasureLayout,w.visualElement=useVisualElement(e,S,f,i,j.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:w,children:[p&&w.visualElement?jsxRuntimeExports.jsx(p,{visualElement:w.visualElement,...f}):null,useRender(e,m,useMotionRef(S,w.visualElement,v),S,b,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const h=reactExports.forwardRef(u);return h[motionComponentSymbol]=e,h}function useLayoutId({layoutId:e}){const t=reactExports.useContext(LayoutGroupContext).id;return t&&e!==void 0?t+"-"+e:e}function useStrictMode(e,t){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(e){const{drag:t,layout:n}=featureDefinitions;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function createMotionProxy(e,t){if(typeof Proxy>"u")return createMotionComponent;const n=new Map,i=(u,h)=>createMotionComponent(u,h,e,t),o=(u,h)=>i(u,h);return new Proxy(o,{get:(u,h)=>h==="create"?i:(n.has(h)||n.set(h,createMotionComponent(h,void 0,e,t)),n.get(h))})}function convertBoundingBoxToBox({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function convertBoxToBoundingBox({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function transformBoxPoints(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function isIdentityScale(e){return e===void 0||e===1}function hasScale({scale:e,scaleX:t,scaleY:n}){return!isIdentityScale(e)||!isIdentityScale(t)||!isIdentityScale(n)}function hasTransform(e){return hasScale(e)||has2DTranslate(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function has2DTranslate(e){return is2DTranslate(e.x)||is2DTranslate(e.y)}function is2DTranslate(e){return e&&e!=="0%"}function scalePoint(e,t,n){const i=e-n,o=t*i;return n+o}function applyPointDelta(e,t,n,i,o){return o!==void 0&&(e=scalePoint(e,o,i)),scalePoint(e,n,i)+t}function applyAxisDelta(e,t=0,n=1,i,o){e.min=applyPointDelta(e.min,t,n,i,o),e.max=applyPointDelta(e.max,t,n,i,o)}function applyBoxDelta(e,{x:t,y:n}){applyAxisDelta(e.x,t.translate,t.scale,t.originPoint),applyAxisDelta(e.y,n.translate,n.scale,n.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(e,t,n,i=!1){const o=n.length;if(!o)return;t.x=t.y=1;let u,h;for(let m=0;m<o;m++){u=n[m],h=u.projectionDelta;const{visualElement:v}=u.options;v&&v.props.style&&v.props.style.display==="contents"||(i&&u.options.layoutScroll&&u.scroll&&u!==u.root&&transformBox(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),h&&(t.x*=h.x.scale,t.y*=h.y.scale,applyBoxDelta(e,h)),i&&hasTransform(u.latestValues)&&transformBox(e,u.latestValues))}t.x<TREE_SCALE_SNAP_MAX&&t.x>TREE_SCALE_SNAP_MIN&&(t.x=1),t.y<TREE_SCALE_SNAP_MAX&&t.y>TREE_SCALE_SNAP_MIN&&(t.y=1)}function translateAxis(e,t){e.min=e.min+t,e.max=e.max+t}function transformAxis(e,t,n,i,o=.5){const u=mixNumber$1(e.min,e.max,o);applyAxisDelta(e,t,n,u,i)}function transformBox(e,t){transformAxis(e.x,t.x,t.scaleX,t.scale,t.originX),transformAxis(e.y,t.y,t.scaleY,t.scale,t.originY)}function measureViewportBox(e,t){return convertBoundingBoxToBox(transformBoxPoints(e.getBoundingClientRect(),t))}function measurePageBox(e,t,n){const i=measureViewportBox(e,n),{scroll:o}=t;return o&&(translateAxis(i.x,o.offset.x),translateAxis(i.y,o.offset.y)),i}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()}),prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>prefersReducedMotion.current=e.matches;e.addEventListener("change",t),t()}else prefersReducedMotion.current=!1}const visualElementStore=new WeakMap;function updateMotionValuesFromProps(e,t,n){for(const i in t){const o=t[i],u=n[i];if(isMotionValue(o))e.addValue(i,o);else if(isMotionValue(u))e.addValue(i,motionValue(o,{owner:e}));else if(u!==o)if(e.hasValue(i)){const h=e.getValue(i);h.liveStyle===!0?h.jump(o):h.hasAnimated||h.set(o)}else{const h=e.getStaticValue(i);e.addValue(i,motionValue(h!==void 0?h:o,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:u,visualState:h},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=time$1.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,frame.render(this.render,!1,!0))};const{latestValues:v,renderState:p}=h;this.latestValues=v,this.baseTarget={...v},this.initialValues=n.initial?{...v}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=isControllingVariants(n),this.isVariantNode=isVariantNode(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in b){const S=b[w];v[w]!==void 0&&isMotionValue(S)&&S.set(v[w])}}mount(t){this.current=t,visualElementStore.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=transformProps.has(t);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",h=>{this.latestValues[t]=h,this.props.onUpdate&&frame.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in featureDefinitions){const n=featureDefinitions[t];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[t]&&o&&i(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<propEventHandlers.length;i++){const o=propEventHandlers[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,h=t[u];h&&(this.propEventSubscriptions[o]=this.on(o,h))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=motionValue(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(isNumericalString(i)||isZeroValueString(i))?i=parseFloat(i):!findValueType(i)&&complex.test(n)&&(i=getAnimatableNone(t,n)),this.setBaseTarget(t,isMotionValue(i)?i.get():i)),isMotionValue(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const u=resolveVariantFromProps(this.props,n,this.presenceContext?.custom);u&&(i=u[t])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!isMotionValue(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new SubscriptionManager),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){microtask.render(this.render)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;isMotionValue(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function renderHTML(e,{style:t,vars:n},i,o){const u=e.style;let h;for(h in t)u[h]=t[h];o?.applyProjectionStyles(u,i);for(h in n)u.setProperty(h,n[h])}function getComputedStyle$1(e){return window.getComputedStyle(e)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(t,n){if(transformProps.has(n))return this.projection?.isProjecting?defaultTransformValue(n):readTransformValue(t,n);{const i=getComputedStyle$1(t),o=(isCSSVariableName(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return measureViewportBox(t,n)}build(t,n,i){buildHTMLStyles(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return scrapeMotionValuesFromProps$1(t,n,i)}}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(e,t,n,i){renderHTML(e,t,void 0,i);for(const o in t.attrs)e.setAttribute(camelCaseAttributes.has(o)?o:camelToDash(o),t.attrs[o])}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(transformProps.has(n)){const i=getDefaultValueType(n);return i&&i.default||0}return n=camelCaseAttributes.has(n)?n:camelToDash(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return scrapeMotionValuesFromProps(t,n,i)}build(t,n,i){buildSVGAttrs(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,o){renderSVG(t,n,i,o)}mount(t){this.isSVGTag=isSVGTag(t.tagName),super.mount(t)}}const createDomVisualElement=(e,t)=>isSVGComponent(e)?new SVGVisualElement(t):new HTMLVisualElement(t,{allowProjection:e!==reactExports.Fragment});function resolveVariant(e,t,n){const i=e.getProps();return resolveVariantFromProps(i,t,n!==void 0?n:i.custom,e)}const isKeyframesTarget=e=>Array.isArray(e);function setMotionValue(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,motionValue(n))}function resolveFinalValueInKeyframes(e){return isKeyframesTarget(e)?e[e.length-1]||0:e}function setTarget(e,t){const n=resolveVariant(e,t);let{transitionEnd:i={},transition:o={},...u}=n||{};u={...u,...i};for(const h in u){const m=resolveFinalValueInKeyframes(u[h]);setMotionValue(e,h,m)}}function isWillChangeMotionValue(e){return!!(isMotionValue(e)&&e.add)}function addValueToWillChange(e,t){const n=e.getValue("willChange");if(isWillChangeMotionValue(n))return n.add(t);if(!n&&MotionGlobalConfig.WillChange){const i=new MotionGlobalConfig.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function getOptimisedAppearId(e){return e.props[optimizedAppearDataAttribute]}const isNotNull=e=>e!==null;function getFinalKeyframe(e,{repeat:t,repeatType:n="loop"},i){const o=e.filter(isNotNull),u=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[u]}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(e,{keyframes:t})=>t.length>2?keyframesTransition:transformProps.has(e)?e.startsWith("scale")?criticallyDampedSpring(t[1]):underDampedSpring:ease;function isTransitionDefined({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:u,repeatType:h,repeatDelay:m,from:v,elapsed:p,...f}){return!!Object.keys(f).length}const animateMotionValue=(e,t,n,i={},o,u)=>h=>{const m=getValueTransition(i,e)||{},v=m.delay||i.delay||0;let{elapsed:p=0}=i;p=p-secondsToMilliseconds(v);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-p,onUpdate:w=>{t.set(w),m.onUpdate&&m.onUpdate(w)},onComplete:()=>{h(),m.onComplete&&m.onComplete()},name:e,motionValue:t,element:u?void 0:o};isTransitionDefined(m)||Object.assign(f,getDefaultTransition(e,f)),f.duration&&(f.duration=secondsToMilliseconds(f.duration)),f.repeatDelay&&(f.repeatDelay=secondsToMilliseconds(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let b=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(makeAnimationInstant(f),f.delay===0&&(b=!0)),(MotionGlobalConfig.instantAnimations||MotionGlobalConfig.skipAnimations)&&(b=!0,makeAnimationInstant(f),f.delay=0),f.allowFlatten=!m.type&&!m.ease,b&&!u&&t.get()!==void 0){const w=getFinalKeyframe(f.keyframes,m);if(w!==void 0){frame.update(()=>{f.onUpdate(w),f.onComplete()});return}}return m.isSync?new JSAnimation(f):new AsyncMotionValueAnimation(f)};function shouldBlockAnimation({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function animateTarget(e,t,{delay:n=0,transitionOverride:i,type:o}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:h,...m}=t;i&&(u=i);const v=[],p=o&&e.animationState&&e.animationState.getState()[o];for(const f in m){const b=e.getValue(f,e.latestValues[f]??null),w=m[f];if(w===void 0||p&&shouldBlockAnimation(p,f))continue;const S={delay:n,...getValueTransition(u||{},f)},j=b.get();if(j!==void 0&&!b.isAnimating&&!Array.isArray(w)&&w===j&&!S.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const C=getOptimisedAppearId(e);if(C){const O=window.MotionHandoffAnimation(C,f,frame);O!==null&&(S.startTime=O,A=!0)}}addValueToWillChange(e,f),b.start(animateMotionValue(f,b,w,e.shouldReduceMotion&&positionalKeys.has(f)?{type:!1}:S,e,A));const T=b.animation;T&&v.push(T)}return h&&Promise.all(v).then(()=>{frame.update(()=>{h&&setTarget(e,h)})}),v}function calcChildStagger(e,t,n,i=0,o=1){const u=Array.from(e).sort((p,f)=>p.sortNodePosition(f)).indexOf(t),h=e.size,m=(h-1)*i;return typeof n=="function"?n(u,h):o===1?u*i:m-u*i}function animateVariant(e,t,n={}){const i=resolveVariant(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const u=i?()=>Promise.all(animateTarget(e,i,n)):()=>Promise.resolve(),h=e.variantChildren&&e.variantChildren.size?(v=0)=>{const{delayChildren:p=0,staggerChildren:f,staggerDirection:b}=o;return animateChildren(e,t,v,p,f,b,n)}:()=>Promise.resolve(),{when:m}=o;if(m){const[v,p]=m==="beforeChildren"?[u,h]:[h,u];return v().then(()=>p())}else return Promise.all([u(),h(n.delay)])}function animateChildren(e,t,n=0,i=0,o=0,u=1,h){const m=[];for(const v of e.variantChildren)v.notify("AnimationStart",t),m.push(animateVariant(v,t,{...h,delay:n+(typeof i=="function"?0:i)+calcChildStagger(e.variantChildren,v,i,o,u)}).then(()=>v.notify("AnimationComplete",t)));return Promise.all(m)}function animateVisualElement(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const o=t.map(u=>animateVariant(e,u,n));i=Promise.all(o)}else if(typeof t=="string")i=animateVariant(e,t,n);else{const o=typeof t=="function"?resolveVariant(e,t,n.custom):t;i=Promise.all(animateTarget(e,o,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function shallowCompare(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?getVariantContext(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<numVariantProps;n++){const i=variantProps[n],o=e.props[i];(isVariantLabel(o)||o===!1)&&(t[i]=o)}return t}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(e){return t=>Promise.all(t.map(({animation:n,options:i})=>animateVisualElement(e,n,i)))}function createAnimationState(e){let t=animateList(e),n=createState(),i=!0;const o=v=>(p,f)=>{const b=resolveVariant(e,f,v==="exit"?e.presenceContext?.custom:void 0);if(b){const{transition:w,transitionEnd:S,...j}=b;p={...p,...j,...S}}return p};function u(v){t=v(e)}function h(v){const{props:p}=e,f=getVariantContext(e.parent)||{},b=[],w=new Set;let S={},j=1/0;for(let T=0;T<numAnimationTypes;T++){const C=reversePriorityOrder[T],O=n[C],M=p[C]!==void 0?p[C]:f[C],R=isVariantLabel(M),_=C===v?O.isActive:null;_===!1&&(j=T);let q=M===f[C]&&M!==p[C]&&R;if(q&&i&&e.manuallyAnimateOnMount&&(q=!1),O.protectedKeys={...S},!O.isActive&&_===null||!M&&!O.prevProp||isAnimationControls(M)||typeof M=="boolean")continue;const se=checkVariantsDidChange(O.prevProp,M);let ee=se||C===v&&O.isActive&&!q&&R||T>j&&R,ae=!1;const pe=Array.isArray(M)?M:[M];let fe=pe.reduce(o(C),{});_===!1&&(fe={});const{prevResolvedValues:Ee={}}=O,_e={...Ee,...fe},Re=ce=>{ee=!0,w.has(ce)&&(ae=!0,w.delete(ce)),O.needsAnimating[ce]=!0;const le=e.getValue(ce);le&&(le.liveStyle=!1)};for(const ce in _e){const le=fe[ce],ie=Ee[ce];if(S.hasOwnProperty(ce))continue;let Y=!1;isKeyframesTarget(le)&&isKeyframesTarget(ie)?Y=!shallowCompare(le,ie):Y=le!==ie,Y?le!=null?Re(ce):w.add(ce):le!==void 0&&w.has(ce)?Re(ce):O.protectedKeys[ce]=!0}O.prevProp=M,O.prevResolvedValues=fe,O.isActive&&(S={...S,...fe}),i&&e.blockInitialAnimation&&(ee=!1);const Pe=q&&se;ee&&(!Pe||ae)&&b.push(...pe.map(ce=>{const le={type:C};if(typeof ce=="string"&&i&&!Pe&&e.manuallyAnimateOnMount&&e.parent){const{parent:ie}=e,Y=resolveVariant(ie,ce);if(ie.enteringChildren&&Y){const{delayChildren:ne}=Y.transition||{};le.delay=calcChildStagger(ie.enteringChildren,e,ne)}}return{animation:ce,options:le}}))}if(w.size){const T={};if(typeof p.initial!="boolean"){const C=resolveVariant(e,Array.isArray(p.initial)?p.initial[0]:p.initial);C&&C.transition&&(T.transition=C.transition)}w.forEach(C=>{const O=e.getBaseTarget(C),M=e.getValue(C);M&&(M.liveStyle=!0),T[C]=O??null}),b.push({animation:T})}let A=!!b.length;return i&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(A=!1),i=!1,A?t(b):Promise.resolve()}function m(v,p){if(n[v].isActive===p)return Promise.resolve();e.variantChildren?.forEach(b=>b.animationState?.setActive(v,p)),n[v].isActive=p;const f=h(v);for(const b in n)n[b].protectedKeys={};return f}return{animateChanges:h,setActive:m,setAnimateFunction:u,getState:()=>n,reset:()=>{n=createState(),i=!0}}}function checkVariantsDidChange(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!shallowCompare(t,e):!1}function createTypeState(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(t){this.isMounted=!1,this.node=t}update(){}}class AnimationFeature extends Feature{constructor(t){super(t),t.animationState||(t.animationState=createAnimationState(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();isAnimationControls(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function extractEventInfo(e){return{point:{x:e.pageX,y:e.pageY}}}const addPointerInfo=e=>t=>isPrimaryPointer(t)&&e(t,extractEventInfo(t));function addPointerEvent(e,t,n,i){return addDomEvent(e,t,addPointerInfo(n),i)}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(e){return e.max-e.min}function isNear(e,t,n){return Math.abs(e-t)<=n}function calcAxisDelta(e,t,n,i=.5){e.origin=i,e.originPoint=mixNumber$1(t.min,t.max,e.origin),e.scale=calcLength(n)/calcLength(t),e.translate=mixNumber$1(n.min,n.max,e.origin)-e.originPoint,(e.scale>=SCALE_MIN&&e.scale<=SCALE_MAX||isNaN(e.scale))&&(e.scale=1),(e.translate>=TRANSLATE_MIN&&e.translate<=TRANSLATE_MAX||isNaN(e.translate))&&(e.translate=0)}function calcBoxDelta(e,t,n,i){calcAxisDelta(e.x,t.x,n.x,i?i.originX:void 0),calcAxisDelta(e.y,t.y,n.y,i?i.originY:void 0)}function calcRelativeAxis(e,t,n){e.min=n.min+t.min,e.max=e.min+calcLength(t)}function calcRelativeBox(e,t,n){calcRelativeAxis(e.x,t.x,n.x),calcRelativeAxis(e.y,t.y,n.y)}function calcRelativeAxisPosition(e,t,n){e.min=t.min-n.min,e.max=e.min+calcLength(t)}function calcRelativePosition(e,t,n){calcRelativeAxisPosition(e.x,t.x,n.x),calcRelativeAxisPosition(e.y,t.y,n.y)}function eachAxis(e){return[e("x"),e("y")]}const getContextWindow=({current:e})=>e?e.ownerDocument.defaultView:null,distance=(e,t)=>Math.abs(e-t);function distance2D(e,t){const n=distance(e.x,t.x),i=distance(e.y,t.y);return Math.sqrt(n**2+i**2)}class PanSession{constructor(t,n,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:h=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=getPanInfo(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,j=distance2D(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!j)return;const{point:A}=w,{timestamp:T}=frameData;this.history.push({...A,timestamp:T});const{onStart:C,onMove:O}=this.handlers;S||(C&&C(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,w)},this.handlePointerMove=(w,S)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=transformPoint(S,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(w,S)=>{this.end();const{onEnd:j,onSessionEnd:A,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=getPanInfo(w.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(S,this.transformPagePoint),this.history);this.startEvent&&j&&j(w,C),A&&A(w,C)},!isPrimaryPointer(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=h,this.contextWindow=o||window;const m=extractEventInfo(t),v=transformPoint(m,this.transformPagePoint),{point:p}=v,{timestamp:f}=frameData;this.history=[{...p,timestamp:f}];const{onSessionStart:b}=n;b&&b(t,getPanInfo(v,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(e,t){return t?{point:t(e.point)}:e}function subtractPoint(e,t){return{x:e.x-t.x,y:e.y-t.y}}function getPanInfo({point:e},t){return{point:e,delta:subtractPoint(e,lastDevicePoint(t)),offset:subtractPoint(e,startDevicePoint(t)),velocity:getVelocity(t,.1)}}function startDevicePoint(e){return e[0]}function lastDevicePoint(e){return e[e.length-1]}function getVelocity(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const o=lastDevicePoint(e);for(;n>=0&&(i=e[n],!(o.timestamp-i.timestamp>secondsToMilliseconds(t)));)n--;if(!i)return{x:0,y:0};const u=millisecondsToSeconds(o.timestamp-i.timestamp);if(u===0)return{x:0,y:0};const h={x:(o.x-i.x)/u,y:(o.y-i.y)/u};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function applyConstraints(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?mixNumber$1(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?mixNumber$1(n,e,i.max):Math.min(e,n)),e}function calcRelativeAxisConstraints(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function calcRelativeConstraints(e,{top:t,left:n,bottom:i,right:o}){return{x:calcRelativeAxisConstraints(e.x,n,o),y:calcRelativeAxisConstraints(e.y,t,i)}}function calcViewportAxisConstraints(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function calcViewportConstraints(e,t){return{x:calcViewportAxisConstraints(e.x,t.x),y:calcViewportAxisConstraints(e.y,t.y)}}function calcOrigin(e,t){let n=.5;const i=calcLength(e),o=calcLength(t);return o>i?n=progress(t.min,t.max-i,e.min):i>o&&(n=progress(e.min,e.max-o,t.min)),clamp(0,1,n)}function rebaseAxisConstraints(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const defaultElastic=.35;function resolveDragElastic(e=defaultElastic){return e===!1?e=0:e===!0&&(e=defaultElastic),{x:resolveAxisElastic(e,"left","right"),y:resolveAxisElastic(e,"top","bottom")}}function resolveAxisElastic(e,t,n){return{min:resolvePointElastic(e,t),max:resolvePointElastic(e,n)}}function resolvePointElastic(e,t){return typeof e=="number"?e:e[t]||0}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=b=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(extractEventInfo(b).point)},h=(b,w)=>{const{drag:S,dragPropagation:j,onDragStart:A}=this.getProps();if(S&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(S),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(C=>{let O=this.getAxisMotionValue(C).get()||0;if(percent.test(O)){const{projection:M}=this.visualElement;if(M&&M.layout){const R=M.layout.layoutBox[C];R&&(O=calcLength(R)*(parseFloat(O)/100))}}this.originPoint[C]=O}),A&&frame.postRender(()=>A(b,w)),addValueToWillChange(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},m=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w;const{dragPropagation:S,dragDirectionLock:j,onDirectionLock:A,onDrag:T}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:C}=w;if(j&&this.currentDirection===null){this.currentDirection=getCurrentDirection(C),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",w.point,C),this.updateAxis("y",w.point,C),this.visualElement.render(),T&&T(b,w)},v=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w,this.stop(b,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>eachAxis(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new PanSession(t,{onSessionStart:u,onStart:h,onMove:m,onSessionEnd:v,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:i,contextWindow:getContextWindow(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,o=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!i)return;const{velocity:h}=o;this.startAnimation(h);const{onDragEnd:m}=this.getProps();m&&frame.postRender(()=>m(i,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:o}=this.getProps();if(!i||!shouldDrag(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let h=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(h=applyConstraints(h,this.constraints[t],this.elastic[t])),u.set(h)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&isRefObject(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=calcRelativeConstraints(i.layoutBox,t):this.constraints=!1,this.elastic=resolveDragElastic(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=rebaseAxisConstraints(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!isRefObject(t))return!1;const i=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=measurePageBox(i,o.root,this.visualElement.getTransformPagePoint());let h=calcViewportConstraints(o.layout.layoutBox,u);if(n){const m=n(convertBoxToBoundingBox(h));this.hasMutatedConstraints=!!m,m&&(h=convertBoundingBoxToBox(m))}return h}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:u,dragSnapToOrigin:h,onDragTransitionEnd:m}=this.getProps(),v=this.constraints||{},p=eachAxis(f=>{if(!shouldDrag(f,n,this.currentDirection))return;let b=v&&v[f]||{};h&&(b={min:0,max:0});const w=o?200:1e6,S=o?40:1e7,j={type:"inertia",velocity:i?t[f]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...u,...b};return this.startAxisValueAnimation(f,j)});return Promise.all(p).then(m)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return addValueToWillChange(this.visualElement,t),i.start(animateMotionValue(t,i,0,n,this.visualElement,!1))}stopAnimation(){eachAxis(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){eachAxis(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){eachAxis(n=>{const{drag:i}=this.getProps();if(!shouldDrag(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:h,max:m}=o.layout.layoutBox[n];u.set(t[n]-mixNumber$1(h,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!isRefObject(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};eachAxis(h=>{const m=this.getAxisMotionValue(h);if(m&&this.constraints!==!1){const v=m.get();o[h]=calcOrigin({min:v,max:v},this.constraints[h])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),eachAxis(h=>{if(!shouldDrag(h,t,null))return;const m=this.getAxisMotionValue(h),{min:v,max:p}=this.constraints[h];m.set(mixNumber$1(v,p,o[h]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const t=this.visualElement.current,n=addPointerEvent(t,"pointerdown",v=>{const{drag:p,dragListener:f=!0}=this.getProps();p&&f&&this.start(v)}),i=()=>{const{dragConstraints:v}=this.getProps();isRefObject(v)&&v.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),frame.read(i);const h=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",({delta:v,hasLayoutChanged:p})=>{this.isDragging&&p&&(eachAxis(f=>{const b=this.getAxisMotionValue(f);b&&(this.originPoint[f]+=v[f].translate,b.set(b.get()+v[f].translate))}),this.visualElement.render())});return()=>{h(),n(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:h=defaultElastic,dragMomentum:m=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:u,dragElastic:h,dragMomentum:m}}}function shouldDrag(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function getCurrentDirection(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class DragGesture extends Feature{constructor(t){super(t),this.removeGroupControls=noop$6,this.removeListeners=noop$6,this.controls=new VisualElementDragControls(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$6}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=e=>(t,n)=>{e&&frame.postRender(()=>e(t,n))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$6}onPointerDown(t){this.session=new PanSession(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:asyncHandler(t),onStart:asyncHandler(n),onMove:i,onEnd:(u,h)=>{delete this.session,o&&frame.postRender(()=>o(u,h))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const correctBorderRadius={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(px.test(e))e=parseFloat(e);else return e;const n=pixelsToPercent(e,t.target.x),i=pixelsToPercent(e,t.target.y);return`${n}% ${i}%`}},correctBoxShadow={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,o=complex.parse(e);if(o.length>5)return i;const u=complex.createTransformer(e),h=typeof o[0]!="number"?1:0,m=n.x.scale*t.x,v=n.y.scale*t.y;o[0+h]/=m,o[1+h]/=v;const p=mixNumber$1(m,v,.5);return typeof o[2+h]=="number"&&(o[2+h]/=p),typeof o[3+h]=="number"&&(o[3+h]/=p),u(o)}};let hasTakenAnySnapshot=!1;class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:u}=t;addScaleCorrector(defaultScaleCorrectors),u&&(n.group&&n.group.add(u),i&&i.register&&o&&i.register(u),hasTakenAnySnapshot&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:o,isPresent:u}=this.props,{projection:h}=i;return h&&(h.isPresent=u,hasTakenAnySnapshot=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==u?h.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?h.promote():h.relegate()||frame.postRender(()=>{const m=h.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),microtask.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=t;hasTakenAnySnapshot=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function MeasureLayout(e){const[t,n]=usePresence(),i=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...e,layoutGroup:i,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:t,safeToRemove:n})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(e,t,n){const i=isMotionValue(e)?e:motionValue(e);return i.start(animateMotionValue("",i,t,n)),i.animation}const compareByDepth=(e,t)=>e.depth-t.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(t){addUniqueItem(this.children,t),this.isDirty=!0}remove(t){removeItem(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(t)}}function delay(e,t){const n=time$1.now(),i=({timestamp:o})=>{const u=o-n;u>=t&&(cancelFrame(i),e(u-t))};return frame.setup(i,!0),()=>cancelFrame(i)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=e=>typeof e=="string"?parseFloat(e):e,isPx=e=>typeof e=="number"||px.test(e);function mixValues(e,t,n,i,o,u){o?(e.opacity=mixNumber$1(0,n.opacity??1,easeCrossfadeIn(i)),e.opacityExit=mixNumber$1(t.opacity??1,0,easeCrossfadeOut(i))):u&&(e.opacity=mixNumber$1(t.opacity??1,n.opacity??1,i));for(let h=0;h<numBorders;h++){const m=`border${borders[h]}Radius`;let v=getRadius(t,m),p=getRadius(n,m);if(v===void 0&&p===void 0)continue;v||(v=0),p||(p=0),v===0||p===0||isPx(v)===isPx(p)?(e[m]=Math.max(mixNumber$1(asNumber(v),asNumber(p),i),0),(percent.test(p)||percent.test(v))&&(e[m]+="%")):e[m]=p}(t.rotate||n.rotate)&&(e.rotate=mixNumber$1(t.rotate||0,n.rotate||0,i))}function getRadius(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$6);function compress(e,t,n){return i=>i<e?0:i>t?1:n(progress(e,t,i))}function copyAxisInto(e,t){e.min=t.min,e.max=t.max}function copyBoxInto(e,t){copyAxisInto(e.x,t.x),copyAxisInto(e.y,t.y)}function copyAxisDeltaInto(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function removePointDelta(e,t,n,i,o){return e-=t,e=scalePoint(e,1/n,i),o!==void 0&&(e=scalePoint(e,1/o,i)),e}function removeAxisDelta(e,t=0,n=1,i=.5,o,u=e,h=e){if(percent.test(t)&&(t=parseFloat(t),t=mixNumber$1(h.min,h.max,t/100)-h.min),typeof t!="number")return;let m=mixNumber$1(u.min,u.max,i);e===u&&(m-=t),e.min=removePointDelta(e.min,t,n,m,o),e.max=removePointDelta(e.max,t,n,m,o)}function removeAxisTransforms(e,t,[n,i,o],u,h){removeAxisDelta(e,t[n],t[i],t[o],t.scale,u,h)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(e,t,n,i){removeAxisTransforms(e.x,t,xKeys,n?n.x:void 0,i?i.x:void 0),removeAxisTransforms(e.y,t,yKeys,n?n.y:void 0,i?i.y:void 0)}function isAxisDeltaZero(e){return e.translate===0&&e.scale===1}function isDeltaZero(e){return isAxisDeltaZero(e.x)&&isAxisDeltaZero(e.y)}function axisEquals(e,t){return e.min===t.min&&e.max===t.max}function boxEquals(e,t){return axisEquals(e.x,t.x)&&axisEquals(e.y,t.y)}function axisEqualsRounded(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function boxEqualsRounded(e,t){return axisEqualsRounded(e.x,t.x)&&axisEqualsRounded(e.y,t.y)}function aspectRatio(e){return calcLength(e.x)/calcLength(e.y)}function axisDeltaEquals(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class NodeStack{constructor(){this.members=[]}add(t){addUniqueItem(this.members,t),t.scheduleRender()}remove(t){if(removeItem(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){i=u;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(e,t,n){let i="";const o=e.x.translate/t.x,u=e.y.translate/t.y,h=n?.z||0;if((o||u||h)&&(i=`translate3d(${o}px, ${u}px, ${h}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:f,rotateX:b,rotateY:w,skewX:S,skewY:j}=n;p&&(i=`perspective(${p}px) ${i}`),f&&(i+=`rotate(${f}deg) `),b&&(i+=`rotateX(${b}deg) `),w&&(i+=`rotateY(${w}deg) `),S&&(i+=`skewX(${S}deg) `),j&&(i+=`skewY(${j}deg) `)}const m=e.x.scale*t.x,v=e.y.scale*t.y;return(m!==1||v!==1)&&(i+=`scale(${m}, ${v})`),i||"none"}const transformAxes=["","X","Y","Z"],animationTarget=1e3;let id=0;function resetDistortingTransform(e,t,n,i){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),i&&(i[e]=0))}function cancelTreeOptimisedTransformAnimations(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=getOptimisedAppearId(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",frame,!(o||u))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(i)}function createProjectionNode({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(h={},m=t?.()){this.id=id++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let v=0;v<this.path.length;v++)this.path[v].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(h,m){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new SubscriptionManager),this.eventHandlers.get(h).add(m)}notifyListeners(h,...m){const v=this.eventHandlers.get(h);v&&v.notify(...m)}hasListeners(h){return this.eventHandlers.has(h)}mount(h){if(this.instance)return;this.isSVG=isSVGElement(h)&&!isSVGSVGElement(h),this.instance=h;const{layoutId:m,layout:v,visualElement:p}=this.options;if(p&&!p.current&&p.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(v||m)&&(this.isLayoutDirty=!0),e){let f,b=0;const w=()=>this.root.updateBlockedByResize=!1;frame.read(()=>{b=window.innerWidth}),e(h,()=>{const S=window.innerWidth;S!==b&&(b=S,this.root.updateBlockedByResize=!0,f&&f(),f=delay(w,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&p&&(m||v)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:b,hasRelativeLayoutChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||p.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:A,onLayoutAnimationComplete:T}=p.getProps(),C=!this.targetLayout||!boxEqualsRounded(this.targetLayout,S),O=!b&&w;if(this.options.layoutRoot||this.resumeFrom||O||b&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...getValueTransition(j,"layout"),onPlay:A,onComplete:T};(p.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(f,O)}else b||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const b=this.path[f];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:m,layout:v}=this.options;if(m===void 0&&!v)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(clearIsLayoutDirty);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate)):this.nodes.forEach(clearIsLayoutDirty),this.clearAllSnapshots();const m=time$1.now();frameData.delta=clamp(0,1e3/60,m-frameData.timestamp),frameData.timestamp=m,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let v=0;v<this.path.length;v++)this.path[v].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(m=!1),m&&this.instance){const v=i(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:v,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:v}}}resetTransform(){if(!o)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!isDeltaZero(this.projectionDelta),v=this.getTransformTemplate(),p=v?v(this.latestValues,""):void 0,f=p!==this.prevTransformTemplateValue;h&&this.instance&&(m||hasTransform(this.latestValues)||f)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const m=this.measurePageBox();let v=this.removeElementScroll(m);return h&&(v=this.removeTransform(v)),roundBox(v),{animationId:this.root.animationId,measuredBox:m,layoutBox:v,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:h}=this.options;if(!h)return createBox();const m=h.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(checkNodeWasScrollRoot))){const{scroll:p}=this.root;p&&(translateAxis(m.x,p.offset.x),translateAxis(m.y,p.offset.y))}return m}removeElementScroll(h){const m=createBox();if(copyBoxInto(m,h),this.scroll?.wasRoot)return m;for(let v=0;v<this.path.length;v++){const p=this.path[v],{scroll:f,options:b}=p;p!==this.root&&f&&b.layoutScroll&&(f.wasRoot&&copyBoxInto(m,h),translateAxis(m.x,f.offset.x),translateAxis(m.y,f.offset.y))}return m}applyTransform(h,m=!1){const v=createBox();copyBoxInto(v,h);for(let p=0;p<this.path.length;p++){const f=this.path[p];!m&&f.options.layoutScroll&&f.scroll&&f!==f.root&&transformBox(v,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),hasTransform(f.latestValues)&&transformBox(v,f.latestValues)}return hasTransform(this.latestValues)&&transformBox(v,this.latestValues),v}removeTransform(h){const m=createBox();copyBoxInto(m,h);for(let v=0;v<this.path.length;v++){const p=this.path[v];if(!p.instance||!hasTransform(p.latestValues))continue;hasScale(p.latestValues)&&p.updateSnapshot();const f=createBox(),b=p.measurePageBox();copyBoxInto(f,b),removeBoxTransforms(m,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,f)}return hasTransform(this.latestValues)&&removeBoxTransforms(m,this.latestValues),m}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const v=!!this.resumingFrom||this!==m;if(!(h||v&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:b}=this.options;if(!(!this.layout||!(f||b))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,w.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const h=this.getLead(),m=!!this.resumingFrom||this!==h;let v=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(v=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(v=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(v=!1),v)return;const{layout:p,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||f))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,w=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,m),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=createBox());const{target:S}=h;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==w||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){if(this.options.visualElement?.scheduleRender(),h){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(h,m=!1){const v=this.snapshot,p=v?v.latestValues:{},f={...this.latestValues},b=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const w=createBox(),S=v?v.source:void 0,j=this.layout?this.layout.source:void 0,A=S!==j,T=this.getStack(),C=!T||T.members.length<=1,O=!!(A&&!C&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let M;this.mixTargetDelta=R=>{const _=R/1e3;mixAxisDelta(b.x,h.x,_),mixAxisDelta(b.y,h.y,_),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,w,_),M&&boxEquals(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=createBox()),copyBoxInto(M,this.relativeTarget)),A&&(this.animationValues=f,mixValues(f,p,this.latestValues,_,O,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=motionValue(0)),this.currentAnimation=animateSingleValue(this.motionValue,[0,1e3],{...h,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),h.onUpdate&&h.onUpdate(m)},onStop:()=>{},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:m,target:v,layout:p,latestValues:f}=h;if(!(!m||!v||!p)){if(this!==h&&this.layout&&p&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,p.layoutBox)){v=this.target||createBox();const b=calcLength(this.layout.layoutBox.x);v.x.min=h.target.x.min,v.x.max=v.x.min+b;const w=calcLength(this.layout.layoutBox.y);v.y.min=h.target.y.min,v.y.max=v.y.min+w}copyBoxInto(m,v),transformBox(m,f),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,m,f)}}registerSharedNode(h,m){this.sharedNodes.has(h)||this.sharedNodes.set(h,new NodeStack),this.sharedNodes.get(h).add(m);const p=m.options.initialPromotionConfig;m.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(m):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){const{layoutId:h}=this.options;return h?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:h}=this.options;return h?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:m,preserveFollowOpacity:v}={}){const p=this.getStack();p&&p.promote(this,v),h&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let m=!1;const{latestValues:v}=h;if((v.z||v.rotate||v.rotateX||v.rotateY||v.rotateZ||v.skewX||v.skewY)&&(m=!0),!m)return;const p={};v.z&&resetDistortingTransform("z",h,p,this.animationValues);for(let f=0;f<transformAxes.length;f++)resetDistortingTransform(`rotate${transformAxes[f]}`,h,p,this.animationValues),resetDistortingTransform(`skew${transformAxes[f]}`,h,p,this.animationValues);h.render();for(const f in p)h.setStaticValue(f,p[f]),this.animationValues&&(this.animationValues[f]=p[f]);h.scheduleRender()}applyProjectionStyles(h,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){h.visibility="hidden";return}const v=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,h.visibility="",h.opacity="",h.pointerEvents=resolveMotionValue(m?.pointerEvents)||"",h.transform=v?v(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=resolveMotionValue(m?.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(h.transform=v?v({},""):"none",this.hasProjected=!1);return}h.visibility="";const f=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,f);v&&(b=v(f,b)),h.transform=b;const{x:w,y:S}=this.projectionDelta;h.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,p.animationValues?h.opacity=p===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:h.opacity=p===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const j in scaleCorrectors){if(f[j]===void 0)continue;const{correct:A,applyTo:T,isCSSVariable:C}=scaleCorrectors[j],O=b==="none"?f[j]:A(f[j],p);if(T){const M=T.length;for(let R=0;R<M;R++)h[T[R]]=O}else C?this.options.visualElement.renderState.vars[j]=O:h[j]=O}this.options.layoutId&&(h.pointerEvents=p===this?resolveMotionValue(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>h.currentAnimation?.stop()),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(e){e.updateLayout()}function notifyLayoutUpdate(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:o}=e.options,u=t.source!==e.layout.source;o==="size"?eachAxis(f=>{const b=u?t.measuredBox[f]:t.layoutBox[f],w=calcLength(b);b.min=n[f].min,b.max=b.min+w}):shouldAnimatePositionOnly(o,t.layoutBox,n)&&eachAxis(f=>{const b=u?t.measuredBox[f]:t.layoutBox[f],w=calcLength(n[f]);b.max=b.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+w)});const h=createDelta();calcBoxDelta(h,n,t.layoutBox);const m=createDelta();u?calcBoxDelta(m,e.applyTransform(i,!0),t.measuredBox):calcBoxDelta(m,n,t.layoutBox);const v=!isDeltaZero(h);let p=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:b,layout:w}=f;if(b&&w){const S=createBox();calcRelativePosition(S,t.layoutBox,b.layoutBox);const j=createBox();calcRelativePosition(j,n,w.layoutBox),boxEqualsRounded(S,j)||(p=!0),f.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=S,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:m,layoutDelta:h,hasLayoutChanged:v,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function propagateDirtyNodes(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cleanDirtyNodes(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function clearSnapshot(e){e.clearSnapshot()}function clearMeasurements(e){e.clearMeasurements()}function clearIsLayoutDirty(e){e.isLayoutDirty=!1}function resetTransformStyle(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function finishAnimation(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function resolveTargetDelta(e){e.resolveTargetDelta()}function calcProjection(e){e.calcProjection()}function resetSkewAndRotation(e){e.resetSkewAndRotation()}function removeLeadSnapshots(e){e.removeLeadSnapshot()}function mixAxisDelta(e,t,n){e.translate=mixNumber$1(t.translate,0,n),e.scale=mixNumber$1(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function mixAxis(e,t,n,i){e.min=mixNumber$1(t.min,n.min,i),e.max=mixNumber$1(t.max,n.max,i)}function mixBox(e,t,n,i){mixAxis(e.x,t.x,n.x,i),mixAxis(e.y,t.y,n.y,i)}function hasOpacityCrossfade(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$6;function roundAxis(e){e.min=roundPoint(e.min),e.max=roundPoint(e.max)}function roundBox(e){roundAxis(e.x),roundAxis(e.y)}function shouldAnimatePositionOnly(e,t,n){return e==="position"||e==="preserve-aspect"&&!isNear(aspectRatio(t),aspectRatio(n),.2)}function checkNodeWasScrollRoot(e){return e!==e.root&&e.scroll?.wasRoot}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(e,t)=>addDomEvent(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const e=new DocumentProjectionNode({});e.mount(window),e.setOptions({layoutScroll:!0}),rootProjectionNode.current=e}return rootProjectionNode.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=i[o];u&&frame.postRender(()=>u(t,extractEventInfo(t)))}class HoverGesture extends Feature{mount(){const{current:t}=this.node;t&&(this.unmount=hover(t,(n,i)=>(handleHoverEvent(this.node,i,"Start"),o=>handleHoverEvent(this.node,o,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=i[o];u&&frame.postRender(()=>u(t,extractEventInfo(t)))}class PressGesture extends Feature{mount(){const{current:t}=this.node;t&&(this.unmount=press(t,(n,i)=>(handlePressEvent(this.node,i,"Start"),(o,{success:u})=>handlePressEvent(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=e=>{const t=observerCallbacks.get(e.target);t&&t(e)},fireAllObserverCallbacks=e=>{e.forEach(fireObserverCallback)};function initIntersectionObserver({root:e,...t}){const n=e||document;observers.has(n)||observers.set(n,{});const i=observers.get(n),o=JSON.stringify(t);return i[o]||(i[o]=new IntersectionObserver(fireAllObserverCallbacks,{root:e,...t})),i[o]}function observeIntersection(e,t,n){const i=initIntersectionObserver(t);return observerCallbacks.set(e,n),i.observe(e),()=>{observerCallbacks.delete(e),i.unobserve(e)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:u}=t,h={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:thresholdNames[o]},m=v=>{const{isIntersecting:p}=v;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:f,onViewportLeave:b}=this.node.getProps(),w=p?f:b;w&&w(v)};return observeIntersection(this.node.current,h,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(t,n))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},featureBundle={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy(featureBundle,createDomVisualElement),buildKeyframes=(e,t)=>{const n=new Set([...Object.keys(e),...t.flatMap(o=>Object.keys(o))]),i={};return n.forEach(o=>{i[o]=[e[o],...t.map(u=>u[o])]}),i},BlurText=({text:e="",delay:t=200,className:n="",animateBy:i="words",direction:o="top",threshold:u=.1,rootMargin:h="0px",animationFrom:m,animationTo:v,easing:p=w=>w,onAnimationComplete:f,stepDuration:b=.35})=>{const w=i==="words"?e.split(" "):e.split(""),[S,j]=reactExports.useState(!1),A=reactExports.useRef(null);reactExports.useEffect(()=>{if(!A.current)return;const se=new IntersectionObserver(([ee])=>{ee.isIntersecting&&(j(!0),se.unobserve(A.current))},{threshold:u,rootMargin:h});return se.observe(A.current),()=>se.disconnect()},[u,h]);const T=reactExports.useMemo(()=>o==="top"?{filter:"blur(10px)",opacity:0,y:-50}:{filter:"blur(10px)",opacity:0,y:50},[o]),C=reactExports.useMemo(()=>[{filter:"blur(5px)",opacity:.5,y:o==="top"?5:-5},{filter:"blur(0px)",opacity:1,y:0}],[o]),O=m??T,M=v??C,R=M.length+1,_=b*(R-1),q=Array.from({length:R},(se,ee)=>R===1?0:ee/(R-1));return jsxRuntimeExports.jsx("p",{ref:A,className:`blur-text ${n} flex flex-wrap justify-center text-center`,children:w.map((se,ee)=>{const ae=buildKeyframes(O,M),pe={duration:_,times:q,delay:ee*t/1e3};return pe.ease=p,jsxRuntimeExports.jsxs(motion.span,{className:"inline-block will-change-[transform,filter,opacity]",initial:O,animate:S?ae:O,transition:pe,onAnimationComplete:ee===w.length-1?f:void 0,children:[se===" "?" ":se,i==="words"&&ee<w.length-1&&" "]},ee)})})},Home=()=>{const[e,t]=reactExports.useState([]),[n,i]=reactExports.useState([]),[o,u]=reactExports.useState(!1),[h,m]=reactExports.useState(null),[v,p]=reactExports.useState({"section-join":!0}),[f,b]=reactExports.useState(0),[w,S]=reactExports.useState("latest"),[j,A]=reactExports.useState(!1),[T,C]=reactExports.useState(null),[O,M]=reactExports.useState(""),[R,_]=reactExports.useState(""),[q,se]=reactExports.useState({magazines:0,readers:0,articles:0,events:0});reactExports.useEffect(()=>{const fe=()=>{b(window.scrollY)};return window.addEventListener("scroll",fe,{passive:!0}),()=>window.removeEventListener("scroll",fe)},[]);const ee=async()=>{u(!0),m(null);const{data:fe,error:Ee}=await supabase.from("events").select("id, title, date, venue, image").order("date",{ascending:!0});Ee?(m(Ee.message||"Failed to fetch events."),t([])):t(fe||[]),u(!1)},ae=async()=>{const{data:fe,error:Ee}=await supabase.from("magazines").select("id, title, subtitle, cover, created_at").eq("published",!0).order("created_at",{ascending:!1}).limit(1);!Ee&&fe&&fe.length>0?i(fe):i([])};reactExports.useEffect(()=>{ee(),ae()},[]),reactExports.useEffect(()=>{const fe=setTimeout(()=>A(!0),500);return()=>clearTimeout(fe)},[]),reactExports.useEffect(()=>{if(j){const fe={magazines:25,readers:5e3,articles:150,events:40},Ee=2e3,_e=60,Re=Ee/_e;let Pe=0;const je=setInterval(()=>{Pe++,se({magazines:Math.floor(fe.magazines/_e*Pe),readers:Math.floor(fe.readers/_e*Pe),articles:Math.floor(fe.articles/_e*Pe),events:Math.floor(fe.events/_e*Pe)}),Pe>=_e&&(se(fe),clearInterval(je))},Re);return()=>clearInterval(je)}},[j]);const pe=()=>{console.log("Animation completed!")};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0b0c10] via-[#1b0b28] to-[#071030] text-gray-200",children:[jsxRuntimeExports.jsxs("section",{className:"relative h-screen flex items-center justify-center px-6 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 overflow-hidden transition-transform duration-700",style:{transform:`translateY(${f*.3}px)`},children:[jsxRuntimeExports.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover opacity-20 scale-110",children:jsxRuntimeExports.jsx("source",{src:"/videos/background.mp4",type:"video/mp4"})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0b0c10]/70 via-[#1b0b28]/60 to-[#071030]/80"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_30%,#0b0c10_100%)]"})]}),jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-purple-500/5 rounded-full blur-3xl animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-violet-500/5 rounded-full blur-3xl animate-pulse delay-1000"})]}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 text-center px-6 max-w-5xl mx-auto",children:[jsxRuntimeExports.jsx(BlurText,{text:"VibeMagazine",delay:150,animateBy:"words",direction:"top",onAnimationComplete:pe,className:"text-6xl md:text-8xl lg:text-9xl font-black mb-6 text-white tracking-tight",style:{textShadow:"0 0 40px rgba(168, 85, 247, 0.8), 0 0 80px rgba(139, 92, 246, 0.6), 0 4px 20px rgba(0, 0, 0, 0.9)"}}),jsxRuntimeExports.jsx(BlurText,{text:"Virtual Initiative For Building Engagement",delay:150,animateBy:"words",direction:"top",className:"text-xl md:text-2xl lg:text-3xl text-white mb-12 font-light max-w-3xl mx-auto leading-relaxed",style:{textShadow:"0 2px 10px rgba(0, 0, 0, 0.8)"}}),jsxRuntimeExports.jsx("div",{className:"flex gap-4 justify-center flex-wrap",children:jsxRuntimeExports.jsxs(Link,{to:"/archive",className:"group relative bg-violet-600 hover:bg-violet-700 text-white px-10 py-4 rounded-full font-semibold transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-violet-500/50 overflow-hidden",children:[jsxRuntimeExports.jsx("span",{className:"relative z-10",children:jsxRuntimeExports.jsx(BlurText,{text:"Explore Magazines",delay:100,animateBy:"words",direction:"top",className:"inline-block"})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-600 to-purple-600 opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]})})]})]}),n.length>0&&jsxRuntimeExports.jsxs("section",{className:"py-24 px-6 bg-gradient-to-b from-black/10 to-transparent relative",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-1/4 w-64 h-64 bg-purple-500/5 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 right-1/4 w-80 h-80 bg-violet-500/5 rounded-full blur-3xl"})]}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-100 mb-3 inline-block",children:"Latest Issue"}),jsxRuntimeExports.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-purple-500 to-violet-600 mx-auto rounded-full"})]}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[jsxRuntimeExports.jsx("div",{className:"order-2 lg:order-1",children:jsxRuntimeExports.jsx("button",{onClick:()=>window.location.href="/archive",className:"group focus:outline-none w-full relative",children:jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden rounded-2xl shadow-2xl border border-purple-500/30 transition-all duration-700 group-hover:shadow-purple-500/40 group-hover:border-purple-500/50 group-hover:scale-[1.02]",children:[jsxRuntimeExports.jsx("img",{src:n[0].cover,alt:n[0].title,className:"w-full h-auto object-cover transition-all duration-700 group-hover:scale-105 group-hover:brightness-110"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/5 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),jsxRuntimeExports.jsx("div",{className:"absolute top-6 right-6 bg-gradient-to-r from-purple-600 to-violet-600 text-white text-xs font-bold px-4 py-2 tracking-wider rounded-full shadow-lg transition-all duration-500 group-hover:scale-110 group-hover:shadow-2xl animate-pulse",children:"LATEST ISSUE"})]})})}),jsxRuntimeExports.jsx("div",{className:"order-1 lg:order-2",children:jsxRuntimeExports.jsxs("div",{className:"lg:pl-12 space-y-6",children:[jsxRuntimeExports.jsx("span",{className:"inline-block text-sm font-semibold tracking-wider text-purple-400 mb-2 uppercase",children:new Date(n[0].created_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}),jsxRuntimeExports.jsx("h2",{className:"text-4xl lg:text-6xl font-black text-gray-100 leading-tight hover:text-purple-100 transition-colors duration-300",children:n[0].title}),n[0].subtitle&&jsxRuntimeExports.jsx("p",{className:"text-xl lg:text-2xl text-gray-300 leading-relaxed italic font-light",children:n[0].subtitle}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 leading-relaxed text-lg border-l-2 border-purple-500/30 pl-4",children:"Explore innovative student projects from our university community. Discover inspiring stories, creative solutions, and the brilliant minds shaping tomorrow's world."}),jsxRuntimeExports.jsxs(Link,{to:"/archive",className:"group inline-flex items-center gap-3 bg-violet-600 hover:bg-violet-700 text-white px-10 py-5 rounded-full font-semibold transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-violet-500/50 mt-6",children:[jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsx(BlurText,{text:"Read Magazine",delay:100,animateBy:"words",direction:"top",className:"inline-block"})}),jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 transition-transform duration-500 group-hover:translate-x-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"py-24 px-6 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 left-0 w-96 h-96 bg-violet-500/5 rounded-full blur-3xl"})}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[jsxRuntimeExports.jsxs("div",{className:"mb-16 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-100 mb-4 inline-block",children:"Upcoming Events"}),jsxRuntimeExports.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-purple-500 to-violet-600 mx-auto rounded-full transition-all duration-700"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mt-4 text-lg",children:"Don't miss out on these exciting opportunities"})]}),h&&jsxRuntimeExports.jsxs("div",{className:"bg-red-500/10 border-l-4 border-red-500 text-red-300 px-6 py-4 mb-8 rounded",children:["Error: ",h]}),o?jsxRuntimeExports.jsx("div",{className:"text-center py-20",children:jsxRuntimeExports.jsxs("div",{className:"inline-flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"}),jsxRuntimeExports.jsx("span",{className:"text-gray-300 text-lg",children:"Loading events..."})]})}):e.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-20 bg-black/20 rounded-lg border border-purple-500/20",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-[#241231] rounded-full flex items-center justify-center mx-auto mb-6",children:jsxRuntimeExports.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-200 mb-2 font-semibold",children:"No upcoming events"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Check back soon for new announcements"})]}):jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((fe,Ee)=>jsxRuntimeExports.jsxs("div",{className:"group relative bg-gradient-to-br from-purple-900/20 to-violet-900/20 rounded-2xl border border-purple-500/30 overflow-hidden hover:border-purple-500/60 transition-all duration-500 hover:scale-[1.02] hover:shadow-2xl hover:shadow-purple-500/30",style:{animationDelay:`${Ee*100}ms`},children:[jsxRuntimeExports.jsxs("div",{className:"relative h-64 overflow-hidden bg-[#241231]",children:[jsxRuntimeExports.jsx("img",{src:fe.image||"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=800&q=80",alt:fe.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#241231] via-transparent to-transparent"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-purple-600/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),jsxRuntimeExports.jsx("div",{className:"absolute top-4 right-4 bg-gradient-to-r from-purple-600 to-violet-600 text-white text-xs font-bold px-4 py-2 rounded-full shadow-lg",children:fe.date})]}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-black text-gray-100 mb-4 leading-tight group-hover:text-purple-300 transition-colors duration-300",children:fe.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-gray-300 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-purple-500/10 rounded-full",children:jsxRuntimeExports.jsxs("svg",{className:"w-4 h-4 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold",children:fe.venue})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Join us for this exciting event. Don't miss out on this opportunity to connect and learn."})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/5 to-violet-600/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"})]},fe.id))})]})]}),jsxRuntimeExports.jsx("section",{className:"py-20 px-6 relative",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[jsxRuntimeExports.jsxs(Link,{to:"/submit",className:"group relative bg-gradient-to-br from-purple-900/40 to-violet-900/40 rounded-3xl border border-purple-500/30 p-12 hover:border-purple-500/60 transition-all duration-500 hover:scale-[1.02] hover:shadow-2xl hover:shadow-purple-500/30 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/10 to-violet-600/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10",children:[jsxRuntimeExports.jsx("div",{className:"text-6xl mb-6 transform group-hover:scale-110 group-hover:rotate-12 transition-all duration-500",children:"✨"}),jsxRuntimeExports.jsx("h3",{className:"text-3xl font-black text-gray-100 mb-4 group-hover:text-purple-300 transition-colors duration-300",children:"Submit Your Work"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg mb-6",children:"Got a story to tell? Share your articles, poetry, art, or creative works with our community."}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-purple-400 font-semibold",children:[jsxRuntimeExports.jsx("span",{children:"Start Submitting"}),jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 transition-transform duration-500 group-hover:translate-x-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})]}),jsxRuntimeExports.jsxs(Link,{to:"/archive",className:"group relative bg-gradient-to-br from-violet-900/40 to-pink-900/40 rounded-3xl border border-violet-500/30 p-12 hover:border-violet-500/60 transition-all duration-500 hover:scale-[1.02] hover:shadow-2xl hover:shadow-violet-500/30 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-600/10 to-pink-600/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10",children:[jsxRuntimeExports.jsx("div",{className:"text-6xl mb-6 transform group-hover:scale-110 group-hover:-rotate-12 transition-all duration-500",children:"📖"}),jsxRuntimeExports.jsx("h3",{className:"text-3xl font-black text-gray-100 mb-4 group-hover:text-violet-300 transition-colors duration-300",children:"Browse Archive"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg mb-6",children:"Explore our collection of past issues filled with inspiring stories and creative content."}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-violet-400 font-semibold",children:[jsxRuntimeExports.jsx("span",{children:"Explore Now"}),jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 transition-transform duration-500 group-hover:translate-x-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})]})]})})}),jsxRuntimeExports.jsxs("section",{className:"py-24 px-6 relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 pointer-events-none",children:jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-1/4 w-96 h-96 bg-violet-500/5 rounded-full blur-3xl"})}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-100 mb-4",children:"Why Join VibeMagazine?"}),jsxRuntimeExports.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-purple-500 to-violet-600 mx-auto rounded-full"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mt-4 text-lg max-w-2xl mx-auto",children:"Discover what makes our community special"})]}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{title:"Share Your Voice",description:"Publish your articles, stories, and creative works to reach thousands of readers.",icon:"✍️",color:"purple"},{title:"Connect & Network",description:"Meet fellow students, collaborate on projects, and build lasting connections.",icon:"🤝",color:"violet"},{title:"Learn & Grow",description:"Develop your writing, editing, and creative skills through hands-on experience.",icon:"🚀",color:"pink"}].map((fe,Ee)=>jsxRuntimeExports.jsxs("div",{onMouseEnter:()=>C(Ee),onMouseLeave:()=>C(null),className:"group relative p-8 bg-gradient-to-br from-purple-900/20 to-violet-900/20 rounded-2xl border border-purple-500/20 hover:border-purple-500/50 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-purple-500/30 cursor-pointer overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-${fe.color}-600/10 to-${fe.color}-800/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500`}),jsxRuntimeExports.jsxs("div",{className:"relative z-10",children:[jsxRuntimeExports.jsx("div",{className:"text-6xl mb-6 transform group-hover:scale-110 group-hover:rotate-6 transition-all duration-500",children:fe.icon}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-100 mb-4 group-hover:text-purple-300 transition-colors duration-300",children:fe.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 leading-relaxed",children:fe.description}),jsxRuntimeExports.jsx("div",{className:`mt-6 h-1 bg-gradient-to-r from-${fe.color}-500 to-${fe.color}-600 rounded-full transform origin-left transition-transform duration-500 ${T===Ee?"scale-x-100":"scale-x-0"}`})]})]},Ee))})]})]}),jsxRuntimeExports.jsxs("section",{className:"px-6 py-32 bg-gradient-to-br from-[#241231] via-[#1b0b28] to-[#1a0d24] text-white border-t border-purple-500/20 relative overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-10 right-10 w-72 h-72 bg-pink-500/10 rounded-full blur-3xl animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-10 left-10 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse delay-1000"}),jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-violet-500/5 rounded-full blur-3xl"})]}),jsxRuntimeExports.jsxs("div",{className:"max-w-5xl mx-auto text-center relative z-10",children:[jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsx("span",{className:"inline-block text-sm font-bold tracking-wider text-purple-400 uppercase bg-purple-500/10 px-6 py-2 rounded-full border border-purple-500/20",children:"Join Us"})}),jsxRuntimeExports.jsx("h2",{className:"text-5xl md:text-6xl lg:text-7xl font-black mb-8 text-transparent bg-clip-text bg-gradient-to-r from-gray-100 via-purple-100 to-gray-100",children:"Want to Join the Vibe?"}),jsxRuntimeExports.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 mb-16 max-w-3xl mx-auto leading-relaxed",children:["We meet every ",jsxRuntimeExports.jsx("span",{className:"text-purple-400 font-semibold",children:"Friday"}),". Come with your creative ideas, articles, or features to share."]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center",children:jsxRuntimeExports.jsx(Link,{to:"https://docs.google.com/forms/d/e/1FAIpQLSdqVUvPu8patyf3Rcz74BP50fPRVOmWbmu78WJ9Dcje-1363Q/viewform?usp=sharing&oid=115741711961155887701",className:"group border-2 border-purple-400 hover:border-purple-300 text-purple-300 hover:bg-purple-600 hover:text-white font-bold px-12 py-5 rounded-full transition-all duration-500 hover:scale-105 active:scale-95 backdrop-blur-sm hover:shadow-xl hover:shadow-purple-500/30",children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(BlurText,{text:"Pre-register Our Club",delay:100,animateBy:"words",direction:"top",className:"inline-block"}),jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 transition-transform duration-300 group-hover:translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})})]})]})]})};var pageFlip_browser$1={exports:{}},pageFlip_browser=pageFlip_browser$1.exports,hasRequiredPageFlip_browser;function requirePageFlip_browser(){return hasRequiredPageFlip_browser||(hasRequiredPageFlip_browser=1,function(e,t){(function(n,i){i(t)})(pageFlip_browser,function(n){class i{constructor(R,_){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=_,this.nowDrawingDensity=this.createdDensity,this.render=R}setDensity(R){this.createdDensity=R,this.nowDrawingDensity=R}setDrawingDensity(R){this.nowDrawingDensity=R}setPosition(R){this.state.position=R}setAngle(R){this.state.angle=R}setArea(R){this.state.area=R}setHardDrawingAngle(R){this.state.hardDrawingAngle=R}setHardAngle(R){this.state.hardAngle=R,this.state.hardDrawingAngle=R}setOrientation(R){this.orientation=R}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class o extends i{constructor(R,_,q){super(R,q),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=_}draw(R){const _=this.render.getContext(),q=this.render.convertToGlobal(this.state.position),se=this.render.getRect().pageWidth,ee=this.render.getRect().height;_.save(),_.translate(q.x,q.y),_.beginPath();for(let ae of this.state.area)ae!==null&&(ae=this.render.convertToGlobal(ae),_.lineTo(ae.x-q.x,ae.y-q.y));_.rotate(this.state.angle),_.clip(),this.isLoad?_.drawImage(this.image,0,0,se,ee):this.drawLoader(_,{x:0,y:0},se,ee),_.restore()}simpleDraw(R){const _=this.render.getRect(),q=this.render.getContext(),se=_.pageWidth,ee=_.height,ae=R===1?_.left+_.pageWidth:_.left,pe=_.top;this.isLoad?q.drawImage(this.image,ae,pe,se,ee):this.drawLoader(q,{x:ae,y:pe},se,ee)}drawLoader(R,_,q,se){R.beginPath(),R.strokeStyle="rgb(200, 200, 200)",R.fillStyle="rgb(255, 255, 255)",R.lineWidth=1,R.rect(_.x+1,_.y+1,q-1,se-1),R.stroke(),R.fill();const ee={x:_.x+q/2,y:_.y+se/2};R.beginPath(),R.lineWidth=10,R.arc(ee.x,ee.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),R.stroke(),R.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class u{constructor(R,_){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=_,this.app=R,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let _=0;_<this.pages.length;_++)this.portraitSpread.push([_]);let R=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([R]),R++);for(let _=R;_<this.pages.length;_+=2)_<this.pages.length-1?this.landscapeSpread.push([_,_+1]):(this.landscapeSpread.push([_]),this.pages[_].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(R){const _=this.getSpread();for(let q=0;q<_.length;q++)if(R===_[q][0]||R===_[q][1])return q;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(R){if(R>=0&&R<this.pages.length)return this.pages[R];throw new Error("Invalid page number")}nextBy(R){const _=this.pages.indexOf(R);return _<this.pages.length-1?this.pages[_+1]:null}prevBy(R){const _=this.pages.indexOf(R);return _>0?this.pages[_-1]:null}getFlippingPage(R){const _=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return R===0?this.pages[_].newTemporaryCopy():this.pages[_-1];{const q=R===0?this.getSpread()[_+1]:this.getSpread()[_-1];return q.length===1||R===0?this.pages[q[0]]:this.pages[q[1]]}}getBottomPage(R){const _=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return R===0?this.pages[_+1]:this.pages[_-1];{const q=R===0?this.getSpread()[_+1]:this.getSpread()[_-1];return q.length===1?this.pages[q[0]]:R===0?this.pages[q[1]]:this.pages[q[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(R=null){if(R===null&&(R=this.currentPageIndex),R<0||R>=this.pages.length)return;const _=this.getSpreadIndexByPage(R);_!==null&&(this.currentSpreadIndex=_,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(R){if(!(R>=0&&R<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=R}showSpread(){const R=this.getSpread()[this.currentSpreadIndex];R.length===2?(this.render.setLeftPage(this.pages[R[0]]),this.render.setRightPage(this.pages[R[1]])):this.render.getOrientation()==="landscape"&&R[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[R[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[R[0]])),this.currentPageIndex=R[0],this.app.updatePageIndex(this.currentPageIndex)}}class h extends u{constructor(R,_,q){super(R,_),this.imagesHref=q}load(){for(const R of this.imagesHref){const _=new o(this.render,R,"soft");_.load(),this.pages.push(_)}this.createSpread()}}class m{static GetDistanceBetweenTwoPoint(R,_){return R===null||_===null?1/0:Math.sqrt(Math.pow(_.x-R.x,2)+Math.pow(_.y-R.y,2))}static GetSegmentLength(R){return m.GetDistanceBetweenTwoPoint(R[0],R[1])}static GetAngleBetweenTwoLine(R,_){const q=R[0].y-R[1].y,se=_[0].y-_[1].y,ee=R[1].x-R[0].x,ae=_[1].x-_[0].x;return Math.acos((q*se+ee*ae)/(Math.sqrt(q*q+ee*ee)*Math.sqrt(se*se+ae*ae)))}static PointInRect(R,_){return _===null?null:_.x>=R.left&&_.x<=R.width+R.left&&_.y>=R.top&&_.y<=R.top+R.height?_:null}static GetRotatedPoint(R,_,q){return{x:R.x*Math.cos(q)+R.y*Math.sin(q)+_.x,y:R.y*Math.cos(q)-R.x*Math.sin(q)+_.y}}static LimitPointToCircle(R,_,q){if(m.GetDistanceBetweenTwoPoint(R,q)<=_)return q;const se=R.x,ee=R.y,ae=q.x,pe=q.y;let fe=Math.sqrt(Math.pow(_,2)*Math.pow(se-ae,2)/(Math.pow(se-ae,2)+Math.pow(ee-pe,2)))+se;q.x<0&&(fe*=-1);let Ee=(fe-se)*(ee-pe)/(se-ae)+ee;return se-ae+ee===0&&(Ee=_),{x:fe,y:Ee}}static GetIntersectBetweenTwoSegment(R,_,q){return m.PointInRect(R,m.GetIntersectBeetwenTwoLine(_,q))}static GetIntersectBeetwenTwoLine(R,_){const q=R[0].y-R[1].y,se=_[0].y-_[1].y,ee=R[1].x-R[0].x,ae=_[1].x-_[0].x,pe=R[0].x*R[1].y-R[1].x*R[0].y,fe=_[0].x*_[1].y-_[1].x*_[0].y,Ee=q*fe-se*pe,_e=ee*fe-ae*pe,Re=-(pe*ae-fe*ee)/(q*ae-se*ee),Pe=-(q*fe-se*pe)/(q*ae-se*ee);if(isFinite(Re)&&isFinite(Pe))return{x:Re,y:Pe};if(Math.abs(Ee-_e)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(R,_){const q=Math.abs(R.x-_.x),se=Math.abs(R.y-_.y),ee=Math.max(q,se),ae=[R];function pe(fe,Ee,_e,Re,Pe){return Ee>fe?fe+Pe*(_e/Re):Ee<fe?fe-Pe*(_e/Re):fe}for(let fe=1;fe<=ee;fe+=1)ae.push({x:pe(R.x,_.x,q,ee,fe),y:pe(R.y,_.y,se,ee,fe)});return ae}}class v extends i{constructor(R,_,q){super(R,q),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=_,this.element.classList.add("stf__item"),this.element.classList.add("--"+q)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new v(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(R){const _=R||this.nowDrawingDensity,q=this.render.convertToGlobal(this.state.position),se=this.render.getRect().pageWidth,ee=this.render.getRect().height;this.element.classList.remove("--simple");const ae=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${se}px;
            height: ${ee}px;
        `;_==="hard"?this.drawHard(ae):this.drawSoft(q,ae)}drawHard(R=""){const _=this.render.getRect().left+this.render.getRect().width/2,q=this.state.hardDrawingAngle,se=R+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${q}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${_}px, 0, 0) rotateY(${q}deg);`);this.element.style.cssText=se}drawSoft(R,_=""){let q="polygon( ";for(const ee of this.state.area)if(ee!==null){let ae=this.render.getDirection()===1?{x:-ee.x+this.state.position.x,y:ee.y-this.state.position.y}:{x:ee.x-this.state.position.x,y:ee.y-this.state.position.y};ae=m.GetRotatedPoint(ae,{x:0,y:0},this.state.angle),q+=ae.x+"px "+ae.y+"px, "}q=q.slice(0,-2),q+=")";const se=_+`transform-origin: 0 0; clip-path: ${q}; -webkit-clip-path: ${q};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${R.x}px, ${R.y}px);`:`transform: translate3d(${R.x}px, ${R.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=se}simpleDraw(R){const _=this.render.getRect(),q=_.pageWidth,se=_.height,ee=R===1?_.left+_.pageWidth:_.left,ae=_.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${se}px; 
            left: ${ee}px; 
            top: ${ae}px; 
            width: ${q}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(R){super.setOrientation(R),this.element.classList.remove("--left","--right"),this.element.classList.add(R===1?"--right":"--left")}setDrawingDensity(R){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+R),super.setDrawingDensity(R)}}class p extends u{constructor(R,_,q,se){super(R,_),this.element=q,this.pagesElement=se}load(){for(const R of this.pagesElement){const _=new v(this.render,R,R.dataset.density==="hard"?"hard":"soft");_.load(),this.pages.push(_)}this.createSpread()}}class f{constructor(R,_,q,se){this.direction=R,this.corner=_,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(q,10),this.pageHeight=parseInt(se,10)}calc(R){try{return this.position=this.calcAngleAndPosition(R),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const R=[];let _=!1;return R.push(this.rect.topLeft),R.push(this.topIntersectPoint),this.sideIntersectPoint===null?_=!0:(R.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(_=!1)),R.push(this.bottomIntersectPoint),(_||this.corner==="bottom")&&R.push(this.rect.bottomLeft),R}getBottomClipArea(){const R=[];return R.push(this.topIntersectPoint),this.corner==="top"?R.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&R.push({x:this.pageWidth,y:0}),R.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?m.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&R.push(this.sideIntersectPoint):this.corner==="top"&&R.push({x:this.pageWidth,y:this.pageHeight}),R.push(this.bottomIntersectPoint),R.push(this.topIntersectPoint),R}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const R=m.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?R:Math.PI-R}calcAngleAndPosition(R){let _=R;if(this.updateAngleAndGeometry(_),_=this.corner==="top"?this.checkPositionAtCenterLine(_,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(_,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(_.x-this.pageWidth)<1&&Math.abs(_.y)<1)throw new Error("Point is too small");return _}updateAngleAndGeometry(R){this.angle=this.calculateAngle(R),this.rect=this.getPageRect(R)}calculateAngle(R){const _=this.pageWidth-R.x+1,q=this.corner==="bottom"?this.pageHeight-R.y:R.y;let se=2*Math.acos(_/Math.sqrt(q*q+_*_));q<0&&(se=-se);const ee=Math.PI-se;if(!isFinite(se)||ee>=0&&ee<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(se=-se),se}getPageRect(R){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],R):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],R)}getRectFromBasePoint(R,_){return{topLeft:this.getRotatedPoint(R[0],_),topRight:this.getRotatedPoint(R[1],_),bottomLeft:this.getRotatedPoint(R[2],_),bottomRight:this.getRotatedPoint(R[3],_)}}getRotatedPoint(R,_){return{x:R.x*Math.cos(this.angle)+R.y*Math.sin(this.angle)+_.x,y:R.y*Math.cos(this.angle)-R.x*Math.sin(this.angle)+_.y}}calculateIntersectPoint(R){const _={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=m.GetIntersectBetweenTwoSegment(_,[R,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=m.GetIntersectBetweenTwoSegment(_,[R,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=m.GetIntersectBetweenTwoSegment(_,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=m.GetIntersectBetweenTwoSegment(_,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=m.GetIntersectBetweenTwoSegment(_,[R,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=m.GetIntersectBetweenTwoSegment(_,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(R,_,q){let se=R;const ee=m.LimitPointToCircle(_,this.pageWidth,se);se!==ee&&(se=ee,this.updateAngleAndGeometry(se));const ae=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let pe=this.rect.bottomRight,fe=this.rect.topLeft;if(this.corner==="bottom"&&(pe=this.rect.topRight,fe=this.rect.bottomLeft),pe.x<=0){const Ee=m.LimitPointToCircle(q,ae,fe);Ee!==se&&(se=Ee,this.updateAngleAndGeometry(se))}return se}getSegmentToShadowLine(){const R=this.getShadowStartPoint();return[R,R!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class b{constructor(R,_){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=R,this.app=_}fold(R){this.setState("user_fold"),this.calc===null&&this.start(R),this.do(this.render.convertToPage(R))}flip(R){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(R)||(this.calc!==null&&this.render.finishAnimation(),!this.start(R)))return;const _=this.getBoundsRect();this.setState("flipping");const q=_.height/10,se=this.calc.getCorner()==="bottom"?_.height-q:q,ee=this.calc.getCorner()==="bottom"?_.height:0;this.calc.calc({x:_.pageWidth-q,y:se}),this.animateFlippingTo({x:_.pageWidth-q,y:se},{x:-_.pageWidth,y:ee},!0)}start(R){this.reset();const _=this.render.convertToBook(R),q=this.getBoundsRect(),se=this.getDirectionByPoint(_),ee=_.y>=q.height/2?"bottom":"top";if(!this.checkDirection(se))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(se),this.bottomPage=this.app.getPageCollection().getBottomPage(se),this.render.getOrientation()==="landscape")if(se===1){const ae=this.app.getPageCollection().nextBy(this.flippingPage);ae!==null&&this.flippingPage.getDensity()!==ae.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),ae.setDrawingDensity("hard"))}else{const ae=this.app.getPageCollection().prevBy(this.flippingPage);ae!==null&&this.flippingPage.getDensity()!==ae.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),ae.setDrawingDensity("hard"))}return this.render.setDirection(se),this.calc=new f(se,ee,q.pageWidth.toString(10),q.height.toString(10)),!0}catch{return!1}}do(R){if(this.calc!==null&&this.calc.calc(R)){const _=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*_)/100):this.flippingPage.setHardAngle(-90*(200-2*_)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),_,this.calc.getDirection())}}flipToPage(R,_){const q=this.app.getPageCollection().getCurrentSpreadIndex(),se=this.app.getPageCollection().getSpreadIndexByPage(R);try{se>q&&(this.app.getPageCollection().setCurrentSpreadIndex(se-1),this.flipNext(_)),se<q&&(this.app.getPageCollection().setCurrentSpreadIndex(se+1),this.flipPrev(_))}catch{}}flipNext(R){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:R==="top"?1:this.render.getRect().height-2})}flipPrev(R){this.flip({x:10,y:R==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const R=this.calc.getPosition(),_=this.getBoundsRect(),q=this.calc.getCorner()==="bottom"?_.height:0;R.x<=0?this.animateFlippingTo(R,{x:-_.pageWidth,y:q},!0):this.animateFlippingTo(R,{x:_.pageWidth,y:q},!1)}showCorner(R){if(!this.checkState("read","fold_corner"))return;const _=this.getBoundsRect(),q=_.pageWidth;if(this.isPointOnCorners(R))if(this.calc===null){if(!this.start(R))return;this.setState("fold_corner"),this.calc.calc({x:q-1,y:1});const se=50,ee=this.calc.getCorner()==="bottom"?_.height-1:1,ae=this.calc.getCorner()==="bottom"?_.height-se:se;this.animateFlippingTo({x:q-1,y:ee},{x:q-se,y:ae},!1,!1)}else this.do(this.render.convertToPage(R));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(R,_,q,se=!0){const ee=m.GetCordsFromTwoPoint(R,_),ae=[];for(const fe of ee)ae.push(()=>this.do(fe));const pe=this.getAnimationDuration(ee.length);this.render.startAnimation(ae,pe,()=>{this.calc&&(q&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),se&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(R){this.state!==R&&(this.app.updateState(R),this.state=R)}getDirectionByPoint(R){const _=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(R.x-_.pageWidth<=_.width/5)return 1}else if(R.x<_.width/2)return 1;return 0}getAnimationDuration(R){const _=this.app.getSettings().flippingTime;return R>=1e3?_:R/1e3*_}checkDirection(R){return R===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...R){for(const _ of R)if(this.state===_)return!0;return!1}isPointOnCorners(R){const _=this.getBoundsRect(),q=_.pageWidth,se=Math.sqrt(Math.pow(q,2)+Math.pow(_.height,2))/5,ee=this.render.convertToBook(R);return ee.x>0&&ee.y>0&&ee.x<_.width&&ee.y<_.height&&(ee.x<se||ee.x>_.width-se)&&(ee.y<se||ee.y>_.height-se)}}class w{constructor(R,_){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=_,this.app=R;const q=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=q.exec(window.navigator.userAgent)!==null}render(R){if(this.animation!==null){const _=Math.round((R-this.animation.startedAt)/this.animation.durationFrame);_<this.animation.frames.length?this.animation.frames[_]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=R,this.drawFrame()}start(){this.update();const R=_=>{this.render(_),requestAnimationFrame(R)};requestAnimationFrame(R)}startAnimation(R,_,q){this.finishAnimation(),this.animation={frames:R,duration:_,durationFrame:_/R.length,onAnimateEnd:q,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const R=this.calculateBoundsRect();this.orientation!==R&&(this.orientation=R,this.app.updateOrientation(R))}calculateBoundsRect(){let R="landscape";const _=this.getBlockWidth(),q=_/2,se=this.getBlockHeight()/2,ee=this.setting.width/this.setting.height;let ae=this.setting.width,pe=this.setting.height,fe=q-ae;return this.setting.size==="stretch"?(_<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(R="portrait"),ae=R==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,ae>this.setting.maxWidth&&(ae=this.setting.maxWidth),pe=ae/ee,pe>this.getBlockHeight()&&(pe=this.getBlockHeight(),ae=pe*ee),fe=R==="portrait"?q-ae/2-ae:q-ae):_<2*ae&&this.app.getSettings().usePortrait&&(R="portrait",fe=q-ae/2-ae),this.boundsRect={left:fe,top:se-pe/2,width:2*ae,height:pe,pageWidth:ae},R}setShadowData(R,_,q,se){if(!this.app.getSettings().drawShadow)return;const ee=100*this.getSettings().maxShadowOpacity;this.shadow={pos:R,angle:_,width:3*this.getRect().pageWidth/4*q/100,opacity:(100-q)*ee/100/100,direction:se,progress:2*q}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(R){this.pageRect=R}setDirection(R){this.direction=R}setRightPage(R){R!==null&&R.setOrientation(1),this.rightPage=R}setLeftPage(R){R!==null&&R.setOrientation(0),this.leftPage=R}setBottomPage(R){R!==null&&R.setOrientation(this.direction===1?0:1),this.bottomPage=R}setFlippingPage(R){R!==null&&R.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=R}convertToBook(R){const _=this.getRect();return{x:R.x-_.left,y:R.y-_.top}}isSafari(){return this.safari}convertToPage(R,_){_||(_=this.direction);const q=this.getRect();return{x:_===0?R.x-q.left-q.width/2:q.width/2-R.x+q.left,y:R.y-q.top}}convertToGlobal(R,_){if(_||(_=this.direction),R==null)return null;const q=this.getRect();return{x:_===0?R.x+q.left+q.width/2:q.width/2-R.x+q.left,y:R.y+q.top}}convertRectToGlobal(R,_){return _||(_=this.direction),{topLeft:this.convertToGlobal(R.topLeft,_),topRight:this.convertToGlobal(R.topRight,_),bottomLeft:this.convertToGlobal(R.bottomLeft,_),bottomRight:this.convertToGlobal(R.bottomRight,_)}}}class S extends w{constructor(R,_,q){super(R,_),this.canvas=q,this.ctx=q.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const R=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(R.left+R.pageWidth,R.top,R.width,R.height),this.ctx.clip())}drawBookShadow(){const R=this.getRect();this.ctx.save(),this.ctx.beginPath();const _=R.width/20;this.ctx.rect(R.left,R.top,R.width,R.height);const q={x:R.left+R.width/2-_/2,y:0};this.ctx.translate(q.x,q.y);const se=this.ctx.createLinearGradient(0,0,_,0);se.addColorStop(0,"rgba(0, 0, 0, 0)"),se.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),se.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),se.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),se.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),se.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=se,this.ctx.fillRect(0,0,_,2*R.height),this.ctx.restore()}drawOuterShadow(){const R=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(R.left,R.top,R.width,R.height);const _=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(_.x,_.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const q=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),q.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),q.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),q.addColorStop(0,"rgba(0, 0, 0, 0)"),q.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=q,this.ctx.fillRect(0,0,this.shadow.width,2*R.height),this.ctx.restore()}drawInnerShadow(){const R=this.getRect();this.ctx.save(),this.ctx.beginPath();const _=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),q=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(q.topLeft.x,q.topLeft.y),this.ctx.lineTo(q.topRight.x,q.topRight.y),this.ctx.lineTo(q.bottomRight.x,q.bottomRight.y),this.ctx.lineTo(q.bottomLeft.x,q.bottomLeft.y),this.ctx.translate(_.x,_.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const se=3*this.shadow.width/4,ee=this.ctx.createLinearGradient(0,0,se,0);this.shadow.direction===0?(this.ctx.translate(-se,-100),ee.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),ee.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),ee.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),ee.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),ee.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),ee.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),ee.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),ee.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=ee,this.ctx.fillRect(0,0,se,2*R.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class j{constructor(R,_,q){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=ee=>{if(this.checkTarget(ee.target)){const ae=this.getMousePos(ee.clientX,ee.clientY);this.app.startUserTouch(ae),ee.preventDefault()}},this.onTouchStart=ee=>{if(this.checkTarget(ee.target)&&ee.changedTouches.length>0){const ae=ee.changedTouches[0],pe=this.getMousePos(ae.clientX,ae.clientY);this.touchPoint={point:pe,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(pe)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||ee.preventDefault()}},this.onMouseUp=ee=>{const ae=this.getMousePos(ee.clientX,ee.clientY);this.app.userStop(ae)},this.onMouseMove=ee=>{const ae=this.getMousePos(ee.clientX,ee.clientY);this.app.userMove(ae,!1)},this.onTouchMove=ee=>{if(ee.changedTouches.length>0){const ae=ee.changedTouches[0],pe=this.getMousePos(ae.clientX,ae.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-pe.x)>10||this.app.getState()!=="read")&&ee.cancelable&&this.app.userMove(pe,!0),this.app.getState()!=="read"&&ee.preventDefault()):this.app.userMove(pe,!0)}},this.onTouchEnd=ee=>{if(ee.changedTouches.length>0){const ae=ee.changedTouches[0],pe=this.getMousePos(ae.clientX,ae.clientY);let fe=!1;if(this.touchPoint!==null){const Ee=pe.x-this.touchPoint.point.x,_e=Math.abs(pe.y-this.touchPoint.point.y);Math.abs(Ee)>this.swipeDistance&&_e<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(Ee>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),fe=!0),this.touchPoint=null}this.app.userStop(pe,fe)}},this.parentElement=R,R.classList.add("stf__parent"),R.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=R.querySelector(".stf__wrapper"),this.app=_;const se=this.app.getSettings().usePortrait?1:2;R.style.minWidth=q.minWidth*se+"px",R.style.minHeight=q.minHeight+"px",q.size==="fixed"&&(R.style.minWidth=q.width*se+"px",R.style.minHeight=q.height+"px"),q.autoSize&&(R.style.width="100%",R.style.maxWidth=2*q.maxWidth+"px"),R.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=q.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(R){this.wrapper.classList.remove("--portrait","--landscape"),R==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(R,_){const q=this.distElement.getBoundingClientRect();return{x:R-q.left,y:_-q.top}}checkTarget(R){return!this.app.getSettings().clickEventForward||!["a","button"].includes(R.tagName.toLowerCase())}}class A extends j{constructor(R,_,q,se){super(R,_,q),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=R.querySelector(".stf__block"),this.items=se;for(const ee of se)this.distElement.appendChild(ee);this.setHandlers()}clear(){for(const R of this.items)this.parentElement.appendChild(R)}updateItems(R){this.removeHandlers(),this.distElement.innerHTML="";for(const _ of R)this.distElement.appendChild(_);this.items=R,this.setHandlers()}update(){this.app.getRender().update()}}class T extends j{constructor(R,_,q){super(R,_,q),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=R.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const R=getComputedStyle(this.canvas),_=parseInt(R.getPropertyValue("width"),10),q=parseInt(R.getPropertyValue("height"),10);this.canvas.width=_,this.canvas.height=q}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class C extends w{constructor(R,_,q){super(R,_),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=q,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const R=this.getRect(),_=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let q=(100-_)*(2.5*R.pageWidth)/100+20;q>R.pageWidth&&(q=R.pageWidth);let se=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${q}px;
            height: ${R.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*_/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${R.left+R.width/2}px;
            transform-origin: 0 0;
        `;se+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=se}drawHardOuterShadow(){const R=this.getRect();let _=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*R.pageWidth)/100+20;_>R.pageWidth&&(_=R.pageWidth);let q=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${_}px;
            height: ${R.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${R.left+R.width/2}px;
            transform-origin: 0 0;
        `;q+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=q}drawInnerShadow(){const R=this.getRect(),_=3*this.shadow.width/4,q=this.getDirection()===0?_:0,se=this.getDirection()===0?"to left":"to right",ee=this.convertToGlobal(this.shadow.pos),ae=this.shadow.angle+3*Math.PI/2,pe=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let fe="polygon( ";for(const _e of pe){let Re=this.getDirection()===1?{x:-_e.x+this.shadow.pos.x,y:_e.y-this.shadow.pos.y}:{x:_e.x-this.shadow.pos.x,y:_e.y-this.shadow.pos.y};Re=m.GetRotatedPoint(Re,{x:q,y:100},ae),fe+=Re.x+"px "+Re.y+"px, "}fe=fe.slice(0,-2),fe+=")";const Ee=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${_}px;
            height: ${2*R.height}px;
            background: linear-gradient(${se},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${q}px 100px;
            transform: translate3d(${ee.x-q}px, ${ee.y-100}px, 0) rotate(${ae}rad);
            clip-path: ${fe};
            -webkit-clip-path: ${fe};
        `;this.innerShadow.style.cssText=Ee}drawOuterShadow(){const R=this.getRect(),_=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),q=this.shadow.angle+3*Math.PI/2,se=this.getDirection()===1?this.shadow.width:0,ee=this.getDirection()===0?"to right":"to left",ae=[{x:0,y:0},{x:R.pageWidth,y:0},{x:R.pageWidth,y:R.height},{x:0,y:R.height}];let pe="polygon( ";for(const Ee of ae)if(Ee!==null){let _e=this.getDirection()===1?{x:-Ee.x+this.shadow.pos.x,y:Ee.y-this.shadow.pos.y}:{x:Ee.x-this.shadow.pos.x,y:Ee.y-this.shadow.pos.y};_e=m.GetRotatedPoint(_e,{x:se,y:100},q),pe+=_e.x+"px "+_e.y+"px, "}pe=pe.slice(0,-2),pe+=")";const fe=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*R.height}px;
            background: linear-gradient(${ee}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${se}px 100px;
            transform: translate3d(${_.x-se}px, ${_.y-100}px, 0) rotate(${q}rad);
            clip-path: ${pe};
            -webkit-clip-path: ${pe};
        `;this.outerShadow.style.cssText=fe}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const R=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(R))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const R of this.app.getPageCollection().getPages())R!==this.leftPage&&R!==this.rightPage&&R!==this.flippingPage&&R!==this.bottomPage&&(R.getElement().style.cssText="display: none"),R.getTemporaryCopy()!==this.flippingPage&&R.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class O{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(R){const _=this._default;if(Object.assign(_,R),_.size!=="stretch"&&_.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(_.width<=0||_.height<=0)throw new Error("Invalid width or height");if(_.flippingTime<=0)throw new Error("Invalid flipping time");return _.size==="stretch"?(_.minWidth<=0&&(_.minWidth=100),_.maxWidth<_.minWidth&&(_.maxWidth=2e3),_.minHeight<=0&&(_.minHeight=100),_.maxHeight<_.minHeight&&(_.maxHeight=2e3)):(_.minWidth=_.width,_.maxWidth=_.width,_.minHeight=_.height,_.maxHeight=_.height),_}}(function(M,R){R===void 0&&(R={});var _=R.insertAt;if(typeof document<"u"){var q=document.head||document.getElementsByTagName("head")[0],se=document.createElement("style");se.type="text/css",_==="top"&&q.firstChild?q.insertBefore(se,q.firstChild):q.appendChild(se),se.styleSheet?se.styleSheet.cssText=M:se.appendChild(document.createTextNode(M))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),n.PageFlip=class extends class{constructor(){this.events=new Map}on(M,R){return this.events.has(M)?this.events.get(M).push(R):this.events.set(M,[R]),this}off(M){this.events.delete(M)}trigger(M,R,_=null){if(this.events.has(M))for(const q of this.events.get(M))q({data:_,object:R})}}{constructor(M,R){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new O().getSettings(R),this.block=M}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(M){this.ui=new T(this.block,this,this.setting);const R=this.ui.getCanvas();this.render=new S(this,this.setting,R),this.flipController=new b(this.render,this),this.pages=new h(this,this.render,M),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(M){this.ui=new A(this.block,this,this.setting,M),this.render=new C(this,this.setting,this.ui.getDistElement()),this.flipController=new b(this.render,this),this.pages=new p(this,this.render,this.ui.getDistElement(),M),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(M){const R=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new h(this,this.render,M),this.pages.load(),this.pages.show(R),this.trigger("update",this,{page:R,mode:this.render.getOrientation()})}updateFromHtml(M){const R=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new p(this,this.render,this.ui.getDistElement(),M),this.pages.load(),this.ui.updateItems(M),this.render.reload(),this.pages.show(R),this.trigger("update",this,{page:R,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(M){this.pages.show(M)}flipNext(M="top"){this.flipController.flipNext(M)}flipPrev(M="top"){this.flipController.flipPrev(M)}flip(M,R="top"){this.flipController.flipToPage(M,R)}updateState(M){this.trigger("changeState",this,M)}updatePageIndex(M){this.trigger("flip",this,M)}updateOrientation(M){this.ui.setOrientationStyle(M),this.update(),this.trigger("changeOrientation",this,M)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(M){return this.pages.getPage(M)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(M){this.mousePosition=M,this.isUserTouch=!0,this.isUserMove=!1}userMove(M,R){this.isUserTouch||R||!this.setting.showPageCorners?this.isUserTouch&&m.GetDistanceBetweenTwoPoint(this.mousePosition,M)>5&&(this.isUserMove=!0,this.flipController.fold(M)):this.flipController.showCorner(M)}userStop(M,R=!1){this.isUserTouch&&(this.isUserTouch=!1,R||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(M)))}},Object.defineProperty(n,"__esModule",{value:!0})})}(pageFlip_browser$1,pageFlip_browser$1.exports)),pageFlip_browser$1.exports}var pageFlip_browserExports=requirePageFlip_browser();const HTMLFlipBookForward=React.forwardRef((e,t)=>{const n=reactExports.useRef(null),i=reactExports.useRef([]),o=reactExports.useRef(),[u,h]=reactExports.useState([]);reactExports.useImperativeHandle(t,()=>({pageFlip:()=>o.current}));const m=reactExports.useCallback(()=>{o.current&&o.current.clear()},[]),v=reactExports.useCallback(()=>{const p=o.current;p&&(p.off("flip"),p.off("changeOrientation"),p.off("changeState"),p.off("init"),p.off("update"))},[]);return reactExports.useEffect(()=>{if(i.current=[],e.children){const p=React.Children.map(e.children,f=>React.cloneElement(f,{ref:b=>{b&&i.current.push(b)}}));(!e.renderOnlyPageLengthChange||u.length!==p.length)&&(p.length<u.length&&m(),h(p))}},[e.children]),reactExports.useEffect(()=>{const p=()=>{const f=o.current;f&&(e.onFlip&&f.on("flip",b=>e.onFlip(b)),e.onChangeOrientation&&f.on("changeOrientation",b=>e.onChangeOrientation(b)),e.onChangeState&&f.on("changeState",b=>e.onChangeState(b)),e.onInit&&f.on("init",b=>e.onInit(b)),e.onUpdate&&f.on("update",b=>e.onUpdate(b)))};u.length>0&&i.current.length>0&&(v(),n.current&&!o.current&&(o.current=new pageFlip_browserExports.PageFlip(n.current,e)),o.current.getFlipController()?o.current.updateFromHtml(i.current):o.current.loadFromHTML(i.current),p())},[u]),React.createElement("div",{ref:n,className:e.className,style:e.style},u)}),HTMLFlipBook=React.memo(HTMLFlipBookForward),Archive=()=>{const[e,t]=reactExports.useState([]),[n,i]=reactExports.useState(null),[o,u]=reactExports.useState({}),h=useNavigate(),m=async()=>{const{data:p,error:f}=await supabase.from("magazines").select("*").eq("published",!0).order("created_at",{ascending:!1});f?console.error("Error fetching magazines:",f):(t(p||[]),v(p||[]))},v=async p=>{const f={};for(const b of p){const{data:w,error:S}=await supabase.from("magazine_ratings").select("rating").eq("magazine_id",b.id);if(!S&&w&&w.length>0){const A=w.reduce((T,C)=>T+C.rating,0)/w.length;f[b.id]={average:A,count:w.length}}else f[b.id]={average:0,count:0}}u(f)};return reactExports.useEffect(()=>{m();const p=supabase.channel("magazines-changes").on("postgres_changes",{event:"*",schema:"public",table:"magazines"},()=>m()).subscribe(),f=supabase.channel("ratings-changes").on("postgres_changes",{event:"*",schema:"public",table:"magazine_ratings"},()=>m()).subscribe();return()=>{supabase.removeChannel(p),supabase.removeChannel(f)}},[]),reactExports.useEffect(()=>{const f=new URLSearchParams(window.location.search).get("magazineId");if(f&&e.length>0){const b=e.find(w=>w.id===f);b&&(i(b),window.history.replaceState({},"","/archive"))}},[e]),jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0b0c10] via-[#1b0b28] to-[#071030] text-gray-200 pt-20",children:[jsxRuntimeExports.jsxs("header",{className:"py-16 text-center px-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-6xl font-black tracking-tight mb-4 text-gray-100",children:"Magazine Archive"}),jsxRuntimeExports.jsx("p",{className:"text-lg md:text-xl text-gray-400 max-w-3xl mx-auto font-light mb-6",children:"Explore student research, projects, and innovation from across campus."}),jsxRuntimeExports.jsx(Link,{to:"/",className:"text-purple-300 hover:text-yellow-300 font-medium",children:"← Back to Home"})]}),jsxRuntimeExports.jsxs("section",{className:"px-6 pb-20",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-100 mb-8 text-center",children:"All Issues"}),e.length===0?jsxRuntimeExports.jsx("p",{className:"text-center text-gray-400",children:"No magazines uploaded yet."}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10 max-w-6xl mx-auto",children:e.map((p,f)=>{const b=f===0;return jsxRuntimeExports.jsxs("article",{onClick:()=>i(p),className:"group overflow-hidden rounded-lg shadow-lg transform transition duration-500 hover:scale-105 hover:shadow-2xl cursor-pointer bg-black/20 border border-purple-500/20 relative",children:[jsxRuntimeExports.jsxs("div",{className:"aspect-[3/4] overflow-hidden bg-[#241231]",children:[jsxRuntimeExports.jsx("img",{src:p.cover,alt:p.title,className:"w-full h-full object-cover transform transition duration-700 group-hover:scale-110"}),b&&jsxRuntimeExports.jsx("div",{className:"absolute top-4 left-4 bg-gradient-to-r from-red-500 via-yellow-500 to-pink-500 text-white text-xs font-extrabold px-3 py-1.5 rounded-full shadow-lg animate-pulse z-10 transform -rotate-12",children:"🔥 Latest!"})]}),jsxRuntimeExports.jsxs("div",{className:"p-5 bg-[#241231] bg-opacity-90 border-t border-purple-500/30",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold mb-1 text-gray-100",children:[p.title,jsxRuntimeExports.jsxs("p",{className:"text-gray-400 text-sm",children:["By ",p.author]})]}),p.subtitle&&jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm mb-2 italic",children:p.subtitle}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-xs mt-1",children:p.course}),o[p.id]&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-2 mb-1",children:[jsxRuntimeExports.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(w=>jsxRuntimeExports.jsx("svg",{className:`w-4 h-4 ${w<=Math.round(o[p.id].average)?"text-yellow-400":"text-gray-600"}`,fill:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})},w))}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-400",children:[o[p.id].average.toFixed(1)," (",o[p.id].count," ",o[p.id].count===1?"rating":"ratings",")"]})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm mt-2",children:new Date(p.created_at).toLocaleDateString()})]})]},p.id)})})]}),n&&jsxRuntimeExports.jsx(MagazineModal,{mag:n,onClose:()=>i(null),navigate:h})]})},MagazineModal=({mag:e,onClose:t,navigate:n})=>{const[i,o]=reactExports.useState(0),[u,h]=reactExports.useState(!1),[m,v]=reactExports.useState(!1),[p,f]=reactExports.useState([]),[b,w]=reactExports.useState(""),[S,j]=reactExports.useState(!0),[A,T]=reactExports.useState(!0),[C,O]=reactExports.useState({}),[M,R]=reactExports.useState(!1),[_,q]=reactExports.useState(0),[se,ee]=reactExports.useState(!1),[ae,pe]=reactExports.useState(0),fe=React.useRef(null),[Ee]=reactExports.useState(()=>{let ue=localStorage.getItem("magazine_user_id");return ue||(ue="user_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem("magazine_user_id",ue)),ue}),[_e,Re]=reactExports.useState(0),[Pe,je]=reactExports.useState(!1),ce=()=>{console.log(`User spent ${_e} seconds, hasInteracted: ${Pe}, hasRated: ${se}`),!se&&(_e>=3||Pe)?(console.log("Showing rating popup on exit..."),R(!0)):(console.log("Conditions not met for rating popup, closing immediately..."),t())};reactExports.useEffect(()=>{const ue=me=>{const te=document.querySelector(".book-fullscreen-mode");if(te){const he=document.querySelector(".book-fullscreen-mode .magazine-flipbook");he&&!he.contains(me.target)&&(te.classList.remove("book-fullscreen-mode"),console.log("Exited fullscreen - returning to normal modal view"),setTimeout(()=>{if(fe.current)try{const ge=fe.current.pageFlip();ge&&ge.update&&ge.update()}catch(ge){console.log("PageFlip update error:",ge)}},350))}},ve=me=>{if(me.key==="Escape"||me.keyCode===27){const te=document.querySelector(".book-fullscreen-mode");te&&(te.classList.remove("book-fullscreen-mode"),console.log("Exited fullscreen via ESC key"),setTimeout(()=>{if(fe.current)try{const he=fe.current.pageFlip();he&&he.update&&he.update()}catch(he){console.log("PageFlip update error:",he)}},350))}};return document.addEventListener("click",ue),document.addEventListener("keydown",ve),()=>{document.removeEventListener("click",ue),document.removeEventListener("keydown",ve)}},[]),reactExports.useEffect(()=>{(async()=>{j(!0),await supabase.from("magazine_analytics").insert([{magazine_id:e.id,event_type:"visit"}]);const{data:ve}=await supabase.from("magazine_likes").select("*").eq("magazine_id",e.id).eq("user_id",Ee).single();ve&&h(!0);const{data:me}=await supabase.from("magazine_saves").select("*").eq("magazine_id",e.id).eq("user_id",Ee).single();me&&v(!0);const{data:te}=await supabase.from("magazine_ratings").select("*").eq("magazine_id",e.id).eq("user_id",Ee).single();te&&(ee(!0),q(te.rating));const{data:he}=await supabase.from("magazine_likes").select("*",{count:"exact"}).eq("magazine_id",e.id);o(he?.length||0);const{data:ge}=await supabase.from("magazine_comments").select("*").eq("magazine_id",e.id).order("created_at",{ascending:!1});ge&&f(ge),j(!1)})()},[e.id,Ee]);const le=async()=>{u?(await supabase.from("magazine_likes").delete().eq("magazine_id",e.id).eq("user_id",Ee),o(i-1),h(!1)):(await supabase.from("magazine_likes").insert([{magazine_id:e.id,user_id:Ee}]),await supabase.from("magazine_analytics").insert([{magazine_id:e.id,event_type:"like"}]),o(i+1),h(!0))},ie=async()=>{m?(await supabase.from("magazine_saves").delete().eq("magazine_id",e.id).eq("user_id",Ee),v(!1)):(await supabase.from("magazine_saves").insert([{magazine_id:e.id,user_id:Ee}]),await supabase.from("magazine_analytics").insert([{magazine_id:e.id,event_type:"save"}]),v(!0))},Y=async ue=>{if(ue.preventDefault(),!b.trim())return;const ve={magazine_id:e.id,user_id:Ee,user_name:"Anonymous User",text:b.trim()},{data:me,error:te}=await supabase.from("magazine_comments").insert([ve]).select().single();!te&&me&&(f([me,...p]),w(""),await supabase.from("magazine_analytics").insert([{magazine_id:e.id,event_type:"comment"}]))},ne=async ue=>{q(ue);const{error:ve}=await supabase.from("magazine_ratings").upsert([{magazine_id:e.id,user_id:Ee,rating:ue}]);ve||(ee(!0),R(!1),await supabase.from("magazine_analytics").insert([{magazine_id:e.id,event_type:"rating",metadata:{rating:ue}}]),setTimeout(()=>{t()},1e3))},oe=()=>{R(!1),t()};return reactExports.useEffect(()=>{const ue=Date.now(),ve=()=>{console.log("User interaction detected!"),je(!0)},me=document.querySelector(".magazine-flipbook"),te=document.querySelector(".bg-\\[\\#241231\\]");me&&(me.addEventListener("click",ve),me.addEventListener("touchstart",ve),me.addEventListener("mousedown",ve)),te&&te.addEventListener("click",ve),document.querySelectorAll("button").forEach(ye=>{ye.addEventListener("click",ve)});const ge=setTimeout(()=>{console.log("Fallback interaction timer triggered"),je(!0)},2e3),xe=setInterval(()=>{const ye=Math.floor((Date.now()-ue)/1e3);Re(ye)},1e3);return()=>{clearInterval(xe),clearTimeout(ge),me&&(me.removeEventListener("click",ve),me.removeEventListener("touchstart",ve),me.removeEventListener("mousedown",ve)),te&&te.removeEventListener("click",ve)}},[]),reactExports.useEffect(()=>{if(se)return;let ue=null,ve=!1;const me=()=>{const xe=fe.current?.pageFlip();if(!xe){setTimeout(me,500);return}const ye=Se=>{const we=1+(e.pages?.length||0),ke=Se.data;pe(ke),console.log(`Page flipped to: ${ke}, Total pages: ${we}`),ue&&clearTimeout(ue),ke>=we-1&&(console.log("User reached last page, starting timer..."),ve=!0,ue=setTimeout(()=>{se||(console.log("Showing rating popup after timer..."),R(!0))},3e3))};try{xe.on("flip",ye),setTimeout(()=>{const Se=xe.getCurrentPageIndex?xe.getCurrentPageIndex():0,we=1+(e.pages?.length||0);Se>=we-1&&(ve=!0,ue=setTimeout(()=>{se||R(!0)},3e3))},1e3)}catch(Se){console.log("PageFlip event listener setup failed:",Se)}return()=>{try{xe.off&&xe.off("flip",ye)}catch(Se){console.log("PageFlip cleanup failed:",Se)}}},te=()=>{1+(e.pages?.length||0)<=3&&setTimeout(()=>{se||(console.log("Short magazine: showing rating popup after interaction"),R(!0))},5e3)},he=me(),ge=document.querySelector(".magazine-flipbook");return ge&&ge.addEventListener("click",te),()=>{ue&&clearTimeout(ue),ge&&ge.removeEventListener("click",te),he&&he()}},[e.pages?.length,se]),reactExports.useEffect(()=>{if(!A&&fe.current){const ue=setTimeout(()=>{try{const ve=fe.current.pageFlip();ve&&ve.update&&ve.update()}catch(ve){console.log("PageFlip init error:",ve)}},200);return()=>clearTimeout(ue)}},[A]),reactExports.useEffect(()=>{let ue;const ve=()=>{clearTimeout(ue),ue=setTimeout(()=>{if(fe.current)try{const me=fe.current.pageFlip();me&&me.update&&me.update()}catch(me){console.log("PageFlip update error:",me)}},250)};return window.addEventListener("resize",ve),()=>{clearTimeout(ue),window.removeEventListener("resize",ve)}},[]),reactExports.useEffect(()=>{const ue=1+(e.pages?.length||0);let ve=0;const me=()=>{ve++,ve===ue&&T(!1)},te=new Image;te.onload=()=>{O(he=>({...he,cover:!0})),me()},te.onerror=()=>me(),te.loading="eager",te.src=e.cover,e.pages&&e.pages.length>0&&e.pages.forEach((he,ge)=>{const xe=new Image;xe.onload=()=>{O(ye=>({...ye,[`page-${ge}`]:!0})),me()},xe.onerror=()=>me(),xe.loading="eager",xe.src=he})},[e.cover,e.pages]),jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-[#0b0c10] bg-opacity-95 z-50 flex items-center justify-center p-4",onClick:ue=>{ue.target===ue.currentTarget&&ce()},children:S?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-20 w-20 border-t-4 border-b-4 border-purple-500 shadow-lg shadow-purple-500/50"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 animate-spin rounded-full h-20 w-20 border-t-4 border-b-4 border-pink-500 opacity-50 shadow-lg shadow-pink-500/50",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-2",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-100 text-xl font-bold animate-pulse",children:"Loading Magazine"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce shadow-sm shadow-purple-500/50",style:{animationDelay:"0ms"}}),jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce shadow-sm shadow-purple-500/50",style:{animationDelay:"150ms"}}),jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce shadow-sm shadow-purple-500/50",style:{animationDelay:"300ms"}})]})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm text-center max-w-xs",children:"preparing your reading experience..."})]}):jsxRuntimeExports.jsxs("div",{className:"max-h-full overflow-auto rounded-lg shadow-2xl max-w-6xl w-full",onClick:ue=>ue.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"bg-[#241231] bg-opacity-95 text-gray-200 flex flex-col md:flex-row gap-8 p-6 rounded-lg shadow-2xl border border-purple-500/30",children:[jsxRuntimeExports.jsxs("div",{className:"w-full md:w-auto md:flex-shrink-0 flex flex-col items-center justify-center p-2 md:p-4 relative group",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{n("/magazine-reader",{state:{magazine:e}})},className:"absolute top-2 right-2 z-10 md:opacity-0 md:group-hover:opacity-100 opacity-100 transition-opacity duration-300 bg-purple-600 hover:bg-purple-700 text-white p-2 rounded-full shadow-lg pointer-events-auto",title:"Book Reading Mode",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C20.832 18.477 19.247 18 17.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),jsxRuntimeExports.jsx("button",{onClick:()=>{const ue=document.querySelector(".book-fullscreen-mode");ue&&(ue.classList.remove("book-fullscreen-mode"),console.log("Exited fullscreen via X button - returning to normal modal view"),setTimeout(()=>{if(fe.current)try{const ve=fe.current.pageFlip();ve&&ve.update&&ve.update()}catch(ve){console.log("PageFlip update error:",ve)}},350))},className:"fullscreen-close-btn absolute top-4 right-4 z-[60] bg-red-600 hover:bg-red-700 text-white p-3 rounded-full shadow-lg opacity-0 transition-all duration-300",title:"Exit Fullscreen",style:{display:"none"},children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),jsxRuntimeExports.jsx("div",{className:"fullscreen-instructions absolute bottom-4 left-1/2 transform -translate-x-1/2 z-[60] opacity-0 transition-all duration-300 bg-black/70 backdrop-blur-sm px-6 py-3 rounded-full border border-purple-500/30",style:{display:"none"},children:jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm text-center",children:"📖 Click corners to flip pages • Press ESC or click X to exit"})}),jsxRuntimeExports.jsx("div",{className:"w-full max-w-[300px] sm:max-w-[350px] md:max-w-[400px] lg:max-w-[480px] perspective-1000 relative magazine-container pointer-events-none",style:{aspectRatio:"480/700"},children:jsxRuntimeExports.jsxs(HTMLFlipBook,{ref:fe,width:window.innerWidth<640?300:window.innerWidth<768?350:window.innerWidth<1024?400:480,height:window.innerWidth<640?437:window.innerWidth<768?510:window.innerWidth<1024?583:700,uncutPages:!1,showCover:!0,className:"magazine-flipbook pointer-events-auto",flippingTime:800,useMouseEvents:!0,maxShadowOpacity:.7,showSwipeHint:!0,autoSize:!0,clickEventForward:!0,usePortrait:!0,startPage:0,showPageCorners:!0,size:"stretch",renderOnlyPageLengths:!1,minWidth:300,maxWidth:1800,minHeight:400,maxHeight:1200,style:{margin:"auto"},swipeDistance:50,disableFlipByClick:!1,drawShadow:!0,mobileScrollSupport:!1,children:[jsxRuntimeExports.jsxs("div",{className:"page-wrapper relative shadow-2xl",style:{boxShadow:"0 0 20px rgba(200,200,200,0.3), inset 0 0 10px rgba(255,255,255,0.2)"},children:[!C.cover&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#2c1052]",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}),jsxRuntimeExports.jsx("img",{src:e.cover,alt:`Cover of ${e.title}`,className:`w-full h-full object-cover transition-opacity duration-300 ${C.cover?"opacity-100":"opacity-0"}`,style:{background:"#2c1052"}}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent pointer-events-none"})]}),e.pages?.map((ue,ve)=>jsxRuntimeExports.jsxs("div",{className:"page-wrapper relative shadow-2xl",style:{boxShadow:"0 0 20px rgba(200,200,200,0.3), inset 0 0 10px rgba(255,255,255,0.2)"},children:[!C[`page-${ve}`]&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#2c1052]",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}),jsxRuntimeExports.jsx("img",{src:ue,alt:`Page ${ve+2} of ${e.title}`,className:`w-full h-full object-cover transition-opacity duration-300 ${C[`page-${ve}`]?"opacity-100":"opacity-0"}`,style:{background:"#2c1052"}}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:ve+2})]},ve))]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-2 mt-4",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Click corners to flip pages • Click book mode for side-by-side reading"}),se&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium",children:["You rated this ",_," star",_!==1?"s":"","!"]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"md:flex-1 flex flex-col max-h-[80vh]",children:[jsxRuntimeExports.jsxs("div",{className:"overflow-y-auto pr-4 mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold mb-2 text-gray-100",children:e.title}),jsxRuntimeExports.jsxs("p",{className:"text-gray-400 text-lg mb-1",children:["By ",e.author]}),e.subtitle&&jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-xl mb-3 italic font-light",children:e.subtitle}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm mb-1",children:e.course}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg mb-4",children:new Date(e.created_at).toLocaleDateString()}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:e.description}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-6 flex-wrap ml-4",children:[jsxRuntimeExports.jsxs("button",{onClick:le,className:`group flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium transition-all duration-300 transform hover:scale-105 ${u?"bg-gradient-to-r from-red-500 to-pink-500 text-white shadow-lg shadow-red-500/30":"bg-white/5 text-gray-400 hover:bg-white/10 hover:text-red-400 border border-white/10"}`,children:[jsxRuntimeExports.jsx("svg",{className:`w-5 h-5 transition-transform duration-300 ${u?"scale-110":"group-hover:scale-110"}`,fill:u?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold",children:"Like"}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-semibold",children:["(",i,")"]})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>document.querySelector('input[placeholder="Join the discussion..."]')?.focus(),className:"group flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium transition-all duration-300 transform hover:scale-105 bg-white/5 text-gray-400 hover:bg-white/10 hover:text-blue-400 border border-white/10",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 transition-transform duration-300 group-hover:scale-110",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold",children:"Comment"}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-semibold",children:["(",p.length,")"]})]}),jsxRuntimeExports.jsxs("button",{onClick:ie,className:`group flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium transition-all duration-300 transform hover:scale-105 ${m?"bg-gradient-to-r from-yellow-500 to-amber-500 text-white shadow-lg shadow-yellow-500/30":"bg-white/5 text-gray-400 hover:bg-white/10 hover:text-yellow-400 border border-white/10"}`,children:[jsxRuntimeExports.jsx("svg",{className:`w-5 h-5 transition-transform duration-300 ${m?"scale-110":"group-hover:scale-110"}`,fill:m?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold",children:m?"Saved":"Save"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t border-purple-500/20 pt-4 flex flex-col max-h-[40vh]",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-100",children:"Comments"}),jsxRuntimeExports.jsx("ul",{className:"space-y-3 overflow-y-auto flex-grow pr-2",children:p.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"No comments yet. Be the first!"}):p.map(ue=>jsxRuntimeExports.jsxs("li",{className:"bg-black/20 p-3 rounded-lg border border-purple-500/20",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{className:"text-gray-100",children:ue.user_name||"Anonymous User"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400 ml-2",children:"Student"})]}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:new Date(ue.created_at).toLocaleDateString()})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm mt-1",children:ue.text})]},ue.id))}),jsxRuntimeExports.jsxs("form",{onSubmit:Y,className:"flex gap-2 mt-4 w-full",children:[jsxRuntimeExports.jsx("input",{type:"text",value:b,onChange:ue=>w(ue.target.value),placeholder:"Join the discussion...",className:"flex-grow bg-black/20 border border-purple-500/20 rounded-full px-4 py-2 text-gray-200 focus:outline-none focus:ring-2 focus:ring-violet-600"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"bg-violet-600 hover:bg-violet-700 text-white px-5 py-2 rounded-full text-sm transition",children:"Post"})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 text-right",children:jsxRuntimeExports.jsx("button",{onClick:ce,className:"bg-gray-600 hover:bg-gray-500 text-white px-5 py-2 rounded-full text-sm transition",children:"Close"})})]})]}),M&&!se&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-[#2c1052] to-[#1b0b28] border border-purple-500/30 rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl shadow-purple-500/20 animate-bounce-in",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg shadow-yellow-500/30 animate-pulse",children:jsxRuntimeExports.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"How was your experience? ✨"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-300 mb-6",children:['Rate "',e.title,'" magazine and help others discover great content!']}),jsxRuntimeExports.jsx("div",{className:"flex justify-center gap-2 mb-6",children:[1,2,3,4,5].map(ue=>jsxRuntimeExports.jsx("button",{onClick:()=>ne(ue),onMouseEnter:()=>q(ue),onMouseLeave:()=>!se&&q(0),className:"group transform transition-all duration-200 hover:scale-125 focus:outline-none",children:jsxRuntimeExports.jsx("svg",{className:`w-10 h-10 transition-all duration-200 ${ue<=_?"text-yellow-400 drop-shadow-lg":"text-gray-500 group-hover:text-yellow-300"}`,fill:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},ue))}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 justify-center",children:[jsxRuntimeExports.jsx("button",{onClick:oe,className:"px-6 py-2.5 bg-gray-600/50 hover:bg-gray-600 text-white rounded-full transition-all duration-200 text-sm font-medium border border-gray-500/30",children:"Maybe Later"}),_>0&&jsxRuntimeExports.jsx("button",{onClick:()=>ne(_),className:"px-8 py-2.5 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-full transition-all duration-200 text-sm font-bold shadow-lg shadow-purple-500/30 transform hover:scale-105",children:"Submit Rating"})]})]})})})]})})},About=()=>{const e=[{title:"Digital Skills Training",description:"Expert-led sessions in SEO, photography, videography, and content creation",icon:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),color:"from-blue-500 to-cyan-500"},{title:"Innovation & Entrepreneurship",description:"Supporting student innovation and social impact initiatives",icon:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),color:"from-purple-500 to-pink-500"},{title:"Campus Engagement",description:"Enhancing UIC's virtual presence and community connection",icon:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),color:"from-green-500 to-emerald-500"},{title:"Collaborative Growth",description:"Working with UCO for Publicity and campus organizations",icon:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),color:"from-orange-500 to-red-500"}];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0b0c10] via-[#1b0b28] to-[#071030] text-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-purple-500/10 rounded-full blur-3xl animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-violet-500/10 rounded-full blur-3xl animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-pink-500/5 rounded-full blur-3xl"})]}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 px-6 py-24 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-20",children:[jsxRuntimeExports.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-600 to-violet-600 rounded-2xl mb-6 shadow-2xl shadow-purple-500/30",children:jsxRuntimeExports.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),jsxRuntimeExports.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-black text-white mb-4",children:["About ",jsxRuntimeExports.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-violet-400 to-pink-400",children:"Campus Insights"})]}),jsxRuntimeExports.jsx("p",{className:"text-xl md:text-2xl text-gray-400 max-w-3xl mx-auto",children:"The VIBE Club Information Hub"}),jsxRuntimeExports.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-purple-500 to-violet-600 mx-auto mt-6 rounded-full"})]}),jsxRuntimeExports.jsx("div",{className:"mb-16",children:jsxRuntimeExports.jsx("div",{className:"bg-black/30 backdrop-blur-sm rounded-3xl border border-purple-500/30 shadow-2xl p-8 md:p-12 hover:border-purple-500/50 transition-all duration-500",children:jsxRuntimeExports.jsxs("p",{className:"text-gray-300 leading-relaxed text-lg md:text-xl",children:[jsxRuntimeExports.jsx("strong",{className:"text-white font-semibold",children:"Campus Insights"})," highlights the role of emerging digital technologies in shaping how The VIBE Club connects with its audience. As a content creation group at the University of the Immaculate Conception (UIC), The VIBE Club faces challenges in maintaining a consistent online presence and staying current with digital trends."]})})}),jsxRuntimeExports.jsxs("div",{className:"mb-16",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/30",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),jsxRuntimeExports.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white",children:"Our Mission"})]}),jsxRuntimeExports.jsx("div",{className:"bg-black/30 backdrop-blur-sm rounded-3xl border border-purple-500/30 shadow-2xl p-8 md:p-12 hover:border-purple-500/50 transition-all duration-500",children:jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed text-lg md:text-xl",children:"To support growth and innovation, The VIBE Club offers expert-led trainings each semester in areas like SEO, digital and mobile photography, videography, content creation, article writing, and AI prompting. These sessions aim to equip members with essential digital communication skills. Beyond personal development, we are committed to promoting entrepreneurship, innovation, and social impact in line with the TBI."})})]}),jsxRuntimeExports.jsxs("div",{className:"mb-16",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-3",children:"What We Do"}),jsxRuntimeExports.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-purple-500 to-violet-600 mx-auto rounded-full"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((t,n)=>jsxRuntimeExports.jsx("div",{className:"group bg-black/30 backdrop-blur-sm rounded-2xl border border-purple-500/30 hover:border-purple-500/50 transition-all duration-500 p-8 hover:shadow-2xl hover:shadow-purple-500/20 hover:scale-[1.02]",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-5",children:[jsxRuntimeExports.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${t.color} rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 group-hover:rotate-3 transition-all duration-500`,children:t.icon}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-3 group-hover:text-purple-300 transition-colors duration-300",children:t.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 leading-relaxed text-base md:text-lg",children:t.description})]})]})},n))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center shadow-lg shadow-purple-500/30",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),jsxRuntimeExports.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white",children:"Editorial Board"})]}),jsxRuntimeExports.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-purple-500 to-violet-600 mx-auto rounded-full"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"group bg-black/30 backdrop-blur-sm rounded-2xl border border-purple-500/30 hover:border-purple-500/50 transition-all duration-500 p-6 text-center hover:shadow-2xl hover:shadow-purple-500/20 hover:scale-105",children:[jsxRuntimeExports.jsxs("div",{className:"relative mb-5 inline-block",children:[jsxRuntimeExports.jsx("img",{src:"https://ui-avatars.com/api/?name=Alan+Reyes&size=128&background=6366f1&color=fff&rounded=true&bold=true",alt:"N/A",className:"w-24 h-24 rounded-full object-cover mx-auto border-4 border-purple-500 group-hover:border-purple-400 transition-all duration-300 shadow-xl"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-gradient-to-br from-purple-500 to-violet-600 rounded-full flex items-center justify-center shadow-lg",children:jsxRuntimeExports.jsxs("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l9-5-9-5-9 5 9 5z"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"})]})})]}),jsxRuntimeExports.jsx("h3",{className:"text-white font-bold text-lg mb-2 group-hover:text-purple-300 transition-colors duration-300",children:"N/A"}),jsxRuntimeExports.jsx("p",{className:"text-purple-400 text-sm font-semibold mb-1",children:"Faculty Advisor"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-xs",children:"Computer Science"})]}),jsxRuntimeExports.jsxs("div",{className:"group bg-black/30 backdrop-blur-sm rounded-2xl border border-purple-500/30 hover:border-purple-500/50 transition-all duration-500 p-6 text-center hover:shadow-2xl hover:shadow-pink-500/20 hover:scale-105",children:[jsxRuntimeExports.jsxs("div",{className:"relative mb-5 inline-block",children:[jsxRuntimeExports.jsx("img",{src:"https://ui-avatars.com/api/?name=Sophia+Kim&size=128&background=ec4899&color=fff&rounded=true&bold=true",alt:"N/A",className:"w-24 h-24 rounded-full object-cover mx-auto border-4 border-pink-500 group-hover:border-pink-400 transition-all duration-300 shadow-xl"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-gradient-to-br from-pink-500 to-rose-600 rounded-full flex items-center justify-center shadow-lg",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),jsxRuntimeExports.jsx("h3",{className:"text-white font-bold text-lg mb-2 group-hover:text-pink-300 transition-colors duration-300",children:"N/A"}),jsxRuntimeExports.jsx("p",{className:"text-pink-400 text-sm font-semibold mb-1",children:"Editor-in-Chief"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-xs",children:"Class of 2025"})]}),jsxRuntimeExports.jsxs("div",{className:"group bg-black/30 backdrop-blur-sm rounded-2xl border border-purple-500/30 hover:border-purple-500/50 transition-all duration-500 p-6 text-center hover:shadow-2xl hover:shadow-green-500/20 hover:scale-105",children:[jsxRuntimeExports.jsxs("div",{className:"relative mb-5 inline-block",children:[jsxRuntimeExports.jsx("img",{src:"https://ui-avatars.com/api/?name=Jamal+Wright&size=128&background=10b981&color=fff&rounded=true&bold=true",alt:"Jamal Wright",className:"w-24 h-24 rounded-full object-cover mx-auto border-4 border-green-500 group-hover:border-green-400 transition-all duration-300 shadow-xl"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center shadow-lg",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM7 3H5a2 2 0 00-2 2v12a4 4 0 004 4h2a2 2 0 002-2V5a2 2 0 00-2-2zM9 9h4l-2 2 2 2H9V9z"})})})]}),jsxRuntimeExports.jsx("h3",{className:"text-white font-bold text-lg mb-2 group-hover:text-green-300 transition-colors duration-300",children:"N/A"}),jsxRuntimeExports.jsx("p",{className:"text-green-400 text-sm font-semibold mb-1",children:"Design Lead"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-xs",children:"Digital Media"})]}),jsxRuntimeExports.jsxs("div",{className:"group bg-black/30 backdrop-blur-sm rounded-2xl border border-purple-500/30 hover:border-purple-500/50 transition-all duration-500 p-6 text-center hover:shadow-2xl hover:shadow-yellow-500/20 hover:scale-105",children:[jsxRuntimeExports.jsxs("div",{className:"relative mb-5 inline-block",children:[jsxRuntimeExports.jsx("img",{src:"https://ui-avatars.com/api/?name=Elena+Torres&size=128&background=f59e0b&color=fff&rounded=true&bold=true",alt:"Prof. Elena Torres",className:"w-24 h-24 rounded-full object-cover mx-auto border-4 border-yellow-500 group-hover:border-yellow-400 transition-all duration-300 shadow-xl"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-full flex items-center justify-center shadow-lg",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]}),jsxRuntimeExports.jsx("h3",{className:"text-white font-bold text-lg mb-2 group-hover:text-yellow-300 transition-colors duration-300",children:"Prof. Elena Torres"}),jsxRuntimeExports.jsx("p",{className:"text-yellow-400 text-sm font-semibold mb-1",children:"N/A"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-xs",children:"Social Sciences"})]})]})]})]})]})},Submit=()=>{const[e,t]=reactExports.useState(!1),[n,i]=reactExports.useState({full_name:"",student_email:"",student_id:"",title_of_work:"",course_program:"",category:"Design Project",abstract:"",file:null}),[o,u]=reactExports.useState(""),[h,m]=reactExports.useState(!1),[v,p]=reactExports.useState(!1),f=w=>{const{name:S,value:j,type:A,files:T}=w.target;i(A==="file"?{...n,file:T[0]}:{...n,[S]:j})},b=async w=>{w.preventDefault(),u(""),p(!1),m(!0);try{if(!n.file){u("Please select a file."),p(!0),m(!1);return}if(n.file.type!=="application/pdf"){u("Only PDF files are allowed."),p(!0),m(!1);return}const S=20*1024*1024;if(n.file.size>S){u("File size exceeds 20MB. Please upload a smaller file."),p(!0),m(!1);return}const j=n.file,A=`${Date.now()}_${j.name}`,{error:T}=await supabase.storage.from("student-submissions").upload(A,j);if(T)throw new Error("Storage error: "+T.message);const{data:C,error:O}=supabase.storage.from("student-submissions").getPublicUrl(A);if(O)throw new Error("URL error: "+O.message);const M=C.publicUrl,{error:R}=await supabase.from("submissions").insert([{full_name:n.full_name,student_email:n.student_email,student_id:n.student_id,title_of_work:n.title_of_work,course_program:n.course_program,category:n.category,abstract:n.abstract,file_url:M,status:"Pending",submitted_at:new Date().toISOString()}]);if(R)throw new Error("DB error: "+R.message);t(!0),i({full_name:"",student_email:"",student_id:"",title_of_work:"",course_program:"",category:"Design Project",abstract:"",file:null})}catch(S){u(S.message||"Submission failed. Please try again."),p(!0)}finally{m(!1)}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0b0c10] via-[#1b0b28] to-[#071030] text-gray-200 pt-20",children:[v&&jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-fadeIn",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>p(!1)}),jsxRuntimeExports.jsxs("div",{className:"relative bg-gradient-to-br from-red-900/90 to-red-950/90 backdrop-blur-md rounded-3xl border-2 border-red-500/50 shadow-2xl shadow-red-500/30 p-8 max-w-md w-full animate-slideIn",children:[jsxRuntimeExports.jsx("button",{onClick:()=>p(!1),className:"absolute top-4 right-4 w-8 h-8 bg-red-500/20 hover:bg-red-500/40 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-6",children:jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center animate-bounce shadow-lg shadow-red-500/50",children:jsxRuntimeExports.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})}),jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold text-white text-center mb-4",children:"Oops! Error"}),jsxRuntimeExports.jsx("p",{className:"text-red-200 text-center text-lg mb-8 leading-relaxed",children:o}),jsxRuntimeExports.jsx("button",{onClick:()=>p(!1),className:"w-full bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 px-6 py-4 rounded-xl font-semibold text-white transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-red-500/50",children:"Got It!"})]})]}),jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-pink-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-violet-500/5 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 px-6 py-16 max-w-5xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-16",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center mb-6",children:jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center transform hover:rotate-6 transition-transform duration-300",children:jsxRuntimeExports.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})}),jsxRuntimeExports.jsx("h1",{className:"text-5xl md:text-7xl font-black mb-6 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-400 to-purple-400",children:"Submit Your Work"}),jsxRuntimeExports.jsx("div",{className:"w-32 h-1 bg-gradient-to-r from-purple-500 to-pink-500 mx-auto mb-8 rounded-full"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto leading-relaxed",children:"Share your creativity with the university community. Submit your project and inspire others with your innovative work."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-purple-900/20 backdrop-blur-sm rounded-3xl border border-purple-500/30 shadow-2xl shadow-purple-500/10 p-8 md:p-10 mb-12 hover:border-purple-500/50 hover:shadow-purple-500/20 transition-all duration-500",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center transform hover:scale-110 transition-transform duration-300",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white",children:"Submission Guidelines"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-purple-900/30 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/20 hover:border-purple-500/40 hover:scale-105 hover:shadow-xl hover:shadow-purple-500/20 transition-all duration-500 group",children:[jsxRuntimeExports.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl flex items-center justify-center mb-4 group-hover:rotate-6 transition-transform duration-300 shadow-lg shadow-green-500/50",children:jsxRuntimeExports.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"File Format"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-300 leading-relaxed",children:["Only ",jsxRuntimeExports.jsx("strong",{className:"text-white",children:"PDF files"})," are accepted. Maximum file size is ",jsxRuntimeExports.jsx("strong",{className:"text-emerald-300",children:"20MB"}),"."]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-purple-900/30 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/20 hover:border-purple-500/40 hover:scale-105 hover:shadow-xl hover:shadow-purple-500/20 transition-all duration-500 group",children:[jsxRuntimeExports.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl flex items-center justify-center mb-4 group-hover:rotate-6 transition-transform duration-300 shadow-lg shadow-orange-500/50",children:jsxRuntimeExports.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Review Time"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-300 leading-relaxed",children:["Editorial team will review your submission within ",jsxRuntimeExports.jsx("strong",{className:"text-white",children:"1 week"})," of submission."]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-purple-900/30 backdrop-blur-sm rounded-2xl p-6 border border-purple-500/20 hover:border-purple-500/40 hover:scale-105 hover:shadow-xl hover:shadow-purple-500/20 transition-all duration-500 group",children:[jsxRuntimeExports.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center mb-4 group-hover:rotate-6 transition-transform duration-300 shadow-lg shadow-purple-500/50",children:jsxRuntimeExports.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Categories"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-300 leading-relaxed",children:["Choose from ",jsxRuntimeExports.jsx("strong",{className:"text-white",children:"Design Projects"}),", ",jsxRuntimeExports.jsx("strong",{className:"text-white",children:"Literary Works"}),", ",jsxRuntimeExports.jsx("strong",{className:"text-white",children:"Data Visualization"}),", or ",jsxRuntimeExports.jsx("strong",{className:"text-white",children:"Other"}),"."]})]})]})]}),"        ",e&&jsxRuntimeExports.jsx("div",{className:"bg-green-900/20 backdrop-blur-sm rounded-3xl border border-green-500/30 shadow-2xl shadow-green-500/10 p-10 mb-12 hover:border-green-500/50 hover:shadow-green-500/20 transition-all duration-500",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-6 animate-bounce shadow-lg shadow-green-500/50",children:jsxRuntimeExports.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-emerald-400 mb-4",children:"🎉 Submission Successful!"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-lg mb-6 max-w-xl mx-auto leading-relaxed",children:"Your work has been received and will be reviewed by our editorial team within 1 week."}),jsxRuntimeExports.jsxs("div",{className:"bg-green-900/30 backdrop-blur-sm rounded-2xl p-6 border border-green-500/30 mb-8 max-w-xl mx-auto",children:[jsxRuntimeExports.jsx("p",{className:"text-green-300 font-semibold mb-3 text-lg",children:"🚀 What happens next?"}),jsxRuntimeExports.jsxs("ul",{className:"text-gray-300 space-y-2 text-left",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full"}),jsxRuntimeExports.jsx("span",{children:"Editorial review within 1 week"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full"}),jsxRuntimeExports.jsx("span",{children:"Notification via email about your submission status"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full"}),jsxRuntimeExports.jsx("span",{children:"Featured in the magazine if approved"})]})]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>t(!1),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-8 py-4 rounded-xl font-semibold text-white transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-purple-500/50",children:"Submit Another Work"})]})}),!e&&jsxRuntimeExports.jsxs("div",{className:"bg-purple-900/20 backdrop-blur-sm rounded-3xl border border-purple-500/30 shadow-2xl shadow-purple-500/10 p-8 md:p-10 hover:border-purple-500/50 hover:shadow-purple-500/20 transition-all duration-500",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center transform hover:scale-110 transition-transform duration-300",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white",children:"Submission Form"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:b,className:"space-y-8",encType:"multipart/form-data",children:[jsxRuntimeExports.jsxs("div",{className:"bg-purple-900/30 backdrop-blur-sm rounded-2xl p-8 border border-purple-500/30 hover:border-purple-500/40 hover:shadow-lg hover:shadow-purple-500/10 transition-all duration-500",children:[jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center shadow-md shadow-purple-500/50",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),jsxRuntimeExports.jsx("span",{children:"Personal Information"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"full_name",className:"block text-sm font-medium text-white mb-2",children:"Full Name *"}),jsxRuntimeExports.jsx("input",{type:"text",id:"full_name",name:"full_name",value:n.full_name,onChange:f,required:!0,className:"w-full px-4 py-3 bg-purple-950/50 border border-purple-500/30 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-white placeholder-gray-400 transition-all duration-300 hover:border-purple-500/50",placeholder:"Enter your full name"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"student_id",className:"block text-sm font-medium text-white mb-2",children:"Student ID *"}),jsxRuntimeExports.jsx("input",{type:"text",id:"student_id",name:"student_id",value:n.student_id,onChange:f,required:!0,className:"w-full px-4 py-3 bg-purple-950/50 border border-purple-500/30 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-white placeholder-gray-400 transition-all duration-300 hover:border-purple-500/50",placeholder:"e.g., 20230001"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("label",{htmlFor:"student_email",className:"block text-sm font-medium text-white mb-2",children:"Student Email *"}),jsxRuntimeExports.jsx("input",{type:"email",id:"student_email",name:"student_email",value:n.student_email,onChange:f,required:!0,className:"w-full px-4 py-3 bg-purple-950/50 border border-purple-500/30 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-white placeholder-gray-400 transition-all duration-300 hover:border-purple-500/50",placeholder:"you@university.edu"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-purple-900/30 backdrop-blur-sm rounded-2xl p-8 border border-purple-500/30 hover:border-purple-500/40 hover:shadow-lg hover:shadow-purple-500/10 transition-all duration-500",children:[jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center shadow-md shadow-blue-500/50",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),jsxRuntimeExports.jsx("span",{children:"Project Details"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"title_of_work",className:"block text-sm font-medium text-white mb-2",children:"Title of Work *"}),jsxRuntimeExports.jsx("input",{type:"text",id:"title_of_work",name:"title_of_work",value:n.title_of_work,onChange:f,required:!0,className:"w-full px-4 py-3 bg-purple-950/50 border border-purple-500/30 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-white placeholder-gray-400 transition-all duration-300 hover:border-purple-500/50",placeholder:"Enter the title of your work"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"course_program",className:"block text-sm font-medium text-white mb-2",children:"Course / Program"}),jsxRuntimeExports.jsx("input",{type:"text",id:"course_program",name:"course_program",value:n.course_program,onChange:f,className:"w-full px-4 py-3 bg-purple-950/50 border border-purple-500/30 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-white placeholder-gray-400 transition-all duration-300 hover:border-purple-500/50",placeholder:"e.g., CS 490, Digital Media"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-white mb-2",children:"Category *"}),jsxRuntimeExports.jsxs("select",{id:"category",name:"category",value:n.category,onChange:f,className:"w-full px-4 py-3 bg-purple-950/50 border border-purple-500/30 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-white transition-all duration-300 hover:border-purple-500/50",children:[jsxRuntimeExports.jsx("option",{value:"Design Project",children:"Design Project"}),jsxRuntimeExports.jsx("option",{value:"Literary Work",children:"Literary Work"}),jsxRuntimeExports.jsx("option",{value:"Data Visualization",children:"Data Visualization"}),jsxRuntimeExports.jsx("option",{value:"Other",children:"Other"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"abstract",className:"block text-sm font-medium text-white mb-2",children:"Abstract / Description *"}),jsxRuntimeExports.jsx("textarea",{id:"abstract",name:"abstract",rows:"5",value:n.abstract,onChange:f,required:!0,className:"w-full px-4 py-3 bg-purple-950/50 border border-purple-500/30 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-white placeholder-gray-400 resize-none transition-all duration-300 hover:border-purple-500/50",placeholder:"Briefly describe your project, its significance, methodology, and key findings or outcomes..."})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-purple-900/30 backdrop-blur-sm rounded-2xl p-8 border border-purple-500/30 hover:border-purple-500/40 hover:shadow-lg hover:shadow-purple-500/10 transition-all duration-500",children:[jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-500 rounded-lg flex items-center justify-center shadow-md shadow-green-500/50",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),jsxRuntimeExports.jsx("span",{children:"File Upload"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"file",className:"block text-sm font-medium text-white mb-2",children:"Upload PDF File (Max 20MB) *"}),jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsx("input",{type:"file",id:"file",name:"file",accept:".pdf",onChange:w=>{const S=w.target.files[0];S&&S.type!=="application/pdf"?(u("Only PDF files are allowed."),p(!0),w.target.value=null,i(j=>({...j,file:null}))):S&&S.size>20*1024*1024?(u("File size exceeds 20MB. Please upload a smaller file."),p(!0),w.target.value=null,i(j=>({...j,file:null}))):(u(""),p(!1),i(j=>({...j,file:S})))},required:!0,className:"w-full px-4 py-3 bg-purple-950/50 border border-purple-500/30 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-gradient-to-r file:from-purple-500 file:to-pink-500 file:text-white hover:file:from-purple-600 hover:file:to-pink-600 transition-all duration-300 hover:border-purple-500/50 cursor-pointer"})}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-400 mt-2 flex items-center space-x-1",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),jsxRuntimeExports.jsx("span",{children:"Only PDF files are accepted. Maximum file size: 20MB"})]})]}),n.file&&jsxRuntimeExports.jsx("div",{className:"bg-green-900/30 backdrop-blur-sm rounded-xl p-5 border border-green-500/40 shadow-lg shadow-green-500/10",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md shadow-green-500/50",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-green-300 font-semibold truncate",children:n.file.name}),jsxRuntimeExports.jsxs("p",{className:"text-gray-400 text-sm",children:[(n.file.size/(1024*1024)).toFixed(2)," MB"]})]})]})})]})]}),jsxRuntimeExports.jsx("div",{className:"text-center pt-4",children:jsxRuntimeExports.jsxs("button",{type:"submit",disabled:h,className:`relative px-10 py-5 rounded-xl font-bold text-lg transition-all duration-500 text-white shadow-2xl border border-purple-500/30 overflow-hidden group
                    ${h?"bg-gray-600 cursor-not-allowed opacity-60":"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 hover:scale-105 hover:shadow-purple-500/50"}`,children:[!h&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 transform -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400/20 to-pink-400/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]}),h?jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center space-x-3 relative z-10",children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),jsxRuntimeExports.jsx("span",{children:"Submitting Your Work..."})]}):jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center space-x-3 relative z-10",children:[jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 group-hover:rotate-12 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),jsxRuntimeExports.jsx("span",{children:"Submit for Review"}),jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 group-hover:translate-x-1 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})})]})]})]})]})},Contact=()=>{const[e,t]=reactExports.useState({name:"",email:"",subject:"",message:""}),[n,i]=reactExports.useState(""),[o,u]=reactExports.useState(!1),h=v=>{const{name:p,value:f}=v.target;t(b=>({...b,[p]:f}))},m=async v=>{if(v.preventDefault(),u(!0),!e.name||!e.email||!e.subject||!e.message){i("error"),u(!1);return}const{error:p}=await supabase.from("feedback").insert([{name:e.name,email:e.email,subject:e.subject,message:e.message}]);if(p){i("error"),u(!1);return}i("success"),u(!1),t({name:"",email:"",subject:"",message:""})};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0b0c10] via-[#1b0b28] to-[#071030] text-gray-200 pt-20",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-pink-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-violet-500/5 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 px-6 py-16 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-16",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center mb-6",children:jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center transform hover:rotate-6 transition-transform duration-300 shadow-lg shadow-purple-500/50",children:jsxRuntimeExports.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})}),jsxRuntimeExports.jsx("h1",{className:"text-5xl md:text-7xl font-black mb-6 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-400 to-purple-400",children:"Contact Us"}),jsxRuntimeExports.jsx("div",{className:"w-32 h-1 bg-gradient-to-r from-purple-500 to-pink-500 mx-auto mb-8 rounded-full"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto leading-relaxed",children:"Connect with The VIBE Club. We'd love to hear from you about submissions, collaborations, or any inquiries."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-purple-900/20 backdrop-blur-sm rounded-3xl border border-purple-500/30 shadow-2xl shadow-purple-500/10 p-8 md:p-10 mb-12 hover:border-purple-500/50 hover:shadow-purple-500/20 transition-all duration-500",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center transform hover:scale-110 transition-transform duration-300 shadow-md shadow-purple-500/50",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white",children:"Editorial Team"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-purple-900/30 backdrop-blur-sm rounded-2xl p-8 text-center border border-purple-500/20 hover:border-purple-500/40 hover:scale-105 hover:shadow-xl hover:shadow-purple-500/20 transition-all duration-500 group",children:[jsxRuntimeExports.jsxs("div",{className:"relative mb-6",children:[jsxRuntimeExports.jsx("img",{src:"https://ui-avatars.com/api/?name=Alan+Reyes&size=128&background=6366f1&color=fff&rounded=true&bold=true",alt:"Dr. Alan Reyes",className:"w-28 h-28 rounded-full object-cover mx-auto border-4 border-purple-500 group-hover:scale-110 transition-transform duration-300 shadow-lg shadow-purple-500/50"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 translate-y-1/2 w-10 h-10 bg-gradient-to-br from-purple-500 to-indigo-500 rounded-full flex items-center justify-center shadow-lg shadow-purple-500/50",children:jsxRuntimeExports.jsxs("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l9-5-9-5-9 5 9 5z"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"})]})})]}),jsxRuntimeExports.jsx("h3",{className:"text-white font-bold text-2xl mb-2",children:"N/A"}),jsxRuntimeExports.jsx("p",{className:"text-purple-300 font-semibold mb-2",children:"Faculty Advisor"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Department of Computer Science"}),jsxRuntimeExports.jsxs("a",{href:"mailto:alan.reyes@university.edu",className:"inline-flex items-center space-x-2 text-purple-400 hover:text-purple-300 font-medium transition-colors duration-200 group/link",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 group-hover/link:scale-110 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),jsxRuntimeExports.jsx("span",{children:"Contact"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-purple-900/30 backdrop-blur-sm rounded-2xl p-8 text-center border border-purple-500/20 hover:border-purple-500/40 hover:scale-105 hover:shadow-xl hover:shadow-purple-500/20 transition-all duration-500 group",children:[jsxRuntimeExports.jsxs("div",{className:"relative mb-6",children:[jsxRuntimeExports.jsx("img",{src:"https://ui-avatars.com/api/?name=Sophia+Kim&size=128&background=ec4899&color=fff&rounded=true&bold=true",alt:"Sophia Kim",className:"w-28 h-28 rounded-full object-cover mx-auto border-4 border-pink-500 group-hover:scale-110 transition-transform duration-300 shadow-lg shadow-pink-500/50"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 translate-y-1/2 w-10 h-10 bg-gradient-to-br from-pink-500 to-rose-500 rounded-full flex items-center justify-center shadow-lg shadow-pink-500/50",children:jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),jsxRuntimeExports.jsx("h3",{className:"text-white font-bold text-2xl mb-2",children:"N/A"}),jsxRuntimeExports.jsx("p",{className:"text-purple-300 font-semibold mb-2",children:"Editor-in-Chief"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Class of 2025"}),jsxRuntimeExports.jsxs("a",{href:"mailto:sophia.kim@university.edu",className:"inline-flex items-center space-x-2 text-purple-400 hover:text-purple-300 font-medium transition-colors duration-200 group/link",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 group-hover/link:scale-110 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),jsxRuntimeExports.jsx("span",{children:"Contact"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-purple-900/20 backdrop-blur-sm rounded-3xl border border-purple-500/30 shadow-2xl shadow-purple-500/10 p-8 md:p-10 mb-12 hover:border-purple-500/50 hover:shadow-purple-500/20 transition-all duration-500",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl flex items-center justify-center transform hover:scale-110 transition-transform duration-300 shadow-md shadow-orange-500/50",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white",children:"Visit Our Campus"})]}),jsxRuntimeExports.jsx("div",{className:"bg-purple-900/30 backdrop-blur-sm rounded-2xl p-8 border border-purple-500/30 hover:border-purple-500/40 hover:shadow-lg hover:shadow-purple-500/10 transition-all duration-500",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-6",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg shadow-indigo-500/50",children:jsxRuntimeExports.jsxs("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Department of Digital Innovation"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-300 text-lg leading-relaxed cursor-pointer hover:text-white transition-colors duration-200",onClick:()=>{navigator.clipboard.writeText(`Department of Digital Innovation
University of the Immaculate Conception
Father Selga Avenue, Davao City 8000
Philippines`).then(()=>alert("Address copied to clipboard!"))},title:"Click to copy address",children:[jsxRuntimeExports.jsx("strong",{children:"University of the Immaculate Conception"}),jsxRuntimeExports.jsx("br",{}),"Father Selga Avenue, Davao City 8000",jsxRuntimeExports.jsx("br",{}),"Philippines"]})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-purple-900/20 backdrop-blur-sm rounded-3xl border border-purple-500/30 shadow-2xl shadow-purple-500/10 p-8 md:p-10 mb-12 hover:border-purple-500/50 hover:shadow-purple-500/20 transition-all duration-500",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl flex items-center justify-center transform hover:scale-110 transition-transform duration-300 shadow-md shadow-green-500/50",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white",children:"Find Us"})]}),jsxRuntimeExports.jsx("div",{className:"bg-purple-900/30 backdrop-blur-sm rounded-2xl p-3 border border-purple-500/30 shadow-lg shadow-purple-500/10",children:jsxRuntimeExports.jsx("div",{className:"overflow-hidden rounded-lg aspect-video",children:jsxRuntimeExports.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d29324.91588788938!2d125.56409871083981!3d7.069941700000025!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x32f96d7040fea619%3A0xc5edd89e649e05b0!2sUniversity%20of%20the%20Immaculate%20Conception%20-%20Main!5e1!3m2!1sen!2sph!4v1756817726593!5m2!1sen!2sph",width:"600",height:"450",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"University of the Immaculate Conception - Main Campus",className:"w-full h-full"})})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[jsxRuntimeExports.jsx("div",{className:"bg-purple-900/30 backdrop-blur-sm rounded-2xl p-8 border border-purple-500/20 hover:border-purple-500/40 hover:scale-105 hover:shadow-xl hover:shadow-purple-500/20 transition-all duration-500 group",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center group-hover:rotate-6 transition-transform duration-300 flex-shrink-0 shadow-lg shadow-blue-500/50",children:jsxRuntimeExports.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Office Hours"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-300 text-lg leading-relaxed",children:[jsxRuntimeExports.jsx("strong",{className:"text-white",children:"Monday–Friday"}),jsxRuntimeExports.jsx("br",{}),"9:00 AM – 4:00 PM",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-base italic",children:"Drop-in at Innovation Lab, Room 305"})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-purple-900/30 backdrop-blur-sm rounded-2xl p-8 border border-purple-500/20 hover:border-purple-500/40 hover:scale-105 hover:shadow-xl hover:shadow-purple-500/20 transition-all duration-500 group",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center group-hover:rotate-6 transition-transform duration-300 flex-shrink-0 shadow-lg shadow-purple-500/50",children:jsxRuntimeExports.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Quick Contact"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-300 text-lg leading-relaxed",children:[jsxRuntimeExports.jsx("strong",{className:"text-white",children:"Emergency Contact"}),jsxRuntimeExports.jsx("br",{}),"Available during office hours",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-base italic",children:"For urgent editorial matters"})]})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-purple-900/20 backdrop-blur-sm rounded-3xl border border-purple-500/30 shadow-2xl shadow-purple-500/10 p-8 md:p-10 hover:border-purple-500/50 hover:shadow-purple-500/20 transition-all duration-500",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center transform hover:scale-110 transition-transform duration-300 shadow-md shadow-purple-500/50",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white",children:"Send Us Feedback"})]}),n==="success"&&jsxRuntimeExports.jsx("div",{className:"mb-8 p-5 bg-green-900/30 backdrop-blur-sm border border-green-500/40 rounded-2xl text-green-300 shadow-lg shadow-green-500/10",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 shadow-md shadow-green-500/50",children:jsxRuntimeExports.jsx("span",{className:"text-white text-sm font-bold",children:"✓"})}),jsxRuntimeExports.jsx("span",{className:"text-base",children:"Thank you! Your message has been sent successfully."})]})}),n==="error"&&jsxRuntimeExports.jsx("div",{className:"mb-8 p-5 bg-red-900/30 backdrop-blur-sm border border-red-500/40 rounded-2xl text-red-300 shadow-lg shadow-red-500/10",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0 shadow-md shadow-red-500/50",children:jsxRuntimeExports.jsx("span",{className:"text-white text-sm font-bold",children:"!"})}),jsxRuntimeExports.jsx("span",{className:"text-base",children:"Please fill in all required fields."})]})}),jsxRuntimeExports.jsxs("form",{onSubmit:m,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-white mb-2",children:"Full Name *"}),jsxRuntimeExports.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:h,required:!0,className:"w-full px-4 py-3 bg-purple-950/50 border border-purple-500/30 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-white placeholder-gray-400 transition-all duration-300 hover:border-purple-500/50",placeholder:"Enter your full name"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-white mb-2",children:"Email Address *"}),jsxRuntimeExports.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:h,required:!0,className:"w-full px-4 py-3 bg-purple-950/50 border border-purple-500/30 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-white placeholder-gray-400 transition-all duration-300 hover:border-purple-500/50",placeholder:"you@university.edu"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-white mb-2",children:"Subject *"}),jsxRuntimeExports.jsx("input",{type:"text",id:"subject",name:"subject",value:e.subject,onChange:h,required:!0,className:"w-full px-4 py-3 bg-purple-950/50 border border-purple-500/30 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-white placeholder-gray-400 transition-all duration-300 hover:border-purple-500/50",placeholder:"Feedback, Inquiry, etc."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-white mb-2",children:"Message *"}),jsxRuntimeExports.jsx("textarea",{id:"message",name:"message",rows:"5",value:e.message,onChange:h,required:!0,className:"w-full px-4 py-3 bg-purple-950/50 border border-purple-500/30 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-white placeholder-gray-400 resize-none transition-all duration-300 hover:border-purple-500/50",placeholder:"Type your message here..."})]}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:o,className:`w-full py-5 px-10 rounded-xl font-bold text-lg transition-all duration-500 relative overflow-hidden group
                ${o?"bg-gray-600 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 hover:scale-105"} text-white shadow-xl hover:shadow-2xl hover:shadow-purple-500/30 border border-purple-500/30`,children:[!o&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),o?jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center",children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Message"]})]})]})]})]})},AdminNavbar=({activeTab:e,setActiveTab:t})=>{const n=localStorage.getItem("vibeSuperAdmin")==="true",i=f=>{t(f);const b=new URL(window.location);b.searchParams.set("tab",f),window.history.replaceState({},"",b)},o=[{id:"upload",label:"Upload & Edit",icon:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})},{id:"analytics",label:"Analytics",icon:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{id:"submissions",label:"Submissions",icon:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})},{id:"feedback",label:"Feedback",icon:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})},{id:"comments",label:"Comments",icon:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})},{id:"library",label:"Library",icon:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"})})},...n?[{id:"users",label:"User Management",icon:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}]:[]],[u,h]=reactExports.useState(!1),m=async()=>{try{h(!0),console.log("Starting logout process...");const{error:f}=await auth.signOut();f&&console.error("Error signing out:",f),localStorage.removeItem("vibeAdmin"),localStorage.removeItem("vibeSuperAdmin"),localStorage.removeItem("vibePrimarySuperAdmin"),localStorage.removeItem("vibePrimaryAdmin"),localStorage.removeItem("vibeUser"),localStorage.removeItem("vibeRole"),localStorage.removeItem("vibeAdminActiveTab"),console.log("Logout complete, redirecting to login..."),await new Promise(b=>setTimeout(b,100)),window.location.href="/login"}catch(f){console.error("Logout error:",f),localStorage.removeItem("vibeAdmin"),localStorage.removeItem("vibeSuperAdmin"),localStorage.removeItem("vibePrimarySuperAdmin"),localStorage.removeItem("vibePrimaryAdmin"),localStorage.removeItem("vibeUser"),localStorage.removeItem("vibeRole"),localStorage.removeItem("vibeAdminActiveTab"),window.location.href="/login"}finally{h(!1)}},[v,p]=reactExports.useState(!1);return jsxRuntimeExports.jsx("nav",{className:"bg-gradient-to-r from-[#241536] via-[#1b0b28] to-[#0f0f23] border-b border-purple-500/30 sticky top-0 z-20 shadow-2xl",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 py-3 sm:py-4",children:[jsxRuntimeExports.jsxs("div",{className:"hidden lg:flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-purple-400/50 flex items-center justify-center shadow-lg overflow-hidden bg-white",children:jsxRuntimeExports.jsx("img",{src:"https://raw.githubusercontent.com/JayDee15999/pic/refs/heads/main/1.png",alt:"Vibe Magazine Logo",className:"w-8 h-8 object-cover rounded-full"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-purple-400 to-pink-600 bg-clip-text text-transparent",children:"Vibe Magazine"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-purple-300 font-medium",children:"Admin Dashboard"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-1 bg-purple-900/30 rounded-xl p-1 border border-purple-500/20",children:o.map(f=>jsxRuntimeExports.jsxs("button",{onClick:()=>i(f.id),className:`flex items-center space-x-2 px-3 py-2 rounded-lg text-xs xl:text-sm font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-purple-500/50 whitespace-nowrap ${e===f.id?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-purple-700/50"}`,"aria-current":e===f.id?"page":void 0,children:[f.icon,jsxRuntimeExports.jsx("span",{className:"hidden xl:inline",children:f.label})]},f.id))}),jsxRuntimeExports.jsx("button",{onClick:m,disabled:u,className:"flex items-center space-x-2 px-3 py-2 bg-red-600/20 hover:bg-red-600/30 border border-red-500/30 text-red-300 hover:text-red-200 rounded-lg transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:u?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-red-300 border-t-transparent rounded-full animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-xs xl:text-sm",children:"Signing out..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),jsxRuntimeExports.jsx("span",{className:"text-xs xl:text-sm",children:"Logout"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"lg:hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"w-9 h-9 rounded-full border-2 border-purple-400/50 flex items-center justify-center shadow-lg overflow-hidden bg-white",children:jsxRuntimeExports.jsx("img",{src:"https://raw.githubusercontent.com/JayDee15999/pic/refs/heads/main/1.png",alt:"Vibe Magazine Logo",className:"w-7 h-7 object-cover rounded-full"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-base sm:text-lg font-bold bg-gradient-to-r from-purple-400 to-pink-600 bg-clip-text text-transparent",children:"Vibe Magazine"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-purple-300 font-medium hidden sm:block",children:"Admin Dashboard"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsxs("button",{onClick:m,disabled:u,className:"flex items-center space-x-1 px-2 py-2 bg-red-600/20 hover:bg-red-600/30 border border-red-500/30 text-red-300 hover:text-red-200 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),jsxRuntimeExports.jsx("span",{className:"text-xs hidden sm:inline",children:"Logout"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>p(!v),className:"flex items-center justify-center w-9 h-9 bg-purple-600/20 hover:bg-purple-600/30 border border-purple-500/30 text-purple-300 rounded-lg transition-all duration-200",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v?jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),v&&jsxRuntimeExports.jsx("div",{className:"mt-3 pt-3 border-t border-purple-500/20",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-2",children:o.map(f=>jsxRuntimeExports.jsxs("button",{onClick:()=>{i(f.id),p(!1)},className:`flex items-center space-x-2 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${e===f.id?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"text-gray-300 hover:text-white bg-purple-900/20 hover:bg-purple-700/50"}`,children:[f.icon,jsxRuntimeExports.jsx("span",{children:f.label})]},f.id))})})]})]})})};function hexToRgba(e,t=1){const n=e.replace("#",""),i=parseInt(n.length===3?n.split("").map(m=>m+m).join(""):n,16),o=i>>16&255,u=i>>8&255,h=i&255;return`rgba(${o}, ${u}, ${h}, ${t})`}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(t,n){module.exports=t.pdfjsLib=n()})(globalThis,()=>(()=>{var __webpack_modules__=[,(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.RenderingIntentFlag=t.PromiseCapability=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.MAX_IMAGE_SIZE_TO_CACHE=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.BASELINE_FACTOR=t.AnnotationType=t.AnnotationReplyType=t.AnnotationPrefix=t.AnnotationMode=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.assert=ie,t.bytesToString=Se,t.createValidAbsoluteUrl=ne,t.getModificationDate=Bt,t.getUuid=yo,t.getVerbosityLevel=Pe,t.info=je,t.isArrayBuffer=$t,t.isArrayEqual=hr,t.isNodeJS=void 0,t.normalizeUnicode=ri,t.objectFromMap=Oe,t.objectSize=Ve,t.setVerbosityLevel=Re,t.shadow=oe,t.string32=ke,t.stringToBytes=we,t.stringToPDFString=Je,t.stringToUTF8String=ct,t.unreachable=le,t.utf8StringToString=ut,t.warn=ce;const n=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");t.isNodeJS=n;const i=[1,0,0,1,0,0];t.IDENTITY_MATRIX=i;const o=[.001,0,0,.001,0,0];t.FONT_IDENTITY_MATRIX=o;const u=1e7;t.MAX_IMAGE_SIZE_TO_CACHE=u;const h=1.35;t.LINE_FACTOR=h;const m=.35;t.LINE_DESCENT_FACTOR=m;const v=m/h;t.BASELINE_FACTOR=v;const p={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};t.RenderingIntentFlag=p;const f={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};t.AnnotationMode=f;const b="pdfjs_internal_editor_";t.AnnotationEditorPrefix=b;const w={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};t.AnnotationEditorType=w;const S={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};t.AnnotationEditorParamsType=S;const j={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.PermissionFlag=j;const A={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.TextRenderingMode=A;const T={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.ImageKind=T;const C={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationType=C;const O={GROUP:"Group",REPLY:"R"};t.AnnotationReplyType=O;const M={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFlag=M;const R={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationFieldFlag=R;const _={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationBorderStyleType=_;const q={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};t.AnnotationActionEventType=q;const se={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};t.DocumentActionEventType=se;const ee={O:"PageOpen",C:"PageClose"};t.PageActionEventType=ee;const ae={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=ae;const pe={NONE:0,BINARY:1};t.CMapCompressionType=pe;const fe={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.OPS=fe;const Ee={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};t.PasswordResponses=Ee;let _e=ae.WARNINGS;function Re(Ge){Number.isInteger(Ge)&&(_e=Ge)}function Pe(){return _e}function je(Ge){_e>=ae.INFOS&&console.log(`Info: ${Ge}`)}function ce(Ge){_e>=ae.WARNINGS&&console.log(`Warning: ${Ge}`)}function le(Ge){throw new Error(Ge)}function ie(Ge,De){Ge||le(De)}function Y(Ge){switch(Ge?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ne(Ge,De=null,Ne=null){if(!Ge)return null;try{if(Ne&&typeof Ge=="string"&&(Ne.addDefaultProtocol&&Ge.startsWith("www.")&&Ge.match(/\./g)?.length>=2&&(Ge=`http://${Ge}`),Ne.tryConvertEncoding))try{Ge=ct(Ge)}catch{}const Ye=De?new URL(Ge,De):new URL(Ge);if(Y(Ye))return Ye}catch{}return null}function oe(Ge,De,Ne,Ye=!1){return Object.defineProperty(Ge,De,{value:Ne,enumerable:!Ye,configurable:!0,writable:!1}),Ne}const ue=function(){function De(Ne,Ye){this.constructor===De&&le("Cannot initialize BaseException."),this.message=Ne,this.name=Ye}return De.prototype=new Error,De.constructor=De,De}();t.BaseException=ue;class ve extends ue{constructor(De,Ne){super(De,"PasswordException"),this.code=Ne}}t.PasswordException=ve;class me extends ue{constructor(De,Ne){super(De,"UnknownErrorException"),this.details=Ne}}t.UnknownErrorException=me;class te extends ue{constructor(De){super(De,"InvalidPDFException")}}t.InvalidPDFException=te;class he extends ue{constructor(De){super(De,"MissingPDFException")}}t.MissingPDFException=he;class ge extends ue{constructor(De,Ne){super(De,"UnexpectedResponseException"),this.status=Ne}}t.UnexpectedResponseException=ge;class xe extends ue{constructor(De){super(De,"FormatError")}}t.FormatError=xe;class ye extends ue{constructor(De){super(De,"AbortException")}}t.AbortException=ye;function Se(Ge){(typeof Ge!="object"||Ge?.length===void 0)&&le("Invalid argument for bytesToString");const De=Ge.length,Ne=8192;if(De<Ne)return String.fromCharCode.apply(null,Ge);const Ye=[];for(let kt=0;kt<De;kt+=Ne){const or=Math.min(kt+Ne,De),lr=Ge.subarray(kt,or);Ye.push(String.fromCharCode.apply(null,lr))}return Ye.join("")}function we(Ge){typeof Ge!="string"&&le("Invalid argument for stringToBytes");const De=Ge.length,Ne=new Uint8Array(De);for(let Ye=0;Ye<De;++Ye)Ne[Ye]=Ge.charCodeAt(Ye)&255;return Ne}function ke(Ge){return String.fromCharCode(Ge>>24&255,Ge>>16&255,Ge>>8&255,Ge&255)}function Ve(Ge){return Object.keys(Ge).length}function Oe(Ge){const De=Object.create(null);for(const[Ne,Ye]of Ge)De[Ne]=Ye;return De}function Be(){const Ge=new Uint8Array(4);return Ge[0]=1,new Uint32Array(Ge.buffer,0,1)[0]===1}function Fe(){try{return new Function(""),!0}catch{return!1}}class Ue{static get isLittleEndian(){return oe(this,"isLittleEndian",Be())}static get isEvalSupported(){return oe(this,"isEvalSupported",Fe())}static get isOffscreenCanvasSupported(){return oe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?oe(this,"platform",{isWin:!1,isMac:!1}):oe(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return oe(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}t.FeatureTest=Ue;const He=[...Array(256).keys()].map(Ge=>Ge.toString(16).padStart(2,"0"));class Ke{static makeHexColor(De,Ne,Ye){return`#${He[De]}${He[Ne]}${He[Ye]}`}static scaleMinMax(De,Ne){let Ye;De[0]?(De[0]<0&&(Ye=Ne[0],Ne[0]=Ne[1],Ne[1]=Ye),Ne[0]*=De[0],Ne[1]*=De[0],De[3]<0&&(Ye=Ne[2],Ne[2]=Ne[3],Ne[3]=Ye),Ne[2]*=De[3],Ne[3]*=De[3]):(Ye=Ne[0],Ne[0]=Ne[2],Ne[2]=Ye,Ye=Ne[1],Ne[1]=Ne[3],Ne[3]=Ye,De[1]<0&&(Ye=Ne[2],Ne[2]=Ne[3],Ne[3]=Ye),Ne[2]*=De[1],Ne[3]*=De[1],De[2]<0&&(Ye=Ne[0],Ne[0]=Ne[1],Ne[1]=Ye),Ne[0]*=De[2],Ne[1]*=De[2]),Ne[0]+=De[4],Ne[1]+=De[4],Ne[2]+=De[5],Ne[3]+=De[5]}static transform(De,Ne){return[De[0]*Ne[0]+De[2]*Ne[1],De[1]*Ne[0]+De[3]*Ne[1],De[0]*Ne[2]+De[2]*Ne[3],De[1]*Ne[2]+De[3]*Ne[3],De[0]*Ne[4]+De[2]*Ne[5]+De[4],De[1]*Ne[4]+De[3]*Ne[5]+De[5]]}static applyTransform(De,Ne){const Ye=De[0]*Ne[0]+De[1]*Ne[2]+Ne[4],kt=De[0]*Ne[1]+De[1]*Ne[3]+Ne[5];return[Ye,kt]}static applyInverseTransform(De,Ne){const Ye=Ne[0]*Ne[3]-Ne[1]*Ne[2],kt=(De[0]*Ne[3]-De[1]*Ne[2]+Ne[2]*Ne[5]-Ne[4]*Ne[3])/Ye,or=(-De[0]*Ne[1]+De[1]*Ne[0]+Ne[4]*Ne[1]-Ne[5]*Ne[0])/Ye;return[kt,or]}static getAxialAlignedBoundingBox(De,Ne){const Ye=this.applyTransform(De,Ne),kt=this.applyTransform(De.slice(2,4),Ne),or=this.applyTransform([De[0],De[3]],Ne),lr=this.applyTransform([De[2],De[1]],Ne);return[Math.min(Ye[0],kt[0],or[0],lr[0]),Math.min(Ye[1],kt[1],or[1],lr[1]),Math.max(Ye[0],kt[0],or[0],lr[0]),Math.max(Ye[1],kt[1],or[1],lr[1])]}static inverseTransform(De){const Ne=De[0]*De[3]-De[1]*De[2];return[De[3]/Ne,-De[1]/Ne,-De[2]/Ne,De[0]/Ne,(De[2]*De[5]-De[4]*De[3])/Ne,(De[4]*De[1]-De[5]*De[0])/Ne]}static singularValueDecompose2dScale(De){const Ne=[De[0],De[2],De[1],De[3]],Ye=De[0]*Ne[0]+De[1]*Ne[2],kt=De[0]*Ne[1]+De[1]*Ne[3],or=De[2]*Ne[0]+De[3]*Ne[2],lr=De[2]*Ne[1]+De[3]*Ne[3],nn=(Ye+lr)/2,Ur=Math.sqrt((Ye+lr)**2-4*(Ye*lr-or*kt))/2,dn=nn+Ur||1,br=nn-Ur||1;return[Math.sqrt(dn),Math.sqrt(br)]}static normalizeRect(De){const Ne=De.slice(0);return De[0]>De[2]&&(Ne[0]=De[2],Ne[2]=De[0]),De[1]>De[3]&&(Ne[1]=De[3],Ne[3]=De[1]),Ne}static intersect(De,Ne){const Ye=Math.max(Math.min(De[0],De[2]),Math.min(Ne[0],Ne[2])),kt=Math.min(Math.max(De[0],De[2]),Math.max(Ne[0],Ne[2]));if(Ye>kt)return null;const or=Math.max(Math.min(De[1],De[3]),Math.min(Ne[1],Ne[3])),lr=Math.min(Math.max(De[1],De[3]),Math.max(Ne[1],Ne[3]));return or>lr?null:[Ye,or,kt,lr]}static bezierBoundingBox(De,Ne,Ye,kt,or,lr,nn,Ur){const dn=[],br=[[],[]];let hn,zr,Tn,sr,xs,Dr,cr,mr;for(let ni=0;ni<2;++ni){if(ni===0?(zr=6*De-12*Ye+6*or,hn=-3*De+9*Ye-9*or+3*nn,Tn=3*Ye-3*De):(zr=6*Ne-12*kt+6*lr,hn=-3*Ne+9*kt-9*lr+3*Ur,Tn=3*kt-3*Ne),Math.abs(hn)<1e-12){if(Math.abs(zr)<1e-12)continue;sr=-Tn/zr,0<sr&&sr<1&&dn.push(sr);continue}cr=zr*zr-4*Tn*hn,mr=Math.sqrt(cr),!(cr<0)&&(xs=(-zr+mr)/(2*hn),0<xs&&xs<1&&dn.push(xs),Dr=(-zr-mr)/(2*hn),0<Dr&&Dr<1&&dn.push(Dr))}let qr=dn.length,Er;const Zn=qr;for(;qr--;)sr=dn[qr],Er=1-sr,br[0][qr]=Er*Er*Er*De+3*Er*Er*sr*Ye+3*Er*sr*sr*or+sr*sr*sr*nn,br[1][qr]=Er*Er*Er*Ne+3*Er*Er*sr*kt+3*Er*sr*sr*lr+sr*sr*sr*Ur;return br[0][Zn]=De,br[1][Zn]=Ne,br[0][Zn+1]=nn,br[1][Zn+1]=Ur,br[0].length=br[1].length=Zn+2,[Math.min(...br[0]),Math.min(...br[1]),Math.max(...br[0]),Math.max(...br[1])]}}t.Util=Ke;const Ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Je(Ge){if(Ge[0]>="ï"){let Ne;if(Ge[0]==="þ"&&Ge[1]==="ÿ"?Ne="utf-16be":Ge[0]==="ÿ"&&Ge[1]==="þ"?Ne="utf-16le":Ge[0]==="ï"&&Ge[1]==="»"&&Ge[2]==="¿"&&(Ne="utf-8"),Ne)try{const Ye=new TextDecoder(Ne,{fatal:!0}),kt=we(Ge);return Ye.decode(kt)}catch(Ye){ce(`stringToPDFString: "${Ye}".`)}}const De=[];for(let Ne=0,Ye=Ge.length;Ne<Ye;Ne++){const kt=Ze[Ge.charCodeAt(Ne)];De.push(kt?String.fromCharCode(kt):Ge.charAt(Ne))}return De.join("")}function ct(Ge){return decodeURIComponent(escape(Ge))}function ut(Ge){return unescape(encodeURIComponent(Ge))}function $t(Ge){return typeof Ge=="object"&&Ge?.byteLength!==void 0}function hr(Ge,De){if(Ge.length!==De.length)return!1;for(let Ne=0,Ye=Ge.length;Ne<Ye;Ne++)if(Ge[Ne]!==De[Ne])return!1;return!0}function Bt(Ge=new Date){return[Ge.getUTCFullYear().toString(),(Ge.getUTCMonth()+1).toString().padStart(2,"0"),Ge.getUTCDate().toString().padStart(2,"0"),Ge.getUTCHours().toString().padStart(2,"0"),Ge.getUTCMinutes().toString().padStart(2,"0"),Ge.getUTCSeconds().toString().padStart(2,"0")].join("")}class Ar{#e=!1;constructor(){this.promise=new Promise((De,Ne)=>{this.resolve=Ye=>{this.#e=!0,De(Ye)},this.reject=Ye=>{this.#e=!0,Ne(Ye)}})}get settled(){return this.#e}}t.PromiseCapability=Ar;let Ft=null,Jr=null;function ri(Ge){return Ft||(Ft=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Jr=new Map([["ﬅ","ſt"]])),Ge.replaceAll(Ft,(De,Ne,Ye)=>Ne?Ne.normalize("NFKC"):Jr.get(Ye))}function yo(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const Ge=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(Ge);else for(let De=0;De<32;De++)Ge[De]=Math.floor(Math.random()*255);return Se(Ge)}const gs="pdfjs_internal_id_";t.AnnotationPrefix=gs},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(e){if(typeof e=="string"||e instanceof URL?e={url:e}:(0,_util.isArrayBuffer)(e)&&(e={data:e}),typeof e!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const t=new PDFDocumentLoadingTask,{docId:n}=t,i=e.url?getUrlProp(e.url):null,o=e.data?getDataProp(e.data):null,u=e.httpHeaders||null,h=e.withCredentials===!0,m=e.password??null,v=e.range instanceof PDFDataRangeTransport?e.range:null,p=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let f=e.worker instanceof PDFWorker?e.worker:null;const b=e.verbosity,w=typeof e.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(e.docBaseUrl)?e.docBaseUrl:null,S=typeof e.cMapUrl=="string"?e.cMapUrl:null,j=e.cMapPacked!==!1,A=e.CMapReaderFactory||DefaultCMapReaderFactory,T=typeof e.standardFontDataUrl=="string"?e.standardFontDataUrl:null,C=e.StandardFontDataFactory||DefaultStandardFontDataFactory,O=e.stopAtErrors!==!0,M=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,R=e.isEvalSupported!==!1,_=typeof e.isOffscreenCanvasSupported=="boolean"?e.isOffscreenCanvasSupported:!_util.isNodeJS,q=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,se=typeof e.disableFontFace=="boolean"?e.disableFontFace:_util.isNodeJS,ee=e.fontExtraProperties===!0,ae=e.enableXfa===!0,pe=e.ownerDocument||globalThis.document,fe=e.disableRange===!0,Ee=e.disableStream===!0,_e=e.disableAutoFetch===!0,Re=e.pdfBug===!0,Pe=v?v.length:e.length??NaN,je=typeof e.useSystemFonts=="boolean"?e.useSystemFonts:!_util.isNodeJS&&!se,ce=typeof e.useWorkerFetch=="boolean"?e.useWorkerFetch:A===_display_utils.DOMCMapReaderFactory&&C===_display_utils.DOMStandardFontDataFactory&&S&&T&&(0,_display_utils.isValidFetchUrl)(S,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(T,document.baseURI),le=e.canvasFactory||new DefaultCanvasFactory({ownerDocument:pe}),ie=e.filterFactory||new DefaultFilterFactory({docId:n,ownerDocument:pe}),Y=null;(0,_util.setVerbosityLevel)(b);const ne={canvasFactory:le,filterFactory:ie};if(ce||(ne.cMapReaderFactory=new A({baseUrl:S,isCompressed:j}),ne.standardFontDataFactory=new C({baseUrl:T})),!f){const ve={verbosity:b,port:_worker_options.GlobalWorkerOptions.workerPort};f=ve.port?PDFWorker.fromPort(ve):new PDFWorker(ve),t._worker=f}const oe={docId:n,apiVersion:"3.11.174",data:o,password:m,disableAutoFetch:_e,rangeChunkSize:p,length:Pe,docBaseUrl:w,enableXfa:ae,evaluatorOptions:{maxImageSize:M,disableFontFace:se,ignoreErrors:O,isEvalSupported:R,isOffscreenCanvasSupported:_,canvasMaxAreaInBytes:q,fontExtraProperties:ee,useSystemFonts:je,cMapUrl:ce?S:null,standardFontDataUrl:ce?T:null}},ue={ignoreErrors:O,isEvalSupported:R,disableFontFace:se,fontExtraProperties:ee,enableXfa:ae,ownerDocument:pe,disableAutoFetch:_e,pdfBug:Re,styleElement:Y};return f.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");const ve=_fetchDocument(f,oe),me=new Promise(function(te){let he;v?he=new _transport_stream.PDFDataTransportStream({length:Pe,initialData:v.initialData,progressiveDone:v.progressiveDone,contentDispositionFilename:v.contentDispositionFilename,disableRange:fe,disableStream:Ee},v):o||(he=(xe=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(xe):(0,_display_utils.isValidFetchUrl)(xe.url)?new _displayFetch_stream.PDFFetchStream(xe):new _displayNetwork.PDFNetworkStream(xe))({url:i,length:Pe,httpHeaders:u,withCredentials:h,rangeChunkSize:p,disableRange:fe,disableStream:Ee})),te(he)});return Promise.all([ve,me]).then(function([te,he]){if(t.destroyed)throw new Error("Loading aborted");const ge=new _message_handler.MessageHandler(n,te,f.port),xe=new WorkerTransport(ge,t,he,ue,ne);t._transport=xe,ge.send("Ready",null)})}).catch(t._capability.reject),t}async function _fetchDocument(e,t){if(e.destroyed)throw new Error("Worker was destroyed");const n=await e.messageHandler.sendWithPromise("GetDocRequest",t,t.data?[t.data.buffer]:null);if(e.destroyed)throw new Error("Worker was destroyed");return n}function getUrlProp(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch{if(_util.isNodeJS&&typeof e=="string")return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(e){if(_util.isNodeJS&&typeof Buffer<"u"&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if(typeof e=="string")return(0,_util.stringToBytes)(e);if(typeof e=="object"&&!isNaN(e?.length)||(0,_util.isArrayBuffer)(e))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(t,n,i=!1,o=null){this.length=t,this.initialData=n,this.progressiveDone=i,this.contentDispositionFilename=o,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,n){for(const i of this._rangeListeners)i(t,n)}onDataProgress(t,n){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(t,n)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const n of this._progressiveReadListeners)n(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,n){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(t,n){this._pdfInfo=t,this._transport=n,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(i=>{if(!i)return i;const o=[];for(const u in i)o.push(...i[u]);return o}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(t,n,i,o=!1){this._pageIndex=t,this._pageInfo=n,this._transport=i,this._stats=o?new _display_utils.StatTimer:null,this._pdfBug=o,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:n=this.rotate,offsetX:i=0,offsetY:o=0,dontFlip:u=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:n,offsetX:i,offsetY:o,dontFlip:u})}getAnnotations({intent:t="display"}={}){const n=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,n.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:n,intent:i="display",annotationMode:o=_util.AnnotationMode.ENABLE,transform:u=null,background:h=null,optionalContentConfigPromise:m=null,annotationCanvasMap:v=null,pageColors:p=null,printAnnotationStorage:f=null}){this._stats?.time("Overall");const b=this._transport.getRenderingIntent(i,o,f);this.#t=!1,this.#n(),m||(m=this._transport.getOptionalContentConfig());let w=this._intentStates.get(b.cacheKey);w||(w=Object.create(null),this._intentStates.set(b.cacheKey,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const S=!!(b.renderingIntent&_util.RenderingIntentFlag.PRINT);w.displayReadyCapability||(w.displayReadyCapability=new _util.PromiseCapability,w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(b));const j=C=>{w.renderTasks.delete(A),(this._maybeCleanupAfterRender||S)&&(this.#t=!0),this.#r(!S),C?(A.capability.reject(C),this._abortOperatorList({intentState:w,reason:C instanceof Error?C:new Error(C)})):A.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},A=new InternalRenderTask({callback:j,params:{canvasContext:t,viewport:n,transform:u,background:h},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:v,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!S,pdfBug:this._pdfBug,pageColors:p});(w.renderTasks||=new Set).add(A);const T=A.task;return Promise.all([w.displayReadyCapability.promise,m]).then(([C,O])=>{if(this.destroyed){j();return}this._stats?.time("Rendering"),A.initializeGraphics({transparency:C,optionalContentConfig:O}),A.operatorListChanged()}).catch(j),T}getOperatorList({intent:t="display",annotationMode:n=_util.AnnotationMode.ENABLE,printAnnotationStorage:i=null}={}){function o(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(m))}const u=this._transport.getRenderingIntent(t,n,i,!0);let h=this._intentStates.get(u.cacheKey);h||(h=Object.create(null),this._intentStates.set(u.cacheKey,h));let m;return h.opListReadCapability||(m=Object.create(null),m.operatorListChanged=o,h.opListReadCapability=new _util.PromiseCapability,(h.renderTasks||=new Set).add(m),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(u)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:n===!0},{highWaterMark:100,size(o){return o.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>_xfa_text.XfaText.textContent(i));const n=this.streamTextContent(t);return new Promise(function(i,o){function u(){h.read().then(function({value:v,done:p}){if(p){i(m);return}Object.assign(m.styles,v.styles),m.items.push(...v.items),u()},o)}const h=n.getReader(),m={items:[],styles:Object.create(null)};u()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const i of n.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,this.#n(),Promise.all(t)}cleanup(t=!1){this.#t=!0;const n=this.#r(!1);return t&&n&&(this._stats&&=new _display_utils.StatTimer),n}#r(t=!1){if(this.#n(),!this.#t||this.destroyed)return!1;if(t)return this.#e=setTimeout(()=>{this.#e=null,this.#r(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(const{renderTasks:n,operatorList:i}of this._intentStates.values())if(n.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#n(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(t,n){const i=this._intentStates.get(n);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(t))}_renderPageChunk(t,n){for(let i=0,o=t.length;i<o;i++)n.operatorList.fnArray.push(t.fnArray[i]),n.operatorList.argsArray.push(t.argsArray[i]);n.operatorList.lastChunk=t.lastChunk,n.operatorList.separateAnnots=t.separateAnnots;for(const i of n.renderTasks)i.operatorListChanged();t.lastChunk&&this.#r(!0)}_pumpOperatorList({renderingIntent:t,cacheKey:n,annotationStorageSerializable:i}){const{map:o,transfers:u}=i,m=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:o},u).getReader(),v=this._intentStates.get(n);v.streamReader=m;const p=()=>{m.read().then(({value:f,done:b})=>{if(b){v.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(f,v),p())},f=>{if(v.streamReader=null,!this._transport.destroyed){if(v.operatorList){v.operatorList.lastChunk=!0;for(const b of v.renderTasks)b.operatorListChanged();this.#r(!0)}if(v.displayReadyCapability)v.displayReadyCapability.reject(f);else if(v.opListReadCapability)v.opListReadCapability.reject(f);else throw f}})};p()}_abortOperatorList({intentState:t,reason:n,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(n instanceof _display_utils.RenderingCancelledException){let o=RENDERING_CANCELLED_TIMEOUT;n.extraDelay>0&&n.extraDelay<1e3&&(o+=n.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})},o);return}}if(t.streamReader.cancel(new _util.AbortException(n.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[o,u]of this._intentStates)if(u===t){this._intentStates.delete(o);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(t,n){const i={data:structuredClone(t,n?{transfer:n}:null)};this.#t.then(()=>{for(const o of this.#e)o.call(this,i)})}addEventListener(t,n){this.#e.add(n)}removeEventListener(t,n){this.#e.delete(n)}terminate(){this.#e.clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const e=document?.currentScript?.src;e&&(PDFWorkerUtil.fallbackWorkerSrc=e.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(e,t){let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const i=new URL(t,n);return n.origin===i.origin},PDFWorkerUtil.createCDNWrapper=function(e){const t=`importScripts("${e}");`;return URL.createObjectURL(new Blob([t]))}}class PDFWorker{static#workerPorts;constructor({name:e=null,port:t=null,verbosity:n=(0,_util.getVerbosityLevel)()}={}){if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,t){if(PDFWorker.#workerPorts?.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:e}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,e)||(e=PDFWorkerUtil.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e),n=new _message_handler.MessageHandler("main","worker",t),i=()=>{t.removeEventListener("error",o),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=()=>{this._webWorker||i()};t.addEventListener("error",o),n.on("test",h=>{if(t.removeEventListener("error",o),this.destroyed){i();return}h?(this._messageHandler=n,this._port=t,this._webWorker=t,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),t.terminate())}),n.on("ready",h=>{if(t.removeEventListener("error",o),this.destroyed){i();return}try{u()}catch{this._setupFakeWorker()}});const u=()=>{const h=new Uint8Array;n.send("test",h,[h.buffer])};u();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new LoopbackPort;this._port=t;const n=`fake${PDFWorkerUtil.fakeWorkerId++}`,i=new _message_handler.MessageHandler(n+"_worker",n,t);e.setup(i,t);const o=new _message_handler.MessageHandler(n,n+"_worker",t);this._messageHandler=o,this._readyCapability.resolve(),o.send("configure",{verbosity:this.verbosity})}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const t=this.#workerPorts?.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new PDFWorker(e)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#r=new Map;#n=null;constructor(t,n,i,o,u){this.messageHandler=t,this.loadingTask=n,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:o.ownerDocument,styleElement:o.styleElement}),this._params=o,this.canvasFactory=u.canvasFactory,this.filterFactory=u.filterFactory,this.cMapReaderFactory=u.cMapReaderFactory,this.standardFontDataFactory=u.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#o(t,n=null){const i=this.#e.get(t);if(i)return i;const o=this.messageHandler.sendWithPromise(t,n);return this.#e.set(t,o),o}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(t,n=_util.AnnotationMode.ENABLE,i=null,o=!1){let u=_util.RenderingIntentFlag.DISPLAY,h=_annotation_storage.SerializableEmpty;switch(t){case"any":u=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":u=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${t}`)}switch(n){case _util.AnnotationMode.DISABLE:u+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:u+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:u+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,h=(u&_util.RenderingIntentFlag.PRINT&&i instanceof _annotation_storage.PrintAnnotationStorage?i:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${n}`)}return o&&(u+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:u,cacheKey:`${u}_${h.hash}`,annotationStorageSerializable:h}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#n?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of this.#t.values())t.push(i._destroy());this.#t.clear(),this.#r.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:n}=this;t.on("GetReader",(i,o)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=u=>{this._lastProgress={loaded:u.loaded,total:u.total}},o.onPull=()=>{this._fullReader.read().then(function({value:u,done:h}){if(h){o.close();return}(0,_util.assert)(u instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(u),1,[u])}).catch(u=>{o.error(u)})},o.onCancel=u=>{this._fullReader.cancel(u),o.ready.catch(h=>{if(!this.destroyed)throw h})}}),t.on("ReaderHeadersReady",i=>{const o=new _util.PromiseCapability,u=this._fullReader;return u.headersReady.then(()=>{(!u.isStreamingSupported||!u.isRangeSupported)&&(this._lastProgress&&n.onProgress?.(this._lastProgress),u.onProgress=h=>{n.onProgress?.({loaded:h.loaded,total:h.total})}),o.resolve({isStreamingSupported:u.isStreamingSupported,isRangeSupported:u.isRangeSupported,contentLength:u.contentLength})},o.reject),o.promise}),t.on("GetRangeReader",(i,o)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const u=this._networkStream.getRangeReader(i.begin,i.end);if(!u){o.close();return}o.onPull=()=>{u.read().then(function({value:h,done:m}){if(m){o.close();return}(0,_util.assert)(h instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(h),1,[h])}).catch(h=>{o.error(h)})},o.onCancel=h=>{u.cancel(h),o.ready.catch(m=>{if(!this.destroyed)throw m})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,n._capability.resolve(new PDFDocumentProxy(i,this))}),t.on("DocException",function(i){let o;switch(i.name){case"PasswordException":o=new _util.PasswordException(i.message,i.code);break;case"InvalidPDFException":o=new _util.InvalidPDFException(i.message);break;case"MissingPDFException":o=new _util.MissingPDFException(i.message);break;case"UnexpectedResponseException":o=new _util.UnexpectedResponseException(i.message,i.status);break;case"UnknownErrorException":o=new _util.UnknownErrorException(i.message,i.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}n._capability.reject(o)}),t.on("PasswordRequest",i=>{if(this.#n=new _util.PromiseCapability,n.onPassword){const o=u=>{u instanceof Error?this.#n.reject(u):this.#n.resolve({password:u})};try{n.onPassword(o,i.code)}catch(u){this.#n.reject(u)}}else this.#n.reject(new _util.PasswordException(i.message,i.code));return this.#n.promise}),t.on("DataLoaded",i=>{n.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;this.#t.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,o,u])=>{if(!this.destroyed&&!this.commonObjs.has(i))switch(o){case"Font":const h=this._params;if("error"in u){const p=u.error;(0,_util.warn)(`Error during font loading: ${p}`),this.commonObjs.resolve(i,p);break}const m=h.pdfBug&&globalThis.FontInspector?.enabled?(p,f)=>globalThis.FontInspector.fontAdded(p,f):null,v=new _font_loader.FontFaceObject(u,{isEvalSupported:h.isEvalSupported,disableFontFace:h.disableFontFace,ignoreErrors:h.ignoreErrors,inspectFont:m});this.fontLoader.bind(v).catch(p=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!h.fontExtraProperties&&v.data&&(v.data=null),this.commonObjs.resolve(i,v)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,u);break;default:throw new Error(`Got unknown common object type ${o}`)}}),t.on("obj",([i,o,u,h])=>{if(this.destroyed)return;const m=this.#t.get(o);if(!m.objs.has(i))switch(u){case"Image":if(m.objs.resolve(i,h),h){let v;if(h.bitmap){const{width:p,height:f}=h;v=p*f*4}else v=h.data?.length||0;v>_util.MAX_IMAGE_SIZE_TO_CACHE&&(m._maybeCleanupAfterRender=!0)}break;case"Pattern":m.objs.resolve(i,h);break;default:throw new Error(`Got unknown object type ${u}`)}}),t.on("DocProgress",i=>{this.destroyed||n.onProgress?.({loaded:i.loaded,total:i.total})}),t.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),t.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfers:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=t-1,i=this.#r.get(n);if(i)return i;const o=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(u=>{if(this.destroyed)throw new Error("Transport destroyed");const h=new PDFPageProxy(n,u,this,this._params.pdfBug);return this.#t.set(n,h),h});return this.#r.set(n,o),o}getPageIndex(t){return typeof t!="object"||t===null||!Number.isInteger(t.num)||t.num<0||!Number.isInteger(t.gen)||t.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen})}getAnnotations(t,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:n})}getFieldObjects(){return this.#o("GetFieldObjects")}hasJSActions(){return this.#o("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#o("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(t=>new _optional_content_config.OptionalContentConfig(t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",n=this.#e.get(t);if(n)return n;const i=this.messageHandler.sendWithPromise(t,null).then(o=>({info:o[0],metadata:o[1]?new _metadata.Metadata(o[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of this.#t.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:t,enableXfa:n}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t,enableXfa:n})}}class PDFObjects{#e=Object.create(null);#t(t){return this.#e[t]||={capability:new _util.PromiseCapability,data:null}}get(t,n=null){if(n){const o=this.#t(t);return o.capability.promise.then(()=>n(o.data)),null}const i=this.#e[t];if(!i?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){return this.#e[t]?.capability.settled||!1}resolve(t,n=null){const i=this.#t(t);i.data=n,i.capability.resolve()}clear(){for(const t in this.#e){const{data:n}=this.#e[t];n?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(t){this.#e=t,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(t=0){this.#e.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#e.operatorList;if(!t)return!1;const{annotationCanvasMap:n}=this.#e;return t.form||t.canvas&&n?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:t,params:n,objs:i,commonObjs:o,annotationCanvasMap:u,operatorList:h,pageIndex:m,canvasFactory:v,filterFactory:p,useRequestAnimationFrame:f=!1,pdfBug:b=!1,pageColors:w=null}){this.callback=t,this.params=n,this.objs=i,this.commonObjs=o,this.annotationCanvasMap=u,this.operatorListIdx=null,this.operatorList=h,this._pageIndex=m,this.canvasFactory=v,this.filterFactory=p,this._pdfBug=b,this.pageColors=w,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:n}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:o,transform:u,background:h}=this.params;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:u,viewport:o,transparency:t,background:h}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,n=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))}}const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SerializableEmpty=t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var i=n(1),o=n(4),u=n(8);const h=Object.freeze({map:null,hash:"",transfers:void 0});t.SerializableEmpty=h;class m{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(f,b){const w=this.#t.get(f);return w===void 0?b:Object.assign(b,w)}getRawValue(f){return this.#t.get(f)}remove(f){if(this.#t.delete(f),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const b of this.#t.values())if(b instanceof o.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(f,b){const w=this.#t.get(f);let S=!1;if(w!==void 0)for(const[j,A]of Object.entries(b))w[j]!==A&&(S=!0,w[j]=A);else S=!0,this.#t.set(f,b);S&&this.#r(),b instanceof o.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(b.constructor._type)}has(f){return this.#t.has(f)}getAll(){return this.#t.size>0?(0,i.objectFromMap)(this.#t):null}setAll(f){for(const[b,w]of Object.entries(f))this.setValue(b,w)}get size(){return this.#t.size}#r(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new v(this)}get serializable(){if(this.#t.size===0)return h;const f=new Map,b=new u.MurmurHash3_64,w=[],S=Object.create(null);let j=!1;for(const[A,T]of this.#t){const C=T instanceof o.AnnotationEditor?T.serialize(!1,S):T;C&&(f.set(A,C),b.update(`${A}:${JSON.stringify(C)}`),j||=!!C.bitmap)}if(j)for(const A of f.values())A.bitmap&&w.push(A.bitmap);return f.size>0?{map:f,hash:b.hexdigest(),transfers:w}:h}}t.AnnotationStorage=m;class v extends m{#e;constructor(f){super();const{map:b,hash:w,transfers:S}=f.serializable,j=structuredClone(b,S?{transfer:S}:null);this.#e={map:j,hash:w,transfers:S}}get print(){(0,i.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}t.PrintAnnotationStorage=v},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var i=n(5),o=n(1),u=n(6);class h{#e="";#t=!1;#r=null;#n=null;#o=null;#a=!1;#i=null;#l=this.focusin.bind(this);#c=this.focusout.bind(this);#s=!1;#f=!1;#d=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#h=!1;#p=h._zIndex++;static _borderLineWidth=-1;static _colorManager=new i.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(p){this.constructor===h&&(0,o.unreachable)("Cannot initialize AnnotationEditor."),this.parent=p.parent,this.id=p.id,this.width=this.height=null,this.pageIndex=p.parent.pageIndex,this.name=p.name,this.div=null,this._uiManager=p.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=p.isCentered,this._structTreeParentId=null;const{rotation:f,rawDims:{pageWidth:b,pageHeight:w,pageX:S,pageY:j}}=this.parent.viewport;this.rotation=f,this.pageRotation=(360+f-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[b,w],this.pageTranslation=[S,j];const[A,T]=this.parentDimensions;this.x=p.x/A,this.y=p.y/T,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,o.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(p){const f=new m({id:p.parent.getNextId(),parent:p.parent,uiManager:p._uiManager});f.annotationElementId=p.annotationElementId,f.deleted=!0,f._uiManager.addToAnnotationStorage(f)}static initialize(p,f=null){if(h._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(w=>[w,p.get(w)])),f?.strings)for(const w of f.strings)h._l10nPromise.set(w,p.get(w));if(h._borderLineWidth!==-1)return;const b=getComputedStyle(document.documentElement);h._borderLineWidth=parseFloat(b.getPropertyValue("--outline-width"))||0}static updateDefaultParams(p,f){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(p){return!1}static paste(p,f){(0,o.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#h}set _isDraggable(p){this.#h=p,this.div?.classList.toggle("draggable",p)}center(){const[p,f]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*f/(p*2),this.y+=this.width*p/(f*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*f/(p*2),this.y-=this.width*p/(f*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(p){this._uiManager.addCommands(p)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#p}setParent(p){p!==null&&(this.pageIndex=p.pageIndex,this.pageDimensions=p.pageDimensions),this.parent=p}focusin(p){this._focusEventsAllowed&&(this.#s?this.#s=!1:this.parent.setSelected(this))}focusout(p){!this._focusEventsAllowed||!this.isAttachedToDOM||p.relatedTarget?.closest(`#${this.id}`)||(p.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(p,f,b,w){const[S,j]=this.parentDimensions;[b,w]=this.screenToPageTranslation(b,w),this.x=(p+b)/S,this.y=(f+w)/j,this.fixAndSetPosition()}#x([p,f],b,w){[b,w]=this.screenToPageTranslation(b,w),this.x+=b/p,this.y+=w/f,this.fixAndSetPosition()}translate(p,f){this.#x(this.parentDimensions,p,f)}translateInPage(p,f){this.#x(this.pageDimensions,p,f),this.div.scrollIntoView({block:"nearest"})}drag(p,f){const[b,w]=this.parentDimensions;if(this.x+=p/b,this.y+=f/w,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:C,y:O}=this.div.getBoundingClientRect();this.parent.findNewParent(this,C,O)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:S,y:j}=this;const[A,T]=this.#g();S+=A,j+=T,this.div.style.left=`${(100*S).toFixed(2)}%`,this.div.style.top=`${(100*j).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#g(){const[p,f]=this.parentDimensions,{_borderLineWidth:b}=h,w=b/p,S=b/f;switch(this.rotation){case 90:return[-w,S];case 180:return[w,S];case 270:return[w,-S];default:return[-w,-S]}}fixAndSetPosition(){const[p,f]=this.pageDimensions;let{x:b,y:w,width:S,height:j}=this;switch(S*=p,j*=f,b*=p,w*=f,this.rotation){case 0:b=Math.max(0,Math.min(p-S,b)),w=Math.max(0,Math.min(f-j,w));break;case 90:b=Math.max(0,Math.min(p-j,b)),w=Math.min(f,Math.max(S,w));break;case 180:b=Math.min(p,Math.max(S,b)),w=Math.min(f,Math.max(j,w));break;case 270:b=Math.min(p,Math.max(j,b)),w=Math.max(0,Math.min(f-S,w));break}this.x=b/=p,this.y=w/=f;const[A,T]=this.#g();b+=A,w+=T;const{style:C}=this.div;C.left=`${(100*b).toFixed(2)}%`,C.top=`${(100*w).toFixed(2)}%`,this.moveInDOM()}static#m(p,f,b){switch(b){case 90:return[f,-p];case 180:return[-p,-f];case 270:return[-f,p];default:return[p,f]}}screenToPageTranslation(p,f){return h.#m(p,f,this.parentRotation)}pageTranslationToScreen(p,f){return h.#m(p,f,360-this.parentRotation)}#u(p){switch(p){case 90:{const[f,b]=this.pageDimensions;return[0,-f/b,b/f,0]}case 180:return[-1,0,0,-1];case 270:{const[f,b]=this.pageDimensions;return[0,f/b,-b/f,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:p,pageDimensions:[f,b]}=this,w=f*p,S=b*p;return o.FeatureTest.isCSSRoundSupported?[Math.round(w),Math.round(S)]:[w,S]}setDims(p,f){const[b,w]=this.parentDimensions;this.div.style.width=`${(100*p/b).toFixed(2)}%`,this.#a||(this.div.style.height=`${(100*f/w).toFixed(2)}%`),this.#r?.classList.toggle("small",p<h.SMALL_EDITOR_SIZE||f<h.SMALL_EDITOR_SIZE)}fixDims(){const{style:p}=this.div,{height:f,width:b}=p,w=b.endsWith("%"),S=!this.#a&&f.endsWith("%");if(w&&S)return;const[j,A]=this.parentDimensions;w||(p.width=`${(100*parseFloat(b)/j).toFixed(2)}%`),!this.#a&&!S&&(p.height=`${(100*parseFloat(f)/A).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#v(){if(this.#i)return;this.#i=document.createElement("div"),this.#i.classList.add("resizers");const p=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||p.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const f of p){const b=document.createElement("div");this.#i.append(b),b.classList.add("resizer",f),b.addEventListener("pointerdown",this.#j.bind(this,f)),b.addEventListener("contextmenu",u.noContextMenu)}this.div.prepend(this.#i)}#j(p,f){f.preventDefault();const{isMac:b}=o.FeatureTest.platform;if(f.button!==0||f.ctrlKey&&b)return;const w=this.#w.bind(this,p),S=this._isDraggable;this._isDraggable=!1;const j={passive:!0,capture:!0};window.addEventListener("pointermove",w,j);const A=this.x,T=this.y,C=this.width,O=this.height,M=this.parent.div.style.cursor,R=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(f.target).cursor;const _=()=>{this._isDraggable=S,window.removeEventListener("pointerup",_),window.removeEventListener("blur",_),window.removeEventListener("pointermove",w,j),this.parent.div.style.cursor=M,this.div.style.cursor=R;const q=this.x,se=this.y,ee=this.width,ae=this.height;q===A&&se===T&&ee===C&&ae===O||this.addCommands({cmd:()=>{this.width=ee,this.height=ae,this.x=q,this.y=se;const[pe,fe]=this.parentDimensions;this.setDims(pe*ee,fe*ae),this.fixAndSetPosition()},undo:()=>{this.width=C,this.height=O,this.x=A,this.y=T;const[pe,fe]=this.parentDimensions;this.setDims(pe*C,fe*O),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",_),window.addEventListener("blur",_)}#w(p,f){const[b,w]=this.parentDimensions,S=this.x,j=this.y,A=this.width,T=this.height,C=h.MIN_SIZE/b,O=h.MIN_SIZE/w,M=me=>Math.round(me*1e4)/1e4,R=this.#u(this.rotation),_=(me,te)=>[R[0]*me+R[2]*te,R[1]*me+R[3]*te],q=this.#u(360-this.rotation),se=(me,te)=>[q[0]*me+q[2]*te,q[1]*me+q[3]*te];let ee,ae,pe=!1,fe=!1;switch(p){case"topLeft":pe=!0,ee=(me,te)=>[0,0],ae=(me,te)=>[me,te];break;case"topMiddle":ee=(me,te)=>[me/2,0],ae=(me,te)=>[me/2,te];break;case"topRight":pe=!0,ee=(me,te)=>[me,0],ae=(me,te)=>[0,te];break;case"middleRight":fe=!0,ee=(me,te)=>[me,te/2],ae=(me,te)=>[0,te/2];break;case"bottomRight":pe=!0,ee=(me,te)=>[me,te],ae=(me,te)=>[0,0];break;case"bottomMiddle":ee=(me,te)=>[me/2,te],ae=(me,te)=>[me/2,0];break;case"bottomLeft":pe=!0,ee=(me,te)=>[0,te],ae=(me,te)=>[me,0];break;case"middleLeft":fe=!0,ee=(me,te)=>[0,te/2],ae=(me,te)=>[me,te/2];break}const Ee=ee(A,T),_e=ae(A,T);let Re=_(..._e);const Pe=M(S+Re[0]),je=M(j+Re[1]);let ce=1,le=1,[ie,Y]=this.screenToPageTranslation(f.movementX,f.movementY);if([ie,Y]=se(ie/b,Y/w),pe){const me=Math.hypot(A,T);ce=le=Math.max(Math.min(Math.hypot(_e[0]-Ee[0]-ie,_e[1]-Ee[1]-Y)/me,1/A,1/T),C/A,O/T)}else fe?ce=Math.max(C,Math.min(1,Math.abs(_e[0]-Ee[0]-ie)))/A:le=Math.max(O,Math.min(1,Math.abs(_e[1]-Ee[1]-Y)))/T;const ne=M(A*ce),oe=M(T*le);Re=_(...ae(ne,oe));const ue=Pe-Re[0],ve=je-Re[1];this.width=ne,this.height=oe,this.x=ue,this.y=ve,this.setDims(b*ne,w*oe),this.fixAndSetPosition()}async addAltTextButton(){if(this.#r)return;const p=this.#r=document.createElement("button");p.className="altText";const f=await h._l10nPromise.get("editor_alt_text_button_label");p.textContent=f,p.setAttribute("aria-label",f),p.tabIndex="0",p.addEventListener("contextmenu",u.noContextMenu),p.addEventListener("pointerdown",b=>b.stopPropagation()),p.addEventListener("click",b=>{b.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),p.addEventListener("keydown",b=>{b.target===p&&b.key==="Enter"&&(b.preventDefault(),this._uiManager.editAltText(this))}),this.#A(),this.div.append(p),h.SMALL_EDITOR_SIZE||(h.SMALL_EDITOR_SIZE=Math.min(128,Math.round(p.getBoundingClientRect().width*1.4)))}async#A(){const p=this.#r;if(!p)return;if(!this.#e&&!this.#t){p.classList.remove("done"),this.#n?.remove();return}h._l10nPromise.get("editor_alt_text_edit_button_label").then(b=>{p.setAttribute("aria-label",b)});let f=this.#n;if(!f){this.#n=f=document.createElement("span"),f.className="tooltip",f.setAttribute("role","tooltip");const b=f.id=`alt-text-tooltip-${this.id}`;p.setAttribute("aria-describedby",b);const w=100;p.addEventListener("mouseenter",()=>{this.#o=setTimeout(()=>{this.#o=null,this.#n.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},w)}),p.addEventListener("mouseleave",()=>{clearTimeout(this.#o),this.#o=null,this.#n?.classList.remove("show")})}p.classList.add("done"),f.innerText=this.#t?await h._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#e,f.parentNode||p.append(f)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData({altText:p,decorative:f}){this.#e===p&&this.#t===f||(this.#e=p,this.#t=f,this.#A())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#l),this.div.addEventListener("focusout",this.#c);const[p,f]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*f/p).toFixed(2)}%`,this.div.style.maxHeight=`${(100*p/f).toFixed(2)}%`);const[b,w]=this.getInitialTranslation();return this.translate(b,w),(0,i.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(p){const{isMac:f}=o.FeatureTest.platform;if(p.button!==0||p.ctrlKey&&f){p.preventDefault();return}this.#s=!0,this.#T(p)}#T(p){if(!this._isDraggable)return;const f=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let b,w;f&&(b={passive:!0,capture:!0},w=j=>{const[A,T]=this.screenToPageTranslation(j.movementX,j.movementY);this._uiManager.dragSelectedEditors(A,T)},window.addEventListener("pointermove",w,b));const S=()=>{if(window.removeEventListener("pointerup",S),window.removeEventListener("blur",S),f&&window.removeEventListener("pointermove",w,b),this.#s=!1,!this._uiManager.endDragSession()){const{isMac:j}=o.FeatureTest.platform;p.ctrlKey&&!j||p.shiftKey||p.metaKey&&j?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",S),window.addEventListener("blur",S)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(p,f,b){p.changeParent(this),this.x=f,this.y=b,this.fixAndSetPosition()}getRect(p,f){const b=this.parentScale,[w,S]=this.pageDimensions,[j,A]=this.pageTranslation,T=p/b,C=f/b,O=this.x*w,M=this.y*S,R=this.width*w,_=this.height*S;switch(this.rotation){case 0:return[O+T+j,S-M-C-_+A,O+T+R+j,S-M-C+A];case 90:return[O+C+j,S-M+T+A,O+C+_+j,S-M+T+R+A];case 180:return[O-T-R+j,S-M+C+A,O-T+j,S-M+C+_+A];case 270:return[O-C-_+j,S-M-T-R+A,O-C+j,S-M-T+A];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(p,f){const[b,w,S,j]=p,A=S-b,T=j-w;switch(this.rotation){case 0:return[b,f-j,A,T];case 90:return[b,f-w,T,A];case 180:return[S,f-w,A,T];case 270:return[S,f-j,T,A];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#l),this.div?.addEventListener("focusout",this.#c)}serialize(p=!1,f=null){(0,o.unreachable)("An editor must be serializable")}static deserialize(p,f,b){const w=new this.prototype.constructor({parent:f,id:f.getNextId(),uiManager:b});w.rotation=p.rotation;const[S,j]=w.pageDimensions,[A,T,C,O]=w.getRectInCurrentCoords(p.rect,j);return w.x=A/S,w.y=T/j,w.width=C/S,w.height=O/j,w}remove(){this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#c),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#r?.remove(),this.#r=null,this.#n=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#v(),this.#i.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#i?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(p,f){}disableEditing(){this.#r&&(this.#r.hidden=!0)}enableEditing(){this.#r&&(this.#r.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#f}set isEditing(p){this.#f=p,this.parent&&(p?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(p,f){this.#a=!0;const b=p/f,{style:w}=this.div;w.aspectRatio=b,w.height="auto"}static get MIN_SIZE(){return 16}}t.AnnotationEditor=h;class m extends h{constructor(p){super(p),this.annotationElementId=p.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=u,t.opacityToHex=h;var i=n(1),o=n(6);function u(S,j,A){for(const T of A)j.addEventListener(T,S[T].bind(S))}function h(S){return Math.round(Math.min(255,Math.max(1,255*S))).toString(16).padStart(2,"0")}class m{#e=0;getId(){return`${i.AnnotationEditorPrefix}${this.#e++}`}}class v{#e=(0,i.getUuid)();#t=0;#r=null;static get _isSVGFittingCanvas(){const j='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',T=new OffscreenCanvas(1,3).getContext("2d"),C=new Image;C.src=j;const O=C.decode().then(()=>(T.drawImage(C,0,0,1,1,0,0,1,3),new Uint32Array(T.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,i.shadow)(this,"_isSVGFittingCanvas",O)}async#n(j,A){this.#r||=new Map;let T=this.#r.get(j);if(T===null)return null;if(T?.bitmap)return T.refCounter+=1,T;try{T||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let C;if(typeof A=="string"){T.url=A;const O=await fetch(A);if(!O.ok)throw new Error(O.statusText);C=await O.blob()}else C=T.file=A;if(C.type==="image/svg+xml"){const O=v._isSVGFittingCanvas,M=new FileReader,R=new Image,_=new Promise((q,se)=>{R.onload=()=>{T.bitmap=R,T.isSvg=!0,q()},M.onload=async()=>{const ee=T.svgUrl=M.result;R.src=await O?`${ee}#svgView(preserveAspectRatio(none))`:ee},R.onerror=M.onerror=se});M.readAsDataURL(C),await _}else T.bitmap=await createImageBitmap(C);T.refCounter=1}catch(C){console.error(C),T=null}return this.#r.set(j,T),T&&this.#r.set(T.id,T),T}async getFromFile(j){const{lastModified:A,name:T,size:C,type:O}=j;return this.#n(`${A}_${T}_${C}_${O}`,j)}async getFromUrl(j){return this.#n(j,j)}async getFromId(j){this.#r||=new Map;const A=this.#r.get(j);return A?A.bitmap?(A.refCounter+=1,A):A.file?this.getFromFile(A.file):this.getFromUrl(A.url):null}getSvgUrl(j){const A=this.#r.get(j);return A?.isSvg?A.svgUrl:null}deleteId(j){this.#r||=new Map;const A=this.#r.get(j);A&&(A.refCounter-=1,A.refCounter===0&&(A.bitmap=null))}isValidId(j){return j.startsWith(`image_${this.#e}_`)}}class p{#e=[];#t=!1;#r;#n=-1;constructor(j=128){this.#r=j}add({cmd:j,undo:A,mustExec:T,type:C=NaN,overwriteIfSameType:O=!1,keepUndo:M=!1}){if(T&&j(),this.#t)return;const R={cmd:j,undo:A,type:C};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(R);return}if(O&&this.#e[this.#n].type===C){M&&(R.undo=this.#e[this.#n].undo),this.#e[this.#n]=R;return}const _=this.#n+1;_===this.#r?this.#e.splice(0,1):(this.#n=_,_<this.#e.length&&this.#e.splice(_)),this.#e.push(R)}undo(){this.#n!==-1&&(this.#t=!0,this.#e[this.#n].undo(),this.#t=!1,this.#n-=1)}redo(){this.#n<this.#e.length-1&&(this.#n+=1,this.#t=!0,this.#e[this.#n].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}destroy(){this.#e=null}}t.CommandManager=p;class f{constructor(j){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:A}=i.FeatureTest.platform;for(const[T,C,O={}]of j)for(const M of T){const R=M.startsWith("mac+");A&&R?(this.callbacks.set(M.slice(4),{callback:C,options:O}),this.allKeys.add(M.split("+").at(-1))):!A&&!R&&(this.callbacks.set(M,{callback:C,options:O}),this.allKeys.add(M.split("+").at(-1)))}}#e(j){j.altKey&&this.buffer.push("alt"),j.ctrlKey&&this.buffer.push("ctrl"),j.metaKey&&this.buffer.push("meta"),j.shiftKey&&this.buffer.push("shift"),this.buffer.push(j.key);const A=this.buffer.join("+");return this.buffer.length=0,A}exec(j,A){if(!this.allKeys.has(A.key))return;const T=this.callbacks.get(this.#e(A));if(!T)return;const{callback:C,options:{bubbles:O=!1,args:M=[],checker:R=null}}=T;R&&!R(j,A)||(C.bind(j,...M)(),O||(A.stopPropagation(),A.preventDefault()))}}t.KeyboardManager=f;class b{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const j=new Map([["CanvasText",null],["Canvas",null]]);return(0,o.getColorValues)(j),(0,i.shadow)(this,"_colors",j)}convert(j){const A=(0,o.getRGB)(j);if(!window.matchMedia("(forced-colors: active)").matches)return A;for(const[T,C]of this._colors)if(C.every((O,M)=>O===A[M]))return b._colorsMapping.get(T);return A}getHexCode(j){const A=this._colors.get(j);return A?i.Util.makeHexColor(...A):j}}t.ColorManager=b;class w{#e=null;#t=new Map;#r=new Map;#n=null;#o=null;#a=new p;#i=0;#l=new Set;#c=null;#s=null;#f=new Set;#d=null;#h=new m;#p=!1;#x=!1;#g=null;#m=i.AnnotationEditorType.NONE;#u=new Set;#v=null;#j=this.blur.bind(this);#w=this.focus.bind(this);#A=this.copy.bind(this);#T=this.cut.bind(this);#M=this.paste.bind(this);#O=this.keydown.bind(this);#L=this.onEditingAction.bind(this);#y=this.onPageChanging.bind(this);#D=this.onScaleChanging.bind(this);#P=this.onRotationChanging.bind(this);#C={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#b=[0,0];#R=null;#S=null;#I=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const j=w.prototype,A=O=>{const{activeElement:M}=document;return M&&O.#S.contains(M)&&O.hasSomethingToControl()},T=this.TRANSLATE_SMALL,C=this.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new f([[["ctrl+a","mac+meta+a"],j.selectAll],[["ctrl+z","mac+meta+z"],j.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],j.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],j.delete],[["Escape","mac+Escape"],j.unselectAll],[["ArrowLeft","mac+ArrowLeft"],j.translateSelectedEditors,{args:[-T,0],checker:A}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],j.translateSelectedEditors,{args:[-C,0],checker:A}],[["ArrowRight","mac+ArrowRight"],j.translateSelectedEditors,{args:[T,0],checker:A}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],j.translateSelectedEditors,{args:[C,0],checker:A}],[["ArrowUp","mac+ArrowUp"],j.translateSelectedEditors,{args:[0,-T],checker:A}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],j.translateSelectedEditors,{args:[0,-C],checker:A}],[["ArrowDown","mac+ArrowDown"],j.translateSelectedEditors,{args:[0,T],checker:A}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],j.translateSelectedEditors,{args:[0,C],checker:A}]]))}constructor(j,A,T,C,O,M){this.#S=j,this.#I=A,this.#n=T,this._eventBus=C,this._eventBus._on("editingaction",this.#L),this._eventBus._on("pagechanging",this.#y),this._eventBus._on("scalechanging",this.#D),this._eventBus._on("rotationchanging",this.#P),this.#o=O.annotationStorage,this.#d=O.filterFactory,this.#v=M,this.viewParameters={realScale:o.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#k(),this.#B(),this._eventBus._off("editingaction",this.#L),this._eventBus._off("pagechanging",this.#y),this._eventBus._off("scalechanging",this.#D),this._eventBus._off("rotationchanging",this.#P);for(const j of this.#r.values())j.destroy();this.#r.clear(),this.#t.clear(),this.#f.clear(),this.#e=null,this.#u.clear(),this.#a.destroy(),this.#n.destroy()}get hcmFilter(){return(0,i.shadow)(this,"hcmFilter",this.#v?this.#d.addHCMFilter(this.#v.foreground,this.#v.background):"none")}get direction(){return(0,i.shadow)(this,"direction",getComputedStyle(this.#S).direction)}editAltText(j){this.#n?.editAltText(this,j)}onPageChanging({pageNumber:j}){this.#i=j-1}focusMainContainer(){this.#S.focus()}findParent(j,A){for(const T of this.#r.values()){const{x:C,y:O,width:M,height:R}=T.div.getBoundingClientRect();if(j>=C&&j<=C+M&&A>=O&&A<=O+R)return T}return null}disableUserSelect(j=!1){this.#I.classList.toggle("noUserSelect",j)}addShouldRescale(j){this.#f.add(j)}removeShouldRescale(j){this.#f.delete(j)}onScaleChanging({scale:j}){this.commitOrRemove(),this.viewParameters.realScale=j*o.PixelsPerInch.PDF_TO_CSS_UNITS;for(const A of this.#f)A.onScaleChanging()}onRotationChanging({pagesRotation:j}){this.commitOrRemove(),this.viewParameters.rotation=j}addToAnnotationStorage(j){!j.isEmpty()&&this.#o&&!this.#o.has(j.id)&&this.#o.setValue(j.id,j)}#$(){window.addEventListener("focus",this.#w),window.addEventListener("blur",this.#j)}#B(){window.removeEventListener("focus",this.#w),window.removeEventListener("blur",this.#j)}blur(){if(!this.hasSelection)return;const{activeElement:j}=document;for(const A of this.#u)if(A.div.contains(j)){this.#g=[A,j],A._focusEventsAllowed=!1;break}}focus(){if(!this.#g)return;const[j,A]=this.#g;this.#g=null,A.addEventListener("focusin",()=>{j._focusEventsAllowed=!0},{once:!0}),A.focus()}#F(){window.addEventListener("keydown",this.#O,{capture:!0})}#k(){window.removeEventListener("keydown",this.#O,{capture:!0})}#N(){document.addEventListener("copy",this.#A),document.addEventListener("cut",this.#T),document.addEventListener("paste",this.#M)}#_(){document.removeEventListener("copy",this.#A),document.removeEventListener("cut",this.#T),document.removeEventListener("paste",this.#M)}addEditListeners(){this.#F(),this.#N()}removeEditListeners(){this.#k(),this.#_()}copy(j){if(j.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const A=[];for(const T of this.#u){const C=T.serialize(!0);C&&A.push(C)}A.length!==0&&j.clipboardData.setData("application/pdfjs",JSON.stringify(A))}cut(j){this.copy(j),this.delete()}paste(j){j.preventDefault();const{clipboardData:A}=j;for(const O of A.items)for(const M of this.#s)if(M.isHandlingMimeForPasting(O.type)){M.paste(O,this.currentLayer);return}let T=A.getData("application/pdfjs");if(!T)return;try{T=JSON.parse(T)}catch(O){(0,i.warn)(`paste: "${O.message}".`);return}if(!Array.isArray(T))return;this.unselectAll();const C=this.currentLayer;try{const O=[];for(const _ of T){const q=C.deserialize(_);if(!q)return;O.push(q)}const M=()=>{for(const _ of O)this.#q(_);this.#V(O)},R=()=>{for(const _ of O)_.remove()};this.addCommands({cmd:M,undo:R,mustExec:!0})}catch(O){(0,i.warn)(`paste: "${O.message}".`)}}keydown(j){this.getActive()?.shouldGetKeyboardEvents()||w._keyboardManager.exec(this,j)}onEditingAction(j){["undo","redo","delete","selectAll"].includes(j.name)&&this[j.name]()}#E(j){Object.entries(j).some(([T,C])=>this.#C[T]!==C)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#C,j)})}#U(j){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:j})}setEditingState(j){j?(this.#$(),this.#F(),this.#N(),this.#E({isEditing:this.#m!==i.AnnotationEditorType.NONE,isEmpty:this.#z(),hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:this.#a.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#B(),this.#k(),this.#_(),this.#E({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(j){if(!this.#s){this.#s=j;for(const A of this.#s)this.#U(A.defaultPropertiesToUpdate)}}getId(){return this.#h.getId()}get currentLayer(){return this.#r.get(this.#i)}getLayer(j){return this.#r.get(j)}get currentPageIndex(){return this.#i}addLayer(j){this.#r.set(j.pageIndex,j),this.#p?j.enable():j.disable()}removeLayer(j){this.#r.delete(j.pageIndex)}updateMode(j,A=null){if(this.#m!==j){if(this.#m=j,j===i.AnnotationEditorType.NONE){this.setEditingState(!1),this.#H();return}this.setEditingState(!0),this.#W(),this.unselectAll();for(const T of this.#r.values())T.updateMode(j);if(A){for(const T of this.#t.values())if(T.annotationElementId===A){this.setSelected(T),T.enterInEditMode();break}}}}updateToolbar(j){j!==this.#m&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:j})}updateParams(j,A){if(this.#s){if(j===i.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(j);return}for(const T of this.#u)T.updateParams(j,A);for(const T of this.#s)T.updateDefaultParams(j,A)}}enableWaiting(j=!1){if(this.#x!==j){this.#x=j;for(const A of this.#r.values())j?A.disableClick():A.enableClick(),A.div.classList.toggle("waiting",j)}}#W(){if(!this.#p){this.#p=!0;for(const j of this.#r.values())j.enable()}}#H(){if(this.unselectAll(),this.#p){this.#p=!1;for(const j of this.#r.values())j.disable()}}getEditors(j){const A=[];for(const T of this.#t.values())T.pageIndex===j&&A.push(T);return A}getEditor(j){return this.#t.get(j)}addEditor(j){this.#t.set(j.id,j)}removeEditor(j){this.#t.delete(j.id),this.unselect(j),(!j.annotationElementId||!this.#l.has(j.annotationElementId))&&this.#o?.remove(j.id)}addDeletedAnnotationElement(j){this.#l.add(j.annotationElementId),j.deleted=!0}isDeletedAnnotationElement(j){return this.#l.has(j)}removeDeletedAnnotationElement(j){this.#l.delete(j.annotationElementId),j.deleted=!1}#q(j){const A=this.#r.get(j.pageIndex);A?A.addOrRebuild(j):this.addEditor(j)}setActiveEditor(j){this.#e!==j&&(this.#e=j,j&&this.#U(j.propertiesToUpdate))}toggleSelected(j){if(this.#u.has(j)){this.#u.delete(j),j.unselect(),this.#E({hasSelectedEditor:this.hasSelection});return}this.#u.add(j),j.select(),this.#U(j.propertiesToUpdate),this.#E({hasSelectedEditor:!0})}setSelected(j){for(const A of this.#u)A!==j&&A.unselect();this.#u.clear(),this.#u.add(j),j.select(),this.#U(j.propertiesToUpdate),this.#E({hasSelectedEditor:!0})}isSelected(j){return this.#u.has(j)}unselect(j){j.unselect(),this.#u.delete(j),this.#E({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#u.size!==0}undo(){this.#a.undo(),this.#E({hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#z()})}redo(){this.#a.redo(),this.#E({hasSomethingToUndo:!0,hasSomethingToRedo:this.#a.hasSomethingToRedo(),isEmpty:this.#z()})}addCommands(j){this.#a.add(j),this.#E({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#z()})}#z(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(const j of this.#t.values())return j.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const j=[...this.#u],A=()=>{for(const C of j)C.remove()},T=()=>{for(const C of j)this.#q(C)};this.addCommands({cmd:A,undo:T,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#V(j){this.#u.clear();for(const A of j)A.isEmpty()||(this.#u.add(A),A.select());this.#E({hasSelectedEditor:!0})}selectAll(){for(const j of this.#u)j.commit();this.#V(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(const j of this.#u)j.unselect();this.#u.clear(),this.#E({hasSelectedEditor:!1})}}translateSelectedEditors(j,A,T=!1){if(T||this.commitOrRemove(),!this.hasSelection)return;this.#b[0]+=j,this.#b[1]+=A;const[C,O]=this.#b,M=[...this.#u],R=1e3;this.#R&&clearTimeout(this.#R),this.#R=setTimeout(()=>{this.#R=null,this.#b[0]=this.#b[1]=0,this.addCommands({cmd:()=>{for(const _ of M)this.#t.has(_.id)&&_.translateInPage(C,O)},undo:()=>{for(const _ of M)this.#t.has(_.id)&&_.translateInPage(-C,-O)},mustExec:!1})},R);for(const _ of M)_.translateInPage(j,A)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#c=new Map;for(const j of this.#u)this.#c.set(j,{savedX:j.x,savedY:j.y,savedPageIndex:j.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#c)return!1;this.disableUserSelect(!1);const j=this.#c;this.#c=null;let A=!1;for(const[{x:C,y:O,pageIndex:M},R]of j)R.newX=C,R.newY=O,R.newPageIndex=M,A||=C!==R.savedX||O!==R.savedY||M!==R.savedPageIndex;if(!A)return!1;const T=(C,O,M,R)=>{if(this.#t.has(C.id)){const _=this.#r.get(R);_?C._setParentAndPosition(_,O,M):(C.pageIndex=R,C.x=O,C.y=M)}};return this.addCommands({cmd:()=>{for(const[C,{newX:O,newY:M,newPageIndex:R}]of j)T(C,O,M,R)},undo:()=>{for(const[C,{savedX:O,savedY:M,savedPageIndex:R}]of j)T(C,O,M,R)},mustExec:!0}),!0}dragSelectedEditors(j,A){if(this.#c)for(const T of this.#c.keys())T.drag(j,A)}rebuild(j){if(j.parent===null){const A=this.getLayer(j.pageIndex);A?(A.changeParent(j),A.addOrRebuild(j)):(this.addEditor(j),this.addToAnnotationStorage(j),j.rebuild())}else j.parent.addOrRebuild(j)}isActive(j){return this.#e===j}getActive(){return this.#e}getMode(){return this.#m}get imageManager(){return(0,i.shadow)(this,"imageManager",new v)}}t.AnnotationEditorUIManager=w},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMFilterFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=void 0,t.deprecated=se,t.getColorValues=Ee,t.getCurrentTransform=_e,t.getCurrentTransformInverse=Re,t.getFilenameFromUrl=C,t.getPdfFilenameFromUrl=O,t.getRGB=fe,t.getXfaPageViewport=pe,t.isDataScheme=A,t.isPdfFile=T,t.isValidFetchUrl=R,t.loadScript=q,t.noContextMenu=_,t.setLayerDimensions=Pe;var i=n(7),o=n(1);const u="http://www.w3.org/2000/svg";class h{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}t.PixelsPerInch=h;class m extends i.BaseFilterFactory{#e;#t;#r;#n;#o;#a;#i;#l;#c;#s;#f=0;constructor({docId:ce,ownerDocument:le=globalThis.document}={}){super(),this.#r=ce,this.#n=le}get#d(){return this.#e||=new Map}get#h(){if(!this.#t){const ce=this.#n.createElement("div"),{style:le}=ce;le.visibility="hidden",le.contain="strict",le.width=le.height=0,le.position="absolute",le.top=le.left=0,le.zIndex=-1;const ie=this.#n.createElementNS(u,"svg");ie.setAttribute("width",0),ie.setAttribute("height",0),this.#t=this.#n.createElementNS(u,"defs"),ce.append(ie),ie.append(this.#t),this.#n.body.append(ce)}return this.#t}addFilter(ce){if(!ce)return"none";let le=this.#d.get(ce);if(le)return le;let ie,Y,ne,oe;if(ce.length===1){const te=ce[0],he=new Array(256);for(let ge=0;ge<256;ge++)he[ge]=te[ge]/255;oe=ie=Y=ne=he.join(",")}else{const[te,he,ge]=ce,xe=new Array(256),ye=new Array(256),Se=new Array(256);for(let we=0;we<256;we++)xe[we]=te[we]/255,ye[we]=he[we]/255,Se[we]=ge[we]/255;ie=xe.join(","),Y=ye.join(","),ne=Se.join(","),oe=`${ie}${Y}${ne}`}if(le=this.#d.get(oe),le)return this.#d.set(ce,le),le;const ue=`g_${this.#r}_transfer_map_${this.#f++}`,ve=`url(#${ue})`;this.#d.set(ce,ve),this.#d.set(oe,ve);const me=this.#x(ue);return this.#m(ie,Y,ne,me),ve}addHCMFilter(ce,le){const ie=`${ce}-${le}`;if(this.#a===ie)return this.#i;if(this.#a=ie,this.#i="none",this.#o?.remove(),!ce||!le)return this.#i;const Y=this.#u(ce);ce=o.Util.makeHexColor(...Y);const ne=this.#u(le);if(le=o.Util.makeHexColor(...ne),this.#h.style.color="",ce==="#000000"&&le==="#ffffff"||ce===le)return this.#i;const oe=new Array(256);for(let he=0;he<=255;he++){const ge=he/255;oe[he]=ge<=.03928?ge/12.92:((ge+.055)/1.055)**2.4}const ue=oe.join(","),ve=`g_${this.#r}_hcm_filter`,me=this.#l=this.#x(ve);this.#m(ue,ue,ue,me),this.#p(me);const te=(he,ge)=>{const xe=Y[he]/255,ye=ne[he]/255,Se=new Array(ge+1);for(let we=0;we<=ge;we++)Se[we]=xe+we/ge*(ye-xe);return Se.join(",")};return this.#m(te(0,5),te(1,5),te(2,5),me),this.#i=`url(#${ve})`,this.#i}addHighlightHCMFilter(ce,le,ie,Y){const ne=`${ce}-${le}-${ie}-${Y}`;if(this.#c===ne)return this.#s;if(this.#c=ne,this.#s="none",this.#l?.remove(),!ce||!le)return this.#s;const[oe,ue]=[ce,le].map(this.#u.bind(this));let ve=Math.round(.2126*oe[0]+.7152*oe[1]+.0722*oe[2]),me=Math.round(.2126*ue[0]+.7152*ue[1]+.0722*ue[2]),[te,he]=[ie,Y].map(this.#u.bind(this));me<ve&&([ve,me,te,he]=[me,ve,he,te]),this.#h.style.color="";const ge=(Se,we,ke)=>{const Ve=new Array(256),Oe=(me-ve)/ke,Be=Se/255,Fe=(we-Se)/(255*ke);let Ue=0;for(let He=0;He<=ke;He++){const Ke=Math.round(ve+He*Oe),Ze=Be+He*Fe;for(let Je=Ue;Je<=Ke;Je++)Ve[Je]=Ze;Ue=Ke+1}for(let He=Ue;He<256;He++)Ve[He]=Ve[Ue-1];return Ve.join(",")},xe=`g_${this.#r}_hcm_highlight_filter`,ye=this.#l=this.#x(xe);return this.#p(ye),this.#m(ge(te[0],he[0],5),ge(te[1],he[1],5),ge(te[2],he[2],5),ye),this.#s=`url(#${xe})`,this.#s}destroy(ce=!1){ce&&(this.#i||this.#s)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#f=0)}#p(ce){const le=this.#n.createElementNS(u,"feColorMatrix");le.setAttribute("type","matrix"),le.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),ce.append(le)}#x(ce){const le=this.#n.createElementNS(u,"filter");return le.setAttribute("color-interpolation-filters","sRGB"),le.setAttribute("id",ce),this.#h.append(le),le}#g(ce,le,ie){const Y=this.#n.createElementNS(u,le);Y.setAttribute("type","discrete"),Y.setAttribute("tableValues",ie),ce.append(Y)}#m(ce,le,ie,Y){const ne=this.#n.createElementNS(u,"feComponentTransfer");Y.append(ne),this.#g(ne,"feFuncR",ce),this.#g(ne,"feFuncG",le),this.#g(ne,"feFuncB",ie)}#u(ce){return this.#h.style.color=ce,fe(getComputedStyle(this.#h).getPropertyValue("color"))}}t.DOMFilterFactory=m;class v extends i.BaseCanvasFactory{constructor({ownerDocument:ce=globalThis.document}={}){super(),this._document=ce}_createCanvas(ce,le){const ie=this._document.createElement("canvas");return ie.width=ce,ie.height=le,ie}}t.DOMCanvasFactory=v;async function p(je,ce=!1){if(R(je,document.baseURI)){const le=await fetch(je);if(!le.ok)throw new Error(le.statusText);return ce?new Uint8Array(await le.arrayBuffer()):(0,o.stringToBytes)(await le.text())}return new Promise((le,ie)=>{const Y=new XMLHttpRequest;Y.open("GET",je,!0),ce&&(Y.responseType="arraybuffer"),Y.onreadystatechange=()=>{if(Y.readyState===XMLHttpRequest.DONE){if(Y.status===200||Y.status===0){let ne;if(ce&&Y.response?ne=new Uint8Array(Y.response):!ce&&Y.responseText&&(ne=(0,o.stringToBytes)(Y.responseText)),ne){le(ne);return}}ie(new Error(Y.statusText))}},Y.send(null)})}class f extends i.BaseCMapReaderFactory{_fetchData(ce,le){return p(ce,this.isCompressed).then(ie=>({cMapData:ie,compressionType:le}))}}t.DOMCMapReaderFactory=f;class b extends i.BaseStandardFontDataFactory{_fetchData(ce){return p(ce,!0)}}t.DOMStandardFontDataFactory=b;class w extends i.BaseSVGFactory{_createSVG(ce){return document.createElementNS(u,ce)}}t.DOMSVGFactory=w;class S{constructor({viewBox:ce,scale:le,rotation:ie,offsetX:Y=0,offsetY:ne=0,dontFlip:oe=!1}){this.viewBox=ce,this.scale=le,this.rotation=ie,this.offsetX=Y,this.offsetY=ne;const ue=(ce[2]+ce[0])/2,ve=(ce[3]+ce[1])/2;let me,te,he,ge;switch(ie%=360,ie<0&&(ie+=360),ie){case 180:me=-1,te=0,he=0,ge=1;break;case 90:me=0,te=1,he=1,ge=0;break;case 270:me=0,te=-1,he=-1,ge=0;break;case 0:me=1,te=0,he=0,ge=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}oe&&(he=-he,ge=-ge);let xe,ye,Se,we;me===0?(xe=Math.abs(ve-ce[1])*le+Y,ye=Math.abs(ue-ce[0])*le+ne,Se=(ce[3]-ce[1])*le,we=(ce[2]-ce[0])*le):(xe=Math.abs(ue-ce[0])*le+Y,ye=Math.abs(ve-ce[1])*le+ne,Se=(ce[2]-ce[0])*le,we=(ce[3]-ce[1])*le),this.transform=[me*le,te*le,he*le,ge*le,xe-me*le*ue-he*le*ve,ye-te*le*ue-ge*le*ve],this.width=Se,this.height=we}get rawDims(){const{viewBox:ce}=this;return(0,o.shadow)(this,"rawDims",{pageWidth:ce[2]-ce[0],pageHeight:ce[3]-ce[1],pageX:ce[0],pageY:ce[1]})}clone({scale:ce=this.scale,rotation:le=this.rotation,offsetX:ie=this.offsetX,offsetY:Y=this.offsetY,dontFlip:ne=!1}={}){return new S({viewBox:this.viewBox.slice(),scale:ce,rotation:le,offsetX:ie,offsetY:Y,dontFlip:ne})}convertToViewportPoint(ce,le){return o.Util.applyTransform([ce,le],this.transform)}convertToViewportRectangle(ce){const le=o.Util.applyTransform([ce[0],ce[1]],this.transform),ie=o.Util.applyTransform([ce[2],ce[3]],this.transform);return[le[0],le[1],ie[0],ie[1]]}convertToPdfPoint(ce,le){return o.Util.applyInverseTransform([ce,le],this.transform)}}t.PageViewport=S;class j extends o.BaseException{constructor(ce,le=0){super(ce,"RenderingCancelledException"),this.extraDelay=le}}t.RenderingCancelledException=j;function A(je){const ce=je.length;let le=0;for(;le<ce&&je[le].trim()==="";)le++;return je.substring(le,le+5).toLowerCase()==="data:"}function T(je){return typeof je=="string"&&/\.pdf$/i.test(je)}function C(je,ce=!1){return ce||([je]=je.split(/[#?]/,1)),je.substring(je.lastIndexOf("/")+1)}function O(je,ce="document.pdf"){if(typeof je!="string")return ce;if(A(je))return(0,o.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),ce;const le=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,ie=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Y=le.exec(je);let ne=ie.exec(Y[1])||ie.exec(Y[2])||ie.exec(Y[3]);if(ne&&(ne=ne[0],ne.includes("%")))try{ne=ie.exec(decodeURIComponent(ne))[0]}catch{}return ne||ce}class M{started=Object.create(null);times=[];time(ce){ce in this.started&&(0,o.warn)(`Timer is already running for ${ce}`),this.started[ce]=Date.now()}timeEnd(ce){ce in this.started||(0,o.warn)(`Timer has not been started for ${ce}`),this.times.push({name:ce,start:this.started[ce],end:Date.now()}),delete this.started[ce]}toString(){const ce=[];let le=0;for(const{name:ie}of this.times)le=Math.max(ie.length,le);for(const{name:ie,start:Y,end:ne}of this.times)ce.push(`${ie.padEnd(le)} ${ne-Y}ms
`);return ce.join("")}}t.StatTimer=M;function R(je,ce){try{const{protocol:le}=ce?new URL(je,ce):new URL(je);return le==="http:"||le==="https:"}catch{return!1}}function _(je){je.preventDefault()}function q(je,ce=!1){return new Promise((le,ie)=>{const Y=document.createElement("script");Y.src=je,Y.onload=function(ne){ce&&Y.remove(),le(ne)},Y.onerror=function(){ie(new Error(`Cannot load script at: ${Y.src}`))},(document.head||document.documentElement).append(Y)})}function se(je){console.log("Deprecated API usage: "+je)}let ee;class ae{static toDateObject(ce){if(!ce||typeof ce!="string")return null;ee||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const le=ee.exec(ce);if(!le)return null;const ie=parseInt(le[1],10);let Y=parseInt(le[2],10);Y=Y>=1&&Y<=12?Y-1:0;let ne=parseInt(le[3],10);ne=ne>=1&&ne<=31?ne:1;let oe=parseInt(le[4],10);oe=oe>=0&&oe<=23?oe:0;let ue=parseInt(le[5],10);ue=ue>=0&&ue<=59?ue:0;let ve=parseInt(le[6],10);ve=ve>=0&&ve<=59?ve:0;const me=le[7]||"Z";let te=parseInt(le[8],10);te=te>=0&&te<=23?te:0;let he=parseInt(le[9],10)||0;return he=he>=0&&he<=59?he:0,me==="-"?(oe+=te,ue+=he):me==="+"&&(oe-=te,ue-=he),new Date(Date.UTC(ie,Y,ne,oe,ue,ve))}}t.PDFDateString=ae;function pe(je,{scale:ce=1,rotation:le=0}){const{width:ie,height:Y}=je.attributes.style,ne=[0,0,parseInt(ie),parseInt(Y)];return new S({viewBox:ne,scale:ce,rotation:le})}function fe(je){if(je.startsWith("#")){const ce=parseInt(je.slice(1),16);return[(ce&16711680)>>16,(ce&65280)>>8,ce&255]}return je.startsWith("rgb(")?je.slice(4,-1).split(",").map(ce=>parseInt(ce)):je.startsWith("rgba(")?je.slice(5,-1).split(",").map(ce=>parseInt(ce)).slice(0,3):((0,o.warn)(`Not a valid color format: "${je}"`),[0,0,0])}function Ee(je){const ce=document.createElement("span");ce.style.visibility="hidden",document.body.append(ce);for(const le of je.keys()){ce.style.color=le;const ie=window.getComputedStyle(ce).color;je.set(le,fe(ie))}ce.remove()}function _e(je){const{a:ce,b:le,c:ie,d:Y,e:ne,f:oe}=je.getTransform();return[ce,le,ie,Y,ne,oe]}function Re(je){const{a:ce,b:le,c:ie,d:Y,e:ne,f:oe}=je.getTransform().invertSelf();return[ce,le,ie,Y,ne,oe]}function Pe(je,ce,le=!1,ie=!0){if(ce instanceof S){const{pageWidth:Y,pageHeight:ne}=ce.rawDims,{style:oe}=je,ue=o.FeatureTest.isCSSRoundSupported,ve=`var(--scale-factor) * ${Y}px`,me=`var(--scale-factor) * ${ne}px`,te=ue?`round(${ve}, 1px)`:`calc(${ve})`,he=ue?`round(${me}, 1px)`:`calc(${me})`;!le||ce.rotation%180===0?(oe.width=te,oe.height=he):(oe.width=he,oe.height=te)}ie&&je.setAttribute("data-main-rotation",ce.rotation)}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseFilterFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var i=n(1);class o{constructor(){this.constructor===o&&(0,i.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(f){return"none"}addHCMFilter(f,b){return"none"}addHighlightHCMFilter(f,b,w,S){return"none"}destroy(f=!1){}}t.BaseFilterFactory=o;class u{constructor(){this.constructor===u&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(f,b){if(f<=0||b<=0)throw new Error("Invalid canvas size");const w=this._createCanvas(f,b);return{canvas:w,context:w.getContext("2d")}}reset(f,b,w){if(!f.canvas)throw new Error("Canvas is not specified");if(b<=0||w<=0)throw new Error("Invalid canvas size");f.canvas.width=b,f.canvas.height=w}destroy(f){if(!f.canvas)throw new Error("Canvas is not specified");f.canvas.width=0,f.canvas.height=0,f.canvas=null,f.context=null}_createCanvas(f,b){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=u;class h{constructor({baseUrl:f=null,isCompressed:b=!0}){this.constructor===h&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=f,this.isCompressed=b}async fetch({name:f}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!f)throw new Error("CMap name must be specified.");const b=this.baseUrl+f+(this.isCompressed?".bcmap":""),w=this.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE;return this._fetchData(b,w).catch(S=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${b}`)})}_fetchData(f,b){(0,i.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=h;class m{constructor({baseUrl:f=null}){this.constructor===m&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=f}async fetch({filename:f}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!f)throw new Error("Font filename must be specified.");const b=`${this.baseUrl}${f}`;return this._fetchData(b).catch(w=>{throw new Error(`Unable to load font data at: ${b}`)})}_fetchData(f){(0,i.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=m;class v{constructor(){this.constructor===v&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(f,b,w=!1){if(f<=0||b<=0)throw new Error("Invalid SVG dimensions");const S=this._createSVG("svg:svg");return S.setAttribute("version","1.1"),w||(S.setAttribute("width",`${f}px`),S.setAttribute("height",`${b}px`)),S.setAttribute("preserveAspectRatio","none"),S.setAttribute("viewBox",`0 0 ${f} ${b}`),S}createElement(f){if(typeof f!="string")throw new Error("Invalid SVG element type");return this._createSVG(f)}_createSVG(f){(0,i.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=v},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var i=n(1);const o=3285377520,u=4294901760,h=65535;class m{constructor(p){this.h1=p?p&4294967295:o,this.h2=p?p&4294967295:o}update(p){let f,b;if(typeof p=="string"){f=new Uint8Array(p.length*2),b=0;for(let se=0,ee=p.length;se<ee;se++){const ae=p.charCodeAt(se);ae<=255?f[b++]=ae:(f[b++]=ae>>>8,f[b++]=ae&255)}}else if((0,i.isArrayBuffer)(p))f=p.slice(),b=f.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const w=b>>2,S=b-w*4,j=new Uint32Array(f.buffer,0,w);let A=0,T=0,C=this.h1,O=this.h2;const M=3432918353,R=461845907,_=M&h,q=R&h;for(let se=0;se<w;se++)se&1?(A=j[se],A=A*M&u|A*_&h,A=A<<15|A>>>17,A=A*R&u|A*q&h,C^=A,C=C<<13|C>>>19,C=C*5+3864292196):(T=j[se],T=T*M&u|T*_&h,T=T<<15|T>>>17,T=T*R&u|T*q&h,O^=T,O=O<<13|O>>>19,O=O*5+3864292196);switch(A=0,S){case 3:A^=f[w*4+2]<<16;case 2:A^=f[w*4+1]<<8;case 1:A^=f[w*4],A=A*M&u|A*_&h,A=A<<15|A>>>17,A=A*R&u|A*q&h,w&1?C^=A:O^=A}this.h1=C,this.h2=O}hexdigest(){let p=this.h1,f=this.h2;return p^=f>>>1,p=p*3981806797&u|p*36045&h,f=f*4283543511&u|((f<<16|p>>>16)*2950163797&u)>>>16,p^=f>>>1,p=p*444984403&u|p*60499&h,f=f*3301882366&u|((f<<16|p>>>16)*3120437893&u)>>>16,p^=f>>>1,(p>>>0).toString(16).padStart(8,"0")+(f>>>0).toString(16).padStart(8,"0")}}t.MurmurHash3_64=m},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var i=n(1);class o{#e=new Set;constructor({ownerDocument:m=globalThis.document,styleElement:v=null}){this._document=m,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(m){this.nativeFontFaces.add(m),this._document.fonts.add(m)}removeNativeFontFace(m){this.nativeFontFaces.delete(m),this._document.fonts.delete(m)}insertRule(m){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const v=this.styleElement.sheet;v.insertRule(m,v.cssRules.length)}clear(){for(const m of this.nativeFontFaces)this._document.fonts.delete(m);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(m){if(!(!m||this.#e.has(m.loadedName))){if((0,i.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:v,src:p,style:f}=m,b=new FontFace(v,p,f);this.addNativeFontFace(b);try{await b.load(),this.#e.add(v)}catch{(0,i.warn)(`Cannot load system font: ${m.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(b)}return}(0,i.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(m){if(m.attached||m.missingFile&&!m.systemFontInfo)return;if(m.attached=!0,m.systemFontInfo){await this.loadSystemFont(m.systemFontInfo);return}if(this.isFontLoadingAPISupported){const p=m.createNativeFontFace();if(p){this.addNativeFontFace(p);try{await p.loaded}catch(f){throw(0,i.warn)(`Failed to load font '${p.family}': '${f}'.`),m.disableFontFace=!0,f}}return}const v=m.createFontFaceRule();if(v){if(this.insertRule(v),this.isSyncFontLoadingSupported)return;await new Promise(p=>{const f=this._queueLoadingCallback(p);this._prepareFontLoadEvent(m,f)})}}get isFontLoadingAPISupported(){const m=!!this._document?.fonts;return(0,i.shadow)(this,"isFontLoadingAPISupported",m)}get isSyncFontLoadingSupported(){let m=!1;return(i.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(m=!0),(0,i.shadow)(this,"isSyncFontLoadingSupported",m)}_queueLoadingCallback(m){function v(){for((0,i.assert)(!f.done,"completeRequest() cannot be called twice."),f.done=!0;p.length>0&&p[0].done;){const b=p.shift();setTimeout(b.callback,0)}}const{loadingRequests:p}=this,f={done:!1,complete:v,callback:m};return p.push(f),f}get _loadTestFont(){const m=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,i.shadow)(this,"_loadTestFont",m)}_prepareFontLoadEvent(m,v){function p(pe,fe){return pe.charCodeAt(fe)<<24|pe.charCodeAt(fe+1)<<16|pe.charCodeAt(fe+2)<<8|pe.charCodeAt(fe+3)&255}function f(pe,fe,Ee,_e){const Re=pe.substring(0,fe),Pe=pe.substring(fe+Ee);return Re+_e+Pe}let b,w;const S=this._document.createElement("canvas");S.width=1,S.height=1;const j=S.getContext("2d");let A=0;function T(pe,fe){if(++A>30){(0,i.warn)("Load test font never loaded."),fe();return}if(j.font="30px "+pe,j.fillText(".",0,20),j.getImageData(0,0,1,1).data[3]>0){fe();return}setTimeout(T.bind(null,pe,fe))}const C=`lt${Date.now()}${this.loadTestFontId++}`;let O=this._loadTestFont;O=f(O,976,C.length,C);const R=16,_=1482184792;let q=p(O,R);for(b=0,w=C.length-3;b<w;b+=4)q=q-_+p(C,b)|0;b<C.length&&(q=q-_+p(C+"XXX",b)|0),O=f(O,R,4,(0,i.string32)(q));const se=`url(data:font/opentype;base64,${btoa(O)});`,ee=`@font-face {font-family:"${C}";src:${se}}`;this.insertRule(ee);const ae=this._document.createElement("div");ae.style.visibility="hidden",ae.style.width=ae.style.height="10px",ae.style.position="absolute",ae.style.top=ae.style.left="0px";for(const pe of[m.loadedName,C]){const fe=this._document.createElement("span");fe.textContent="Hi",fe.style.fontFamily=pe,ae.append(fe)}this._document.body.append(ae),T(C,()=>{ae.remove(),v.complete()})}}t.FontLoader=o;class u{constructor(m,{isEvalSupported:v=!0,disableFontFace:p=!1,ignoreErrors:f=!1,inspectFont:b=null}){this.compiledGlyphs=Object.create(null);for(const w in m)this[w]=m[w];this.isEvalSupported=v!==!1,this.disableFontFace=p===!0,this.ignoreErrors=f===!0,this._inspectFont=b}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let m;if(!this.cssFontInfo)m=new FontFace(this.loadedName,this.data,{});else{const v={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(v.style=`oblique ${this.cssFontInfo.italicAngle}deg`),m=new FontFace(this.cssFontInfo.fontFamily,this.data,v)}return this._inspectFont?.(this),m}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const m=(0,i.bytesToString)(this.data),v=`url(data:${this.mimetype};base64,${btoa(m)});`;let p;if(!this.cssFontInfo)p=`@font-face {font-family:"${this.loadedName}";src:${v}}`;else{let f=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(f+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),p=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${f}src:${v}}`}return this._inspectFont?.(this,v),p}getPathGenerator(m,v){if(this.compiledGlyphs[v]!==void 0)return this.compiledGlyphs[v];let p;try{p=m.get(this.loadedName+"_path_"+v)}catch(f){if(!this.ignoreErrors)throw f;return(0,i.warn)(`getPathGenerator - ignoring character: "${f}".`),this.compiledGlyphs[v]=function(b,w){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){const f=[];for(const b of p){const w=b.args!==void 0?b.args.join(","):"";f.push("c.",b.cmd,"(",w,`);
`)}return this.compiledGlyphs[v]=new Function("c","size",f.join(""))}return this.compiledGlyphs[v]=function(f,b){for(const w of p)w.cmd==="scale"&&(w.args=[b,-b]),f[w.cmd].apply(f,w.args)}}}t.FontFaceObject=u},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeFilterFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var i=n(7);n(1);const o=function(p){return new Promise((f,b)=>{require$$5.readFile(p,(S,j)=>{if(S||!j){b(new Error(S));return}f(new Uint8Array(j))})})};class u extends i.BaseFilterFactory{}t.NodeFilterFactory=u;class h extends i.BaseCanvasFactory{_createCanvas(f,b){return require$$5.createCanvas(f,b)}}t.NodeCanvasFactory=h;class m extends i.BaseCMapReaderFactory{_fetchData(f,b){return o(f).then(w=>({cMapData:w,compressionType:b}))}}t.NodeCMapReaderFactory=m;class v extends i.BaseStandardFontDataFactory{_fetchData(f){return o(f)}}t.NodeStandardFontDataFactory=v},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var i=n(1),o=n(6),u=n(12),h=n(13);const m=16,v=100,p=4096,f=15,b=10,w=1e3,S=16;function j(le,ie){if(le._removeMirroring)throw new Error("Context is already forwarding operations.");le.__originalSave=le.save,le.__originalRestore=le.restore,le.__originalRotate=le.rotate,le.__originalScale=le.scale,le.__originalTranslate=le.translate,le.__originalTransform=le.transform,le.__originalSetTransform=le.setTransform,le.__originalResetTransform=le.resetTransform,le.__originalClip=le.clip,le.__originalMoveTo=le.moveTo,le.__originalLineTo=le.lineTo,le.__originalBezierCurveTo=le.bezierCurveTo,le.__originalRect=le.rect,le.__originalClosePath=le.closePath,le.__originalBeginPath=le.beginPath,le._removeMirroring=()=>{le.save=le.__originalSave,le.restore=le.__originalRestore,le.rotate=le.__originalRotate,le.scale=le.__originalScale,le.translate=le.__originalTranslate,le.transform=le.__originalTransform,le.setTransform=le.__originalSetTransform,le.resetTransform=le.__originalResetTransform,le.clip=le.__originalClip,le.moveTo=le.__originalMoveTo,le.lineTo=le.__originalLineTo,le.bezierCurveTo=le.__originalBezierCurveTo,le.rect=le.__originalRect,le.closePath=le.__originalClosePath,le.beginPath=le.__originalBeginPath,delete le._removeMirroring},le.save=function(){ie.save(),this.__originalSave()},le.restore=function(){ie.restore(),this.__originalRestore()},le.translate=function(ne,oe){ie.translate(ne,oe),this.__originalTranslate(ne,oe)},le.scale=function(ne,oe){ie.scale(ne,oe),this.__originalScale(ne,oe)},le.transform=function(ne,oe,ue,ve,me,te){ie.transform(ne,oe,ue,ve,me,te),this.__originalTransform(ne,oe,ue,ve,me,te)},le.setTransform=function(ne,oe,ue,ve,me,te){ie.setTransform(ne,oe,ue,ve,me,te),this.__originalSetTransform(ne,oe,ue,ve,me,te)},le.resetTransform=function(){ie.resetTransform(),this.__originalResetTransform()},le.rotate=function(ne){ie.rotate(ne),this.__originalRotate(ne)},le.clip=function(ne){ie.clip(ne),this.__originalClip(ne)},le.moveTo=function(Y,ne){ie.moveTo(Y,ne),this.__originalMoveTo(Y,ne)},le.lineTo=function(Y,ne){ie.lineTo(Y,ne),this.__originalLineTo(Y,ne)},le.bezierCurveTo=function(Y,ne,oe,ue,ve,me){ie.bezierCurveTo(Y,ne,oe,ue,ve,me),this.__originalBezierCurveTo(Y,ne,oe,ue,ve,me)},le.rect=function(Y,ne,oe,ue){ie.rect(Y,ne,oe,ue),this.__originalRect(Y,ne,oe,ue)},le.closePath=function(){ie.closePath(),this.__originalClosePath()},le.beginPath=function(){ie.beginPath(),this.__originalBeginPath()}}class A{constructor(ie){this.canvasFactory=ie,this.cache=Object.create(null)}getCanvas(ie,Y,ne){let oe;return this.cache[ie]!==void 0?(oe=this.cache[ie],this.canvasFactory.reset(oe,Y,ne)):(oe=this.canvasFactory.create(Y,ne),this.cache[ie]=oe),oe}delete(ie){delete this.cache[ie]}clear(){for(const ie in this.cache){const Y=this.cache[ie];this.canvasFactory.destroy(Y),delete this.cache[ie]}}}function T(le,ie,Y,ne,oe,ue,ve,me,te,he){const[ge,xe,ye,Se,we,ke]=(0,o.getCurrentTransform)(le);if(xe===0&&ye===0){const Be=ve*ge+we,Fe=Math.round(Be),Ue=me*Se+ke,He=Math.round(Ue),Ke=(ve+te)*ge+we,Ze=Math.abs(Math.round(Ke)-Fe)||1,Je=(me+he)*Se+ke,ct=Math.abs(Math.round(Je)-He)||1;return le.setTransform(Math.sign(ge),0,0,Math.sign(Se),Fe,He),le.drawImage(ie,Y,ne,oe,ue,0,0,Ze,ct),le.setTransform(ge,xe,ye,Se,we,ke),[Ze,ct]}if(ge===0&&Se===0){const Be=me*ye+we,Fe=Math.round(Be),Ue=ve*xe+ke,He=Math.round(Ue),Ke=(me+he)*ye+we,Ze=Math.abs(Math.round(Ke)-Fe)||1,Je=(ve+te)*xe+ke,ct=Math.abs(Math.round(Je)-He)||1;return le.setTransform(0,Math.sign(xe),Math.sign(ye),0,Fe,He),le.drawImage(ie,Y,ne,oe,ue,0,0,ct,Ze),le.setTransform(ge,xe,ye,Se,we,ke),[ct,Ze]}le.drawImage(ie,Y,ne,oe,ue,ve,me,te,he);const Ve=Math.hypot(ge,xe),Oe=Math.hypot(ye,Se);return[Ve*te,Oe*he]}function C(le){const{width:ie,height:Y}=le;if(ie>w||Y>w)return null;const ne=1e3,oe=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),ue=ie+1;let ve=new Uint8Array(ue*(Y+1)),me,te,he;const ge=ie+7&-8;let xe=new Uint8Array(ge*Y),ye=0;for(const Oe of le.data){let Be=128;for(;Be>0;)xe[ye++]=Oe&Be?0:255,Be>>=1}let Se=0;for(ye=0,xe[ye]!==0&&(ve[0]=1,++Se),te=1;te<ie;te++)xe[ye]!==xe[ye+1]&&(ve[te]=xe[ye]?2:1,++Se),ye++;for(xe[ye]!==0&&(ve[te]=2,++Se),me=1;me<Y;me++){ye=me*ge,he=me*ue,xe[ye-ge]!==xe[ye]&&(ve[he]=xe[ye]?1:8,++Se);let Oe=(xe[ye]?4:0)+(xe[ye-ge]?8:0);for(te=1;te<ie;te++)Oe=(Oe>>2)+(xe[ye+1]?4:0)+(xe[ye-ge+1]?8:0),oe[Oe]&&(ve[he+te]=oe[Oe],++Se),ye++;if(xe[ye-ge]!==xe[ye]&&(ve[he+te]=xe[ye]?2:4,++Se),Se>ne)return null}for(ye=ge*(Y-1),he=me*ue,xe[ye]!==0&&(ve[he]=8,++Se),te=1;te<ie;te++)xe[ye]!==xe[ye+1]&&(ve[he+te]=xe[ye]?4:8,++Se),ye++;if(xe[ye]!==0&&(ve[he+te]=4,++Se),Se>ne)return null;const we=new Int32Array([0,ue,-1,0,-ue,0,0,0,1]),ke=new Path2D;for(me=0;Se&&me<=Y;me++){let Oe=me*ue;const Be=Oe+ie;for(;Oe<Be&&!ve[Oe];)Oe++;if(Oe===Be)continue;ke.moveTo(Oe%ue,me);const Fe=Oe;let Ue=ve[Oe];do{const He=we[Ue];do Oe+=He;while(!ve[Oe]);const Ke=ve[Oe];Ke!==5&&Ke!==10?(Ue=Ke,ve[Oe]=0):(Ue=Ke&51*Ue>>4,ve[Oe]&=Ue>>2|Ue<<2),ke.lineTo(Oe%ue,Oe/ue|0),ve[Oe]||--Se}while(Fe!==Oe);--me}return xe=null,ve=null,function(Oe){Oe.save(),Oe.scale(1/ie,-1/Y),Oe.translate(0,-Y),Oe.fill(ke),Oe.beginPath(),Oe.restore()}}class O{constructor(ie,Y){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,ie,Y])}clone(){const ie=Object.create(this);return ie.clipBox=this.clipBox.slice(),ie}setCurrentPoint(ie,Y){this.x=ie,this.y=Y}updatePathMinMax(ie,Y,ne){[Y,ne]=i.Util.applyTransform([Y,ne],ie),this.minX=Math.min(this.minX,Y),this.minY=Math.min(this.minY,ne),this.maxX=Math.max(this.maxX,Y),this.maxY=Math.max(this.maxY,ne)}updateRectMinMax(ie,Y){const ne=i.Util.applyTransform(Y,ie),oe=i.Util.applyTransform(Y.slice(2),ie);this.minX=Math.min(this.minX,ne[0],oe[0]),this.minY=Math.min(this.minY,ne[1],oe[1]),this.maxX=Math.max(this.maxX,ne[0],oe[0]),this.maxY=Math.max(this.maxY,ne[1],oe[1])}updateScalingPathMinMax(ie,Y){i.Util.scaleMinMax(ie,Y),this.minX=Math.min(this.minX,Y[0]),this.maxX=Math.max(this.maxX,Y[1]),this.minY=Math.min(this.minY,Y[2]),this.maxY=Math.max(this.maxY,Y[3])}updateCurvePathMinMax(ie,Y,ne,oe,ue,ve,me,te,he,ge){const xe=i.Util.bezierBoundingBox(Y,ne,oe,ue,ve,me,te,he);if(ge){ge[0]=Math.min(ge[0],xe[0],xe[2]),ge[1]=Math.max(ge[1],xe[0],xe[2]),ge[2]=Math.min(ge[2],xe[1],xe[3]),ge[3]=Math.max(ge[3],xe[1],xe[3]);return}this.updateRectMinMax(ie,xe)}getPathBoundingBox(ie=u.PathType.FILL,Y=null){const ne=[this.minX,this.minY,this.maxX,this.maxY];if(ie===u.PathType.STROKE){Y||(0,i.unreachable)("Stroke bounding box must include transform.");const oe=i.Util.singularValueDecompose2dScale(Y),ue=oe[0]*this.lineWidth/2,ve=oe[1]*this.lineWidth/2;ne[0]-=ue,ne[1]-=ve,ne[2]+=ue,ne[3]+=ve}return ne}updateClipFromPath(){const ie=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(ie||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(ie){this.clipBox=ie,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(ie=u.PathType.FILL,Y=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(ie,Y))}}function M(le,ie){if(typeof ImageData<"u"&&ie instanceof ImageData){le.putImageData(ie,0,0);return}const Y=ie.height,ne=ie.width,oe=Y%S,ue=(Y-oe)/S,ve=oe===0?ue:ue+1,me=le.createImageData(ne,S);let te=0,he;const ge=ie.data,xe=me.data;let ye,Se,we,ke;if(ie.kind===i.ImageKind.GRAYSCALE_1BPP){const Ve=ge.byteLength,Oe=new Uint32Array(xe.buffer,0,xe.byteLength>>2),Be=Oe.length,Fe=ne+7>>3,Ue=4294967295,He=i.FeatureTest.isLittleEndian?4278190080:255;for(ye=0;ye<ve;ye++){for(we=ye<ue?S:oe,he=0,Se=0;Se<we;Se++){const Ke=Ve-te;let Ze=0;const Je=Ke>Fe?ne:Ke*8-7,ct=Je&-8;let ut=0,$t=0;for(;Ze<ct;Ze+=8)$t=ge[te++],Oe[he++]=$t&128?Ue:He,Oe[he++]=$t&64?Ue:He,Oe[he++]=$t&32?Ue:He,Oe[he++]=$t&16?Ue:He,Oe[he++]=$t&8?Ue:He,Oe[he++]=$t&4?Ue:He,Oe[he++]=$t&2?Ue:He,Oe[he++]=$t&1?Ue:He;for(;Ze<Je;Ze++)ut===0&&($t=ge[te++],ut=128),Oe[he++]=$t&ut?Ue:He,ut>>=1}for(;he<Be;)Oe[he++]=0;le.putImageData(me,0,ye*S)}}else if(ie.kind===i.ImageKind.RGBA_32BPP){for(Se=0,ke=ne*S*4,ye=0;ye<ue;ye++)xe.set(ge.subarray(te,te+ke)),te+=ke,le.putImageData(me,0,Se),Se+=S;ye<ve&&(ke=ne*oe*4,xe.set(ge.subarray(te,te+ke)),le.putImageData(me,0,Se))}else if(ie.kind===i.ImageKind.RGB_24BPP)for(we=S,ke=ne*we,ye=0;ye<ve;ye++){for(ye>=ue&&(we=oe,ke=ne*we),he=0,Se=ke;Se--;)xe[he++]=ge[te++],xe[he++]=ge[te++],xe[he++]=ge[te++],xe[he++]=255;le.putImageData(me,0,ye*S)}else throw new Error(`bad image kind: ${ie.kind}`)}function R(le,ie){if(ie.bitmap){le.drawImage(ie.bitmap,0,0);return}const Y=ie.height,ne=ie.width,oe=Y%S,ue=(Y-oe)/S,ve=oe===0?ue:ue+1,me=le.createImageData(ne,S);let te=0;const he=ie.data,ge=me.data;for(let xe=0;xe<ve;xe++){const ye=xe<ue?S:oe;({srcPos:te}=(0,h.convertBlackAndWhiteToRGBA)({src:he,srcPos:te,dest:ge,width:ne,height:ye,nonBlackColor:0})),le.putImageData(me,0,xe*S)}}function _(le,ie){const Y=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const ne of Y)le[ne]!==void 0&&(ie[ne]=le[ne]);le.setLineDash!==void 0&&(ie.setLineDash(le.getLineDash()),ie.lineDashOffset=le.lineDashOffset)}function q(le){if(le.strokeStyle=le.fillStyle="#000000",le.fillRule="nonzero",le.globalAlpha=1,le.lineWidth=1,le.lineCap="butt",le.lineJoin="miter",le.miterLimit=10,le.globalCompositeOperation="source-over",le.font="10px sans-serif",le.setLineDash!==void 0&&(le.setLineDash([]),le.lineDashOffset=0),!i.isNodeJS){const{filter:ie}=le;ie!=="none"&&ie!==""&&(le.filter="none")}}function se(le,ie,Y,ne){const oe=le.length;for(let ue=3;ue<oe;ue+=4){const ve=le[ue];if(ve===0)le[ue-3]=ie,le[ue-2]=Y,le[ue-1]=ne;else if(ve<255){const me=255-ve;le[ue-3]=le[ue-3]*ve+ie*me>>8,le[ue-2]=le[ue-2]*ve+Y*me>>8,le[ue-1]=le[ue-1]*ve+ne*me>>8}}}function ee(le,ie,Y){const ne=le.length,oe=1/255;for(let ue=3;ue<ne;ue+=4){const ve=Y?Y[le[ue]]:le[ue];ie[ue]=ie[ue]*ve*oe|0}}function ae(le,ie,Y){const ne=le.length;for(let oe=3;oe<ne;oe+=4){const ue=le[oe-3]*77+le[oe-2]*152+le[oe-1]*28;ie[oe]=Y?ie[oe]*Y[ue>>8]>>8:ie[oe]*ue>>16}}function pe(le,ie,Y,ne,oe,ue,ve,me,te,he,ge){const xe=!!ue,ye=xe?ue[0]:0,Se=xe?ue[1]:0,we=xe?ue[2]:0,ke=oe==="Luminosity"?ae:ee,Oe=Math.min(ne,Math.ceil(1048576/Y));for(let Be=0;Be<ne;Be+=Oe){const Fe=Math.min(Oe,ne-Be),Ue=le.getImageData(me-he,Be+(te-ge),Y,Fe),He=ie.getImageData(me,Be+te,Y,Fe);xe&&se(Ue.data,ye,Se,we),ke(Ue.data,He.data,ve),ie.putImageData(He,me,Be+te)}}function fe(le,ie,Y,ne){const oe=ne[0],ue=ne[1],ve=ne[2]-oe,me=ne[3]-ue;ve===0||me===0||(pe(ie.context,Y,ve,me,ie.subtype,ie.backdrop,ie.transferMap,oe,ue,ie.offsetX,ie.offsetY),le.save(),le.globalAlpha=1,le.globalCompositeOperation="source-over",le.setTransform(1,0,0,1,0,0),le.drawImage(Y.canvas,0,0),le.restore())}function Ee(le,ie){const Y=i.Util.singularValueDecompose2dScale(le);Y[0]=Math.fround(Y[0]),Y[1]=Math.fround(Y[1]);const ne=Math.fround((globalThis.devicePixelRatio||1)*o.PixelsPerInch.PDF_TO_CSS_UNITS);return ie!==void 0?ie:Y[0]<=ne||Y[1]<=ne}const _e=["butt","round","square"],Re=["miter","round","bevel"],Pe={},je={};class ce{constructor(ie,Y,ne,oe,ue,{optionalContentConfig:ve,markedContentStack:me=null},te,he){this.ctx=ie,this.current=new O(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Y,this.objs=ne,this.canvasFactory=oe,this.filterFactory=ue,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=me||[],this.optionalContentConfig=ve,this.cachedCanvases=new A(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=te,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=he,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(ie,Y=null){return typeof ie=="string"?ie.startsWith("g_")?this.commonObjs.get(ie):this.objs.get(ie):Y}beginDrawing({transform:ie,viewport:Y,transparency:ne=!1,background:oe=null}){const ue=this.ctx.canvas.width,ve=this.ctx.canvas.height,me=this.ctx.fillStyle;if(this.ctx.fillStyle=oe||"#ffffff",this.ctx.fillRect(0,0,ue,ve),this.ctx.fillStyle=me,ne){const te=this.cachedCanvases.getCanvas("transparent",ue,ve);this.compositeCtx=this.ctx,this.transparentCanvas=te.canvas,this.ctx=te.context,this.ctx.save(),this.ctx.transform(...(0,o.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),q(this.ctx),ie&&(this.ctx.transform(...ie),this.outputScaleX=ie[0],this.outputScaleY=ie[0]),this.ctx.transform(...Y.transform),this.viewportScale=Y.scale,this.baseTransform=(0,o.getCurrentTransform)(this.ctx)}executeOperatorList(ie,Y,ne,oe){const ue=ie.argsArray,ve=ie.fnArray;let me=Y||0;const te=ue.length;if(te===me)return me;const he=te-me>b&&typeof ne=="function",ge=he?Date.now()+f:0;let xe=0;const ye=this.commonObjs,Se=this.objs;let we;for(;;){if(oe!==void 0&&me===oe.nextBreakPoint)return oe.breakIt(me,ne),me;if(we=ve[me],we!==i.OPS.dependency)this[we].apply(this,ue[me]);else for(const ke of ue[me]){const Ve=ke.startsWith("g_")?ye:Se;if(!Ve.has(ke))return Ve.get(ke,ne),me}if(me++,me===te)return me;if(he&&++xe>b){if(Date.now()>ge)return ne(),me;xe=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const ie of this._cachedBitmapsMap.values()){for(const Y of ie.values())typeof HTMLCanvasElement<"u"&&Y instanceof HTMLCanvasElement&&(Y.width=Y.height=0);ie.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const ie=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(ie!=="none"){const Y=this.ctx.filter;this.ctx.filter=ie,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=Y}}}_scaleImage(ie,Y){const ne=ie.width,oe=ie.height;let ue=Math.max(Math.hypot(Y[0],Y[1]),1),ve=Math.max(Math.hypot(Y[2],Y[3]),1),me=ne,te=oe,he="prescale1",ge,xe;for(;ue>2&&me>1||ve>2&&te>1;){let ye=me,Se=te;ue>2&&me>1&&(ye=me>=16384?Math.floor(me/2)-1||1:Math.ceil(me/2),ue/=me/ye),ve>2&&te>1&&(Se=te>=16384?Math.floor(te/2)-1||1:Math.ceil(te)/2,ve/=te/Se),ge=this.cachedCanvases.getCanvas(he,ye,Se),xe=ge.context,xe.clearRect(0,0,ye,Se),xe.drawImage(ie,0,0,me,te,0,0,ye,Se),ie=ge.canvas,me=ye,te=Se,he=he==="prescale1"?"prescale2":"prescale1"}return{img:ie,paintWidth:me,paintHeight:te}}_createMaskCanvas(ie){const Y=this.ctx,{width:ne,height:oe}=ie,ue=this.current.fillColor,ve=this.current.patternFill,me=(0,o.getCurrentTransform)(Y);let te,he,ge,xe;if((ie.bitmap||ie.data)&&ie.count>1){const Ze=ie.bitmap||ie.data.buffer;he=JSON.stringify(ve?me:[me.slice(0,4),ue]),te=this._cachedBitmapsMap.get(Ze),te||(te=new Map,this._cachedBitmapsMap.set(Ze,te));const Je=te.get(he);if(Je&&!ve){const ct=Math.round(Math.min(me[0],me[2])+me[4]),ut=Math.round(Math.min(me[1],me[3])+me[5]);return{canvas:Je,offsetX:ct,offsetY:ut}}ge=Je}ge||(xe=this.cachedCanvases.getCanvas("maskCanvas",ne,oe),R(xe.context,ie));let ye=i.Util.transform(me,[1/ne,0,0,-1/oe,0,0]);ye=i.Util.transform(ye,[1,0,0,1,0,-oe]);const Se=i.Util.applyTransform([0,0],ye),we=i.Util.applyTransform([ne,oe],ye),ke=i.Util.normalizeRect([Se[0],Se[1],we[0],we[1]]),Ve=Math.round(ke[2]-ke[0])||1,Oe=Math.round(ke[3]-ke[1])||1,Be=this.cachedCanvases.getCanvas("fillCanvas",Ve,Oe),Fe=Be.context,Ue=Math.min(Se[0],we[0]),He=Math.min(Se[1],we[1]);Fe.translate(-Ue,-He),Fe.transform(...ye),ge||(ge=this._scaleImage(xe.canvas,(0,o.getCurrentTransformInverse)(Fe)),ge=ge.img,te&&ve&&te.set(he,ge)),Fe.imageSmoothingEnabled=Ee((0,o.getCurrentTransform)(Fe),ie.interpolate),T(Fe,ge,0,0,ge.width,ge.height,0,0,ne,oe),Fe.globalCompositeOperation="source-in";const Ke=i.Util.transform((0,o.getCurrentTransformInverse)(Fe),[1,0,0,1,-Ue,-He]);return Fe.fillStyle=ve?ue.getPattern(Y,this,Ke,u.PathType.FILL):ue,Fe.fillRect(0,0,ne,oe),te&&!ve&&(this.cachedCanvases.delete("fillCanvas"),te.set(he,Be.canvas)),{canvas:Be.canvas,offsetX:Math.round(Ue),offsetY:Math.round(He)}}setLineWidth(ie){ie!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=ie,this.ctx.lineWidth=ie}setLineCap(ie){this.ctx.lineCap=_e[ie]}setLineJoin(ie){this.ctx.lineJoin=Re[ie]}setMiterLimit(ie){this.ctx.miterLimit=ie}setDash(ie,Y){const ne=this.ctx;ne.setLineDash!==void 0&&(ne.setLineDash(ie),ne.lineDashOffset=Y)}setRenderingIntent(ie){}setFlatness(ie){}setGState(ie){for(const[Y,ne]of ie)switch(Y){case"LW":this.setLineWidth(ne);break;case"LC":this.setLineCap(ne);break;case"LJ":this.setLineJoin(ne);break;case"ML":this.setMiterLimit(ne);break;case"D":this.setDash(ne[0],ne[1]);break;case"RI":this.setRenderingIntent(ne);break;case"FL":this.setFlatness(ne);break;case"Font":this.setFont(ne[0],ne[1]);break;case"CA":this.current.strokeAlpha=ne;break;case"ca":this.current.fillAlpha=ne,this.ctx.globalAlpha=ne;break;case"BM":this.ctx.globalCompositeOperation=ne;break;case"SMask":this.current.activeSMask=ne?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(ne);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const ie=this.inSMaskMode;this.current.activeSMask&&!ie?this.beginSMaskMode():!this.current.activeSMask&&ie&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const ie=this.ctx.canvas.width,Y=this.ctx.canvas.height,ne="smaskGroupAt"+this.groupLevel,oe=this.cachedCanvases.getCanvas(ne,ie,Y);this.suspendedCtx=this.ctx,this.ctx=oe.context;const ue=this.ctx;ue.setTransform(...(0,o.getCurrentTransform)(this.suspendedCtx)),_(this.suspendedCtx,ue),j(ue,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),_(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(ie){if(!this.current.activeSMask)return;ie?(ie[0]=Math.floor(ie[0]),ie[1]=Math.floor(ie[1]),ie[2]=Math.ceil(ie[2]),ie[3]=Math.ceil(ie[3])):ie=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Y=this.current.activeSMask,ne=this.suspendedCtx;fe(ne,Y,this.ctx,ie),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(_(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const ie=this.current;this.stateStack.push(ie),this.current=ie.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),_(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(ie,Y,ne,oe,ue,ve){this.ctx.transform(ie,Y,ne,oe,ue,ve),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(ie,Y,ne){const oe=this.ctx,ue=this.current;let ve=ue.x,me=ue.y,te,he;const ge=(0,o.getCurrentTransform)(oe),xe=ge[0]===0&&ge[3]===0||ge[1]===0&&ge[2]===0,ye=xe?ne.slice(0):null;for(let Se=0,we=0,ke=ie.length;Se<ke;Se++)switch(ie[Se]|0){case i.OPS.rectangle:ve=Y[we++],me=Y[we++];const Ve=Y[we++],Oe=Y[we++],Be=ve+Ve,Fe=me+Oe;oe.moveTo(ve,me),Ve===0||Oe===0?oe.lineTo(Be,Fe):(oe.lineTo(Be,me),oe.lineTo(Be,Fe),oe.lineTo(ve,Fe)),xe||ue.updateRectMinMax(ge,[ve,me,Be,Fe]),oe.closePath();break;case i.OPS.moveTo:ve=Y[we++],me=Y[we++],oe.moveTo(ve,me),xe||ue.updatePathMinMax(ge,ve,me);break;case i.OPS.lineTo:ve=Y[we++],me=Y[we++],oe.lineTo(ve,me),xe||ue.updatePathMinMax(ge,ve,me);break;case i.OPS.curveTo:te=ve,he=me,ve=Y[we+4],me=Y[we+5],oe.bezierCurveTo(Y[we],Y[we+1],Y[we+2],Y[we+3],ve,me),ue.updateCurvePathMinMax(ge,te,he,Y[we],Y[we+1],Y[we+2],Y[we+3],ve,me,ye),we+=6;break;case i.OPS.curveTo2:te=ve,he=me,oe.bezierCurveTo(ve,me,Y[we],Y[we+1],Y[we+2],Y[we+3]),ue.updateCurvePathMinMax(ge,te,he,ve,me,Y[we],Y[we+1],Y[we+2],Y[we+3],ye),ve=Y[we+2],me=Y[we+3],we+=4;break;case i.OPS.curveTo3:te=ve,he=me,ve=Y[we+2],me=Y[we+3],oe.bezierCurveTo(Y[we],Y[we+1],ve,me,ve,me),ue.updateCurvePathMinMax(ge,te,he,Y[we],Y[we+1],ve,me,ve,me,ye),we+=4;break;case i.OPS.closePath:oe.closePath();break}xe&&ue.updateScalingPathMinMax(ge,ye),ue.setCurrentPoint(ve,me)}closePath(){this.ctx.closePath()}stroke(ie=!0){const Y=this.ctx,ne=this.current.strokeColor;Y.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof ne=="object"&&ne?.getPattern?(Y.save(),Y.strokeStyle=ne.getPattern(Y,this,(0,o.getCurrentTransformInverse)(Y),u.PathType.STROKE),this.rescaleAndStroke(!1),Y.restore()):this.rescaleAndStroke(!0)),ie&&this.consumePath(this.current.getClippedPathBoundingBox()),Y.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(ie=!0){const Y=this.ctx,ne=this.current.fillColor,oe=this.current.patternFill;let ue=!1;oe&&(Y.save(),Y.fillStyle=ne.getPattern(Y,this,(0,o.getCurrentTransformInverse)(Y),u.PathType.FILL),ue=!0);const ve=this.current.getClippedPathBoundingBox();this.contentVisible&&ve!==null&&(this.pendingEOFill?(Y.fill("evenodd"),this.pendingEOFill=!1):Y.fill()),ue&&Y.restore(),ie&&this.consumePath(ve)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Pe}eoClip(){this.pendingClip=je}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const ie=this.pendingTextPaths,Y=this.ctx;if(ie===void 0){Y.beginPath();return}Y.save(),Y.beginPath();for(const ne of ie)Y.setTransform(...ne.transform),Y.translate(ne.x,ne.y),ne.addToPath(Y,ne.fontSize);Y.restore(),Y.clip(),Y.beginPath(),delete this.pendingTextPaths}setCharSpacing(ie){this.current.charSpacing=ie}setWordSpacing(ie){this.current.wordSpacing=ie}setHScale(ie){this.current.textHScale=ie/100}setLeading(ie){this.current.leading=-ie}setFont(ie,Y){const ne=this.commonObjs.get(ie),oe=this.current;if(!ne)throw new Error(`Can't find font for ${ie}`);if(oe.fontMatrix=ne.fontMatrix||i.FONT_IDENTITY_MATRIX,(oe.fontMatrix[0]===0||oe.fontMatrix[3]===0)&&(0,i.warn)("Invalid font matrix for font "+ie),Y<0?(Y=-Y,oe.fontDirection=-1):oe.fontDirection=1,this.current.font=ne,this.current.fontSize=Y,ne.isType3Font)return;const ue=ne.loadedName||"sans-serif",ve=ne.systemFontInfo?.css||`"${ue}", ${ne.fallbackName}`;let me="normal";ne.black?me="900":ne.bold&&(me="bold");const te=ne.italic?"italic":"normal";let he=Y;Y<m?he=m:Y>v&&(he=v),this.current.fontSizeScale=Y/he,this.ctx.font=`${te} ${me} ${he}px ${ve}`}setTextRenderingMode(ie){this.current.textRenderingMode=ie}setTextRise(ie){this.current.textRise=ie}moveText(ie,Y){this.current.x=this.current.lineX+=ie,this.current.y=this.current.lineY+=Y}setLeadingMoveText(ie,Y){this.setLeading(-Y),this.moveText(ie,Y)}setTextMatrix(ie,Y,ne,oe,ue,ve){this.current.textMatrix=[ie,Y,ne,oe,ue,ve],this.current.textMatrixScale=Math.hypot(ie,Y),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(ie,Y,ne,oe){const ue=this.ctx,ve=this.current,me=ve.font,te=ve.textRenderingMode,he=ve.fontSize/ve.fontSizeScale,ge=te&i.TextRenderingMode.FILL_STROKE_MASK,xe=!!(te&i.TextRenderingMode.ADD_TO_PATH_FLAG),ye=ve.patternFill&&!me.missingFile;let Se;(me.disableFontFace||xe||ye)&&(Se=me.getPathGenerator(this.commonObjs,ie)),me.disableFontFace||ye?(ue.save(),ue.translate(Y,ne),ue.beginPath(),Se(ue,he),oe&&ue.setTransform(...oe),(ge===i.TextRenderingMode.FILL||ge===i.TextRenderingMode.FILL_STROKE)&&ue.fill(),(ge===i.TextRenderingMode.STROKE||ge===i.TextRenderingMode.FILL_STROKE)&&ue.stroke(),ue.restore()):((ge===i.TextRenderingMode.FILL||ge===i.TextRenderingMode.FILL_STROKE)&&ue.fillText(ie,Y,ne),(ge===i.TextRenderingMode.STROKE||ge===i.TextRenderingMode.FILL_STROKE)&&ue.strokeText(ie,Y,ne)),xe&&(this.pendingTextPaths||=[]).push({transform:(0,o.getCurrentTransform)(ue),x:Y,y:ne,fontSize:he,addToPath:Se})}get isFontSubpixelAAEnabled(){const{context:ie}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);ie.scale(1.5,1),ie.fillText("I",0,10);const Y=ie.getImageData(0,0,10,10).data;let ne=!1;for(let oe=3;oe<Y.length;oe+=4)if(Y[oe]>0&&Y[oe]<255){ne=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",ne)}showText(ie){const Y=this.current,ne=Y.font;if(ne.isType3Font)return this.showType3Text(ie);const oe=Y.fontSize;if(oe===0)return;const ue=this.ctx,ve=Y.fontSizeScale,me=Y.charSpacing,te=Y.wordSpacing,he=Y.fontDirection,ge=Y.textHScale*he,xe=ie.length,ye=ne.vertical,Se=ye?1:-1,we=ne.defaultVMetrics,ke=oe*Y.fontMatrix[0],Ve=Y.textRenderingMode===i.TextRenderingMode.FILL&&!ne.disableFontFace&&!Y.patternFill;ue.save(),ue.transform(...Y.textMatrix),ue.translate(Y.x,Y.y+Y.textRise),he>0?ue.scale(ge,-1):ue.scale(ge,1);let Oe;if(Y.patternFill){ue.save();const Ke=Y.fillColor.getPattern(ue,this,(0,o.getCurrentTransformInverse)(ue),u.PathType.FILL);Oe=(0,o.getCurrentTransform)(ue),ue.restore(),ue.fillStyle=Ke}let Be=Y.lineWidth;const Fe=Y.textMatrixScale;if(Fe===0||Be===0){const Ke=Y.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(Ke===i.TextRenderingMode.STROKE||Ke===i.TextRenderingMode.FILL_STROKE)&&(Be=this.getSinglePixelWidth())}else Be/=Fe;if(ve!==1&&(ue.scale(ve,ve),Be/=ve),ue.lineWidth=Be,ne.isInvalidPDFjsFont){const Ke=[];let Ze=0;for(const Je of ie)Ke.push(Je.unicode),Ze+=Je.width;ue.fillText(Ke.join(""),0,0),Y.x+=Ze*ke*ge,ue.restore(),this.compose();return}let Ue=0,He;for(He=0;He<xe;++He){const Ke=ie[He];if(typeof Ke=="number"){Ue+=Se*Ke*oe/1e3;continue}let Ze=!1;const Je=(Ke.isSpace?te:0)+me,ct=Ke.fontChar,ut=Ke.accent;let $t,hr,Bt=Ke.width;if(ye){const Ft=Ke.vmetric||we,Jr=-(Ke.vmetric?Ft[1]:Bt*.5)*ke,ri=Ft[2]*ke;Bt=Ft?-Ft[0]:Bt,$t=Jr/ve,hr=(Ue+ri)/ve}else $t=Ue/ve,hr=0;if(ne.remeasure&&Bt>0){const Ft=ue.measureText(ct).width*1e3/oe*ve;if(Bt<Ft&&this.isFontSubpixelAAEnabled){const Jr=Bt/Ft;Ze=!0,ue.save(),ue.scale(Jr,1),$t/=Jr}else Bt!==Ft&&($t+=(Bt-Ft)/2e3*oe/ve)}if(this.contentVisible&&(Ke.isInFont||ne.missingFile)){if(Ve&&!ut)ue.fillText(ct,$t,hr);else if(this.paintChar(ct,$t,hr,Oe),ut){const Ft=$t+oe*ut.offset.x/ve,Jr=hr-oe*ut.offset.y/ve;this.paintChar(ut.fontChar,Ft,Jr,Oe)}}const Ar=ye?Bt*ke-Je*he:Bt*ke+Je*he;Ue+=Ar,Ze&&ue.restore()}ye?Y.y-=Ue:Y.x+=Ue*ge,ue.restore(),this.compose()}showType3Text(ie){const Y=this.ctx,ne=this.current,oe=ne.font,ue=ne.fontSize,ve=ne.fontDirection,me=oe.vertical?1:-1,te=ne.charSpacing,he=ne.wordSpacing,ge=ne.textHScale*ve,xe=ne.fontMatrix||i.FONT_IDENTITY_MATRIX,ye=ie.length,Se=ne.textRenderingMode===i.TextRenderingMode.INVISIBLE;let we,ke,Ve,Oe;if(!(Se||ue===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,Y.save(),Y.transform(...ne.textMatrix),Y.translate(ne.x,ne.y),Y.scale(ge,ve),we=0;we<ye;++we){if(ke=ie[we],typeof ke=="number"){Oe=me*ke*ue/1e3,this.ctx.translate(Oe,0),ne.x+=Oe*ge;continue}const Be=(ke.isSpace?he:0)+te,Fe=oe.charProcOperatorList[ke.operatorListId];if(!Fe){(0,i.warn)(`Type3 character "${ke.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ke,this.save(),Y.scale(ue,ue),Y.transform(...xe),this.executeOperatorList(Fe),this.restore()),Ve=i.Util.applyTransform([ke.width,0],xe)[0]*ue+Be,Y.translate(Ve,0),ne.x+=Ve*ge}Y.restore(),this.processingType3=null}}setCharWidth(ie,Y){}setCharWidthAndBounds(ie,Y,ne,oe,ue,ve){this.ctx.rect(ne,oe,ue-ne,ve-oe),this.ctx.clip(),this.endPath()}getColorN_Pattern(ie){let Y;if(ie[0]==="TilingPattern"){const ne=ie[1],oe=this.baseTransform||(0,o.getCurrentTransform)(this.ctx),ue={createCanvasGraphics:ve=>new ce(ve,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Y=new u.TilingPattern(ie,ne,this.ctx,ue,oe)}else Y=this._getPattern(ie[1],ie[2]);return Y}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(ie,Y,ne){const oe=i.Util.makeHexColor(ie,Y,ne);this.ctx.strokeStyle=oe,this.current.strokeColor=oe}setFillRGBColor(ie,Y,ne){const oe=i.Util.makeHexColor(ie,Y,ne);this.ctx.fillStyle=oe,this.current.fillColor=oe,this.current.patternFill=!1}_getPattern(ie,Y=null){let ne;return this.cachedPatterns.has(ie)?ne=this.cachedPatterns.get(ie):(ne=(0,u.getShadingPattern)(this.getObject(ie)),this.cachedPatterns.set(ie,ne)),Y&&(ne.matrix=Y),ne}shadingFill(ie){if(!this.contentVisible)return;const Y=this.ctx;this.save();const ne=this._getPattern(ie);Y.fillStyle=ne.getPattern(Y,this,(0,o.getCurrentTransformInverse)(Y),u.PathType.SHADING);const oe=(0,o.getCurrentTransformInverse)(Y);if(oe){const{width:ue,height:ve}=Y.canvas,[me,te,he,ge]=i.Util.getAxialAlignedBoundingBox([0,0,ue,ve],oe);this.ctx.fillRect(me,te,he-me,ge-te)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(ie,Y){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(ie)&&ie.length===6&&this.transform(...ie),this.baseTransform=(0,o.getCurrentTransform)(this.ctx),Y)){const ne=Y[2]-Y[0],oe=Y[3]-Y[1];this.ctx.rect(Y[0],Y[1],ne,oe),this.current.updateRectMinMax((0,o.getCurrentTransform)(this.ctx),Y),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(ie){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Y=this.ctx;ie.isolated||(0,i.info)("TODO: Support non-isolated groups."),ie.knockout&&(0,i.warn)("Knockout groups not supported.");const ne=(0,o.getCurrentTransform)(Y);if(ie.matrix&&Y.transform(...ie.matrix),!ie.bbox)throw new Error("Bounding box is required.");let oe=i.Util.getAxialAlignedBoundingBox(ie.bbox,(0,o.getCurrentTransform)(Y));const ue=[0,0,Y.canvas.width,Y.canvas.height];oe=i.Util.intersect(oe,ue)||[0,0,0,0];const ve=Math.floor(oe[0]),me=Math.floor(oe[1]);let te=Math.max(Math.ceil(oe[2])-ve,1),he=Math.max(Math.ceil(oe[3])-me,1),ge=1,xe=1;te>p&&(ge=te/p,te=p),he>p&&(xe=he/p,he=p),this.current.startNewPathAndClipBox([0,0,te,he]);let ye="groupAt"+this.groupLevel;ie.smask&&(ye+="_smask_"+this.smaskCounter++%2);const Se=this.cachedCanvases.getCanvas(ye,te,he),we=Se.context;we.scale(1/ge,1/xe),we.translate(-ve,-me),we.transform(...ne),ie.smask?this.smaskStack.push({canvas:Se.canvas,context:we,offsetX:ve,offsetY:me,scaleX:ge,scaleY:xe,subtype:ie.smask.subtype,backdrop:ie.smask.backdrop,transferMap:ie.smask.transferMap||null,startTransformInverse:null}):(Y.setTransform(1,0,0,1,0,0),Y.translate(ve,me),Y.scale(ge,xe),Y.save()),_(Y,we),this.ctx=we,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Y),this.groupLevel++}endGroup(ie){if(!this.contentVisible)return;this.groupLevel--;const Y=this.ctx,ne=this.groupStack.pop();if(this.ctx=ne,this.ctx.imageSmoothingEnabled=!1,ie.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const oe=(0,o.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...oe);const ue=i.Util.getAxialAlignedBoundingBox([0,0,Y.canvas.width,Y.canvas.height],oe);this.ctx.drawImage(Y.canvas,0,0),this.ctx.restore(),this.compose(ue)}}beginAnnotation(ie,Y,ne,oe,ue){if(this.#e(),q(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Y)&&Y.length===4){const ve=Y[2]-Y[0],me=Y[3]-Y[1];if(ue&&this.annotationCanvasMap){ne=ne.slice(),ne[4]-=Y[0],ne[5]-=Y[1],Y=Y.slice(),Y[0]=Y[1]=0,Y[2]=ve,Y[3]=me;const[te,he]=i.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(this.ctx)),{viewportScale:ge}=this,xe=Math.ceil(ve*this.outputScaleX*ge),ye=Math.ceil(me*this.outputScaleY*ge);this.annotationCanvas=this.canvasFactory.create(xe,ye);const{canvas:Se,context:we}=this.annotationCanvas;this.annotationCanvasMap.set(ie,Se),this.annotationCanvas.savedCtx=this.ctx,this.ctx=we,this.ctx.save(),this.ctx.setTransform(te,0,0,-he,0,me*he),q(this.ctx)}else q(this.ctx),this.ctx.rect(Y[0],Y[1],ve,me),this.ctx.clip(),this.endPath()}this.current=new O(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...ne),this.transform(...oe)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(ie){if(!this.contentVisible)return;const Y=ie.count;ie=this.getObject(ie.data,ie),ie.count=Y;const ne=this.ctx,oe=this.processingType3;if(oe&&(oe.compiled===void 0&&(oe.compiled=C(ie)),oe.compiled)){oe.compiled(ne);return}const ue=this._createMaskCanvas(ie),ve=ue.canvas;ne.save(),ne.setTransform(1,0,0,1,0,0),ne.drawImage(ve,ue.offsetX,ue.offsetY),ne.restore(),this.compose()}paintImageMaskXObjectRepeat(ie,Y,ne=0,oe=0,ue,ve){if(!this.contentVisible)return;ie=this.getObject(ie.data,ie);const me=this.ctx;me.save();const te=(0,o.getCurrentTransform)(me);me.transform(Y,ne,oe,ue,0,0);const he=this._createMaskCanvas(ie);me.setTransform(1,0,0,1,he.offsetX-te[4],he.offsetY-te[5]);for(let ge=0,xe=ve.length;ge<xe;ge+=2){const ye=i.Util.transform(te,[Y,ne,oe,ue,ve[ge],ve[ge+1]]),[Se,we]=i.Util.applyTransform([0,0],ye);me.drawImage(he.canvas,Se,we)}me.restore(),this.compose()}paintImageMaskXObjectGroup(ie){if(!this.contentVisible)return;const Y=this.ctx,ne=this.current.fillColor,oe=this.current.patternFill;for(const ue of ie){const{data:ve,width:me,height:te,transform:he}=ue,ge=this.cachedCanvases.getCanvas("maskCanvas",me,te),xe=ge.context;xe.save();const ye=this.getObject(ve,ue);R(xe,ye),xe.globalCompositeOperation="source-in",xe.fillStyle=oe?ne.getPattern(xe,this,(0,o.getCurrentTransformInverse)(Y),u.PathType.FILL):ne,xe.fillRect(0,0,me,te),xe.restore(),Y.save(),Y.transform(...he),Y.scale(1,-1),T(Y,ge.canvas,0,0,me,te,0,-1,1,1),Y.restore()}this.compose()}paintImageXObject(ie){if(!this.contentVisible)return;const Y=this.getObject(ie);if(!Y){(0,i.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Y)}paintImageXObjectRepeat(ie,Y,ne,oe){if(!this.contentVisible)return;const ue=this.getObject(ie);if(!ue){(0,i.warn)("Dependent image isn't ready yet");return}const ve=ue.width,me=ue.height,te=[];for(let he=0,ge=oe.length;he<ge;he+=2)te.push({transform:[Y,0,0,ne,oe[he],oe[he+1]],x:0,y:0,w:ve,h:me});this.paintInlineImageXObjectGroup(ue,te)}applyTransferMapsToCanvas(ie){return this.current.transferMaps!=="none"&&(ie.filter=this.current.transferMaps,ie.drawImage(ie.canvas,0,0),ie.filter="none"),ie.canvas}applyTransferMapsToBitmap(ie){if(this.current.transferMaps==="none")return ie.bitmap;const{bitmap:Y,width:ne,height:oe}=ie,ue=this.cachedCanvases.getCanvas("inlineImage",ne,oe),ve=ue.context;return ve.filter=this.current.transferMaps,ve.drawImage(Y,0,0),ve.filter="none",ue.canvas}paintInlineImageXObject(ie){if(!this.contentVisible)return;const Y=ie.width,ne=ie.height,oe=this.ctx;if(this.save(),!i.isNodeJS){const{filter:me}=oe;me!=="none"&&me!==""&&(oe.filter="none")}oe.scale(1/Y,-1/ne);let ue;if(ie.bitmap)ue=this.applyTransferMapsToBitmap(ie);else if(typeof HTMLElement=="function"&&ie instanceof HTMLElement||!ie.data)ue=ie;else{const te=this.cachedCanvases.getCanvas("inlineImage",Y,ne).context;M(te,ie),ue=this.applyTransferMapsToCanvas(te)}const ve=this._scaleImage(ue,(0,o.getCurrentTransformInverse)(oe));oe.imageSmoothingEnabled=Ee((0,o.getCurrentTransform)(oe),ie.interpolate),T(oe,ve.img,0,0,ve.paintWidth,ve.paintHeight,0,-ne,Y,ne),this.compose(),this.restore()}paintInlineImageXObjectGroup(ie,Y){if(!this.contentVisible)return;const ne=this.ctx;let oe;if(ie.bitmap)oe=ie.bitmap;else{const ue=ie.width,ve=ie.height,te=this.cachedCanvases.getCanvas("inlineImage",ue,ve).context;M(te,ie),oe=this.applyTransferMapsToCanvas(te)}for(const ue of Y)ne.save(),ne.transform(...ue.transform),ne.scale(1,-1),T(ne,oe,ue.x,ue.y,ue.w,ue.h,0,-1,1,1),ne.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(ie){}markPointProps(ie,Y){}beginMarkedContent(ie){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(ie,Y){ie==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Y)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(ie){const Y=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(ie);const ne=this.ctx;this.pendingClip&&(Y||(this.pendingClip===je?ne.clip("evenodd"):ne.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),ne.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const ie=(0,o.getCurrentTransform)(this.ctx);if(ie[1]===0&&ie[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(ie[0]),Math.abs(ie[3]));else{const Y=Math.abs(ie[0]*ie[3]-ie[2]*ie[1]),ne=Math.hypot(ie[0],ie[2]),oe=Math.hypot(ie[1],ie[3]);this._cachedGetSinglePixelWidth=Math.max(ne,oe)/Y}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:ie}=this.current,{a:Y,b:ne,c:oe,d:ue}=this.ctx.getTransform();let ve,me;if(ne===0&&oe===0){const te=Math.abs(Y),he=Math.abs(ue);if(te===he)if(ie===0)ve=me=1/te;else{const ge=te*ie;ve=me=ge<1?1/ge:1}else if(ie===0)ve=1/te,me=1/he;else{const ge=te*ie,xe=he*ie;ve=ge<1?1/ge:1,me=xe<1?1/xe:1}}else{const te=Math.abs(Y*ue-ne*oe),he=Math.hypot(Y,ne),ge=Math.hypot(oe,ue);if(ie===0)ve=ge/te,me=he/te;else{const xe=ie*te;ve=ge>xe?ge/xe:1,me=he>xe?he/xe:1}}this._cachedScaleForStroking[0]=ve,this._cachedScaleForStroking[1]=me}return this._cachedScaleForStroking}rescaleAndStroke(ie){const{ctx:Y}=this,{lineWidth:ne}=this.current,[oe,ue]=this.getScaleForStroking();if(Y.lineWidth=ne||1,oe===1&&ue===1){Y.stroke();return}const ve=Y.getLineDash();if(ie&&Y.save(),Y.scale(oe,ue),ve.length>0){const me=Math.max(oe,ue);Y.setLineDash(ve.map(te=>te/me)),Y.lineDashOffset/=me}Y.stroke(),ie&&Y.restore()}isContentVisible(){for(let ie=this.markedContentStack.length-1;ie>=0;ie--)if(!this.markedContentStack[ie].visible)return!1;return!0}}t.CanvasGraphics=ce;for(const le in i.OPS)ce.prototype[le]!==void 0&&(ce.prototype[i.OPS[le]]=ce.prototype[le])},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=S;var i=n(1),o=n(6);const u={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};t.PathType=u;function h(T,C){if(!C)return;const O=C[2]-C[0],M=C[3]-C[1],R=new Path2D;R.rect(C[0],C[1],O,M),T.clip(R)}class m{constructor(){this.constructor===m&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class v extends m{constructor(C){super(),this._type=C[1],this._bbox=C[2],this._colorStops=C[3],this._p0=C[4],this._p1=C[5],this._r0=C[6],this._r1=C[7],this.matrix=null}_createGradient(C){let O;this._type==="axial"?O=C.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(O=C.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const M of this._colorStops)O.addColorStop(M[0],M[1]);return O}getPattern(C,O,M,R){let _;if(R===u.STROKE||R===u.FILL){const q=O.current.getClippedPathBoundingBox(R,(0,o.getCurrentTransform)(C))||[0,0,0,0],se=Math.ceil(q[2]-q[0])||1,ee=Math.ceil(q[3]-q[1])||1,ae=O.cachedCanvases.getCanvas("pattern",se,ee,!0),pe=ae.context;pe.clearRect(0,0,pe.canvas.width,pe.canvas.height),pe.beginPath(),pe.rect(0,0,pe.canvas.width,pe.canvas.height),pe.translate(-q[0],-q[1]),M=i.Util.transform(M,[1,0,0,1,q[0],q[1]]),pe.transform(...O.baseTransform),this.matrix&&pe.transform(...this.matrix),h(pe,this._bbox),pe.fillStyle=this._createGradient(pe),pe.fill(),_=C.createPattern(ae.canvas,"no-repeat");const fe=new DOMMatrix(M);_.setTransform(fe)}else h(C,this._bbox),_=this._createGradient(C);return _}}function p(T,C,O,M,R,_,q,se){const ee=C.coords,ae=C.colors,pe=T.data,fe=T.width*4;let Ee;ee[O+1]>ee[M+1]&&(Ee=O,O=M,M=Ee,Ee=_,_=q,q=Ee),ee[M+1]>ee[R+1]&&(Ee=M,M=R,R=Ee,Ee=q,q=se,se=Ee),ee[O+1]>ee[M+1]&&(Ee=O,O=M,M=Ee,Ee=_,_=q,q=Ee);const _e=(ee[O]+C.offsetX)*C.scaleX,Re=(ee[O+1]+C.offsetY)*C.scaleY,Pe=(ee[M]+C.offsetX)*C.scaleX,je=(ee[M+1]+C.offsetY)*C.scaleY,ce=(ee[R]+C.offsetX)*C.scaleX,le=(ee[R+1]+C.offsetY)*C.scaleY;if(Re>=le)return;const ie=ae[_],Y=ae[_+1],ne=ae[_+2],oe=ae[q],ue=ae[q+1],ve=ae[q+2],me=ae[se],te=ae[se+1],he=ae[se+2],ge=Math.round(Re),xe=Math.round(le);let ye,Se,we,ke,Ve,Oe,Be,Fe;for(let Ue=ge;Ue<=xe;Ue++){if(Ue<je){const ct=Ue<Re?0:(Re-Ue)/(Re-je);ye=_e-(_e-Pe)*ct,Se=ie-(ie-oe)*ct,we=Y-(Y-ue)*ct,ke=ne-(ne-ve)*ct}else{let ct;Ue>le?ct=1:je===le?ct=0:ct=(je-Ue)/(je-le),ye=Pe-(Pe-ce)*ct,Se=oe-(oe-me)*ct,we=ue-(ue-te)*ct,ke=ve-(ve-he)*ct}let He;Ue<Re?He=0:Ue>le?He=1:He=(Re-Ue)/(Re-le),Ve=_e-(_e-ce)*He,Oe=ie-(ie-me)*He,Be=Y-(Y-te)*He,Fe=ne-(ne-he)*He;const Ke=Math.round(Math.min(ye,Ve)),Ze=Math.round(Math.max(ye,Ve));let Je=fe*Ue+Ke*4;for(let ct=Ke;ct<=Ze;ct++)He=(ye-ct)/(ye-Ve),He<0?He=0:He>1&&(He=1),pe[Je++]=Se-(Se-Oe)*He|0,pe[Je++]=we-(we-Be)*He|0,pe[Je++]=ke-(ke-Fe)*He|0,pe[Je++]=255}}function f(T,C,O){const M=C.coords,R=C.colors;let _,q;switch(C.type){case"lattice":const se=C.verticesPerRow,ee=Math.floor(M.length/se)-1,ae=se-1;for(_=0;_<ee;_++){let pe=_*se;for(let fe=0;fe<ae;fe++,pe++)p(T,O,M[pe],M[pe+1],M[pe+se],R[pe],R[pe+1],R[pe+se]),p(T,O,M[pe+se+1],M[pe+1],M[pe+se],R[pe+se+1],R[pe+1],R[pe+se])}break;case"triangles":for(_=0,q=M.length;_<q;_+=3)p(T,O,M[_],M[_+1],M[_+2],R[_],R[_+1],R[_+2]);break;default:throw new Error("illegal figure")}}class b extends m{constructor(C){super(),this._coords=C[2],this._colors=C[3],this._figures=C[4],this._bounds=C[5],this._bbox=C[7],this._background=C[8],this.matrix=null}_createMeshCanvas(C,O,M){const se=Math.floor(this._bounds[0]),ee=Math.floor(this._bounds[1]),ae=Math.ceil(this._bounds[2])-se,pe=Math.ceil(this._bounds[3])-ee,fe=Math.min(Math.ceil(Math.abs(ae*C[0]*1.1)),3e3),Ee=Math.min(Math.ceil(Math.abs(pe*C[1]*1.1)),3e3),_e=ae/fe,Re=pe/Ee,Pe={coords:this._coords,colors:this._colors,offsetX:-se,offsetY:-ee,scaleX:1/_e,scaleY:1/Re},je=fe+4,ce=Ee+4,le=M.getCanvas("mesh",je,ce,!1),ie=le.context,Y=ie.createImageData(fe,Ee);if(O){const oe=Y.data;for(let ue=0,ve=oe.length;ue<ve;ue+=4)oe[ue]=O[0],oe[ue+1]=O[1],oe[ue+2]=O[2],oe[ue+3]=255}for(const oe of this._figures)f(Y,oe,Pe);return ie.putImageData(Y,2,2),{canvas:le.canvas,offsetX:se-2*_e,offsetY:ee-2*Re,scaleX:_e,scaleY:Re}}getPattern(C,O,M,R){h(C,this._bbox);let _;if(R===u.SHADING)_=i.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(C));else if(_=i.Util.singularValueDecompose2dScale(O.baseTransform),this.matrix){const se=i.Util.singularValueDecompose2dScale(this.matrix);_=[_[0]*se[0],_[1]*se[1]]}const q=this._createMeshCanvas(_,R===u.SHADING?null:this._background,O.cachedCanvases);return R!==u.SHADING&&(C.setTransform(...O.baseTransform),this.matrix&&C.transform(...this.matrix)),C.translate(q.offsetX,q.offsetY),C.scale(q.scaleX,q.scaleY),C.createPattern(q.canvas,"no-repeat")}}class w extends m{getPattern(){return"hotpink"}}function S(T){switch(T[0]){case"RadialAxial":return new v(T);case"Mesh":return new b(T);case"Dummy":return new w}throw new Error(`Unknown IR type: ${T[0]}`)}const j={COLORED:1,UNCOLORED:2};class A{static MAX_PATTERN_SIZE=3e3;constructor(C,O,M,R,_){this.operatorList=C[2],this.matrix=C[3]||[1,0,0,1,0,0],this.bbox=C[4],this.xstep=C[5],this.ystep=C[6],this.paintType=C[7],this.tilingType=C[8],this.color=O,this.ctx=M,this.canvasGraphicsFactory=R,this.baseTransform=_}createPatternCanvas(C){const O=this.operatorList,M=this.bbox,R=this.xstep,_=this.ystep,q=this.paintType,se=this.tilingType,ee=this.color,ae=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+se);const pe=M[0],fe=M[1],Ee=M[2],_e=M[3],Re=i.Util.singularValueDecompose2dScale(this.matrix),Pe=i.Util.singularValueDecompose2dScale(this.baseTransform),je=[Re[0]*Pe[0],Re[1]*Pe[1]],ce=this.getSizeAndScale(R,this.ctx.canvas.width,je[0]),le=this.getSizeAndScale(_,this.ctx.canvas.height,je[1]),ie=C.cachedCanvases.getCanvas("pattern",ce.size,le.size,!0),Y=ie.context,ne=ae.createCanvasGraphics(Y);ne.groupLevel=C.groupLevel,this.setFillAndStrokeStyleToContext(ne,q,ee);let oe=pe,ue=fe,ve=Ee,me=_e;return pe<0&&(oe=0,ve+=Math.abs(pe)),fe<0&&(ue=0,me+=Math.abs(fe)),Y.translate(-(ce.scale*oe),-(le.scale*ue)),ne.transform(ce.scale,0,0,le.scale,0,0),Y.save(),this.clipBbox(ne,oe,ue,ve,me),ne.baseTransform=(0,o.getCurrentTransform)(ne.ctx),ne.executeOperatorList(O),ne.endDrawing(),{canvas:ie.canvas,scaleX:ce.scale,scaleY:le.scale,offsetX:oe,offsetY:ue}}getSizeAndScale(C,O,M){C=Math.abs(C);const R=Math.max(A.MAX_PATTERN_SIZE,O);let _=Math.ceil(C*M);return _>=R?_=R:M=_/C,{scale:M,size:_}}clipBbox(C,O,M,R,_){const q=R-O,se=_-M;C.ctx.rect(O,M,q,se),C.current.updateRectMinMax((0,o.getCurrentTransform)(C.ctx),[O,M,R,_]),C.clip(),C.endPath()}setFillAndStrokeStyleToContext(C,O,M){const R=C.ctx,_=C.current;switch(O){case j.COLORED:const q=this.ctx;R.fillStyle=q.fillStyle,R.strokeStyle=q.strokeStyle,_.fillColor=q.fillStyle,_.strokeColor=q.strokeStyle;break;case j.UNCOLORED:const se=i.Util.makeHexColor(M[0],M[1],M[2]);R.fillStyle=se,R.strokeStyle=se,_.fillColor=se,_.strokeColor=se;break;default:throw new i.FormatError(`Unsupported paint type: ${O}`)}}getPattern(C,O,M,R){let _=M;R!==u.SHADING&&(_=i.Util.transform(_,O.baseTransform),this.matrix&&(_=i.Util.transform(_,this.matrix)));const q=this.createPatternCanvas(O);let se=new DOMMatrix(_);se=se.translate(q.offsetX,q.offsetY),se=se.scale(1/q.scaleX,1/q.scaleY);const ee=C.createPattern(q.canvas,"repeat");return ee.setTransform(se),ee}}t.TilingPattern=A},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertBlackAndWhiteToRGBA=u,t.convertToRGBA=o,t.grayToRGBA=m;var i=n(1);function o(v){switch(v.kind){case i.ImageKind.GRAYSCALE_1BPP:return u(v);case i.ImageKind.RGB_24BPP:return h(v)}return null}function u({src:v,srcPos:p=0,dest:f,width:b,height:w,nonBlackColor:S=4294967295,inverseDecode:j=!1}){const A=i.FeatureTest.isLittleEndian?4278190080:255,[T,C]=j?[S,A]:[A,S],O=b>>3,M=b&7,R=v.length;f=new Uint32Array(f.buffer);let _=0;for(let q=0;q<w;q++){for(const ee=p+O;p<ee;p++){const ae=p<R?v[p]:255;f[_++]=ae&128?C:T,f[_++]=ae&64?C:T,f[_++]=ae&32?C:T,f[_++]=ae&16?C:T,f[_++]=ae&8?C:T,f[_++]=ae&4?C:T,f[_++]=ae&2?C:T,f[_++]=ae&1?C:T}if(M===0)continue;const se=p<R?v[p++]:255;for(let ee=0;ee<M;ee++)f[_++]=se&1<<7-ee?C:T}return{srcPos:p,destPos:_}}function h({src:v,srcPos:p=0,dest:f,destPos:b=0,width:w,height:S}){let j=0;const A=v.length>>2,T=new Uint32Array(v.buffer,p,A);if(i.FeatureTest.isLittleEndian){for(;j<A-2;j+=3,b+=4){const C=T[j],O=T[j+1],M=T[j+2];f[b]=C|4278190080,f[b+1]=C>>>24|O<<8|4278190080,f[b+2]=O>>>16|M<<16|4278190080,f[b+3]=M>>>8|4278190080}for(let C=j*4,O=v.length;C<O;C+=3)f[b++]=v[C]|v[C+1]<<8|v[C+2]<<16|4278190080}else{for(;j<A-2;j+=3,b+=4){const C=T[j],O=T[j+1],M=T[j+2];f[b]=C|255,f[b+1]=C<<24|O>>>8|255,f[b+2]=O<<16|M>>>16|255,f[b+3]=M<<8|255}for(let C=j*4,O=v.length;C<O;C+=3)f[b++]=v[C]<<24|v[C+1]<<16|v[C+2]<<8|255}return{srcPos:p,destPos:b}}function m(v,p){if(i.FeatureTest.isLittleEndian)for(let f=0,b=v.length;f<b;f++)p[f]=v[f]*65793|4278190080;else for(let f=0,b=v.length;f<b;f++)p[f]=v[f]*16843008|255}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const n=Object.create(null);t.GlobalWorkerOptions=n,n.workerPort=null,n.workerSrc=""},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var i=n(1);const o={DATA:1,ERROR:2},u={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function h(v){switch(v instanceof Error||typeof v=="object"&&v!==null||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),v.name){case"AbortException":return new i.AbortException(v.message);case"MissingPDFException":return new i.MissingPDFException(v.message);case"PasswordException":return new i.PasswordException(v.message,v.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(v.message,v.status);case"UnknownErrorException":return new i.UnknownErrorException(v.message,v.details);default:return new i.UnknownErrorException(v.message,v.toString())}}class m{constructor(p,f,b){this.sourceName=p,this.targetName=f,this.comObj=b,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=w=>{const S=w.data;if(S.targetName!==this.sourceName)return;if(S.stream){this.#t(S);return}if(S.callback){const A=S.callbackId,T=this.callbackCapabilities[A];if(!T)throw new Error(`Cannot resolve callback ${A}`);if(delete this.callbackCapabilities[A],S.callback===o.DATA)T.resolve(S.data);else if(S.callback===o.ERROR)T.reject(h(S.reason));else throw new Error("Unexpected callback case");return}const j=this.actionHandler[S.action];if(!j)throw new Error(`Unknown action from worker: ${S.action}`);if(S.callbackId){const A=this.sourceName,T=S.sourceName;new Promise(function(C){C(j(S.data))}).then(function(C){b.postMessage({sourceName:A,targetName:T,callback:o.DATA,callbackId:S.callbackId,data:C})},function(C){b.postMessage({sourceName:A,targetName:T,callback:o.ERROR,callbackId:S.callbackId,reason:h(C)})});return}if(S.streamId){this.#e(S);return}j(S.data)},b.addEventListener("message",this._onComObjOnMessage)}on(p,f){const b=this.actionHandler;if(b[p])throw new Error(`There is already an actionName called "${p}"`);b[p]=f}send(p,f,b){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:p,data:f},b)}sendWithPromise(p,f,b){const w=this.callbackId++,S=new i.PromiseCapability;this.callbackCapabilities[w]=S;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:p,callbackId:w,data:f},b)}catch(j){S.reject(j)}return S.promise}sendWithStream(p,f,b,w){const S=this.streamId++,j=this.sourceName,A=this.targetName,T=this.comObj;return new ReadableStream({start:C=>{const O=new i.PromiseCapability;return this.streamControllers[S]={controller:C,startCall:O,pullCall:null,cancelCall:null,isClosed:!1},T.postMessage({sourceName:j,targetName:A,action:p,streamId:S,data:f,desiredSize:C.desiredSize},w),O.promise},pull:C=>{const O=new i.PromiseCapability;return this.streamControllers[S].pullCall=O,T.postMessage({sourceName:j,targetName:A,stream:u.PULL,streamId:S,desiredSize:C.desiredSize}),O.promise},cancel:C=>{(0,i.assert)(C instanceof Error,"cancel must have a valid reason");const O=new i.PromiseCapability;return this.streamControllers[S].cancelCall=O,this.streamControllers[S].isClosed=!0,T.postMessage({sourceName:j,targetName:A,stream:u.CANCEL,streamId:S,reason:h(C)}),O.promise}},b)}#e(p){const f=p.streamId,b=this.sourceName,w=p.sourceName,S=this.comObj,j=this,A=this.actionHandler[p.action],T={enqueue(C,O=1,M){if(this.isCancelled)return;const R=this.desiredSize;this.desiredSize-=O,R>0&&this.desiredSize<=0&&(this.sinkCapability=new i.PromiseCapability,this.ready=this.sinkCapability.promise),S.postMessage({sourceName:b,targetName:w,stream:u.ENQUEUE,streamId:f,chunk:C},M)},close(){this.isCancelled||(this.isCancelled=!0,S.postMessage({sourceName:b,targetName:w,stream:u.CLOSE,streamId:f}),delete j.streamSinks[f])},error(C){(0,i.assert)(C instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,S.postMessage({sourceName:b,targetName:w,stream:u.ERROR,streamId:f,reason:h(C)}))},sinkCapability:new i.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:p.desiredSize,ready:null};T.sinkCapability.resolve(),T.ready=T.sinkCapability.promise,this.streamSinks[f]=T,new Promise(function(C){C(A(p.data,T))}).then(function(){S.postMessage({sourceName:b,targetName:w,stream:u.START_COMPLETE,streamId:f,success:!0})},function(C){S.postMessage({sourceName:b,targetName:w,stream:u.START_COMPLETE,streamId:f,reason:h(C)})})}#t(p){const f=p.streamId,b=this.sourceName,w=p.sourceName,S=this.comObj,j=this.streamControllers[f],A=this.streamSinks[f];switch(p.stream){case u.START_COMPLETE:p.success?j.startCall.resolve():j.startCall.reject(h(p.reason));break;case u.PULL_COMPLETE:p.success?j.pullCall.resolve():j.pullCall.reject(h(p.reason));break;case u.PULL:if(!A){S.postMessage({sourceName:b,targetName:w,stream:u.PULL_COMPLETE,streamId:f,success:!0});break}A.desiredSize<=0&&p.desiredSize>0&&A.sinkCapability.resolve(),A.desiredSize=p.desiredSize,new Promise(function(T){T(A.onPull?.())}).then(function(){S.postMessage({sourceName:b,targetName:w,stream:u.PULL_COMPLETE,streamId:f,success:!0})},function(T){S.postMessage({sourceName:b,targetName:w,stream:u.PULL_COMPLETE,streamId:f,reason:h(T)})});break;case u.ENQUEUE:if((0,i.assert)(j,"enqueue should have stream controller"),j.isClosed)break;j.controller.enqueue(p.chunk);break;case u.CLOSE:if((0,i.assert)(j,"close should have stream controller"),j.isClosed)break;j.isClosed=!0,j.controller.close(),this.#r(j,f);break;case u.ERROR:(0,i.assert)(j,"error should have stream controller"),j.controller.error(h(p.reason)),this.#r(j,f);break;case u.CANCEL_COMPLETE:p.success?j.cancelCall.resolve():j.cancelCall.reject(h(p.reason)),this.#r(j,f);break;case u.CANCEL:if(!A)break;new Promise(function(T){T(A.onCancel?.(h(p.reason)))}).then(function(){S.postMessage({sourceName:b,targetName:w,stream:u.CANCEL_COMPLETE,streamId:f,success:!0})},function(T){S.postMessage({sourceName:b,targetName:w,stream:u.CANCEL_COMPLETE,streamId:f,reason:h(T)})}),A.sinkCapability.reject(h(p.reason)),A.isCancelled=!0,delete this.streamSinks[f];break;default:throw new Error("Unexpected stream case")}}async#r(p,f){await Promise.allSettled([p.startCall?.promise,p.pullCall?.promise,p.cancelCall?.promise]),delete this.streamControllers[f]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}t.MessageHandler=m},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var i=n(1);class o{#e;#t;constructor({parsedData:h,rawData:m}){this.#e=h,this.#t=m}getRaw(){return this.#t}get(h){return this.#e.get(h)??null}getAll(){return(0,i.objectFromMap)(this.#e)}has(h){return this.#e.has(h)}}t.Metadata=o},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var i=n(1),o=n(8);const u=Symbol("INTERNAL");class h{#e=!0;constructor(p,f){this.name=p,this.intent=f}get visible(){return this.#e}_setVisible(p,f){p!==u&&(0,i.unreachable)("Internal method `_setVisible` called."),this.#e=f}}class m{#e=null;#t=new Map;#r=null;#n=null;constructor(p){if(this.name=null,this.creator=null,p!==null){this.name=p.name,this.creator=p.creator,this.#n=p.order;for(const f of p.groups)this.#t.set(f.id,new h(f.name,f.intent));if(p.baseState==="OFF")for(const f of this.#t.values())f._setVisible(u,!1);for(const f of p.on)this.#t.get(f)._setVisible(u,!0);for(const f of p.off)this.#t.get(f)._setVisible(u,!1);this.#r=this.getHash()}}#o(p){const f=p.length;if(f<2)return!0;const b=p[0];for(let w=1;w<f;w++){const S=p[w];let j;if(Array.isArray(S))j=this.#o(S);else if(this.#t.has(S))j=this.#t.get(S).visible;else return(0,i.warn)(`Optional content group not found: ${S}`),!0;switch(b){case"And":if(!j)return!1;break;case"Or":if(j)return!0;break;case"Not":return!j;default:return!0}}return b==="And"}isVisible(p){if(this.#t.size===0)return!0;if(!p)return(0,i.warn)("Optional content group not defined."),!0;if(p.type==="OCG")return this.#t.has(p.id)?this.#t.get(p.id).visible:((0,i.warn)(`Optional content group not found: ${p.id}`),!0);if(p.type==="OCMD"){if(p.expression)return this.#o(p.expression);if(!p.policy||p.policy==="AnyOn"){for(const f of p.ids){if(!this.#t.has(f))return(0,i.warn)(`Optional content group not found: ${f}`),!0;if(this.#t.get(f).visible)return!0}return!1}else if(p.policy==="AllOn"){for(const f of p.ids){if(!this.#t.has(f))return(0,i.warn)(`Optional content group not found: ${f}`),!0;if(!this.#t.get(f).visible)return!1}return!0}else if(p.policy==="AnyOff"){for(const f of p.ids){if(!this.#t.has(f))return(0,i.warn)(`Optional content group not found: ${f}`),!0;if(!this.#t.get(f).visible)return!0}return!1}else if(p.policy==="AllOff"){for(const f of p.ids){if(!this.#t.has(f))return(0,i.warn)(`Optional content group not found: ${f}`),!0;if(this.#t.get(f).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${p.policy}.`),!0}return(0,i.warn)(`Unknown group type ${p.type}.`),!0}setVisibility(p,f=!0){if(!this.#t.has(p)){(0,i.warn)(`Optional content group not found: ${p}`);return}this.#t.get(p)._setVisible(u,!!f),this.#e=null}get hasInitialVisibility(){return this.#r===null||this.getHash()===this.#r}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,i.objectFromMap)(this.#t):null}getGroup(p){return this.#t.get(p)||null}getHash(){if(this.#e!==null)return this.#e;const p=new o.MurmurHash3_64;for(const[f,b]of this.#t)p.update(`${f}:${b.visible}`);return this.#e=p.hexdigest()}}t.OptionalContentConfig=m},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var i=n(1),o=n(6);class u{constructor({length:p,initialData:f,progressiveDone:b=!1,contentDispositionFilename:w=null,disableRange:S=!1,disableStream:j=!1},A){if((0,i.assert)(A,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=b,this._contentDispositionFilename=w,f?.length>0){const T=f instanceof Uint8Array&&f.byteLength===f.buffer.byteLength?f.buffer:new Uint8Array(f).buffer;this._queuedChunks.push(T)}this._pdfDataRangeTransport=A,this._isStreamingSupported=!j,this._isRangeSupported=!S,this._contentLength=p,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((T,C)=>{this._onReceiveData({begin:T,chunk:C})}),this._pdfDataRangeTransport.addProgressListener((T,C)=>{this._onProgress({loaded:T,total:C})}),this._pdfDataRangeTransport.addProgressiveReadListener(T=>{this._onReceiveData({chunk:T})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:p,chunk:f}){const b=f instanceof Uint8Array&&f.byteLength===f.buffer.byteLength?f.buffer:new Uint8Array(f).buffer;if(p===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(b):this._queuedChunks.push(b);else{const w=this._rangeReaders.some(function(S){return S._begin!==p?!1:(S._enqueue(b),!0)});(0,i.assert)(w,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(p){p.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:p.loaded}):this._fullRequestReader?.onProgress?.({loaded:p.loaded,total:p.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(p){const f=this._rangeReaders.indexOf(p);f>=0&&this._rangeReaders.splice(f,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const p=this._queuedChunks;return this._queuedChunks=null,new h(this,p,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(p,f){if(f<=this._progressiveDataLength)return null;const b=new m(this,p,f);return this._pdfDataRangeTransport.requestDataRange(p,f),this._rangeReaders.push(b),b}cancelAllRequests(p){this._fullRequestReader?.cancel(p);for(const f of this._rangeReaders.slice(0))f.cancel(p);this._pdfDataRangeTransport.abort()}}t.PDFDataTransportStream=u;class h{constructor(p,f,b=!1,w=null){this._stream=p,this._done=b||!1,this._filename=(0,o.isPdfFile)(w)?w:null,this._queuedChunks=f||[],this._loaded=0;for(const S of this._queuedChunks)this._loaded+=S.byteLength;this._requests=[],this._headersReady=Promise.resolve(),p._fullRequestReader=this,this.onProgress=null}_enqueue(p){this._done||(this._requests.length>0?this._requests.shift().resolve({value:p,done:!1}):this._queuedChunks.push(p),this._loaded+=p.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const p=new i.PromiseCapability;return this._requests.push(p),p.promise}cancel(p){this._done=!0;for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class m{constructor(p,f,b){this._stream=p,this._begin=f,this._end=b,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(p){if(!this._done){if(this._requests.length===0)this._queuedChunk=p;else{this._requests.shift().resolve({value:p,done:!1});for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const f=this._queuedChunk;return this._queuedChunk=null,{value:f,done:!1}}if(this._done)return{value:void 0,done:!0};const p=new i.PromiseCapability;return this._requests.push(p),p.promise}cancel(p){this._done=!0;for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var i=n(1),o=n(20);function u(b,w,S){return{method:"GET",headers:b,signal:S.signal,mode:"cors",credentials:w?"include":"same-origin",redirect:"follow"}}function h(b){const w=new Headers;for(const S in b){const j=b[S];j!==void 0&&w.append(S,j)}return w}function m(b){return b instanceof Uint8Array?b.buffer:b instanceof ArrayBuffer?b:((0,i.warn)(`getArrayBuffer - unexpected data format: ${b}`),new Uint8Array(b).buffer)}class v{constructor(w){this.source=w,this.isHttp=/^https?:/i.test(w.url),this.httpHeaders=this.isHttp&&w.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new p(this),this._fullRequestReader}getRangeReader(w,S){if(S<=this._progressiveDataLength)return null;const j=new f(this,w,S);return this._rangeRequestReaders.push(j),j}cancelAllRequests(w){this._fullRequestReader?.cancel(w);for(const S of this._rangeRequestReaders.slice(0))S.cancel(w)}}t.PDFFetchStream=v;class p{constructor(w){this._stream=w,this._reader=null,this._loaded=0,this._filename=null;const S=w.source;this._withCredentials=S.withCredentials||!1,this._contentLength=S.length,this._headersCapability=new i.PromiseCapability,this._disableRange=S.disableRange||!1,this._rangeChunkSize=S.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!S.disableStream,this._isRangeSupported=!S.disableRange,this._headers=h(this._stream.httpHeaders);const j=S.url;fetch(j,u(this._headers,this._withCredentials,this._abortController)).then(A=>{if(!(0,o.validateResponseStatus)(A.status))throw(0,o.createResponseStatusError)(A.status,j);this._reader=A.body.getReader(),this._headersCapability.resolve();const T=M=>A.headers.get(M),{allowRangeRequests:C,suggestedLength:O}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:T,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=C,this._contentLength=O||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(T),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:w,done:S}=await this._reader.read();return S?{value:w,done:S}:(this._loaded+=w.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:m(w),done:!1})}cancel(w){this._reader?.cancel(w),this._abortController.abort()}}class f{constructor(w,S,j){this._stream=w,this._reader=null,this._loaded=0;const A=w.source;this._withCredentials=A.withCredentials||!1,this._readCapability=new i.PromiseCapability,this._isStreamingSupported=!A.disableStream,this._abortController=new AbortController,this._headers=h(this._stream.httpHeaders),this._headers.append("Range",`bytes=${S}-${j-1}`);const T=A.url;fetch(T,u(this._headers,this._withCredentials,this._abortController)).then(C=>{if(!(0,o.validateResponseStatus)(C.status))throw(0,o.createResponseStatusError)(C.status,T);this._readCapability.resolve(),this._reader=C.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:w,done:S}=await this._reader.read();return S?{value:w,done:S}:(this._loaded+=w.byteLength,this.onProgress?.({loaded:this._loaded}),{value:m(w),done:!1})}cancel(w){this._reader?.cancel(w),this._abortController.abort()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=v,t.extractFilenameFromHeader=m,t.validateRangeRequestCapabilities=h,t.validateResponseStatus=p;var i=n(1),o=n(21),u=n(6);function h({getResponseHeader:f,isHttp:b,rangeChunkSize:w,disableRange:S}){const j={allowRangeRequests:!1,suggestedLength:void 0},A=parseInt(f("Content-Length"),10);return!Number.isInteger(A)||(j.suggestedLength=A,A<=2*w)||S||!b||f("Accept-Ranges")!=="bytes"||(f("Content-Encoding")||"identity")!=="identity"||(j.allowRangeRequests=!0),j}function m(f){const b=f("Content-Disposition");if(b){let w=(0,o.getFilenameFromContentDispositionHeader)(b);if(w.includes("%"))try{w=decodeURIComponent(w)}catch{}if((0,u.isPdfFile)(w))return w}return null}function v(f,b){return f===404||f===0&&b.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+b+'".'):new i.UnexpectedResponseException(`Unexpected server response (${f}) while retrieving PDF "${b}".`,f)}function p(f){return f===200||f===206}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=o;var i=n(1);function o(u){let h=!0,m=v("filename\\*","i").exec(u);if(m){m=m[1];let A=w(m);return A=unescape(A),A=S(A),A=j(A),f(A)}if(m=b(u),m){const A=j(m);return f(A)}if(m=v("filename","i").exec(u),m){m=m[1];let A=w(m);return A=j(A),f(A)}function v(A,T){return new RegExp("(?:^|;)\\s*"+A+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',T)}function p(A,T){if(A){if(!/^[\x00-\xFF]+$/.test(T))return T;try{const C=new TextDecoder(A,{fatal:!0}),O=(0,i.stringToBytes)(T);T=C.decode(O),h=!1}catch{}}return T}function f(A){return h&&/[\x80-\xff]/.test(A)&&(A=p("utf-8",A),h&&(A=p("iso-8859-1",A))),A}function b(A){const T=[];let C;const O=v("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(C=O.exec(A))!==null;){let[,R,_,q]=C;if(R=parseInt(R,10),R in T){if(R===0)break;continue}T[R]=[_,q]}const M=[];for(let R=0;R<T.length&&R in T;++R){let[_,q]=T[R];q=w(q),_&&(q=unescape(q),R===0&&(q=S(q))),M.push(q)}return M.join("")}function w(A){if(A.startsWith('"')){const T=A.slice(1).split('\\"');for(let C=0;C<T.length;++C){const O=T[C].indexOf('"');O!==-1&&(T[C]=T[C].slice(0,O),T.length=C+1),T[C]=T[C].replaceAll(/\\(.)/g,"$1")}A=T.join('"')}return A}function S(A){const T=A.indexOf("'");if(T===-1)return A;const C=A.slice(0,T),M=A.slice(T+1).replace(/^[^']*'/,"");return p(C,M)}function j(A){return!A.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(A)?A:A.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(T,C,O,M){if(O==="q"||O==="Q")return M=M.replaceAll("_"," "),M=M.replaceAll(/=([0-9a-fA-F]{2})/g,function(R,_){return String.fromCharCode(parseInt(_,16))}),p(C,M);try{M=atob(M)}catch{}return p(C,M)})}return""}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var i=n(1),o=n(20);const u=200,h=206;function m(w){const S=w.response;return typeof S!="string"?S:(0,i.stringToBytes)(S).buffer}class v{constructor(S,j={}){this.url=S,this.isHttp=/^https?:/i.test(S),this.httpHeaders=this.isHttp&&j.httpHeaders||Object.create(null),this.withCredentials=j.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(S,j,A){const T={begin:S,end:j};for(const C in A)T[C]=A[C];return this.request(T)}requestFull(S){return this.request(S)}request(S){const j=new XMLHttpRequest,A=this.currXhrId++,T=this.pendingRequests[A]={xhr:j};j.open("GET",this.url),j.withCredentials=this.withCredentials;for(const C in this.httpHeaders){const O=this.httpHeaders[C];O!==void 0&&j.setRequestHeader(C,O)}return this.isHttp&&"begin"in S&&"end"in S?(j.setRequestHeader("Range",`bytes=${S.begin}-${S.end-1}`),T.expectedStatus=h):T.expectedStatus=u,j.responseType="arraybuffer",S.onError&&(j.onerror=function(C){S.onError(j.status)}),j.onreadystatechange=this.onStateChange.bind(this,A),j.onprogress=this.onProgress.bind(this,A),T.onHeadersReceived=S.onHeadersReceived,T.onDone=S.onDone,T.onError=S.onError,T.onProgress=S.onProgress,j.send(null),A}onProgress(S,j){const A=this.pendingRequests[S];A&&A.onProgress?.(j)}onStateChange(S,j){const A=this.pendingRequests[S];if(!A)return;const T=A.xhr;if(T.readyState>=2&&A.onHeadersReceived&&(A.onHeadersReceived(),delete A.onHeadersReceived),T.readyState!==4||!(S in this.pendingRequests))return;if(delete this.pendingRequests[S],T.status===0&&this.isHttp){A.onError?.(T.status);return}const C=T.status||u;if(!(C===u&&A.expectedStatus===h)&&C!==A.expectedStatus){A.onError?.(T.status);return}const M=m(T);if(C===h){const R=T.getResponseHeader("Content-Range"),_=/bytes (\d+)-(\d+)\/(\d+)/.exec(R);A.onDone({begin:parseInt(_[1],10),chunk:M})}else M?A.onDone({begin:0,chunk:M}):A.onError?.(T.status)}getRequestXhr(S){return this.pendingRequests[S].xhr}isPendingRequest(S){return S in this.pendingRequests}abortRequest(S){const j=this.pendingRequests[S].xhr;delete this.pendingRequests[S],j.abort()}}class p{constructor(S){this._source=S,this._manager=new v(S.url,{httpHeaders:S.httpHeaders,withCredentials:S.withCredentials}),this._rangeChunkSize=S.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(S){const j=this._rangeRequestReaders.indexOf(S);j>=0&&this._rangeRequestReaders.splice(j,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new f(this._manager,this._source),this._fullRequestReader}getRangeReader(S,j){const A=new b(this._manager,S,j);return A.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(A),A}cancelAllRequests(S){this._fullRequestReader?.cancel(S);for(const j of this._rangeRequestReaders.slice(0))j.cancel(S)}}t.PDFNetworkStream=p;class f{constructor(S,j){this._manager=S;const A={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=j.url,this._fullRequestId=S.requestFull(A),this._headersReceivedCapability=new i.PromiseCapability,this._disableRange=j.disableRange||!1,this._contentLength=j.length,this._rangeChunkSize=j.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const S=this._fullRequestId,j=this._manager.getRequestXhr(S),A=O=>j.getResponseHeader(O),{allowRangeRequests:T,suggestedLength:C}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:A,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});T&&(this._isRangeSupported=!0),this._contentLength=C||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(A),this._isRangeSupported&&this._manager.abortRequest(S),this._headersReceivedCapability.resolve()}_onDone(S){if(S&&(this._requests.length>0?this._requests.shift().resolve({value:S.chunk,done:!1}):this._cachedChunks.push(S.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(S){this._storedError=(0,o.createResponseStatusError)(S,this._url),this._headersReceivedCapability.reject(this._storedError);for(const j of this._requests)j.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(S){this.onProgress?.({loaded:S.loaded,total:S.lengthComputable?S.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const S=new i.PromiseCapability;return this._requests.push(S),S.promise}cancel(S){this._done=!0,this._headersReceivedCapability.reject(S);for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class b{constructor(S,j,A){this._manager=S;const T={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=S.url,this._requestId=S.requestRange(j,A,T),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(S){const j=S.chunk;this._requests.length>0?this._requests.shift().resolve({value:j,done:!1}):this._queuedChunk=j,this._done=!0;for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(S){this._storedError=(0,o.createResponseStatusError)(S,this._url);for(const j of this._requests)j.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(S){this.isStreamingSupported||this.onProgress?.({loaded:S.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const j=this._queuedChunk;return this._queuedChunk=null,{value:j,done:!1}}if(this._done)return{value:void 0,done:!0};const S=new i.PromiseCapability;return this._requests.push(S),S.promise}cancel(S){this._done=!0;for(const j of this._requests)j.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var i=n(1),o=n(20);const u=/^file:\/\/\/[a-zA-Z]:\//;function h(A){const T=require$$5,C=T.parse(A);return C.protocol==="file:"||C.host?C:/^[a-z]:[/\\]/i.test(A)?T.parse(`file:///${A}`):(C.host||(C.protocol="file:"),C)}class m{constructor(T){this.source=T,this.url=h(T.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&T.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new S(this):new b(this),this._fullRequestReader}getRangeReader(T,C){if(C<=this._progressiveDataLength)return null;const O=this.isFsUrl?new j(this,T,C):new w(this,T,C);return this._rangeRequestReaders.push(O),O}cancelAllRequests(T){this._fullRequestReader?.cancel(T);for(const C of this._rangeRequestReaders.slice(0))C.cancel(T)}}t.PDFNodeStream=m;class v{constructor(T){this._url=T.url,this._done=!1,this._storedError=null,this.onProgress=null;const C=T.source;this._contentLength=C.length,this._loaded=0,this._filename=null,this._disableRange=C.disableRange||!1,this._rangeChunkSize=C.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!C.disableStream,this._isRangeSupported=!C.disableRange,this._readableStream=null,this._readCapability=new i.PromiseCapability,this._headersCapability=new i.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const T=this._readableStream.read();return T===null?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=T.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(T).buffer,done:!1})}cancel(T){if(!this._readableStream){this._error(T);return}this._readableStream.destroy(T)}_error(T){this._storedError=T,this._readCapability.resolve()}_setReadableStream(T){this._readableStream=T,T.on("readable",()=>{this._readCapability.resolve()}),T.on("end",()=>{T.destroy(),this._done=!0,this._readCapability.resolve()}),T.on("error",C=>{this._error(C)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class p{constructor(T){this._url=T.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new i.PromiseCapability;const C=T.source;this._isStreamingSupported=!C.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const T=this._readableStream.read();return T===null?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=T.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(T).buffer,done:!1})}cancel(T){if(!this._readableStream){this._error(T);return}this._readableStream.destroy(T)}_error(T){this._storedError=T,this._readCapability.resolve()}_setReadableStream(T){this._readableStream=T,T.on("readable",()=>{this._readCapability.resolve()}),T.on("end",()=>{T.destroy(),this._done=!0,this._readCapability.resolve()}),T.on("error",C=>{this._error(C)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function f(A,T){return{protocol:A.protocol,auth:A.auth,host:A.hostname,port:A.port,path:A.path,method:"GET",headers:T}}class b extends v{constructor(T){super(T);const C=O=>{if(O.statusCode===404){const q=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=q,this._headersCapability.reject(q);return}this._headersCapability.resolve(),this._setReadableStream(O);const M=q=>this._readableStream.headers[q.toLowerCase()],{allowRangeRequests:R,suggestedLength:_}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:M,isHttp:T.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=R,this._contentLength=_||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(M)};if(this._request=null,this._url.protocol==="http:"){const O=require$$5;this._request=O.request(f(this._url,T.httpHeaders),C)}else{const O=require$$5;this._request=O.request(f(this._url,T.httpHeaders),C)}this._request.on("error",O=>{this._storedError=O,this._headersCapability.reject(O)}),this._request.end()}}class w extends p{constructor(T,C,O){super(T),this._httpHeaders={};for(const R in T.httpHeaders){const _=T.httpHeaders[R];_!==void 0&&(this._httpHeaders[R]=_)}this._httpHeaders.Range=`bytes=${C}-${O-1}`;const M=R=>{if(R.statusCode===404){const _=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=_;return}this._setReadableStream(R)};if(this._request=null,this._url.protocol==="http:"){const R=require$$5;this._request=R.request(f(this._url,this._httpHeaders),M)}else{const R=require$$5;this._request=R.request(f(this._url,this._httpHeaders),M)}this._request.on("error",R=>{this._storedError=R}),this._request.end()}}class S extends v{constructor(T){super(T);let C=decodeURIComponent(this._url.path);u.test(this._url.href)&&(C=C.replace(/^\//,""));const O=require$$5;O.lstat(C,(M,R)=>{if(M){M.code==="ENOENT"&&(M=new i.MissingPDFException(`Missing PDF "${C}".`)),this._storedError=M,this._headersCapability.reject(M);return}this._contentLength=R.size,this._setReadableStream(O.createReadStream(C)),this._headersCapability.resolve()})}}class j extends p{constructor(T,C,O){super(T);let M=decodeURIComponent(this._url.path);u.test(this._url.href)&&(M=M.replace(/^\//,""));const R=require$$5;this._setReadableStream(R.createReadStream(M,{start:C,end:O-1}))}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var i=n(6),o=n(1);const u={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},h="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/1999/xlink",v=["butt","round","square"],p=["miter","round","bevel"],f=function(R,_="",q=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!q)return URL.createObjectURL(new Blob([R],{type:_}));const se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let ee=`data:${_};base64,`;for(let ae=0,pe=R.length;ae<pe;ae+=3){const fe=R[ae]&255,Ee=R[ae+1]&255,_e=R[ae+2]&255,Re=fe>>2,Pe=(fe&3)<<4|Ee>>4,je=ae+1<pe?(Ee&15)<<2|_e>>6:64,ce=ae+2<pe?_e&63:64;ee+=se[Re]+se[Pe]+se[je]+se[ce]}return ee},b=function(){const R=new Uint8Array([137,80,78,71,13,10,26,10]),_=12,q=new Int32Array(256);for(let _e=0;_e<256;_e++){let Re=_e;for(let Pe=0;Pe<8;Pe++)Re=Re&1?3988292384^Re>>1&2147483647:Re>>1&2147483647;q[_e]=Re}function se(_e,Re,Pe){let je=-1;for(let ce=Re;ce<Pe;ce++){const le=(je^_e[ce])&255,ie=q[le];je=je>>>8^ie}return je^-1}function ee(_e,Re,Pe,je){let ce=je;const le=Re.length;Pe[ce]=le>>24&255,Pe[ce+1]=le>>16&255,Pe[ce+2]=le>>8&255,Pe[ce+3]=le&255,ce+=4,Pe[ce]=_e.charCodeAt(0)&255,Pe[ce+1]=_e.charCodeAt(1)&255,Pe[ce+2]=_e.charCodeAt(2)&255,Pe[ce+3]=_e.charCodeAt(3)&255,ce+=4,Pe.set(Re,ce),ce+=Re.length;const ie=se(Pe,je+4,ce);Pe[ce]=ie>>24&255,Pe[ce+1]=ie>>16&255,Pe[ce+2]=ie>>8&255,Pe[ce+3]=ie&255}function ae(_e,Re,Pe){let je=1,ce=0;for(let le=Re;le<Pe;++le)je=(je+(_e[le]&255))%65521,ce=(ce+je)%65521;return ce<<16|je}function pe(_e){if(!o.isNodeJS)return fe(_e);try{const Re=parseInt(process.versions.node)>=8?_e:Buffer.from(_e),Pe=require$$5.deflateSync(Re,{level:9});return Pe instanceof Uint8Array?Pe:new Uint8Array(Pe)}catch(Re){(0,o.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Re)}return fe(_e)}function fe(_e){let Re=_e.length;const Pe=65535,je=Math.ceil(Re/Pe),ce=new Uint8Array(2+Re+je*5+4);let le=0;ce[le++]=120,ce[le++]=156;let ie=0;for(;Re>Pe;)ce[le++]=0,ce[le++]=255,ce[le++]=255,ce[le++]=0,ce[le++]=0,ce.set(_e.subarray(ie,ie+Pe),le),le+=Pe,ie+=Pe,Re-=Pe;ce[le++]=1,ce[le++]=Re&255,ce[le++]=Re>>8&255,ce[le++]=~Re&65535&255,ce[le++]=(~Re&65535)>>8&255,ce.set(_e.subarray(ie),le),le+=_e.length-ie;const Y=ae(_e,0,_e.length);return ce[le++]=Y>>24&255,ce[le++]=Y>>16&255,ce[le++]=Y>>8&255,ce[le++]=Y&255,ce}function Ee(_e,Re,Pe,je){const ce=_e.width,le=_e.height;let ie,Y,ne;const oe=_e.data;switch(Re){case o.ImageKind.GRAYSCALE_1BPP:Y=0,ie=1,ne=ce+7>>3;break;case o.ImageKind.RGB_24BPP:Y=2,ie=8,ne=ce*3;break;case o.ImageKind.RGBA_32BPP:Y=6,ie=8,ne=ce*4;break;default:throw new Error("invalid format")}const ue=new Uint8Array((1+ne)*le);let ve=0,me=0;for(let Se=0;Se<le;++Se)ue[ve++]=0,ue.set(oe.subarray(me,me+ne),ve),me+=ne,ve+=ne;if(Re===o.ImageKind.GRAYSCALE_1BPP&&je){ve=0;for(let Se=0;Se<le;Se++){ve++;for(let we=0;we<ne;we++)ue[ve++]^=255}}const te=new Uint8Array([ce>>24&255,ce>>16&255,ce>>8&255,ce&255,le>>24&255,le>>16&255,le>>8&255,le&255,ie,Y,0,0,0]),he=pe(ue),ge=R.length+_*3+te.length+he.length,xe=new Uint8Array(ge);let ye=0;return xe.set(R,ye),ye+=R.length,ee("IHDR",te,xe,ye),ye+=_+te.length,ee("IDATA",he,xe,ye),ye+=_+he.length,ee("IEND",new Uint8Array(0),xe,ye),f(xe,"image/png",Pe)}return function(Re,Pe,je){const ce=Re.kind===void 0?o.ImageKind.GRAYSCALE_1BPP:Re.kind;return Ee(Re,ce,Pe,je)}}();class w{constructor(){this.fontSizeScale=1,this.fontWeight=u.fontWeight,this.fontSize=0,this.textMatrix=o.IDENTITY_MATRIX,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=o.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=u.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(_,q){this.x=_,this.y=q}}function S(R){let _=[];const q=[];for(const se of R){if(se.fn==="save"){_.push({fnId:92,fn:"group",items:[]}),q.push(_),_=_.at(-1).items;continue}se.fn==="restore"?_=q.pop():_.push(se)}return _}function j(R){if(Number.isInteger(R))return R.toString();const _=R.toFixed(10);let q=_.length-1;if(_[q]!=="0")return _;do q--;while(_[q]==="0");return _.substring(0,_[q]==="."?q:q+1)}function A(R){if(R[4]===0&&R[5]===0){if(R[1]===0&&R[2]===0)return R[0]===1&&R[3]===1?"":`scale(${j(R[0])} ${j(R[3])})`;if(R[0]===R[3]&&R[1]===-R[2]){const _=Math.acos(R[0])*180/Math.PI;return`rotate(${j(_)})`}}else if(R[0]===1&&R[1]===0&&R[2]===0&&R[3]===1)return`translate(${j(R[4])} ${j(R[5])})`;return`matrix(${j(R[0])} ${j(R[1])} ${j(R[2])} ${j(R[3])} ${j(R[4])} ${j(R[5])})`}let T=0,C=0,O=0;class M{constructor(_,q,se=!1){(0,i.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new i.DOMSVGFactory,this.current=new w,this.transformMatrix=o.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=_,this.objs=q,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!se,this._operatorIdMapping=[];for(const ee in o.OPS)this._operatorIdMapping[o.OPS[ee]]=ee}getObject(_,q=null){return typeof _=="string"?_.startsWith("g_")?this.commonObjs.get(_):this.objs.get(_):q}save(){this.transformStack.push(this.transformMatrix);const _=this.current;this.extraStack.push(_),this.current=_.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(_){this.save(),this.executeOpTree(_),this.restore()}loadDependencies(_){const q=_.fnArray,se=_.argsArray;for(let ee=0,ae=q.length;ee<ae;ee++)if(q[ee]===o.OPS.dependency)for(const pe of se[ee]){const fe=pe.startsWith("g_")?this.commonObjs:this.objs,Ee=new Promise(_e=>{fe.get(pe,_e)});this.current.dependencies.push(Ee)}return Promise.all(this.current.dependencies)}transform(_,q,se,ee,ae,pe){const fe=[_,q,se,ee,ae,pe];this.transformMatrix=o.Util.transform(this.transformMatrix,fe),this.tgrp=null}getSVG(_,q){this.viewport=q;const se=this._initialize(q);return this.loadDependencies(_).then(()=>(this.transformMatrix=o.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(_)),se))}convertOpList(_){const q=this._operatorIdMapping,se=_.argsArray,ee=_.fnArray,ae=[];for(let pe=0,fe=ee.length;pe<fe;pe++){const Ee=ee[pe];ae.push({fnId:Ee,fn:q[Ee],args:se[pe]})}return S(ae)}executeOpTree(_){for(const q of _){const se=q.fn,ee=q.fnId,ae=q.args;switch(ee|0){case o.OPS.beginText:this.beginText();break;case o.OPS.dependency:break;case o.OPS.setLeading:this.setLeading(ae);break;case o.OPS.setLeadingMoveText:this.setLeadingMoveText(ae[0],ae[1]);break;case o.OPS.setFont:this.setFont(ae);break;case o.OPS.showText:this.showText(ae[0]);break;case o.OPS.showSpacedText:this.showText(ae[0]);break;case o.OPS.endText:this.endText();break;case o.OPS.moveText:this.moveText(ae[0],ae[1]);break;case o.OPS.setCharSpacing:this.setCharSpacing(ae[0]);break;case o.OPS.setWordSpacing:this.setWordSpacing(ae[0]);break;case o.OPS.setHScale:this.setHScale(ae[0]);break;case o.OPS.setTextMatrix:this.setTextMatrix(ae[0],ae[1],ae[2],ae[3],ae[4],ae[5]);break;case o.OPS.setTextRise:this.setTextRise(ae[0]);break;case o.OPS.setTextRenderingMode:this.setTextRenderingMode(ae[0]);break;case o.OPS.setLineWidth:this.setLineWidth(ae[0]);break;case o.OPS.setLineJoin:this.setLineJoin(ae[0]);break;case o.OPS.setLineCap:this.setLineCap(ae[0]);break;case o.OPS.setMiterLimit:this.setMiterLimit(ae[0]);break;case o.OPS.setFillRGBColor:this.setFillRGBColor(ae[0],ae[1],ae[2]);break;case o.OPS.setStrokeRGBColor:this.setStrokeRGBColor(ae[0],ae[1],ae[2]);break;case o.OPS.setStrokeColorN:this.setStrokeColorN(ae);break;case o.OPS.setFillColorN:this.setFillColorN(ae);break;case o.OPS.shadingFill:this.shadingFill(ae[0]);break;case o.OPS.setDash:this.setDash(ae[0],ae[1]);break;case o.OPS.setRenderingIntent:this.setRenderingIntent(ae[0]);break;case o.OPS.setFlatness:this.setFlatness(ae[0]);break;case o.OPS.setGState:this.setGState(ae[0]);break;case o.OPS.fill:this.fill();break;case o.OPS.eoFill:this.eoFill();break;case o.OPS.stroke:this.stroke();break;case o.OPS.fillStroke:this.fillStroke();break;case o.OPS.eoFillStroke:this.eoFillStroke();break;case o.OPS.clip:this.clip("nonzero");break;case o.OPS.eoClip:this.clip("evenodd");break;case o.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case o.OPS.paintImageXObject:this.paintImageXObject(ae[0]);break;case o.OPS.paintInlineImageXObject:this.paintInlineImageXObject(ae[0]);break;case o.OPS.paintImageMaskXObject:this.paintImageMaskXObject(ae[0]);break;case o.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(ae[0],ae[1]);break;case o.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case o.OPS.closePath:this.closePath();break;case o.OPS.closeStroke:this.closeStroke();break;case o.OPS.closeFillStroke:this.closeFillStroke();break;case o.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case o.OPS.nextLine:this.nextLine();break;case o.OPS.transform:this.transform(ae[0],ae[1],ae[2],ae[3],ae[4],ae[5]);break;case o.OPS.constructPath:this.constructPath(ae[0],ae[1]);break;case o.OPS.endPath:this.endPath();break;case 92:this.group(q.items);break;default:(0,o.warn)(`Unimplemented operator ${se}`);break}}}setWordSpacing(_){this.current.wordSpacing=_}setCharSpacing(_){this.current.charSpacing=_}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(_,q,se,ee,ae,pe){const fe=this.current;fe.textMatrix=fe.lineMatrix=[_,q,se,ee,ae,pe],fe.textMatrixScale=Math.hypot(_,q),fe.x=fe.lineX=0,fe.y=fe.lineY=0,fe.xcoords=[],fe.ycoords=[],fe.tspan=this.svgFactory.createElement("svg:tspan"),fe.tspan.setAttributeNS(null,"font-family",fe.fontFamily),fe.tspan.setAttributeNS(null,"font-size",`${j(fe.fontSize)}px`),fe.tspan.setAttributeNS(null,"y",j(-fe.y)),fe.txtElement=this.svgFactory.createElement("svg:text"),fe.txtElement.append(fe.tspan)}beginText(){const _=this.current;_.x=_.lineX=0,_.y=_.lineY=0,_.textMatrix=o.IDENTITY_MATRIX,_.lineMatrix=o.IDENTITY_MATRIX,_.textMatrixScale=1,_.tspan=this.svgFactory.createElement("svg:tspan"),_.txtElement=this.svgFactory.createElement("svg:text"),_.txtgrp=this.svgFactory.createElement("svg:g"),_.xcoords=[],_.ycoords=[]}moveText(_,q){const se=this.current;se.x=se.lineX+=_,se.y=se.lineY+=q,se.xcoords=[],se.ycoords=[],se.tspan=this.svgFactory.createElement("svg:tspan"),se.tspan.setAttributeNS(null,"font-family",se.fontFamily),se.tspan.setAttributeNS(null,"font-size",`${j(se.fontSize)}px`),se.tspan.setAttributeNS(null,"y",j(-se.y))}showText(_){const q=this.current,se=q.font,ee=q.fontSize;if(ee===0)return;const ae=q.fontSizeScale,pe=q.charSpacing,fe=q.wordSpacing,Ee=q.fontDirection,_e=q.textHScale*Ee,Re=se.vertical,Pe=Re?1:-1,je=se.defaultVMetrics,ce=ee*q.fontMatrix[0];let le=0;for(const ne of _){if(ne===null){le+=Ee*fe;continue}else if(typeof ne=="number"){le+=Pe*ne*ee/1e3;continue}const oe=(ne.isSpace?fe:0)+pe,ue=ne.fontChar;let ve,me,te=ne.width;if(Re){let ge;const xe=ne.vmetric||je;ge=ne.vmetric?xe[1]:te*.5,ge=-ge*ce;const ye=xe[2]*ce;te=xe?-xe[0]:te,ve=ge/ae,me=(le+ye)/ae}else ve=le/ae,me=0;(ne.isInFont||se.missingFile)&&(q.xcoords.push(q.x+ve),Re&&q.ycoords.push(-q.y+me),q.tspan.textContent+=ue);const he=Re?te*ce-oe*Ee:te*ce+oe*Ee;le+=he}q.tspan.setAttributeNS(null,"x",q.xcoords.map(j).join(" ")),Re?q.tspan.setAttributeNS(null,"y",q.ycoords.map(j).join(" ")):q.tspan.setAttributeNS(null,"y",j(-q.y)),Re?q.y-=le:q.x+=le*_e,q.tspan.setAttributeNS(null,"font-family",q.fontFamily),q.tspan.setAttributeNS(null,"font-size",`${j(q.fontSize)}px`),q.fontStyle!==u.fontStyle&&q.tspan.setAttributeNS(null,"font-style",q.fontStyle),q.fontWeight!==u.fontWeight&&q.tspan.setAttributeNS(null,"font-weight",q.fontWeight);const ie=q.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;if(ie===o.TextRenderingMode.FILL||ie===o.TextRenderingMode.FILL_STROKE?(q.fillColor!==u.fillColor&&q.tspan.setAttributeNS(null,"fill",q.fillColor),q.fillAlpha<1&&q.tspan.setAttributeNS(null,"fill-opacity",q.fillAlpha)):q.textRenderingMode===o.TextRenderingMode.ADD_TO_PATH?q.tspan.setAttributeNS(null,"fill","transparent"):q.tspan.setAttributeNS(null,"fill","none"),ie===o.TextRenderingMode.STROKE||ie===o.TextRenderingMode.FILL_STROKE){const ne=1/(q.textMatrixScale||1);this._setStrokeAttributes(q.tspan,ne)}let Y=q.textMatrix;q.textRise!==0&&(Y=Y.slice(),Y[5]+=q.textRise),q.txtElement.setAttributeNS(null,"transform",`${A(Y)} scale(${j(_e)}, -1)`),q.txtElement.setAttributeNS(h,"xml:space","preserve"),q.txtElement.append(q.tspan),q.txtgrp.append(q.txtElement),this._ensureTransformGroup().append(q.txtElement)}setLeadingMoveText(_,q){this.setLeading(-q),this.moveText(_,q)}addFontStyle(_){if(!_.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const q=f(_.data,_.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${_.loadedName}"; src: url(${q}); }
`}setFont(_){const q=this.current,se=this.commonObjs.get(_[0]);let ee=_[1];q.font=se,this.embedFonts&&!se.missingFile&&!this.embeddedFonts[se.loadedName]&&(this.addFontStyle(se),this.embeddedFonts[se.loadedName]=se),q.fontMatrix=se.fontMatrix||o.FONT_IDENTITY_MATRIX;let ae="normal";se.black?ae="900":se.bold&&(ae="bold");const pe=se.italic?"italic":"normal";ee<0?(ee=-ee,q.fontDirection=-1):q.fontDirection=1,q.fontSize=ee,q.fontFamily=se.loadedName,q.fontWeight=ae,q.fontStyle=pe,q.tspan=this.svgFactory.createElement("svg:tspan"),q.tspan.setAttributeNS(null,"y",j(-q.y)),q.xcoords=[],q.ycoords=[]}endText(){const _=this.current;_.textRenderingMode&o.TextRenderingMode.ADD_TO_PATH_FLAG&&_.txtElement?.hasChildNodes()&&(_.element=_.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(_){_>0&&(this.current.lineWidth=_)}setLineCap(_){this.current.lineCap=v[_]}setLineJoin(_){this.current.lineJoin=p[_]}setMiterLimit(_){this.current.miterLimit=_}setStrokeAlpha(_){this.current.strokeAlpha=_}setStrokeRGBColor(_,q,se){this.current.strokeColor=o.Util.makeHexColor(_,q,se)}setFillAlpha(_){this.current.fillAlpha=_}setFillRGBColor(_,q,se){this.current.fillColor=o.Util.makeHexColor(_,q,se),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(_){this.current.strokeColor=this._makeColorN_Pattern(_)}setFillColorN(_){this.current.fillColor=this._makeColorN_Pattern(_)}shadingFill(_){const{width:q,height:se}=this.viewport,ee=o.Util.inverseTransform(this.transformMatrix),[ae,pe,fe,Ee]=o.Util.getAxialAlignedBoundingBox([0,0,q,se],ee),_e=this.svgFactory.createElement("svg:rect");_e.setAttributeNS(null,"x",ae),_e.setAttributeNS(null,"y",pe),_e.setAttributeNS(null,"width",fe-ae),_e.setAttributeNS(null,"height",Ee-pe),_e.setAttributeNS(null,"fill",this._makeShadingPattern(_)),this.current.fillAlpha<1&&_e.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(_e)}_makeColorN_Pattern(_){return _[0]==="TilingPattern"?this._makeTilingPattern(_):this._makeShadingPattern(_)}_makeTilingPattern(_){const q=_[1],se=_[2],ee=_[3]||o.IDENTITY_MATRIX,[ae,pe,fe,Ee]=_[4],_e=_[5],Re=_[6],Pe=_[7],je=`shading${O++}`,[ce,le,ie,Y]=o.Util.normalizeRect([...o.Util.applyTransform([ae,pe],ee),...o.Util.applyTransform([fe,Ee],ee)]),[ne,oe]=o.Util.singularValueDecompose2dScale(ee),ue=_e*ne,ve=Re*oe,me=this.svgFactory.createElement("svg:pattern");me.setAttributeNS(null,"id",je),me.setAttributeNS(null,"patternUnits","userSpaceOnUse"),me.setAttributeNS(null,"width",ue),me.setAttributeNS(null,"height",ve),me.setAttributeNS(null,"x",`${ce}`),me.setAttributeNS(null,"y",`${le}`);const te=this.svg,he=this.transformMatrix,ge=this.current.fillColor,xe=this.current.strokeColor,ye=this.svgFactory.create(ie-ce,Y-le);if(this.svg=ye,this.transformMatrix=ee,Pe===2){const Se=o.Util.makeHexColor(...q);this.current.fillColor=Se,this.current.strokeColor=Se}return this.executeOpTree(this.convertOpList(se)),this.svg=te,this.transformMatrix=he,this.current.fillColor=ge,this.current.strokeColor=xe,me.append(ye.childNodes[0]),this.defs.append(me),`url(#${je})`}_makeShadingPattern(_){switch(typeof _=="string"&&(_=this.objs.get(_)),_[0]){case"RadialAxial":const q=`shading${O++}`,se=_[3];let ee;switch(_[1]){case"axial":const ae=_[4],pe=_[5];ee=this.svgFactory.createElement("svg:linearGradient"),ee.setAttributeNS(null,"id",q),ee.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ee.setAttributeNS(null,"x1",ae[0]),ee.setAttributeNS(null,"y1",ae[1]),ee.setAttributeNS(null,"x2",pe[0]),ee.setAttributeNS(null,"y2",pe[1]);break;case"radial":const fe=_[4],Ee=_[5],_e=_[6],Re=_[7];ee=this.svgFactory.createElement("svg:radialGradient"),ee.setAttributeNS(null,"id",q),ee.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),ee.setAttributeNS(null,"cx",Ee[0]),ee.setAttributeNS(null,"cy",Ee[1]),ee.setAttributeNS(null,"r",Re),ee.setAttributeNS(null,"fx",fe[0]),ee.setAttributeNS(null,"fy",fe[1]),ee.setAttributeNS(null,"fr",_e);break;default:throw new Error(`Unknown RadialAxial type: ${_[1]}`)}for(const ae of se){const pe=this.svgFactory.createElement("svg:stop");pe.setAttributeNS(null,"offset",ae[0]),pe.setAttributeNS(null,"stop-color",ae[1]),ee.append(pe)}return this.defs.append(ee),`url(#${q})`;case"Mesh":return(0,o.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${_[0]}`)}}setDash(_,q){this.current.dashArray=_,this.current.dashPhase=q}constructPath(_,q){const se=this.current;let ee=se.x,ae=se.y,pe=[],fe=0;for(const Ee of _)switch(Ee|0){case o.OPS.rectangle:ee=q[fe++],ae=q[fe++];const _e=q[fe++],Re=q[fe++],Pe=ee+_e,je=ae+Re;pe.push("M",j(ee),j(ae),"L",j(Pe),j(ae),"L",j(Pe),j(je),"L",j(ee),j(je),"Z");break;case o.OPS.moveTo:ee=q[fe++],ae=q[fe++],pe.push("M",j(ee),j(ae));break;case o.OPS.lineTo:ee=q[fe++],ae=q[fe++],pe.push("L",j(ee),j(ae));break;case o.OPS.curveTo:ee=q[fe+4],ae=q[fe+5],pe.push("C",j(q[fe]),j(q[fe+1]),j(q[fe+2]),j(q[fe+3]),j(ee),j(ae)),fe+=6;break;case o.OPS.curveTo2:pe.push("C",j(ee),j(ae),j(q[fe]),j(q[fe+1]),j(q[fe+2]),j(q[fe+3])),ee=q[fe+2],ae=q[fe+3],fe+=4;break;case o.OPS.curveTo3:ee=q[fe+2],ae=q[fe+3],pe.push("C",j(q[fe]),j(q[fe+1]),j(ee),j(ae),j(ee),j(ae)),fe+=4;break;case o.OPS.closePath:pe.push("Z");break}pe=pe.join(" "),se.path&&_.length>0&&_[0]!==o.OPS.rectangle&&_[0]!==o.OPS.moveTo?pe=se.path.getAttributeNS(null,"d")+pe:(se.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(se.path)),se.path.setAttributeNS(null,"d",pe),se.path.setAttributeNS(null,"fill","none"),se.element=se.path,se.setCurrentPoint(ee,ae)}endPath(){const _=this.current;if(_.path=null,!this.pendingClip)return;if(!_.element){this.pendingClip=null;return}const q=`clippath${T++}`,se=this.svgFactory.createElement("svg:clipPath");se.setAttributeNS(null,"id",q),se.setAttributeNS(null,"transform",A(this.transformMatrix));const ee=_.element.cloneNode(!0);if(this.pendingClip==="evenodd"?ee.setAttributeNS(null,"clip-rule","evenodd"):ee.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,se.append(ee),this.defs.append(se),_.activeClipUrl){_.clipGroup=null;for(const ae of this.extraStack)ae.clipGroup=null;se.setAttributeNS(null,"clip-path",_.activeClipUrl)}_.activeClipUrl=`url(#${q})`,this.tgrp=null}clip(_){this.pendingClip=_}closePath(){const _=this.current;if(_.path){const q=`${_.path.getAttributeNS(null,"d")}Z`;_.path.setAttributeNS(null,"d",q)}}setLeading(_){this.current.leading=-_}setTextRise(_){this.current.textRise=_}setTextRenderingMode(_){this.current.textRenderingMode=_}setHScale(_){this.current.textHScale=_/100}setRenderingIntent(_){}setFlatness(_){}setGState(_){for(const[q,se]of _)switch(q){case"LW":this.setLineWidth(se);break;case"LC":this.setLineCap(se);break;case"LJ":this.setLineJoin(se);break;case"ML":this.setMiterLimit(se);break;case"D":this.setDash(se[0],se[1]);break;case"RI":this.setRenderingIntent(se);break;case"FL":this.setFlatness(se);break;case"Font":this.setFont(se);break;case"CA":this.setStrokeAlpha(se);break;case"ca":this.setFillAlpha(se);break;default:(0,o.warn)(`Unimplemented graphic state operator ${q}`);break}}fill(){const _=this.current;_.element&&(_.element.setAttributeNS(null,"fill",_.fillColor),_.element.setAttributeNS(null,"fill-opacity",_.fillAlpha),this.endPath())}stroke(){const _=this.current;_.element&&(this._setStrokeAttributes(_.element),_.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(_,q=1){const se=this.current;let ee=se.dashArray;q!==1&&ee.length>0&&(ee=ee.map(function(ae){return q*ae})),_.setAttributeNS(null,"stroke",se.strokeColor),_.setAttributeNS(null,"stroke-opacity",se.strokeAlpha),_.setAttributeNS(null,"stroke-miterlimit",j(se.miterLimit)),_.setAttributeNS(null,"stroke-linecap",se.lineCap),_.setAttributeNS(null,"stroke-linejoin",se.lineJoin),_.setAttributeNS(null,"stroke-width",j(q*se.lineWidth)+"px"),_.setAttributeNS(null,"stroke-dasharray",ee.map(j).join(" ")),_.setAttributeNS(null,"stroke-dashoffset",j(q*se.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const _=this.svgFactory.createElement("svg:rect");_.setAttributeNS(null,"x","0"),_.setAttributeNS(null,"y","0"),_.setAttributeNS(null,"width","1px"),_.setAttributeNS(null,"height","1px"),_.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(_)}paintImageXObject(_){const q=this.getObject(_);if(!q){(0,o.warn)(`Dependent image with object ID ${_} is not ready yet`);return}this.paintInlineImageXObject(q)}paintInlineImageXObject(_,q){const se=_.width,ee=_.height,ae=b(_,this.forceDataSchema,!!q),pe=this.svgFactory.createElement("svg:rect");pe.setAttributeNS(null,"x","0"),pe.setAttributeNS(null,"y","0"),pe.setAttributeNS(null,"width",j(se)),pe.setAttributeNS(null,"height",j(ee)),this.current.element=pe,this.clip("nonzero");const fe=this.svgFactory.createElement("svg:image");fe.setAttributeNS(m,"xlink:href",ae),fe.setAttributeNS(null,"x","0"),fe.setAttributeNS(null,"y",j(-ee)),fe.setAttributeNS(null,"width",j(se)+"px"),fe.setAttributeNS(null,"height",j(ee)+"px"),fe.setAttributeNS(null,"transform",`scale(${j(1/se)} ${j(-1/ee)})`),q?q.append(fe):this._ensureTransformGroup().append(fe)}paintImageMaskXObject(_){const q=this.getObject(_.data,_);if(q.bitmap){(0,o.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const se=this.current,ee=q.width,ae=q.height,pe=se.fillColor;se.maskId=`mask${C++}`;const fe=this.svgFactory.createElement("svg:mask");fe.setAttributeNS(null,"id",se.maskId);const Ee=this.svgFactory.createElement("svg:rect");Ee.setAttributeNS(null,"x","0"),Ee.setAttributeNS(null,"y","0"),Ee.setAttributeNS(null,"width",j(ee)),Ee.setAttributeNS(null,"height",j(ae)),Ee.setAttributeNS(null,"fill",pe),Ee.setAttributeNS(null,"mask",`url(#${se.maskId})`),this.defs.append(fe),this._ensureTransformGroup().append(Ee),this.paintInlineImageXObject(q,fe)}paintFormXObjectBegin(_,q){if(Array.isArray(_)&&_.length===6&&this.transform(_[0],_[1],_[2],_[3],_[4],_[5]),q){const se=q[2]-q[0],ee=q[3]-q[1],ae=this.svgFactory.createElement("svg:rect");ae.setAttributeNS(null,"x",q[0]),ae.setAttributeNS(null,"y",q[1]),ae.setAttributeNS(null,"width",j(se)),ae.setAttributeNS(null,"height",j(ee)),this.current.element=ae,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(_){const q=this.svgFactory.create(_.width,_.height),se=this.svgFactory.createElement("svg:defs");q.append(se),this.defs=se;const ee=this.svgFactory.createElement("svg:g");return ee.setAttributeNS(null,"transform",A(_.transform)),q.append(ee),this.svg=ee,q}_ensureClipGroup(){if(!this.current.clipGroup){const _=this.svgFactory.createElement("svg:g");_.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(_),this.current.clipGroup=_}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",A(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}t.SVGGraphics=M},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class n{static textContent(o){const u=[],h={items:u,styles:Object.create(null)};function m(v){if(!v)return;let p=null;const f=v.name;if(f==="#text")p=v.value;else if(n.shouldBuildText(f))v?.attributes?.textContent?p=v.attributes.textContent:v.value&&(p=v.value);else return;if(p!==null&&u.push({str:p}),!!v.children)for(const b of v.children)m(b)}return m(o),h}static shouldBuildText(o){return!(o==="textarea"||o==="input"||o==="option"||o==="select")}}t.XfaText=n},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=A,t.updateTextLayer=T;var i=n(1),o=n(6);const u=1e5,h=30,m=.8,v=new Map;function p(C,O){let M;if(O&&i.FeatureTest.isOffscreenCanvasSupported)M=new OffscreenCanvas(C,C).getContext("2d",{alpha:!1});else{const R=document.createElement("canvas");R.width=R.height=C,M=R.getContext("2d",{alpha:!1})}return M}function f(C,O){const M=v.get(C);if(M)return M;const R=p(h,O);R.font=`${h}px ${C}`;const _=R.measureText("");let q=_.fontBoundingBoxAscent,se=Math.abs(_.fontBoundingBoxDescent);if(q){const ae=q/(q+se);return v.set(C,ae),R.canvas.width=R.canvas.height=0,ae}R.strokeStyle="red",R.clearRect(0,0,h,h),R.strokeText("g",0,0);let ee=R.getImageData(0,0,h,h).data;se=0;for(let ae=ee.length-1-3;ae>=0;ae-=4)if(ee[ae]>0){se=Math.ceil(ae/4/h);break}R.clearRect(0,0,h,h),R.strokeText("A",0,h),ee=R.getImageData(0,0,h,h).data,q=0;for(let ae=0,pe=ee.length;ae<pe;ae+=4)if(ee[ae]>0){q=h-Math.floor(ae/4/h);break}if(R.canvas.width=R.canvas.height=0,q){const ae=q/(q+se);return v.set(C,ae),ae}return v.set(C,m),m}function b(C,O,M){const R=document.createElement("span"),_={angle:0,canvasWidth:0,hasText:O.str!=="",hasEOL:O.hasEOL,fontSize:0};C._textDivs.push(R);const q=i.Util.transform(C._transform,O.transform);let se=Math.atan2(q[1],q[0]);const ee=M[O.fontName];ee.vertical&&(se+=Math.PI/2);const ae=Math.hypot(q[2],q[3]),pe=ae*f(ee.fontFamily,C._isOffscreenCanvasSupported);let fe,Ee;se===0?(fe=q[4],Ee=q[5]-pe):(fe=q[4]+pe*Math.sin(se),Ee=q[5]-pe*Math.cos(se));const _e="calc(var(--scale-factor)*",Re=R.style;C._container===C._rootContainer?(Re.left=`${(100*fe/C._pageWidth).toFixed(2)}%`,Re.top=`${(100*Ee/C._pageHeight).toFixed(2)}%`):(Re.left=`${_e}${fe.toFixed(2)}px)`,Re.top=`${_e}${Ee.toFixed(2)}px)`),Re.fontSize=`${_e}${ae.toFixed(2)}px)`,Re.fontFamily=ee.fontFamily,_.fontSize=ae,R.setAttribute("role","presentation"),R.textContent=O.str,R.dir=O.dir,C._fontInspectorEnabled&&(R.dataset.fontName=O.fontName),se!==0&&(_.angle=se*(180/Math.PI));let Pe=!1;if(O.str.length>1)Pe=!0;else if(O.str!==" "&&O.transform[0]!==O.transform[3]){const je=Math.abs(O.transform[0]),ce=Math.abs(O.transform[3]);je!==ce&&Math.max(je,ce)/Math.min(je,ce)>1.5&&(Pe=!0)}Pe&&(_.canvasWidth=ee.vertical?O.height:O.width),C._textDivProperties.set(R,_),C._isReadableStream&&C._layoutText(R)}function w(C){const{div:O,scale:M,properties:R,ctx:_,prevFontSize:q,prevFontFamily:se}=C,{style:ee}=O;let ae="";if(R.canvasWidth!==0&&R.hasText){const{fontFamily:pe}=ee,{canvasWidth:fe,fontSize:Ee}=R;(q!==Ee||se!==pe)&&(_.font=`${Ee*M}px ${pe}`,C.prevFontSize=Ee,C.prevFontFamily=pe);const{width:_e}=_.measureText(O.textContent);_e>0&&(ae=`scaleX(${fe*M/_e})`)}R.angle!==0&&(ae=`rotate(${R.angle}deg) ${ae}`),ae.length>0&&(ee.transform=ae)}function S(C){if(C._canceled)return;const O=C._textDivs,M=C._capability;if(O.length>u){M.resolve();return}if(!C._isReadableStream)for(const _ of O)C._layoutText(_);M.resolve()}class j{constructor({textContentSource:O,container:M,viewport:R,textDivs:_,textDivProperties:q,textContentItemsStr:se,isOffscreenCanvasSupported:ee}){this._textContentSource=O,this._isReadableStream=O instanceof ReadableStream,this._container=this._rootContainer=M,this._textDivs=_||[],this._textContentItemsStr=se||[],this._isOffscreenCanvasSupported=ee,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=q||new WeakMap,this._canceled=!1,this._capability=new i.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:R.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:p(0,ee)};const{pageWidth:ae,pageHeight:pe,pageX:fe,pageY:Ee}=R.rawDims;this._transform=[1,0,0,-1,-fe,Ee+pe],this._pageWidth=ae,this._pageHeight=pe,(0,o.setLayerDimensions)(M,R),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new i.AbortException("TextLayer task cancelled."))}_processItems(O,M){for(const R of O){if(R.str===void 0){if(R.type==="beginMarkedContentProps"||R.type==="beginMarkedContent"){const _=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),R.id!==null&&this._container.setAttribute("id",`${R.id}`),_.append(this._container)}else R.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(R.str),b(this,R,M)}}_layoutText(O){const M=this._layoutTextParams.properties=this._textDivProperties.get(O);if(this._layoutTextParams.div=O,w(this._layoutTextParams),M.hasText&&this._container.append(O),M.hasEOL){const R=document.createElement("br");R.setAttribute("role","presentation"),this._container.append(R)}}_render(){const O=new i.PromiseCapability;let M=Object.create(null);if(this._isReadableStream){const R=()=>{this._reader.read().then(({value:_,done:q})=>{if(q){O.resolve();return}Object.assign(M,_.styles),this._processItems(_.items,M),R()},O.reject)};this._reader=this._textContentSource.getReader(),R()}else if(this._textContentSource){const{items:R,styles:_}=this._textContentSource;this._processItems(R,_),O.resolve()}else throw new Error('No "textContentSource" parameter specified.');O.promise.then(()=>{M=null,S(this)},this._capability.reject)}}t.TextLayerRenderTask=j;function A(C){!C.textContentSource&&(C.textContent||C.textContentStream)&&((0,o.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),C.textContentSource=C.textContent||C.textContentStream);const{container:O,viewport:M}=C,R=getComputedStyle(O),_=R.getPropertyValue("visibility"),q=parseFloat(R.getPropertyValue("--scale-factor"));_==="visible"&&(!q||Math.abs(q-M.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const se=new j(C);return se._render(),se}function T({container:C,viewport:O,textDivs:M,textDivProperties:R,isOffscreenCanvasSupported:_,mustRotate:q=!0,mustRescale:se=!0}){if(q&&(0,o.setLayerDimensions)(C,{rotation:O.rotation}),se){const ee=p(0,_),pe={prevFontSize:null,prevFontFamily:null,div:null,scale:O.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ee};for(const fe of M)pe.properties=R.get(fe),pe.div=fe,w(pe)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var i=n(1),o=n(4),u=n(28),h=n(33),m=n(6),v=n(34);class p{#e;#t=!1;#r=null;#n=this.pointerup.bind(this);#o=this.pointerdown.bind(this);#a=new Map;#i=!1;#l=!1;#c=!1;#s;static _initialized=!1;constructor({uiManager:b,pageIndex:w,div:S,accessibilityManager:j,annotationLayer:A,viewport:T,l10n:C}){const O=[u.FreeTextEditor,h.InkEditor,v.StampEditor];if(!p._initialized){p._initialized=!0;for(const M of O)M.initialize(C)}b.registerEditorTypes(O),this.#s=b,this.pageIndex=w,this.div=S,this.#e=j,this.#r=A,this.viewport=T,this.#s.addLayer(this)}get isEmpty(){return this.#a.size===0}updateToolbar(b){this.#s.updateToolbar(b)}updateMode(b=this.#s.getMode()){this.#p(),b===i.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),b!==i.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",b===i.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",b===i.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",b===i.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(b){if(!b&&this.#s.getMode()!==i.AnnotationEditorType.INK)return;if(!b){for(const S of this.#a.values())if(S.isEmpty()){S.setInBackground();return}}this.#d({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(b){this.#s.setEditingState(b)}addCommands(b){this.#s.addCommands(b)}enable(){this.div.style.pointerEvents="auto";const b=new Set;for(const S of this.#a.values())S.enableEditing(),S.annotationElementId&&b.add(S.annotationElementId);if(!this.#r)return;const w=this.#r.getEditableAnnotations();for(const S of w){if(S.hide(),this.#s.isDeletedAnnotationElement(S.data.id)||b.has(S.data.id))continue;const j=this.deserialize(S);j&&(this.addOrRebuild(j),j.enableEditing())}}disable(){this.#c=!0,this.div.style.pointerEvents="none";const b=new Set;for(const w of this.#a.values()){if(w.disableEditing(),!w.annotationElementId||w.serialize()!==null){b.add(w.annotationElementId);continue}this.getEditableAnnotation(w.annotationElementId)?.show(),w.remove()}if(this.#r){const w=this.#r.getEditableAnnotations();for(const S of w){const{id:j}=S.data;b.has(j)||this.#s.isDeletedAnnotationElement(j)||S.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0),this.#c=!1}getEditableAnnotation(b){return this.#r?.getEditableAnnotation(b)||null}setActiveEditor(b){this.#s.getActive()!==b&&this.#s.setActiveEditor(b)}enableClick(){this.div.addEventListener("pointerdown",this.#o),this.div.addEventListener("pointerup",this.#n)}disableClick(){this.div.removeEventListener("pointerdown",this.#o),this.div.removeEventListener("pointerup",this.#n)}attach(b){this.#a.set(b.id,b);const{annotationElementId:w}=b;w&&this.#s.isDeletedAnnotationElement(w)&&this.#s.removeDeletedAnnotationElement(b)}detach(b){this.#a.delete(b.id),this.#e?.removePointerInTextLayer(b.contentDiv),!this.#c&&b.annotationElementId&&this.#s.addDeletedAnnotationElement(b)}remove(b){this.detach(b),this.#s.removeEditor(b),b.div.contains(document.activeElement)&&setTimeout(()=>{this.#s.focusMainContainer()},0),b.div.remove(),b.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(b){b.parent!==this&&(b.annotationElementId&&(this.#s.addDeletedAnnotationElement(b.annotationElementId),o.AnnotationEditor.deleteAnnotationElement(b),b.annotationElementId=null),this.attach(b),b.parent?.detach(b),b.setParent(this),b.div&&b.isAttachedToDOM&&(b.div.remove(),this.div.append(b.div)))}add(b){if(this.changeParent(b),this.#s.addEditor(b),this.attach(b),!b.isAttachedToDOM){const w=b.render();this.div.append(w),b.isAttachedToDOM=!0}b.fixAndSetPosition(),b.onceAdded(),this.#s.addToAnnotationStorage(b)}moveEditorInDOM(b){if(!b.isAttachedToDOM)return;const{activeElement:w}=document;b.div.contains(w)&&(b._focusEventsAllowed=!1,setTimeout(()=>{b.div.contains(document.activeElement)?b._focusEventsAllowed=!0:(b.div.addEventListener("focusin",()=>{b._focusEventsAllowed=!0},{once:!0}),w.focus())},0)),b._structTreeParentId=this.#e?.moveElementInDOM(this.div,b.div,b.contentDiv,!0)}addOrRebuild(b){b.needsToBeRebuilt()?b.rebuild():this.add(b)}addUndoableEditor(b){const w=()=>b._uiManager.rebuild(b),S=()=>{b.remove()};this.addCommands({cmd:w,undo:S,mustExec:!1})}getNextId(){return this.#s.getId()}#f(b){switch(this.#s.getMode()){case i.AnnotationEditorType.FREETEXT:return new u.FreeTextEditor(b);case i.AnnotationEditorType.INK:return new h.InkEditor(b);case i.AnnotationEditorType.STAMP:return new v.StampEditor(b)}return null}pasteEditor(b,w){this.#s.updateToolbar(b),this.#s.updateMode(b);const{offsetX:S,offsetY:j}=this.#h(),A=this.getNextId(),T=this.#f({parent:this,id:A,x:S,y:j,uiManager:this.#s,isCentered:!0,...w});T&&this.add(T)}deserialize(b){switch(b.annotationType??b.annotationEditorType){case i.AnnotationEditorType.FREETEXT:return u.FreeTextEditor.deserialize(b,this,this.#s);case i.AnnotationEditorType.INK:return h.InkEditor.deserialize(b,this,this.#s);case i.AnnotationEditorType.STAMP:return v.StampEditor.deserialize(b,this,this.#s)}return null}#d(b,w){const S=this.getNextId(),j=this.#f({parent:this,id:S,x:b.offsetX,y:b.offsetY,uiManager:this.#s,isCentered:w});return j&&this.add(j),j}#h(){const{x:b,y:w,width:S,height:j}=this.div.getBoundingClientRect(),A=Math.max(0,b),T=Math.max(0,w),C=Math.min(window.innerWidth,b+S),O=Math.min(window.innerHeight,w+j),M=(A+C)/2-b,R=(T+O)/2-w,[_,q]=this.viewport.rotation%180===0?[M,R]:[R,M];return{offsetX:_,offsetY:q}}addNewEditor(){this.#d(this.#h(),!0)}setSelected(b){this.#s.setSelected(b)}toggleSelected(b){this.#s.toggleSelected(b)}isSelected(b){return this.#s.isSelected(b)}unselect(b){this.#s.unselect(b)}pointerup(b){const{isMac:w}=i.FeatureTest.platform;if(!(b.button!==0||b.ctrlKey&&w)&&b.target===this.div&&this.#i){if(this.#i=!1,!this.#t){this.#t=!0;return}if(this.#s.getMode()===i.AnnotationEditorType.STAMP){this.#s.unselectAll();return}this.#d(b,!1)}}pointerdown(b){if(this.#i){this.#i=!1;return}const{isMac:w}=i.FeatureTest.platform;if(b.button!==0||b.ctrlKey&&w||b.target!==this.div)return;this.#i=!0;const S=this.#s.getActive();this.#t=!S||S.isEmpty()}findNewParent(b,w,S){const j=this.#s.findParent(w,S);return j===null||j===this?!1:(j.changeParent(b),!0)}destroy(){this.#s.getActive()?.parent===this&&(this.#s.commitOrRemove(),this.#s.setActiveEditor(null));for(const b of this.#a.values())this.#e?.removePointerInTextLayer(b.contentDiv),b.setParent(null),b.isAttachedToDOM=!1,b.div.remove();this.div=null,this.#a.clear(),this.#s.removeLayer(this)}#p(){this.#l=!0;for(const b of this.#a.values())b.isEmpty()&&b.remove();this.#l=!1}render({viewport:b}){this.viewport=b,(0,m.setLayerDimensions)(this.div,b);for(const w of this.#s.getEditors(this.pageIndex))this.add(w);this.updateMode()}update({viewport:b}){this.#s.commitOrRemove(),this.viewport=b,(0,m.setLayerDimensions)(this.div,{rotation:b.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:b,pageHeight:w}=this.viewport.rawDims;return[b,w]}}t.AnnotationEditorLayer=p},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var i=n(1),o=n(5),u=n(4),h=n(29);class m extends u.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#r=this.editorDivInput.bind(this);#n=this.editorDivKeydown.bind(this);#o;#a="";#i=`${this.id}-editor`;#l;#c=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const p=m.prototype,f=S=>S.isEmpty(),b=o.AnnotationEditorUIManager.TRANSLATE_SMALL,w=o.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new o.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],p.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],p.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],p._translateEmpty,{args:[-b,0],checker:f}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],p._translateEmpty,{args:[-w,0],checker:f}],[["ArrowRight","mac+ArrowRight"],p._translateEmpty,{args:[b,0],checker:f}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],p._translateEmpty,{args:[w,0],checker:f}],[["ArrowUp","mac+ArrowUp"],p._translateEmpty,{args:[0,-b],checker:f}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],p._translateEmpty,{args:[0,-w],checker:f}],[["ArrowDown","mac+ArrowDown"],p._translateEmpty,{args:[0,b],checker:f}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],p._translateEmpty,{args:[0,w],checker:f}]]))}static _type="freetext";constructor(p){super({...p,name:"freeTextEditor"}),this.#o=p.color||m._defaultColor||u.AnnotationEditor._defaultLineColor,this.#l=p.fontSize||m._defaultFontSize}static initialize(p){u.AnnotationEditor.initialize(p,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const f=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(f.getPropertyValue("--freetext-padding"))}static updateDefaultParams(p,f){switch(p){case i.AnnotationEditorParamsType.FREETEXT_SIZE:m._defaultFontSize=f;break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:m._defaultColor=f;break}}updateParams(p,f){switch(p){case i.AnnotationEditorParamsType.FREETEXT_SIZE:this.#s(f);break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:this.#f(f);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,m._defaultFontSize],[i.AnnotationEditorParamsType.FREETEXT_COLOR,m._defaultColor||u.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[i.AnnotationEditorParamsType.FREETEXT_COLOR,this.#o]]}#s(p){const f=w=>{this.editorDiv.style.fontSize=`calc(${w}px * var(--scale-factor))`,this.translate(0,-(w-this.#l)*this.parentScale),this.#l=w,this.#h()},b=this.#l;this.addCommands({cmd:()=>{f(p)},undo:()=>{f(b)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#f(p){const f=this.#o;this.addCommands({cmd:()=>{this.#o=this.editorDiv.style.color=p},undo:()=>{this.#o=this.editorDiv.style.color=f},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(p,f){this._uiManager.translateSelectedEditors(p,f,!0)}getInitialTranslation(){const p=this.parentScale;return[-m._internalPadding*p,-(m._internalPadding+this.#l)*p]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(i.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#n),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#r))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#i),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#n),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#r),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(p){this._focusEventsAllowed&&(super.focusin(p),p.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#g();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#d(){const p=this.editorDiv.getElementsByTagName("div");if(p.length===0)return this.editorDiv.innerText;const f=[];for(const b of p)f.push(b.innerText.replace(/\r\n?|\n/,""));return f.join(`
`)}#h(){const[p,f]=this.parentDimensions;let b;if(this.isAttachedToDOM)b=this.div.getBoundingClientRect();else{const{currentLayer:w,div:S}=this,j=S.style.display;S.style.display="hidden",w.div.append(this.div),b=S.getBoundingClientRect(),S.remove(),S.style.display=j}this.rotation%180===this.parentRotation%180?(this.width=b.width/p,this.height=b.height/f):(this.width=b.height/p,this.height=b.width/f),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const p=this.#a,f=this.#a=this.#d().trimEnd();if(p===f)return;const b=w=>{if(this.#a=w,!w){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{b(f)},undo:()=>{b(p)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(p){this.enterInEditMode()}keydown(p){p.target===this.div&&p.key==="Enter"&&(this.enterInEditMode(),p.preventDefault())}editorDivKeydown(p){m._keyboardManager.exec(this,p)}editorDivFocus(p){this.isEditing=!0}editorDivBlur(p){this.isEditing=!1}editorDivInput(p){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let p,f;this.width&&(p=this.x,f=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#i),this.enableEditing(),u.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(w=>this.editorDiv?.setAttribute("aria-label",w)),u.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(w=>this.editorDiv?.setAttribute("default-content",w)),this.editorDiv.contentEditable=!0;const{style:b}=this.editorDiv;if(b.fontSize=`calc(${this.#l}px * var(--scale-factor))`,b.color=this.#o,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,o.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[w,S]=this.parentDimensions;if(this.annotationElementId){const{position:j}=this.#c;let[A,T]=this.getInitialTranslation();[A,T]=this.pageTranslationToScreen(A,T);const[C,O]=this.pageDimensions,[M,R]=this.pageTranslation;let _,q;switch(this.rotation){case 0:_=p+(j[0]-M)/C,q=f+this.height-(j[1]-R)/O;break;case 90:_=p+(j[0]-M)/C,q=f-(j[1]-R)/O,[A,T]=[T,-A];break;case 180:_=p-this.width+(j[0]-M)/C,q=f-(j[1]-R)/O,[A,T]=[-A,-T];break;case 270:_=p+(j[0]-M-this.height*O)/C,q=f+(j[1]-R-this.width*C)/O,[A,T]=[-T,A];break}this.setAt(_*w,q*S,A,T)}else this.setAt(p*w,f*S,this.width*w,this.height*S);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),!!this.#a)for(const p of this.#a.split(`
`)){const f=document.createElement("div");f.append(p?document.createTextNode(p):document.createElement("br")),this.editorDiv.append(f)}}get contentDiv(){return this.editorDiv}static deserialize(p,f,b){let w=null;if(p instanceof h.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:j,fontColor:A},rect:T,rotation:C,id:O},textContent:M,textPosition:R,parent:{page:{pageNumber:_}}}=p;if(!M||M.length===0)return null;w=p={annotationType:i.AnnotationEditorType.FREETEXT,color:Array.from(A),fontSize:j,value:M.join(`
`),position:R,pageIndex:_-1,rect:T,rotation:C,id:O,deleted:!1}}const S=super.deserialize(p,f,b);return S.#l=p.fontSize,S.#o=i.Util.makeHexColor(...p.color),S.#a=p.value,S.annotationElementId=p.id||null,S.#c=w,S}serialize(p=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const f=m._internalPadding*this.parentScale,b=this.getRect(f,f),w=u.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#o),S={annotationType:i.AnnotationEditorType.FREETEXT,color:w,fontSize:this.#l,value:this.#a,pageIndex:this.pageIndex,rect:b,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return p?S:this.annotationElementId&&!this.#x(S)?null:(S.id=this.annotationElementId,S)}#x(p){const{value:f,fontSize:b,color:w,rect:S,pageIndex:j}=this.#c;return p.value!==f||p.fontSize!==b||p.rect.some((A,T)=>Math.abs(A-S[T])>=1)||p.color.some((A,T)=>A!==w[T])||p.pageIndex!==j}#g(p=!1){if(!this.annotationElementId)return;if(this.#h(),!p&&(this.width===0||this.height===0)){setTimeout(()=>this.#g(!0),0);return}const f=m._internalPadding*this.parentScale;this.#c.rect=this.getRect(f,f)}}t.FreeTextEditor=m},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StampAnnotationElement=t.InkAnnotationElement=t.FreeTextAnnotationElement=t.AnnotationLayer=void 0;var i=n(1),o=n(6),u=n(3),h=n(30),m=n(31),v=n(32);const p=1e3,f=9,b=new WeakSet;function w(me){return{width:me[2]-me[0],height:me[3]-me[1]}}class S{static create(te){switch(te.data.annotationType){case i.AnnotationType.LINK:return new A(te);case i.AnnotationType.TEXT:return new T(te);case i.AnnotationType.WIDGET:switch(te.data.fieldType){case"Tx":return new O(te);case"Btn":return te.data.radioButton?new _(te):te.data.checkBox?new R(te):new q(te);case"Ch":return new se(te);case"Sig":return new M(te)}return new C(te);case i.AnnotationType.POPUP:return new ee(te);case i.AnnotationType.FREETEXT:return new pe(te);case i.AnnotationType.LINE:return new fe(te);case i.AnnotationType.SQUARE:return new Ee(te);case i.AnnotationType.CIRCLE:return new _e(te);case i.AnnotationType.POLYLINE:return new Re(te);case i.AnnotationType.CARET:return new je(te);case i.AnnotationType.INK:return new ce(te);case i.AnnotationType.POLYGON:return new Pe(te);case i.AnnotationType.HIGHLIGHT:return new le(te);case i.AnnotationType.UNDERLINE:return new ie(te);case i.AnnotationType.SQUIGGLY:return new Y(te);case i.AnnotationType.STRIKEOUT:return new ne(te);case i.AnnotationType.STAMP:return new oe(te);case i.AnnotationType.FILEATTACHMENT:return new ue(te);default:return new j(te)}}}class j{#e=!1;constructor(te,{isRenderable:he=!1,ignoreBorder:ge=!1,createQuadrilaterals:xe=!1}={}){this.isRenderable=he,this.data=te.data,this.layer=te.layer,this.linkService=te.linkService,this.downloadManager=te.downloadManager,this.imageResourcesPath=te.imageResourcesPath,this.renderForms=te.renderForms,this.svgFactory=te.svgFactory,this.annotationStorage=te.annotationStorage,this.enableScripting=te.enableScripting,this.hasJSActions=te.hasJSActions,this._fieldObjects=te.fieldObjects,this.parent=te.parent,he&&(this.container=this._createContainer(ge)),xe&&this._createQuadrilaterals()}static _hasPopupData({titleObj:te,contentsObj:he,richText:ge}){return!!(te?.str||he?.str||ge?.str)}get hasPopupData(){return j._hasPopupData(this.data)}_createContainer(te){const{data:he,parent:{page:ge,viewport:xe}}=this,ye=document.createElement("section");ye.setAttribute("data-annotation-id",he.id),this instanceof C||(ye.tabIndex=p),ye.style.zIndex=this.parent.zIndex++,this.data.popupRef&&ye.setAttribute("aria-haspopup","dialog"),he.noRotate&&ye.classList.add("norotate");const{pageWidth:Se,pageHeight:we,pageX:ke,pageY:Ve}=xe.rawDims;if(!he.rect||this instanceof ee){const{rotation:He}=he;return!he.hasOwnCanvas&&He!==0&&this.setRotation(He,ye),ye}const{width:Oe,height:Be}=w(he.rect),Fe=i.Util.normalizeRect([he.rect[0],ge.view[3]-he.rect[1]+ge.view[1],he.rect[2],ge.view[3]-he.rect[3]+ge.view[1]]);if(!te&&he.borderStyle.width>0){ye.style.borderWidth=`${he.borderStyle.width}px`;const He=he.borderStyle.horizontalCornerRadius,Ke=he.borderStyle.verticalCornerRadius;if(He>0||Ke>0){const Je=`calc(${He}px * var(--scale-factor)) / calc(${Ke}px * var(--scale-factor))`;ye.style.borderRadius=Je}else if(this instanceof _){const Je=`calc(${Oe}px * var(--scale-factor)) / calc(${Be}px * var(--scale-factor))`;ye.style.borderRadius=Je}switch(he.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:ye.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:ye.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:ye.style.borderBottomStyle="solid";break}const Ze=he.borderColor||null;Ze?(this.#e=!0,ye.style.borderColor=i.Util.makeHexColor(Ze[0]|0,Ze[1]|0,Ze[2]|0)):ye.style.borderWidth=0}ye.style.left=`${100*(Fe[0]-ke)/Se}%`,ye.style.top=`${100*(Fe[1]-Ve)/we}%`;const{rotation:Ue}=he;return he.hasOwnCanvas||Ue===0?(ye.style.width=`${100*Oe/Se}%`,ye.style.height=`${100*Be/we}%`):this.setRotation(Ue,ye),ye}setRotation(te,he=this.container){if(!this.data.rect)return;const{pageWidth:ge,pageHeight:xe}=this.parent.viewport.rawDims,{width:ye,height:Se}=w(this.data.rect);let we,ke;te%180===0?(we=100*ye/ge,ke=100*Se/xe):(we=100*Se/ge,ke=100*ye/xe),he.style.width=`${we}%`,he.style.height=`${ke}%`,he.setAttribute("data-main-rotation",(360-te)%360)}get _commonActions(){const te=(he,ge,xe)=>{const ye=xe.detail[he],Se=ye[0],we=ye.slice(1);xe.target.style[ge]=h.ColorConverters[`${Se}_HTML`](we),this.annotationStorage.setValue(this.data.id,{[ge]:h.ColorConverters[`${Se}_rgb`](we)})};return(0,i.shadow)(this,"_commonActions",{display:he=>{const{display:ge}=he.detail,xe=ge%2===1;this.container.style.visibility=xe?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:xe,noPrint:ge===1||ge===2})},print:he=>{this.annotationStorage.setValue(this.data.id,{noPrint:!he.detail.print})},hidden:he=>{const{hidden:ge}=he.detail;this.container.style.visibility=ge?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:ge,noView:ge})},focus:he=>{setTimeout(()=>he.target.focus({preventScroll:!1}),0)},userName:he=>{he.target.title=he.detail.userName},readonly:he=>{he.target.disabled=he.detail.readonly},required:he=>{this._setRequired(he.target,he.detail.required)},bgColor:he=>{te("bgColor","backgroundColor",he)},fillColor:he=>{te("fillColor","backgroundColor",he)},fgColor:he=>{te("fgColor","color",he)},textColor:he=>{te("textColor","color",he)},borderColor:he=>{te("borderColor","borderColor",he)},strokeColor:he=>{te("strokeColor","borderColor",he)},rotation:he=>{const ge=he.detail.rotation;this.setRotation(ge),this.annotationStorage.setValue(this.data.id,{rotation:ge})}})}_dispatchEventFromSandbox(te,he){const ge=this._commonActions;for(const xe of Object.keys(he.detail))(te[xe]||ge[xe])?.(he)}_setDefaultPropertiesFromJS(te){if(!this.enableScripting)return;const he=this.annotationStorage.getRawValue(this.data.id);if(!he)return;const ge=this._commonActions;for(const[xe,ye]of Object.entries(he)){const Se=ge[xe];if(Se){const we={detail:{[xe]:ye},target:te};Se(we),delete he[xe]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:te}=this.data;if(!te)return;const[he,ge,xe,ye]=this.data.rect;if(te.length===1){const[,{x:Ke,y:Ze},{x:Je,y:ct}]=te[0];if(xe===Ke&&ye===Ze&&he===Je&&ge===ct)return}const{style:Se}=this.container;let we;if(this.#e){const{borderColor:Ke,borderWidth:Ze}=Se;Se.borderWidth=0,we=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Ke}" stroke-width="${Ze}">`],this.container.classList.add("hasBorder")}const ke=xe-he,Ve=ye-ge,{svgFactory:Oe}=this,Be=Oe.createElement("svg");Be.classList.add("quadrilateralsContainer"),Be.setAttribute("width",0),Be.setAttribute("height",0);const Fe=Oe.createElement("defs");Be.append(Fe);const Ue=Oe.createElement("clipPath"),He=`clippath_${this.data.id}`;Ue.setAttribute("id",He),Ue.setAttribute("clipPathUnits","objectBoundingBox"),Fe.append(Ue);for(const[,{x:Ke,y:Ze},{x:Je,y:ct}]of te){const ut=Oe.createElement("rect"),$t=(Je-he)/ke,hr=(ye-Ze)/Ve,Bt=(Ke-Je)/ke,Ar=(Ze-ct)/Ve;ut.setAttribute("x",$t),ut.setAttribute("y",hr),ut.setAttribute("width",Bt),ut.setAttribute("height",Ar),Ue.append(ut),we?.push(`<rect vector-effect="non-scaling-stroke" x="${$t}" y="${hr}" width="${Bt}" height="${Ar}"/>`)}this.#e&&(we.push("</g></svg>')"),Se.backgroundImage=we.join("")),this.container.append(Be),this.container.style.clipPath=`url(#${He})`}_createPopup(){const{container:te,data:he}=this;te.setAttribute("aria-haspopup","dialog");const ge=new ee({data:{color:he.color,titleObj:he.titleObj,modificationDate:he.modificationDate,contentsObj:he.contentsObj,richText:he.richText,parentRect:he.rect,borderStyle:0,id:`popup_${he.id}`,rotation:he.rotation},parent:this.parent,elements:[this]});this.parent.div.append(ge.render())}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(te,he=null){const ge=[];if(this._fieldObjects){const xe=this._fieldObjects[te];if(xe)for(const{page:ye,id:Se,exportValues:we}of xe){if(ye===-1||Se===he)continue;const ke=typeof we=="string"?we:null,Ve=document.querySelector(`[data-element-id="${Se}"]`);if(Ve&&!b.has(Ve)){(0,i.warn)(`_getElementsByName - element not allowed: ${Se}`);continue}ge.push({id:Se,exportValue:ke,domElement:Ve})}return ge}for(const xe of document.getElementsByName(te)){const{exportValue:ye}=xe,Se=xe.getAttribute("data-element-id");Se!==he&&b.has(xe)&&ge.push({id:Se,exportValue:ye,domElement:xe})}return ge}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const te=this.getElementsToTriggerPopup();if(Array.isArray(te))for(const he of te)he.classList.add("highlightArea");else te.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:te,data:{id:he}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:te,editId:he})})}}class A extends j{constructor(te,he=null){super(te,{isRenderable:!0,ignoreBorder:!!he?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=te.data.isTooltipOnly}render(){const{data:te,linkService:he}=this,ge=document.createElement("a");ge.setAttribute("data-element-id",te.id);let xe=!1;return te.url?(he.addLinkAttributes(ge,te.url,te.newWindow),xe=!0):te.action?(this._bindNamedAction(ge,te.action),xe=!0):te.attachment?(this._bindAttachment(ge,te.attachment),xe=!0):te.setOCGState?(this.#t(ge,te.setOCGState),xe=!0):te.dest?(this._bindLink(ge,te.dest),xe=!0):(te.actions&&(te.actions.Action||te.actions["Mouse Up"]||te.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ge,te),xe=!0),te.resetForm?(this._bindResetFormAction(ge,te.resetForm),xe=!0):this.isTooltipOnly&&!xe&&(this._bindLink(ge,""),xe=!0)),this.container.classList.add("linkAnnotation"),xe&&this.container.append(ge),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(te,he){te.href=this.linkService.getDestinationHash(he),te.onclick=()=>(he&&this.linkService.goToDestination(he),!1),(he||he==="")&&this.#e()}_bindNamedAction(te,he){te.href=this.linkService.getAnchorUrl(""),te.onclick=()=>(this.linkService.executeNamedAction(he),!1),this.#e()}_bindAttachment(te,he){te.href=this.linkService.getAnchorUrl(""),te.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,he.content,he.filename),!1),this.#e()}#t(te,he){te.href=this.linkService.getAnchorUrl(""),te.onclick=()=>(this.linkService.executeSetOCGState(he),!1),this.#e()}_bindJSAction(te,he){te.href=this.linkService.getAnchorUrl("");const ge=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const xe of Object.keys(he.actions)){const ye=ge.get(xe);ye&&(te[ye]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:he.id,name:xe}}),!1))}te.onclick||(te.onclick=()=>!1),this.#e()}_bindResetFormAction(te,he){const ge=te.onclick;if(ge||(te.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),ge||(te.onclick=()=>!1);return}te.onclick=()=>{ge?.();const{fields:xe,refs:ye,include:Se}=he,we=[];if(xe.length!==0||ye.length!==0){const Oe=new Set(ye);for(const Be of xe){const Fe=this._fieldObjects[Be]||[];for(const{id:Ue}of Fe)Oe.add(Ue)}for(const Be of Object.values(this._fieldObjects))for(const Fe of Be)Oe.has(Fe.id)===Se&&we.push(Fe)}else for(const Oe of Object.values(this._fieldObjects))we.push(...Oe);const ke=this.annotationStorage,Ve=[];for(const Oe of we){const{id:Be}=Oe;switch(Ve.push(Be),Oe.type){case"text":{const Ue=Oe.defaultValue||"";ke.setValue(Be,{value:Ue});break}case"checkbox":case"radiobutton":{const Ue=Oe.defaultValue===Oe.exportValues;ke.setValue(Be,{value:Ue});break}case"combobox":case"listbox":{const Ue=Oe.defaultValue||"";ke.setValue(Be,{value:Ue});break}default:continue}const Fe=document.querySelector(`[data-element-id="${Be}"]`);if(Fe){if(!b.has(Fe)){(0,i.warn)(`_bindResetFormAction - element not allowed: ${Be}`);continue}}else continue;Fe.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ve,name:"ResetForm"}}),!1}}}class T extends j{constructor(te){super(te,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const te=document.createElement("img");return te.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",te.alt="[{{type}} Annotation]",te.dataset.l10nId="text_annotation_type",te.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(te),this.container}}class C extends j{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(te){this.data.hasOwnCanvas&&(te.previousSibling?.nodeName==="CANVAS"&&(te.previousSibling.hidden=!0),te.hidden=!1)}_getKeyModifier(te){const{isWin:he,isMac:ge}=i.FeatureTest.platform;return he&&te.ctrlKey||ge&&te.metaKey}_setEventListener(te,he,ge,xe,ye){ge.includes("mouse")?te.addEventListener(ge,Se=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:xe,value:ye(Se),shift:Se.shiftKey,modifier:this._getKeyModifier(Se)}})}):te.addEventListener(ge,Se=>{if(ge==="blur"){if(!he.focused||!Se.relatedTarget)return;he.focused=!1}else if(ge==="focus"){if(he.focused)return;he.focused=!0}ye&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:xe,value:ye(Se)}})})}_setEventListeners(te,he,ge,xe){for(const[ye,Se]of ge)(Se==="Action"||this.data.actions?.[Se])&&((Se==="Focus"||Se==="Blur")&&(he||={focused:!1}),this._setEventListener(te,he,ye,Se,xe),Se==="Focus"&&!this.data.actions?.Blur?this._setEventListener(te,he,"blur","Blur",null):Se==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(te,he,"focus","Focus",null))}_setBackgroundColor(te){const he=this.data.backgroundColor||null;te.style.backgroundColor=he===null?"transparent":i.Util.makeHexColor(he[0],he[1],he[2])}_setTextStyle(te){const he=["left","center","right"],{fontColor:ge}=this.data.defaultAppearanceData,xe=this.data.defaultAppearanceData.fontSize||f,ye=te.style;let Se;const we=2,ke=Ve=>Math.round(10*Ve)/10;if(this.data.multiLine){const Ve=Math.abs(this.data.rect[3]-this.data.rect[1]-we),Oe=Math.round(Ve/(i.LINE_FACTOR*xe))||1,Be=Ve/Oe;Se=Math.min(xe,ke(Be/i.LINE_FACTOR))}else{const Ve=Math.abs(this.data.rect[3]-this.data.rect[1]-we);Se=Math.min(xe,ke(Ve/i.LINE_FACTOR))}ye.fontSize=`calc(${Se}px * var(--scale-factor))`,ye.color=i.Util.makeHexColor(ge[0],ge[1],ge[2]),this.data.textAlignment!==null&&(ye.textAlign=he[this.data.textAlignment])}_setRequired(te,he){he?te.setAttribute("required",!0):te.removeAttribute("required"),te.setAttribute("aria-required",he)}}class O extends C{constructor(te){const he=te.renderForms||!te.data.hasAppearance&&!!te.data.fieldValue;super(te,{isRenderable:he})}setPropertyOnSiblings(te,he,ge,xe){const ye=this.annotationStorage;for(const Se of this._getElementsByName(te.name,te.id))Se.domElement&&(Se.domElement[he]=ge),ye.setValue(Se.id,{[xe]:ge})}render(){const te=this.annotationStorage,he=this.data.id;this.container.classList.add("textWidgetAnnotation");let ge=null;if(this.renderForms){const xe=te.getValue(he,{value:this.data.fieldValue});let ye=xe.value||"";const Se=te.getValue(he,{charLimit:this.data.maxLen}).charLimit;Se&&ye.length>Se&&(ye=ye.slice(0,Se));let we=xe.formattedValue||this.data.textContent?.join(`
`)||null;we&&this.data.comb&&(we=we.replaceAll(/\s+/g,""));const ke={userValue:ye,formattedValue:we,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(ge=document.createElement("textarea"),ge.textContent=we??ye,this.data.doNotScroll&&(ge.style.overflowY="hidden")):(ge=document.createElement("input"),ge.type="text",ge.setAttribute("value",we??ye),this.data.doNotScroll&&(ge.style.overflowX="hidden")),this.data.hasOwnCanvas&&(ge.hidden=!0),b.add(ge),ge.setAttribute("data-element-id",he),ge.disabled=this.data.readOnly,ge.name=this.data.fieldName,ge.tabIndex=p,this._setRequired(ge,this.data.required),Se&&(ge.maxLength=Se),ge.addEventListener("input",Oe=>{te.setValue(he,{value:Oe.target.value}),this.setPropertyOnSiblings(ge,"value",Oe.target.value,"value"),ke.formattedValue=null}),ge.addEventListener("resetform",Oe=>{const Be=this.data.defaultFieldValue??"";ge.value=ke.userValue=Be,ke.formattedValue=null});let Ve=Oe=>{const{formattedValue:Be}=ke;Be!=null&&(Oe.target.value=Be),Oe.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ge.addEventListener("focus",Be=>{if(ke.focused)return;const{target:Fe}=Be;ke.userValue&&(Fe.value=ke.userValue),ke.lastCommittedValue=Fe.value,ke.commitKey=1,ke.focused=!0}),ge.addEventListener("updatefromsandbox",Be=>{this.showElementAndHideCanvas(Be.target);const Fe={value(Ue){ke.userValue=Ue.detail.value??"",te.setValue(he,{value:ke.userValue.toString()}),Ue.target.value=ke.userValue},formattedValue(Ue){const{formattedValue:He}=Ue.detail;ke.formattedValue=He,He!=null&&Ue.target!==document.activeElement&&(Ue.target.value=He),te.setValue(he,{formattedValue:He})},selRange(Ue){Ue.target.setSelectionRange(...Ue.detail.selRange)},charLimit:Ue=>{const{charLimit:He}=Ue.detail,{target:Ke}=Ue;if(He===0){Ke.removeAttribute("maxLength");return}Ke.setAttribute("maxLength",He);let Ze=ke.userValue;!Ze||Ze.length<=He||(Ze=Ze.slice(0,He),Ke.value=ke.userValue=Ze,te.setValue(he,{value:Ze}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:he,name:"Keystroke",value:Ze,willCommit:!0,commitKey:1,selStart:Ke.selectionStart,selEnd:Ke.selectionEnd}}))}};this._dispatchEventFromSandbox(Fe,Be)}),ge.addEventListener("keydown",Be=>{ke.commitKey=1;let Fe=-1;if(Be.key==="Escape"?Fe=0:Be.key==="Enter"&&!this.data.multiLine?Fe=2:Be.key==="Tab"&&(ke.commitKey=3),Fe===-1)return;const{value:Ue}=Be.target;ke.lastCommittedValue!==Ue&&(ke.lastCommittedValue=Ue,ke.userValue=Ue,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:he,name:"Keystroke",value:Ue,willCommit:!0,commitKey:Fe,selStart:Be.target.selectionStart,selEnd:Be.target.selectionEnd}}))});const Oe=Ve;Ve=null,ge.addEventListener("blur",Be=>{if(!ke.focused||!Be.relatedTarget)return;ke.focused=!1;const{value:Fe}=Be.target;ke.userValue=Fe,ke.lastCommittedValue!==Fe&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:he,name:"Keystroke",value:Fe,willCommit:!0,commitKey:ke.commitKey,selStart:Be.target.selectionStart,selEnd:Be.target.selectionEnd}}),Oe(Be)}),this.data.actions?.Keystroke&&ge.addEventListener("beforeinput",Be=>{ke.lastCommittedValue=null;const{data:Fe,target:Ue}=Be,{value:He,selectionStart:Ke,selectionEnd:Ze}=Ue;let Je=Ke,ct=Ze;switch(Be.inputType){case"deleteWordBackward":{const ut=He.substring(0,Ke).match(/\w*[^\w]*$/);ut&&(Je-=ut[0].length);break}case"deleteWordForward":{const ut=He.substring(Ke).match(/^[^\w]*\w*/);ut&&(ct+=ut[0].length);break}case"deleteContentBackward":Ke===Ze&&(Je-=1);break;case"deleteContentForward":Ke===Ze&&(ct+=1);break}Be.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:he,name:"Keystroke",value:He,change:Fe||"",willCommit:!1,selStart:Je,selEnd:ct}})}),this._setEventListeners(ge,ke,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Be=>Be.target.value)}if(Ve&&ge.addEventListener("blur",Ve),this.data.comb){const Be=(this.data.rect[2]-this.data.rect[0])/Se;ge.classList.add("comb"),ge.style.letterSpacing=`calc(${Be}px * var(--scale-factor) - 1ch)`}}else ge=document.createElement("div"),ge.textContent=this.data.fieldValue,ge.style.verticalAlign="middle",ge.style.display="table-cell";return this._setTextStyle(ge),this._setBackgroundColor(ge),this._setDefaultPropertiesFromJS(ge),this.container.append(ge),this.container}}class M extends C{constructor(te){super(te,{isRenderable:!!te.data.hasOwnCanvas})}}class R extends C{constructor(te){super(te,{isRenderable:te.renderForms})}render(){const te=this.annotationStorage,he=this.data,ge=he.id;let xe=te.getValue(ge,{value:he.exportValue===he.fieldValue}).value;typeof xe=="string"&&(xe=xe!=="Off",te.setValue(ge,{value:xe})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const ye=document.createElement("input");return b.add(ye),ye.setAttribute("data-element-id",ge),ye.disabled=he.readOnly,this._setRequired(ye,this.data.required),ye.type="checkbox",ye.name=he.fieldName,xe&&ye.setAttribute("checked",!0),ye.setAttribute("exportValue",he.exportValue),ye.tabIndex=p,ye.addEventListener("change",Se=>{const{name:we,checked:ke}=Se.target;for(const Ve of this._getElementsByName(we,ge)){const Oe=ke&&Ve.exportValue===he.exportValue;Ve.domElement&&(Ve.domElement.checked=Oe),te.setValue(Ve.id,{value:Oe})}te.setValue(ge,{value:ke})}),ye.addEventListener("resetform",Se=>{const we=he.defaultFieldValue||"Off";Se.target.checked=we===he.exportValue}),this.enableScripting&&this.hasJSActions&&(ye.addEventListener("updatefromsandbox",Se=>{const we={value(ke){ke.target.checked=ke.detail.value!=="Off",te.setValue(ge,{value:ke.target.checked})}};this._dispatchEventFromSandbox(we,Se)}),this._setEventListeners(ye,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Se=>Se.target.checked)),this._setBackgroundColor(ye),this._setDefaultPropertiesFromJS(ye),this.container.append(ye),this.container}}class _ extends C{constructor(te){super(te,{isRenderable:te.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const te=this.annotationStorage,he=this.data,ge=he.id;let xe=te.getValue(ge,{value:he.fieldValue===he.buttonValue}).value;typeof xe=="string"&&(xe=xe!==he.buttonValue,te.setValue(ge,{value:xe}));const ye=document.createElement("input");if(b.add(ye),ye.setAttribute("data-element-id",ge),ye.disabled=he.readOnly,this._setRequired(ye,this.data.required),ye.type="radio",ye.name=he.fieldName,xe&&ye.setAttribute("checked",!0),ye.tabIndex=p,ye.addEventListener("change",Se=>{const{name:we,checked:ke}=Se.target;for(const Ve of this._getElementsByName(we,ge))te.setValue(Ve.id,{value:!1});te.setValue(ge,{value:ke})}),ye.addEventListener("resetform",Se=>{const we=he.defaultFieldValue;Se.target.checked=we!=null&&we===he.buttonValue}),this.enableScripting&&this.hasJSActions){const Se=he.buttonValue;ye.addEventListener("updatefromsandbox",we=>{const ke={value:Ve=>{const Oe=Se===Ve.detail.value;for(const Be of this._getElementsByName(Ve.target.name)){const Fe=Oe&&Be.id===ge;Be.domElement&&(Be.domElement.checked=Fe),te.setValue(Be.id,{value:Fe})}}};this._dispatchEventFromSandbox(ke,we)}),this._setEventListeners(ye,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],we=>we.target.checked)}return this._setBackgroundColor(ye),this._setDefaultPropertiesFromJS(ye),this.container.append(ye),this.container}}class q extends A{constructor(te){super(te,{ignoreBorder:te.data.hasAppearance})}render(){const te=super.render();te.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(te.title=this.data.alternativeText);const he=te.lastChild;return this.enableScripting&&this.hasJSActions&&he&&(this._setDefaultPropertiesFromJS(he),he.addEventListener("updatefromsandbox",ge=>{this._dispatchEventFromSandbox({},ge)})),te}}class se extends C{constructor(te){super(te,{isRenderable:te.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const te=this.annotationStorage,he=this.data.id,ge=te.getValue(he,{value:this.data.fieldValue}),xe=document.createElement("select");b.add(xe),xe.setAttribute("data-element-id",he),xe.disabled=this.data.readOnly,this._setRequired(xe,this.data.required),xe.name=this.data.fieldName,xe.tabIndex=p;let ye=this.data.combo&&this.data.options.length>0;this.data.combo||(xe.size=this.data.options.length,this.data.multiSelect&&(xe.multiple=!0)),xe.addEventListener("resetform",Oe=>{const Be=this.data.defaultFieldValue;for(const Fe of xe.options)Fe.selected=Fe.value===Be});for(const Oe of this.data.options){const Be=document.createElement("option");Be.textContent=Oe.displayValue,Be.value=Oe.exportValue,ge.value.includes(Oe.exportValue)&&(Be.setAttribute("selected",!0),ye=!1),xe.append(Be)}let Se=null;if(ye){const Oe=document.createElement("option");Oe.value=" ",Oe.setAttribute("hidden",!0),Oe.setAttribute("selected",!0),xe.prepend(Oe),Se=()=>{Oe.remove(),xe.removeEventListener("input",Se),Se=null},xe.addEventListener("input",Se)}const we=Oe=>{const Be=Oe?"value":"textContent",{options:Fe,multiple:Ue}=xe;return Ue?Array.prototype.filter.call(Fe,He=>He.selected).map(He=>He[Be]):Fe.selectedIndex===-1?null:Fe[Fe.selectedIndex][Be]};let ke=we(!1);const Ve=Oe=>{const Be=Oe.target.options;return Array.prototype.map.call(Be,Fe=>({displayValue:Fe.textContent,exportValue:Fe.value}))};return this.enableScripting&&this.hasJSActions?(xe.addEventListener("updatefromsandbox",Oe=>{const Be={value(Fe){Se?.();const Ue=Fe.detail.value,He=new Set(Array.isArray(Ue)?Ue:[Ue]);for(const Ke of xe.options)Ke.selected=He.has(Ke.value);te.setValue(he,{value:we(!0)}),ke=we(!1)},multipleSelection(Fe){xe.multiple=!0},remove(Fe){const Ue=xe.options,He=Fe.detail.remove;Ue[He].selected=!1,xe.remove(He),Ue.length>0&&Array.prototype.findIndex.call(Ue,Ze=>Ze.selected)===-1&&(Ue[0].selected=!0),te.setValue(he,{value:we(!0),items:Ve(Fe)}),ke=we(!1)},clear(Fe){for(;xe.length!==0;)xe.remove(0);te.setValue(he,{value:null,items:[]}),ke=we(!1)},insert(Fe){const{index:Ue,displayValue:He,exportValue:Ke}=Fe.detail.insert,Ze=xe.children[Ue],Je=document.createElement("option");Je.textContent=He,Je.value=Ke,Ze?Ze.before(Je):xe.append(Je),te.setValue(he,{value:we(!0),items:Ve(Fe)}),ke=we(!1)},items(Fe){const{items:Ue}=Fe.detail;for(;xe.length!==0;)xe.remove(0);for(const He of Ue){const{displayValue:Ke,exportValue:Ze}=He,Je=document.createElement("option");Je.textContent=Ke,Je.value=Ze,xe.append(Je)}xe.options.length>0&&(xe.options[0].selected=!0),te.setValue(he,{value:we(!0),items:Ve(Fe)}),ke=we(!1)},indices(Fe){const Ue=new Set(Fe.detail.indices);for(const He of Fe.target.options)He.selected=Ue.has(He.index);te.setValue(he,{value:we(!0)}),ke=we(!1)},editable(Fe){Fe.target.disabled=!Fe.detail.editable}};this._dispatchEventFromSandbox(Be,Oe)}),xe.addEventListener("input",Oe=>{const Be=we(!0);te.setValue(he,{value:Be}),Oe.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:he,name:"Keystroke",value:ke,changeEx:Be,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(xe,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Oe=>Oe.target.value)):xe.addEventListener("input",function(Oe){te.setValue(he,{value:we(!0)})}),this.data.combo&&this._setTextStyle(xe),this._setBackgroundColor(xe),this._setDefaultPropertiesFromJS(xe),this.container.append(xe),this.container}}class ee extends j{constructor(te){const{data:he,elements:ge}=te;super(te,{isRenderable:j._hasPopupData(he)}),this.elements=ge}render(){this.container.classList.add("popupAnnotation");const te=new ae({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),he=[];for(const ge of this.elements)ge.popup=te,he.push(ge.data.id),ge.addHighlightArea();return this.container.setAttribute("aria-controls",he.map(ge=>`${i.AnnotationPrefix}${ge}`).join(",")),this.container}}class ae{#e=null;#t=this.#u.bind(this);#r=this.#w.bind(this);#n=this.#j.bind(this);#o=this.#v.bind(this);#a=null;#i=null;#l=null;#c=null;#s=null;#f=null;#d=!1;#h=null;#p=null;#x=null;#g=null;#m=!1;constructor({container:te,color:he,elements:ge,titleObj:xe,modificationDate:ye,contentsObj:Se,richText:we,parent:ke,rect:Ve,parentRect:Oe,open:Be}){this.#i=te,this.#g=xe,this.#l=Se,this.#x=we,this.#s=ke,this.#a=he,this.#p=Ve,this.#f=Oe,this.#c=ge;const Fe=o.PDFDateString.toDateObject(ye);Fe&&(this.#e=ke.l10n.get("annotation_date_string",{date:Fe.toLocaleDateString(),time:Fe.toLocaleTimeString()})),this.trigger=ge.flatMap(Ue=>Ue.getElementsToTriggerPopup());for(const Ue of this.trigger)Ue.addEventListener("click",this.#o),Ue.addEventListener("mouseenter",this.#n),Ue.addEventListener("mouseleave",this.#r),Ue.classList.add("popupTriggerArea");for(const Ue of ge)Ue.container?.addEventListener("keydown",this.#t);this.#i.hidden=!0,Be&&this.#v()}render(){if(this.#h)return;const{page:{view:te},viewport:{rawDims:{pageWidth:he,pageHeight:ge,pageX:xe,pageY:ye}}}=this.#s,Se=this.#h=document.createElement("div");if(Se.className="popup",this.#a){const ut=Se.style.outlineColor=i.Util.makeHexColor(...this.#a);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Se.style.backgroundColor=`color-mix(in srgb, ${ut} 30%, white)`:Se.style.backgroundColor=i.Util.makeHexColor(...this.#a.map(hr=>Math.floor(.7*(255-hr)+hr)))}const we=document.createElement("span");we.className="header";const ke=document.createElement("h1");if(we.append(ke),{dir:ke.dir,str:ke.textContent}=this.#g,Se.append(we),this.#e){const ut=document.createElement("span");ut.classList.add("popupDate"),this.#e.then($t=>{ut.textContent=$t}),we.append(ut)}const Ve=this.#l,Oe=this.#x;if(Oe?.str&&(!Ve?.str||Ve.str===Oe.str))v.XfaLayer.render({xfaHtml:Oe.html,intent:"richText",div:Se}),Se.lastChild.classList.add("richText","popupContent");else{const ut=this._formatContents(Ve);Se.append(ut)}let Be=!!this.#f,Fe=Be?this.#f:this.#p;for(const ut of this.#c)if(!Fe||i.Util.intersect(ut.data.rect,Fe)!==null){Fe=ut.data.rect,Be=!0;break}const Ue=i.Util.normalizeRect([Fe[0],te[3]-Fe[1]+te[1],Fe[2],te[3]-Fe[3]+te[1]]),Ke=Be?Fe[2]-Fe[0]+5:0,Ze=Ue[0]+Ke,Je=Ue[1],{style:ct}=this.#i;ct.left=`${100*(Ze-xe)/he}%`,ct.top=`${100*(Je-ye)/ge}%`,this.#i.append(Se)}_formatContents({str:te,dir:he}){const ge=document.createElement("p");ge.classList.add("popupContent"),ge.dir=he;const xe=te.split(/(?:\r\n?|\n)/);for(let ye=0,Se=xe.length;ye<Se;++ye){const we=xe[ye];ge.append(document.createTextNode(we)),ye<Se-1&&ge.append(document.createElement("br"))}return ge}#u(te){te.altKey||te.shiftKey||te.ctrlKey||te.metaKey||(te.key==="Enter"||te.key==="Escape"&&this.#d)&&this.#v()}#v(){this.#d=!this.#d,this.#d?(this.#j(),this.#i.addEventListener("click",this.#o),this.#i.addEventListener("keydown",this.#t)):(this.#w(),this.#i.removeEventListener("click",this.#o),this.#i.removeEventListener("keydown",this.#t))}#j(){this.#h||this.render(),this.isVisible?this.#d&&this.#i.classList.add("focused"):(this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#w(){this.#i.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#m=this.isVisible,this.#m&&(this.#i.hidden=!0)}maybeShow(){this.#m&&(this.#m=!1,this.#i.hidden=!1)}get isVisible(){return this.#i.hidden===!1}}class pe extends j{constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0}),this.textContent=te.data.textContent,this.textPosition=te.data.textPosition,this.annotationEditorType=i.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const te=document.createElement("div");te.classList.add("annotationTextContent"),te.setAttribute("role","comment");for(const he of this.textContent){const ge=document.createElement("span");ge.textContent=he,te.append(ge)}this.container.append(te)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}t.FreeTextAnnotationElement=pe;class fe extends j{#e=null;constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const te=this.data,{width:he,height:ge}=w(te.rect),xe=this.svgFactory.create(he,ge,!0),ye=this.#e=this.svgFactory.createElement("svg:line");return ye.setAttribute("x1",te.rect[2]-te.lineCoordinates[0]),ye.setAttribute("y1",te.rect[3]-te.lineCoordinates[1]),ye.setAttribute("x2",te.rect[2]-te.lineCoordinates[2]),ye.setAttribute("y2",te.rect[3]-te.lineCoordinates[3]),ye.setAttribute("stroke-width",te.borderStyle.width||1),ye.setAttribute("stroke","transparent"),ye.setAttribute("fill","transparent"),xe.append(ye),this.container.append(xe),!te.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Ee extends j{#e=null;constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const te=this.data,{width:he,height:ge}=w(te.rect),xe=this.svgFactory.create(he,ge,!0),ye=te.borderStyle.width,Se=this.#e=this.svgFactory.createElement("svg:rect");return Se.setAttribute("x",ye/2),Se.setAttribute("y",ye/2),Se.setAttribute("width",he-ye),Se.setAttribute("height",ge-ye),Se.setAttribute("stroke-width",ye||1),Se.setAttribute("stroke","transparent"),Se.setAttribute("fill","transparent"),xe.append(Se),this.container.append(xe),!te.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class _e extends j{#e=null;constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const te=this.data,{width:he,height:ge}=w(te.rect),xe=this.svgFactory.create(he,ge,!0),ye=te.borderStyle.width,Se=this.#e=this.svgFactory.createElement("svg:ellipse");return Se.setAttribute("cx",he/2),Se.setAttribute("cy",ge/2),Se.setAttribute("rx",he/2-ye/2),Se.setAttribute("ry",ge/2-ye/2),Se.setAttribute("stroke-width",ye||1),Se.setAttribute("stroke","transparent"),Se.setAttribute("fill","transparent"),xe.append(Se),this.container.append(xe),!te.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Re extends j{#e=null;constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const te=this.data,{width:he,height:ge}=w(te.rect),xe=this.svgFactory.create(he,ge,!0);let ye=[];for(const we of te.vertices){const ke=we.x-te.rect[0],Ve=te.rect[3]-we.y;ye.push(ke+","+Ve)}ye=ye.join(" ");const Se=this.#e=this.svgFactory.createElement(this.svgElementName);return Se.setAttribute("points",ye),Se.setAttribute("stroke-width",te.borderStyle.width||1),Se.setAttribute("stroke","transparent"),Se.setAttribute("fill","transparent"),xe.append(Se),this.container.append(xe),!te.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Pe extends Re{constructor(te){super(te),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class je extends j{constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class ce extends j{#e=[];constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=i.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const te=this.data,{width:he,height:ge}=w(te.rect),xe=this.svgFactory.create(he,ge,!0);for(const ye of te.inkLists){let Se=[];for(const ke of ye){const Ve=ke.x-te.rect[0],Oe=te.rect[3]-ke.y;Se.push(`${Ve},${Oe}`)}Se=Se.join(" ");const we=this.svgFactory.createElement(this.svgElementName);this.#e.push(we),we.setAttribute("points",Se),we.setAttribute("stroke-width",te.borderStyle.width||1),we.setAttribute("stroke","transparent"),we.setAttribute("fill","transparent"),!te.popupRef&&this.hasPopupData&&this._createPopup(),xe.append(we)}return this.container.append(xe),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}t.InkAnnotationElement=ce;class le extends j{constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class ie extends j{constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Y extends j{constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class ne extends j{constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class oe extends j{constructor(te){super(te,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}t.StampAnnotationElement=oe;class ue extends j{#e=null;constructor(te){super(te,{isRenderable:!0});const{filename:he,content:ge}=this.data.file;this.filename=(0,o.getFilenameFromUrl)(he,!0),this.content=ge,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:he,content:ge})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:te,data:he}=this;let ge;he.hasAppearance||he.fillAlpha===0?ge=document.createElement("div"):(ge=document.createElement("img"),ge.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(he.name)?"paperclip":"pushpin"}.svg`,he.fillAlpha&&he.fillAlpha<1&&(ge.style=`filter: opacity(${Math.round(he.fillAlpha*100)}%);`)),ge.addEventListener("dblclick",this.#t.bind(this)),this.#e=ge;const{isMac:xe}=i.FeatureTest.platform;return te.addEventListener("keydown",ye=>{ye.key==="Enter"&&(xe?ye.metaKey:ye.ctrlKey)&&this.#t()}),!he.popupRef&&this.hasPopupData?this._createPopup():ge.classList.add("popupTriggerArea"),te.append(ge),te}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class ve{#e=null;#t=null;#r=new Map;constructor({div:te,accessibilityManager:he,annotationCanvasMap:ge,l10n:xe,page:ye,viewport:Se}){this.div=te,this.#e=he,this.#t=ge,this.l10n=xe,this.page=ye,this.viewport=Se,this.zIndex=0,this.l10n||=m.NullL10n}#n(te,he){const ge=te.firstChild||te;ge.id=`${i.AnnotationPrefix}${he}`,this.div.append(te),this.#e?.moveElementInDOM(this.div,te,ge,!1)}async render(te){const{annotations:he}=te,ge=this.div;(0,o.setLayerDimensions)(ge,this.viewport);const xe=new Map,ye={data:null,layer:ge,linkService:te.linkService,downloadManager:te.downloadManager,imageResourcesPath:te.imageResourcesPath||"",renderForms:te.renderForms!==!1,svgFactory:new o.DOMSVGFactory,annotationStorage:te.annotationStorage||new u.AnnotationStorage,enableScripting:te.enableScripting===!0,hasJSActions:te.hasJSActions,fieldObjects:te.fieldObjects,parent:this,elements:null};for(const Se of he){if(Se.noHTML)continue;const we=Se.annotationType===i.AnnotationType.POPUP;if(we){const Oe=xe.get(Se.id);if(!Oe)continue;ye.elements=Oe}else{const{width:Oe,height:Be}=w(Se.rect);if(Oe<=0||Be<=0)continue}ye.data=Se;const ke=S.create(ye);if(!ke.isRenderable)continue;if(!we&&Se.popupRef){const Oe=xe.get(Se.popupRef);Oe?Oe.push(ke):xe.set(Se.popupRef,[ke])}ke.annotationEditorType>0&&this.#r.set(ke.data.id,ke);const Ve=ke.render();Se.hidden&&(Ve.style.visibility="hidden"),this.#n(Ve,Se.id)}this.#o(),await this.l10n.translate(ge)}update({viewport:te}){const he=this.div;this.viewport=te,(0,o.setLayerDimensions)(he,{rotation:te.rotation}),this.#o(),he.hidden=!1}#o(){if(!this.#t)return;const te=this.div;for(const[he,ge]of this.#t){const xe=te.querySelector(`[data-annotation-id="${he}"]`);if(!xe)continue;const{firstChild:ye}=xe;ye?ye.nodeName==="CANVAS"?ye.replaceWith(ge):ye.before(ge):xe.append(ge)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#r.values())}getEditableAnnotation(te){return this.#r.get(te)}}t.AnnotationLayer=ve},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0;function n(u){return Math.floor(Math.max(0,Math.min(1,u))*255).toString(16).padStart(2,"0")}function i(u){return Math.max(0,Math.min(255,255*u))}class o{static CMYK_G([h,m,v,p]){return["G",1-Math.min(1,.3*h+.59*v+.11*m+p)]}static G_CMYK([h]){return["CMYK",0,0,0,1-h]}static G_RGB([h]){return["RGB",h,h,h]}static G_rgb([h]){return h=i(h),[h,h,h]}static G_HTML([h]){const m=n(h);return`#${m}${m}${m}`}static RGB_G([h,m,v]){return["G",.3*h+.59*m+.11*v]}static RGB_rgb(h){return h.map(i)}static RGB_HTML(h){return`#${h.map(n).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([h,m,v,p]){return["RGB",1-Math.min(1,h+p),1-Math.min(1,v+p),1-Math.min(1,m+p)]}static CMYK_rgb([h,m,v,p]){return[i(1-Math.min(1,h+p)),i(1-Math.min(1,v+p)),i(1-Math.min(1,m+p))]}static CMYK_HTML(h){const m=this.CMYK_RGB(h).slice(1);return this.RGB_HTML(m)}static RGB_CMYK([h,m,v]){const p=1-h,f=1-m,b=1-v,w=Math.min(p,f,b);return["CMYK",p,f,b,w]}}t.ColorConverters=o},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NullL10n=void 0,t.getL10nFallback=i;const n={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};n.print_progress_percent="{{progress}}%";function i(h,m){switch(h){case"find_match_count":h=`find_match_count[${m.total===1?"one":"other"}]`;break;case"find_match_count_limit":h=`find_match_count_limit[${m.limit===1?"one":"other"}]`;break}return n[h]||""}function o(h,m){return m?h.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(v,p)=>p in m?m[p]:"{{"+p+"}}"):h}const u={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(h,m=null,v=i(h,m)){return o(v,m)},async translate(h){}};t.NullL10n=u},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var i=n(25);class o{static setupStorage(h,m,v,p,f){const b=p.getValue(m,{value:null});switch(v.name){case"textarea":if(b.value!==null&&(h.textContent=b.value),f==="print")break;h.addEventListener("input",w=>{p.setValue(m,{value:w.target.value})});break;case"input":if(v.attributes.type==="radio"||v.attributes.type==="checkbox"){if(b.value===v.attributes.xfaOn?h.setAttribute("checked",!0):b.value===v.attributes.xfaOff&&h.removeAttribute("checked"),f==="print")break;h.addEventListener("change",w=>{p.setValue(m,{value:w.target.checked?w.target.getAttribute("xfaOn"):w.target.getAttribute("xfaOff")})})}else{if(b.value!==null&&h.setAttribute("value",b.value),f==="print")break;h.addEventListener("input",w=>{p.setValue(m,{value:w.target.value})})}break;case"select":if(b.value!==null){h.setAttribute("value",b.value);for(const w of v.children)w.attributes.value===b.value?w.attributes.selected=!0:w.attributes.hasOwnProperty("selected")&&delete w.attributes.selected}h.addEventListener("input",w=>{const S=w.target.options,j=S.selectedIndex===-1?"":S[S.selectedIndex].value;p.setValue(m,{value:j})});break}}static setAttributes({html:h,element:m,storage:v=null,intent:p,linkService:f}){const{attributes:b}=m,w=h instanceof HTMLAnchorElement;b.type==="radio"&&(b.name=`${b.name}-${p}`);for(const[S,j]of Object.entries(b))if(j!=null)switch(S){case"class":j.length&&h.setAttribute(S,j.join(" "));break;case"dataId":break;case"id":h.setAttribute("data-element-id",j);break;case"style":Object.assign(h.style,j);break;case"textContent":h.textContent=j;break;default:(!w||S!=="href"&&S!=="newWindow")&&h.setAttribute(S,j)}w&&f.addLinkAttributes(h,b.href,b.newWindow),v&&b.dataId&&this.setupStorage(h,b.dataId,m,v)}static render(h){const m=h.annotationStorage,v=h.linkService,p=h.xfaHtml,f=h.intent||"display",b=document.createElement(p.name);p.attributes&&this.setAttributes({html:b,element:p,intent:f,linkService:v});const w=[[p,-1,b]],S=h.div;if(S.append(b),h.viewport){const A=`matrix(${h.viewport.transform.join(",")})`;S.style.transform=A}f!=="richText"&&S.setAttribute("class","xfaLayer xfaFont");const j=[];for(;w.length>0;){const[A,T,C]=w.at(-1);if(T+1===A.children.length){w.pop();continue}const O=A.children[++w.at(-1)[1]];if(O===null)continue;const{name:M}=O;if(M==="#text"){const _=document.createTextNode(O.value);j.push(_),C.append(_);continue}const R=O?.attributes?.xmlns?document.createElementNS(O.attributes.xmlns,M):document.createElement(M);if(C.append(R),O.attributes&&this.setAttributes({html:R,element:O,storage:m,intent:f,linkService:v}),O.children&&O.children.length>0)w.push([O,-1,R]);else if(O.value){const _=document.createTextNode(O.value);i.XfaText.shouldBuildText(M)&&j.push(_),R.append(_)}}for(const A of S.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:j}}static update(h){const m=`matrix(${h.viewport.transform.join(",")})`;h.div.style.transform=m,h.div.hidden=!1}}t.XfaLayer=o},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0;var i=n(1),o=n(4),u=n(29),h=n(6),m=n(5);class v extends o.AnnotationEditor{#e=0;#t=0;#r=this.canvasPointermove.bind(this);#n=this.canvasPointerleave.bind(this);#o=this.canvasPointerup.bind(this);#a=this.canvasPointerdown.bind(this);#i=new Path2D;#l=!1;#c=!1;#s=!1;#f=null;#d=0;#h=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(f){super({...f,name:"inkEditor"}),this.color=f.color||null,this.thickness=f.thickness||null,this.opacity=f.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(f){o.AnnotationEditor.initialize(f,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(f,b){switch(f){case i.AnnotationEditorParamsType.INK_THICKNESS:v._defaultThickness=b;break;case i.AnnotationEditorParamsType.INK_COLOR:v._defaultColor=b;break;case i.AnnotationEditorParamsType.INK_OPACITY:v._defaultOpacity=b/100;break}}updateParams(f,b){switch(f){case i.AnnotationEditorParamsType.INK_THICKNESS:this.#x(b);break;case i.AnnotationEditorParamsType.INK_COLOR:this.#g(b);break;case i.AnnotationEditorParamsType.INK_OPACITY:this.#m(b);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,v._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,v._defaultColor||o.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(v._defaultOpacity*100)]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||v._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,this.color||v._defaultColor||o.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??v._defaultOpacity))]]}#x(f){const b=this.thickness;this.addCommands({cmd:()=>{this.thickness=f,this.#_()},undo:()=>{this.thickness=b,this.#_()},mustExec:!0,type:i.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#g(f){const b=this.color;this.addCommands({cmd:()=>{this.color=f,this.#y()},undo:()=>{this.color=b,this.#y()},mustExec:!0,type:i.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#m(f){f/=100;const b=this.opacity;this.addCommands({cmd:()=>{this.opacity=f,this.#y()},undo:()=>{this.opacity=b,this.#y()},mustExec:!0,type:i.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#P(),this.#C()),this.isAttachedToDOM||(this.parent.add(this),this.#b()),this.#_()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#f.disconnect(),this.#f=null,super.remove())}setParent(f){!this.parent&&f?this._uiManager.removeShouldRescale(this):this.parent&&f===null&&this._uiManager.addShouldRescale(this),super.setParent(f)}onScaleChanging(){const[f,b]=this.parentDimensions,w=this.width*f,S=this.height*b;this.setDimensions(w,S)}enableEditMode(){this.#l||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#a))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#a))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#u(){const{parentRotation:f,parentDimensions:[b,w]}=this;switch(f){case 90:return[0,w,w,b];case 180:return[b,w,b,w];case 270:return[b,0,w,b];default:return[0,0,b,w]}}#v(){const{ctx:f,color:b,opacity:w,thickness:S,parentScale:j,scaleFactor:A}=this;f.lineWidth=S*j/A,f.lineCap="round",f.lineJoin="round",f.miterLimit=10,f.strokeStyle=`${b}${(0,m.opacityToHex)(w)}`}#j(f,b){this.canvas.addEventListener("contextmenu",h.noContextMenu),this.canvas.addEventListener("pointerleave",this.#n),this.canvas.addEventListener("pointermove",this.#r),this.canvas.addEventListener("pointerup",this.#o),this.canvas.removeEventListener("pointerdown",this.#a),this.isEditing=!0,this.#s||(this.#s=!0,this.#b(),this.thickness||=v._defaultThickness,this.color||=v._defaultColor||o.AnnotationEditor._defaultLineColor,this.opacity??=v._defaultOpacity),this.currentPath.push([f,b]),this.#c=!1,this.#v(),this.#p=()=>{this.#M(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#w(f,b){const[w,S]=this.currentPath.at(-1);if(this.currentPath.length>1&&f===w&&b===S)return;const j=this.currentPath;let A=this.#i;if(j.push([f,b]),this.#c=!0,j.length<=2){A.moveTo(...j[0]),A.lineTo(f,b);return}j.length===3&&(this.#i=A=new Path2D,A.moveTo(...j[0])),this.#O(A,...j.at(-3),...j.at(-2),f,b)}#A(){if(this.currentPath.length===0)return;const f=this.currentPath.at(-1);this.#i.lineTo(...f)}#T(f,b){this.#p=null,f=Math.min(Math.max(f,0),this.canvas.width),b=Math.min(Math.max(b,0),this.canvas.height),this.#w(f,b),this.#A();let w;if(this.currentPath.length!==1)w=this.#L();else{const C=[f,b];w=[[C,C.slice(),C.slice(),C]]}const S=this.#i,j=this.currentPath;this.currentPath=[],this.#i=new Path2D;const A=()=>{this.allRawPaths.push(j),this.paths.push(w),this.bezierPath2D.push(S),this.rebuild()},T=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#P(),this.#C()),this.#_())};this.addCommands({cmd:A,undo:T,mustExec:!0})}#M(){if(!this.#c)return;this.#c=!1;const f=Math.ceil(this.thickness*this.parentScale),b=this.currentPath.slice(-3),w=b.map(A=>A[0]),S=b.map(A=>A[1]);Math.min(...w)-f,Math.max(...w)+f,Math.min(...S)-f,Math.max(...S)+f;const{ctx:j}=this;j.save(),j.clearRect(0,0,this.canvas.width,this.canvas.height);for(const A of this.bezierPath2D)j.stroke(A);j.stroke(this.#i),j.restore()}#O(f,b,w,S,j,A,T){const C=(b+S)/2,O=(w+j)/2,M=(S+A)/2,R=(j+T)/2;f.bezierCurveTo(C+2*(S-C)/3,O+2*(j-O)/3,M+2*(S-M)/3,R+2*(j-R)/3,M,R)}#L(){const f=this.currentPath;if(f.length<=2)return[[f[0],f[0],f.at(-1),f.at(-1)]];const b=[];let w,[S,j]=f[0];for(w=1;w<f.length-2;w++){const[_,q]=f[w],[se,ee]=f[w+1],ae=(_+se)/2,pe=(q+ee)/2,fe=[S+2*(_-S)/3,j+2*(q-j)/3],Ee=[ae+2*(_-ae)/3,pe+2*(q-pe)/3];b.push([[S,j],fe,Ee,[ae,pe]]),[S,j]=[ae,pe]}const[A,T]=f[w],[C,O]=f[w+1],M=[S+2*(A-S)/3,j+2*(T-j)/3],R=[C+2*(A-C)/3,O+2*(T-O)/3];return b.push([[S,j],M,R,[C,O]]),b}#y(){if(this.isEmpty()){this.#S();return}this.#v();const{canvas:f,ctx:b}=this;b.setTransform(1,0,0,1,0,0),b.clearRect(0,0,f.width,f.height),this.#S();for(const w of this.bezierPath2D)b.stroke(w)}commit(){this.#l||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#l=!0,this.div.classList.add("disabled"),this.#_(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(f){this._focusEventsAllowed&&(super.focusin(f),this.enableEditMode())}canvasPointerdown(f){f.button!==0||!this.isInEditMode()||this.#l||(this.setInForeground(),f.preventDefault(),f.type!=="mouse"&&this.div.focus(),this.#j(f.offsetX,f.offsetY))}canvasPointermove(f){f.preventDefault(),this.#w(f.offsetX,f.offsetY)}canvasPointerup(f){f.preventDefault(),this.#D(f)}canvasPointerleave(f){this.#D(f)}#D(f){this.canvas.removeEventListener("pointerleave",this.#n),this.canvas.removeEventListener("pointermove",this.#r),this.canvas.removeEventListener("pointerup",this.#o),this.canvas.addEventListener("pointerdown",this.#a),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",h.noContextMenu)},10),this.#T(f.offsetX,f.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#P(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",o.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(f=>this.canvas?.setAttribute("aria-label",f)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#C(){this.#f=new ResizeObserver(f=>{const b=f[0].contentRect;b.width&&b.height&&this.setDimensions(b.width,b.height)}),this.#f.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#l}render(){if(this.div)return this.div;let f,b;this.width&&(f=this.x,b=this.y),super.render(),o.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(T=>this.div?.setAttribute("aria-label",T));const[w,S,j,A]=this.#u();if(this.setAt(w,S,0,0),this.setDims(j,A),this.#P(),this.width){const[T,C]=this.parentDimensions;this.setAspectRatio(this.width*T,this.height*C),this.setAt(f*T,b*C,this.width*T,this.height*C),this.#s=!0,this.#b(),this.setDims(this.width*T,this.height*C),this.#y(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#C(),this.div}#b(){if(!this.#s)return;const[f,b]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*f),this.canvas.height=Math.ceil(this.height*b),this.#S()}setDimensions(f,b){const w=Math.round(f),S=Math.round(b);if(this.#d===w&&this.#h===S)return;this.#d=w,this.#h=S,this.canvas.style.visibility="hidden";const[j,A]=this.parentDimensions;this.width=f/j,this.height=b/A,this.fixAndSetPosition(),this.#l&&this.#R(f,b),this.#b(),this.#y(),this.canvas.style.visibility="visible",this.fixDims()}#R(f,b){const w=this.#N(),S=(f-w)/this.#t,j=(b-w)/this.#e;this.scaleFactor=Math.min(S,j)}#S(){const f=this.#N()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+f,this.translationY*this.scaleFactor+f)}static#I(f){const b=new Path2D;for(let w=0,S=f.length;w<S;w++){const[j,A,T,C]=f[w];w===0&&b.moveTo(...j),b.bezierCurveTo(A[0],A[1],T[0],T[1],C[0],C[1])}return b}static#$(f,b,w){const[S,j,A,T]=b;switch(w){case 0:for(let C=0,O=f.length;C<O;C+=2)f[C]+=S,f[C+1]=T-f[C+1];break;case 90:for(let C=0,O=f.length;C<O;C+=2){const M=f[C];f[C]=f[C+1]+S,f[C+1]=M+j}break;case 180:for(let C=0,O=f.length;C<O;C+=2)f[C]=A-f[C],f[C+1]+=j;break;case 270:for(let C=0,O=f.length;C<O;C+=2){const M=f[C];f[C]=A-f[C+1],f[C+1]=T-M}break;default:throw new Error("Invalid rotation")}return f}static#B(f,b,w){const[S,j,A,T]=b;switch(w){case 0:for(let C=0,O=f.length;C<O;C+=2)f[C]-=S,f[C+1]=T-f[C+1];break;case 90:for(let C=0,O=f.length;C<O;C+=2){const M=f[C];f[C]=f[C+1]-j,f[C+1]=M-S}break;case 180:for(let C=0,O=f.length;C<O;C+=2)f[C]=A-f[C],f[C+1]-=j;break;case 270:for(let C=0,O=f.length;C<O;C+=2){const M=f[C];f[C]=T-f[C+1],f[C+1]=A-M}break;default:throw new Error("Invalid rotation")}return f}#F(f,b,w,S){const j=[],A=this.thickness/2,T=f*b+A,C=f*w+A;for(const O of this.paths){const M=[],R=[];for(let _=0,q=O.length;_<q;_++){const[se,ee,ae,pe]=O[_],fe=f*se[0]+T,Ee=f*se[1]+C,_e=f*ee[0]+T,Re=f*ee[1]+C,Pe=f*ae[0]+T,je=f*ae[1]+C,ce=f*pe[0]+T,le=f*pe[1]+C;_===0&&(M.push(fe,Ee),R.push(fe,Ee)),M.push(_e,Re,Pe,je,ce,le),R.push(_e,Re),_===q-1&&R.push(ce,le)}j.push({bezier:v.#$(M,S,this.rotation),points:v.#$(R,S,this.rotation)})}return j}#k(){let f=1/0,b=-1/0,w=1/0,S=-1/0;for(const j of this.paths)for(const[A,T,C,O]of j){const M=i.Util.bezierBoundingBox(...A,...T,...C,...O);f=Math.min(f,M[0]),w=Math.min(w,M[1]),b=Math.max(b,M[2]),S=Math.max(S,M[3])}return[f,w,b,S]}#N(){return this.#l?Math.ceil(this.thickness*this.parentScale):0}#_(f=!1){if(this.isEmpty())return;if(!this.#l){this.#y();return}const b=this.#k(),w=this.#N();this.#t=Math.max(o.AnnotationEditor.MIN_SIZE,b[2]-b[0]),this.#e=Math.max(o.AnnotationEditor.MIN_SIZE,b[3]-b[1]);const S=Math.ceil(w+this.#t*this.scaleFactor),j=Math.ceil(w+this.#e*this.scaleFactor),[A,T]=this.parentDimensions;this.width=S/A,this.height=j/T,this.setAspectRatio(S,j);const C=this.translationX,O=this.translationY;this.translationX=-b[0],this.translationY=-b[1],this.#b(),this.#y(),this.#d=S,this.#h=j,this.setDims(S,j);const M=f?w/this.scaleFactor/2:0;this.translate(C-this.translationX-M,O-this.translationY-M)}static deserialize(f,b,w){if(f instanceof u.InkAnnotationElement)return null;const S=super.deserialize(f,b,w);S.thickness=f.thickness,S.color=i.Util.makeHexColor(...f.color),S.opacity=f.opacity;const[j,A]=S.pageDimensions,T=S.width*j,C=S.height*A,O=S.parentScale,M=f.thickness/2;S.#l=!0,S.#d=Math.round(T),S.#h=Math.round(C);const{paths:R,rect:_,rotation:q}=f;for(let{bezier:ee}of R){ee=v.#B(ee,_,q);const ae=[];S.paths.push(ae);let pe=O*(ee[0]-M),fe=O*(ee[1]-M);for(let _e=2,Re=ee.length;_e<Re;_e+=6){const Pe=O*(ee[_e]-M),je=O*(ee[_e+1]-M),ce=O*(ee[_e+2]-M),le=O*(ee[_e+3]-M),ie=O*(ee[_e+4]-M),Y=O*(ee[_e+5]-M);ae.push([[pe,fe],[Pe,je],[ce,le],[ie,Y]]),pe=ie,fe=Y}const Ee=this.#I(ae);S.bezierPath2D.push(Ee)}const se=S.#k();return S.#t=Math.max(o.AnnotationEditor.MIN_SIZE,se[2]-se[0]),S.#e=Math.max(o.AnnotationEditor.MIN_SIZE,se[3]-se[1]),S.#R(T,C),S}serialize(){if(this.isEmpty())return null;const f=this.getRect(0,0),b=o.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:i.AnnotationEditorType.INK,color:b,thickness:this.thickness,opacity:this.opacity,paths:this.#F(this.scaleFactor/this.parentScale,this.translationX,this.translationY,f),pageIndex:this.pageIndex,rect:f,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}t.InkEditor=v},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StampEditor=void 0;var i=n(1),o=n(4),u=n(6),h=n(29);class m extends o.AnnotationEditor{#e=null;#t=null;#r=null;#n=null;#o=null;#a=null;#i=null;#l=null;#c=!1;#s=!1;static _type="stamp";constructor(p){super({...p,name:"stampEditor"}),this.#n=p.bitmapUrl,this.#o=p.bitmapFile}static initialize(p){o.AnnotationEditor.initialize(p)}static get supportedTypes(){const p=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,i.shadow)(this,"supportedTypes",p.map(f=>`image/${f}`))}static get supportedTypesStr(){return(0,i.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(p){return this.supportedTypes.includes(p)}static paste(p,f){f.pasteEditor(i.AnnotationEditorType.STAMP,{bitmapFile:p.getAsFile()})}#f(p,f=!1){if(!p){this.remove();return}this.#e=p.bitmap,f||(this.#t=p.id,this.#c=p.isSvg),this.#p()}#d(){this.#r=null,this._uiManager.enableWaiting(!1),this.#a&&this.div.focus()}#h(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(f=>this.#f(f,!0)).finally(()=>this.#d());return}if(this.#n){const f=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromUrl(f).then(b=>this.#f(b)).finally(()=>this.#d());return}if(this.#o){const f=this.#o;this.#o=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromFile(f).then(b=>this.#f(b)).finally(()=>this.#d());return}const p=document.createElement("input");p.type="file",p.accept=m.supportedTypesStr,this.#r=new Promise(f=>{p.addEventListener("change",async()=>{if(!p.files||p.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const b=await this._uiManager.imageManager.getFromFile(p.files[0]);this.#f(b)}f()}),p.addEventListener("cancel",()=>{this.remove(),f()})}).finally(()=>this.#d()),p.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#a?.remove(),this.#a=null,this.#i?.disconnect(),this.#i=null),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#h();return}super.rebuild(),this.div!==null&&(this.#t&&this.#h(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#r||this.#e||this.#n||this.#o)}get isResizable(){return!0}render(){if(this.div)return this.div;let p,f;if(this.width&&(p=this.x,f=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#h(),this.width){const[b,w]=this.parentDimensions;this.setAt(p*b,f*w,this.width*b,this.height*w)}return this.div}#p(){const{div:p}=this;let{width:f,height:b}=this.#e;const[w,S]=this.pageDimensions,j=.75;if(this.width)f=this.width*w,b=this.height*S;else if(f>j*w||b>j*S){const O=Math.min(j*w/f,j*S/b);f*=O,b*=O}const[A,T]=this.parentDimensions;this.setDims(f*A/w,b*T/S),this._uiManager.enableWaiting(!1);const C=this.#a=document.createElement("canvas");p.append(C),p.hidden=!1,this.#m(f,b),this.#v(),this.#s||(this.parent.addUndoableEditor(this),this.#s=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#x(p,f){const[b,w]=this.parentDimensions;this.width=p/b,this.height=f/w,this.setDims(p,f),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#l!==null&&clearTimeout(this.#l);const S=200;this.#l=setTimeout(()=>{this.#l=null,this.#m(p,f)},S)}#g(p,f){const{width:b,height:w}=this.#e;let S=b,j=w,A=this.#e;for(;S>2*p||j>2*f;){const T=S,C=j;S>2*p&&(S=S>=16384?Math.floor(S/2)-1:Math.ceil(S/2)),j>2*f&&(j=j>=16384?Math.floor(j/2)-1:Math.ceil(j/2));const O=new OffscreenCanvas(S,j);O.getContext("2d").drawImage(A,0,0,T,C,0,0,S,j),A=O.transferToImageBitmap()}return A}#m(p,f){p=Math.ceil(p),f=Math.ceil(f);const b=this.#a;if(!b||b.width===p&&b.height===f)return;b.width=p,b.height=f;const w=this.#c?this.#e:this.#g(p,f),S=b.getContext("2d");S.filter=this._uiManager.hcmFilter,S.drawImage(w,0,0,w.width,w.height,0,0,p,f)}#u(p){if(p){if(this.#c){const w=this._uiManager.imageManager.getSvgUrl(this.#t);if(w)return w}const f=document.createElement("canvas");return{width:f.width,height:f.height}=this.#e,f.getContext("2d").drawImage(this.#e,0,0),f.toDataURL()}if(this.#c){const[f,b]=this.pageDimensions,w=Math.round(this.width*f*u.PixelsPerInch.PDF_TO_CSS_UNITS),S=Math.round(this.height*b*u.PixelsPerInch.PDF_TO_CSS_UNITS),j=new OffscreenCanvas(w,S);return j.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,w,S),j.transferToImageBitmap()}return structuredClone(this.#e)}#v(){this.#i=new ResizeObserver(p=>{const f=p[0].contentRect;f.width&&f.height&&this.#x(f.width,f.height)}),this.#i.observe(this.div)}static deserialize(p,f,b){if(p instanceof h.StampAnnotationElement)return null;const w=super.deserialize(p,f,b),{rect:S,bitmapUrl:j,bitmapId:A,isSvg:T,accessibilityData:C}=p;A&&b.imageManager.isValidId(A)?w.#t=A:w.#n=j,w.#c=T;const[O,M]=w.pageDimensions;return w.width=(S[2]-S[0])/O,w.height=(S[3]-S[1])/M,C&&(w.altTextData=C),w}serialize(p=!1,f=null){if(this.isEmpty())return null;const b={annotationType:i.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(p)return b.bitmapUrl=this.#u(!0),b.accessibilityData=this.altTextData,b;const{decorative:w,altText:S}=this.altTextData;if(!w&&S&&(b.accessibilityData={type:"Figure",alt:S}),f===null)return b;f.stamps||=new Map;const j=this.#c?(b.rect[2]-b.rect[0])*(b.rect[3]-b.rect[1]):null;if(!f.stamps.has(this.#t))f.stamps.set(this.#t,{area:j,serialized:b}),b.bitmap=this.#u(!1);else if(this.#c){const A=f.stamps.get(this.#t);j>A.area&&(A.area=j,A.serialized.bitmap.close(),A.serialized.bitmap=this.#u(!1))}return b}}t.StampEditor=m}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(t!==void 0)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__w_pdfjs_require__),n.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return t.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return u.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return h.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return m.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return i.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return t.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return v.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return t.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return t.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return n.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return p.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return i.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return i.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return t.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return o.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return i.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return o.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return n.version}});var t=__w_pdfjs_require__(1),n=__w_pdfjs_require__(2),i=__w_pdfjs_require__(6),o=__w_pdfjs_require__(26),u=__w_pdfjs_require__(27),h=__w_pdfjs_require__(5),m=__w_pdfjs_require__(29),v=__w_pdfjs_require__(14),p=__w_pdfjs_require__(32)})(),__webpack_exports__})())}(pdf)),pdf.exports}var pdfExports=requirePdf();const pdfjsWorker="/assets/pdf.worker.min-DKQKFyKK.js",UploadTab=({formData:e,setFormData:t,editor:n,setEditor:i,handleEditorChange:o,magazines:u,setMagazines:h,pagesDropRef:m,setActiveTab:v})=>{const[p,f]=reactExports.useState(!1),[b,w]=reactExports.useState(!1),[S,j]=reactExports.useState(""),[A,T]=reactExports.useState(!1);reactExports.useEffect(()=>{pdfExports.GlobalWorkerOptions.workerSrc=pdfjsWorker},[]);const C=async pe=>{T(!0),y$1.info("📄 Processing PDF... This may take a moment.",{position:"bottom-right",autoClose:!1,toastId:"pdf-processing",style:{background:"#1F2937",color:"#fff",borderLeft:"4px solid #3B82F6"},progressStyle:{background:"#3B82F6"},icon:"⏳"});try{const fe=await pe.arrayBuffer();console.log("PDF file loaded, size:",fe.byteLength);const _e=await pdfExports.getDocument({data:fe}).promise,Re=_e.numPages;console.log("PDF loaded successfully, pages:",Re);const Pe=[];let je=null;for(let ce=1;ce<=Re;ce++){console.log(`Processing page ${ce}/${Re}...`);const le=await _e.getPage(ce),ie=le.getViewport({scale:2}),Y=document.createElement("canvas"),ne=Y.getContext("2d");Y.height=ie.height,Y.width=ie.width,await le.render({canvasContext:ne,viewport:ie}).promise,console.log(`Page ${ce} rendered to canvas`);const oe=await new Promise((ge,xe)=>{Y.toBlob(ye=>{ye?ge(ye):xe(new Error("Failed to convert canvas to blob"))},"image/jpeg",.95)});console.log(`Page ${ce} converted to blob, size:`,oe.size);const ue=ce===1?"covers":"pages",ve=Date.now(),me=`${ue}/${ve}-page-${ce}.jpg`;console.log(`Uploading ${me}...`);const{error:te}=await supabase.storage.from("magazines").upload(me,oe,{contentType:"image/jpeg",cacheControl:"3600",upsert:!1});if(te)throw console.error(`Error uploading page ${ce}:`,te),new Error(`Failed to upload page ${ce}: ${te.message}`);const{data:he}=supabase.storage.from("magazines").getPublicUrl(me);console.log(`Page ${ce} uploaded successfully:`,he.publicUrl),ce===1?je=he.publicUrl:Pe.push(he.publicUrl)}t(ce=>({...ce,cover:je||ce.cover,pages:[...ce.pages,...Pe]})),y$1.dismiss("pdf-processing"),y$1.success(`✅ PDF processed! Cover set + ${Pe.length} pages uploaded!`,{position:"bottom-right",style:{background:"#1F2937",color:"#fff",borderLeft:"4px solid #10B981"},progressStyle:{background:"#10B981"},icon:"🎯"})}catch(fe){console.error("Error processing PDF:",fe),y$1.dismiss("pdf-processing");let Ee="Failed to process PDF. Please try again.";fe.message&&(fe.message.includes("Invalid PDF")?Ee="Invalid PDF file. Please check the file and try again.":fe.message.includes("upload")?Ee="Failed to upload PDF pages. Check storage permissions.":Ee=`Error: ${fe.message}`),y$1.error(`❌ ${Ee}`,{position:"bottom-right",style:{background:"#1F2937",color:"#fff",borderLeft:"4px solid #EF4444"},progressStyle:{background:"#EF4444"},icon:"⚠️"})}finally{T(!1)}},O=async pe=>{const fe=`covers/${Date.now()}-${pe.name}`;try{const{error:Ee}=await supabase.storage.from("magazines").upload(fe,pe,{upsert:!1});if(Ee)throw Ee;const{data:_e}=supabase.storage.from("magazines").getPublicUrl(fe);t(Re=>({...Re,cover:_e.publicUrl})),y$1.success("✅ Cover uploaded successfully!",{position:"bottom-right",style:{background:"#1F2937",color:"#fff",borderLeft:"4px solid #10B981"},progressStyle:{background:"#10B981"},icon:"🎯"})}catch(Ee){console.error("Error uploading cover:",Ee),y$1.error("❌ Failed to upload cover image. Check bucket name and permissions.",{position:"bottom-right",style:{background:"#1F2937",color:"#fff",borderLeft:"4px solid #EF4444"},progressStyle:{background:"#EF4444"},icon:"⚠️"})}},M=async pe=>{const fe=[];for(let Ee of pe){const _e=`pages/${Date.now()}-${Ee.name}`,{error:Re}=await supabase.storage.from("magazines").upload(_e,Ee);if(Re){console.error("Error uploading page:",Re);continue}const{data:Pe}=supabase.storage.from("magazines").getPublicUrl(_e);fe.push(Pe.publicUrl)}t(Ee=>({...Ee,pages:[...Ee.pages,...fe]})),fe.length>0&&y$1.success(`✅ ${fe.length} page(s) uploaded successfully!`,{position:"bottom-right",style:{background:"#1F2937",color:"#fff",borderLeft:"4px solid #10B981"},progressStyle:{background:"#10B981"},icon:"🎯"})},R=pe=>{t(fe=>({...fe,pages:fe.pages.filter((Ee,_e)=>_e!==pe)}))},_=()=>{t(pe=>({...pe,pages:[]}))},q=()=>{t({title:"",subtitle:"",cover:"",pages:[],published:!1})},se=async pe=>{if(pe.preventDefault(),!e.published){f(!0);return}await ae()},ee=async()=>{f(!1),await ae()},ae=async()=>{if(!e.title.trim()){y$1.warning("⚠️ Please enter a title.",{position:"bottom-right",style:{background:"#1F2937",color:"#fff",borderLeft:"4px solid #F59E0B"},progressStyle:{background:"#F59E0B"},icon:"📝"});return}if(!e.cover){y$1.warning("⚠️ Please upload a cover image.",{position:"bottom-right",style:{background:"#1F2937",color:"#fff",borderLeft:"4px solid #F59E0B"},progressStyle:{background:"#F59E0B"},icon:"📝"});return}const{data:pe,error:fe}=await supabase.from("magazines").insert([{title:e.title,subtitle:e.subtitle,cover:e.cover,pages:e.pages,published:e.published,editor:n,created_at:new Date}]).select();if(fe){console.error("Error saving magazine:",fe),y$1.error("❌ Failed to upload magazine. Please try again.",{position:"bottom-right",style:{background:"#1F2937",color:"#fff",borderLeft:"4px solid #EF4444"},progressStyle:{background:"#EF4444"},icon:"⚠️"});return}h(_e=>[..._e,...pe]),q();const Ee=e.published?"🎉 Magazine published successfully!":"✅ Magazine saved as draft!";j(Ee),w(!0),setTimeout(()=>{w(!1)},3e3)};return jsxRuntimeExports.jsxs("div",{className:"h-screen overflow-hidden p-6",children:[p&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-8 max-w-md w-full mx-4 border border-gray-700 shadow-2xl",style:{animation:"bounceIn 0.3s ease-out"},children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-yellow-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx("svg",{className:"w-8 h-8 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Save as Draft?"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:"You haven't selected 'Publish Immediately'. This magazine will be saved as a draft and won't be visible to readers."}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 justify-center",children:[jsxRuntimeExports.jsx("button",{onClick:()=>f(!1),className:"px-6 py-2.5 bg-gray-600 hover:bg-gray-500 text-white rounded-lg font-medium transition-all duration-200 transform hover:scale-105",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:ee,className:"px-6 py-2.5 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-400 hover:to-orange-400 text-white rounded-lg font-medium transition-all duration-200 transform hover:scale-105 shadow-lg",children:"Save as Draft"})]})]})})}),b&&jsxRuntimeExports.jsxs("div",{className:"fixed bottom-4 right-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-4 rounded-xl shadow-2xl z-50 max-w-sm border border-green-400/20",style:{animation:"bounceIn 0.4s ease-out"},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx("div",{className:"font-semibold",children:S})}),jsxRuntimeExports.jsx("button",{onClick:()=>w(!1),className:"text-white/80 hover:text-white transition-colors",children:jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),jsxRuntimeExports.jsx("div",{className:"mt-2 h-1 bg-white/20 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-white/40 rounded-full",style:{animation:"progress 3s linear"}})})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Magazine Upload"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Create and publish your magazine with professional tools"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-12 gap-6 h-[calc(100vh-140px)]",children:[jsxRuntimeExports.jsx("div",{className:"col-span-4 overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-purple-600/20 rounded-lg",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-white",children:"Magazine Details"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:se,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title *"}),jsxRuntimeExports.jsx("input",{name:"title",placeholder:"Spring Fashion 2024",value:e.title,onChange:pe=>t(fe=>({...fe,title:pe.target.value})),className:"w-full bg-gray-900/50 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Subtitle"}),jsxRuntimeExports.jsx("input",{name:"subtitle",placeholder:"The Ultimate Style Guide",value:e.subtitle,onChange:pe=>t(fe=>({...fe,subtitle:pe.target.value})),className:"w-full bg-gray-900/50 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-300",children:"Cover Image *"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[jsxRuntimeExports.jsx("input",{name:"coverUrl",placeholder:"Paste image URL",value:typeof e.cover=="string"&&e.cover.startsWith("data:")?"":e.cover,onChange:pe=>t(fe=>({...fe,cover:pe.target.value})),className:"w-full bg-gray-900/50 border border-gray-600 rounded-lg px-3 py-2 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all text-sm"}),jsxRuntimeExports.jsx("label",{className:"cursor-pointer",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-900/30 border border-dashed border-gray-600 rounded-lg p-2 text-center hover:border-purple-500 hover:bg-gray-900/50 transition-all group h-full flex items-center justify-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-300",children:"Upload"})]}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:async pe=>{const fe=pe.target.files?.[0];fe&&await O(fe)},className:"sr-only"})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-300",children:"Magazine Pages"}),jsxRuntimeExports.jsxs("div",{ref:m,className:"bg-gray-900/30 border-2 border-dashed border-gray-600 rounded-lg p-4 min-h-[80px] flex flex-col items-center justify-center gap-2 hover:border-purple-500 hover:bg-gray-900/50 transition-all group",children:[jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-xs text-center",children:"Drop pages or browse"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("label",{className:"px-3 py-1 bg-purple-600/20 text-purple-300 rounded text-xs font-medium cursor-pointer hover:bg-purple-600/30 transition-colors",children:["Choose Images",jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:async pe=>{const fe=pe.target.files;fe&&fe.length>0&&await M(fe)},className:"sr-only"})]}),jsxRuntimeExports.jsxs("label",{className:"px-3 py-1 bg-blue-600/20 text-blue-300 rounded text-xs font-medium cursor-pointer hover:bg-blue-600/30 transition-colors",children:["Upload PDF",jsxRuntimeExports.jsx("input",{type:"file",accept:"application/pdf",onChange:async pe=>{const fe=pe.target.files?.[0];fe&&await C(fe)},className:"sr-only",disabled:A})]})]})]}),e.pages.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-2 p-2 bg-gray-900/20 rounded-lg border border-gray-700/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full"}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-300 font-medium",children:[e.pages.length," Page",e.pages.length!==1?"s":""]})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:_,className:"text-xs text-red-400 hover:text-red-300 px-1 py-0.5 rounded hover:bg-red-400/10 transition-colors",children:"Clear"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-8 gap-1 max-h-24 overflow-y-auto",children:e.pages.map((pe,fe)=>jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsx("div",{className:"aspect-[3/4] rounded overflow-hidden border border-gray-600",children:jsxRuntimeExports.jsx("img",{src:pe,alt:`page-${fe+1}`,className:"w-full h-full object-cover"})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>R(fe),className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-all",children:"×"})]},fe))})]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 bg-gray-900/20 rounded-lg border border-gray-700/50",children:jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[jsxRuntimeExports.jsx("input",{name:"published",type:"checkbox",checked:e.published,onChange:pe=>t(fe=>({...fe,published:pe.target.checked})),className:"w-4 h-4 text-purple-600 bg-gray-700 border-gray-600 rounded focus:ring-purple-500 focus:ring-1"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-200 text-sm font-medium group-hover:text-white transition-colors",children:"Publish immediately"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-xs",children:e.published?"Visible to readers":"Save as draft"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[jsxRuntimeExports.jsxs("button",{type:"submit",className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white py-2 px-4 rounded-lg font-medium hover:from-purple-500 hover:to-blue-500 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center justify-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.published?"Publish":"Save Draft"]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:q,className:"px-4 py-2 rounded-lg border border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white transition-all text-sm",children:"Reset"})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"col-span-4 overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-blue-600/20 rounded-lg",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white",children:"Style Editor"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-medium text-gray-300 mb-2",children:"Image Adjustments"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{name:"brightness",label:"Brightness",unit:"%",min:50,max:150},{name:"contrast",label:"Contrast",unit:"%",min:50,max:150},{name:"saturate",label:"Saturation",unit:"%",min:50,max:200},{name:"hue",label:"Hue Rotation",unit:"°",min:0,max:360}].map(pe=>jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("label",{className:"flex justify-between text-xs",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-300",children:pe.label}),jsxRuntimeExports.jsxs("span",{className:"text-purple-400 font-medium",children:[n[pe.name],pe.unit]})]}),jsxRuntimeExports.jsx("input",{type:"range",min:pe.min,max:pe.max,name:pe.name,value:n[pe.name],onChange:o,className:"w-full h-1.5 bg-gray-700 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #6366f1 0%, #6366f1 ${(n[pe.name]-pe.min)/(pe.max-pe.min)*100}%, #374151 ${(n[pe.name]-pe.min)/(pe.max-pe.min)*100}%, #374151 100%)`}})]},pe.name))})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-medium text-gray-300 mb-2",children:"Color Customization"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-300",children:"Accent Color"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"color",name:"accentColor",value:n.accentColor,onChange:o,className:"w-8 h-8 rounded cursor-pointer border border-gray-600"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-400 font-mono",children:n.accentColor})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-300",children:"Title Color"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"color",name:"titleColor",value:n.titleColor,onChange:o,className:"w-8 h-8 rounded cursor-pointer border border-gray-600"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-400 font-mono",children:n.titleColor})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-900/30 rounded-lg p-3 border border-gray-700/50",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-medium text-gray-300 mb-2",children:"Publishing Status"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:"Status"}),jsxRuntimeExports.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${e.published?"bg-green-400/20 text-green-400":"bg-yellow-400/20 text-yellow-400"}`,children:e.published?"Live":"Draft"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${e.title?"bg-green-400":"bg-red-400"}`}),jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"Title"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${e.cover?"bg-green-400":"bg-red-400"}`}),jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"Cover"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${e.pages.length>0?"bg-green-400":"bg-yellow-400"}`}),jsxRuntimeExports.jsxs("span",{className:"text-gray-400",children:["Pages (",e.pages.length,")"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"Systems"})]})]})]})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"col-span-4 overflow-y-auto",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-green-600/20 rounded-lg",children:jsxRuntimeExports.jsxs("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white",children:"Live Preview"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Cover Design"}),jsxRuntimeExports.jsx("div",{className:"bg-gray-900/30 p-6 rounded-xl",children:e.cover?jsxRuntimeExports.jsxs("div",{className:"relative w-40 h-52 mx-auto rounded-lg overflow-hidden shadow-xl border border-gray-600",children:[jsxRuntimeExports.jsx("img",{src:e.cover,alt:"cover-preview",className:"w-full h-full object-cover transition-all duration-300",style:{filter:`brightness(${n.brightness}%) contrast(${n.contrast}%) saturate(${n.saturate}%) hue-rotate(${n.hue}deg)`}}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",style:{background:hexToRgba(n.accentColor,.9)},children:[jsxRuntimeExports.jsx("h2",{className:"font-bold text-lg leading-tight",style:{color:n.titleColor},children:e.title||"Magazine Title"}),e.subtitle&&jsxRuntimeExports.jsx("p",{className:"text-sm opacity-90 mt-1",style:{color:n.titleColor},children:e.subtitle})]})]}):jsxRuntimeExports.jsxs("div",{className:"w-40 h-52 mx-auto border-2 border-dashed border-gray-600 rounded-lg flex flex-col items-center justify-center text-gray-500",children:[jsxRuntimeExports.jsx("svg",{className:"w-12 h-12 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),jsxRuntimeExports.jsx("p",{className:"text-center text-sm",children:"Upload cover to preview"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Pages Overview"}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500 bg-gray-700 px-3 py-1 rounded-full",children:[e.pages.length," page",e.pages.length!==1?"s":""]})]}),jsxRuntimeExports.jsx("div",{className:"bg-gray-900/30 p-4 rounded-xl min-h-[180px]",children:e.pages.length===0?jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-500",children:[jsxRuntimeExports.jsx("svg",{className:"w-12 h-12 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"No pages added yet"})]}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-5 gap-2 max-h-32 overflow-y-auto",children:e.pages.map((pe,fe)=>jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsx("div",{className:"aspect-[3/4] rounded overflow-hidden border border-gray-600 hover:border-gray-500 transition-colors",children:jsxRuntimeExports.jsx("img",{src:pe,alt:`page-${fe+1}`,className:"w-full h-full object-cover"})}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-1 left-1 bg-black/80 text-white text-xs px-2 py-1 rounded",children:fe+1})]},fe))})})]})]})]})})]})]})},styles=`
@keyframes bounceIn {
  0% {
    opacity: 0;
    transform: scale(0.3) translateY(-50px);
  }
  50% {
    opacity: 1;
    transform: scale(1.05);
  }
  70% {
    transform: scale(0.95);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes progress {
  0% {
    width: 100%;
  }
  100% {
    width: 0%;
  }
}
`;if(typeof document<"u"){const e=document.createElement("style");e.type="text/css",e.innerText=styles,document.head.appendChild(e)}const StatCard=({label:e,value:t})=>jsxRuntimeExports.jsxs("div",{className:"bg-[#241231] p-3 sm:p-4 md:p-5 rounded-xl text-center shadow",children:[jsxRuntimeExports.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:e}),jsxRuntimeExports.jsx("div",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-cyan-300",children:t})]});var get$2={},isUnsafeProperty={},hasRequiredIsUnsafeProperty;function requireIsUnsafeProperty(){return hasRequiredIsUnsafeProperty||(hasRequiredIsUnsafeProperty=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t}(isUnsafeProperty)),isUnsafeProperty}var isDeepKey={},hasRequiredIsDeepKey;function requireIsDeepKey(){return hasRequiredIsDeepKey||(hasRequiredIsDeepKey=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t}(isDeepKey)),isDeepKey}var toKey={},hasRequiredToKey;function requireToKey(){return hasRequiredToKey||(hasRequiredToKey=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t}(toKey)),toKey}var toPath={},hasRequiredToPath;function requireToPath(){return hasRequiredToPath||(hasRequiredToPath=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const i=[],o=n.length;if(o===0)return i;let u=0,h="",m="",v=!1;for(n.charCodeAt(0)===46&&(i.push(""),u++);u<o;){const p=n[u];m?p==="\\"&&u+1<o?(u++,h+=n[u]):p===m?m="":h+=p:v?p==='"'||p==="'"?m=p:p==="]"?(v=!1,i.push(h),h=""):h+=p:p==="["?(v=!0,h&&(i.push(h),h="")):p==="."?h&&(i.push(h),h=""):h+=p,u++}return h&&i.push(h),i}e.toPath=t}(toPath)),toPath}var hasRequiredGet$1;function requireGet$1(){return hasRequiredGet$1||(hasRequiredGet$1=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsUnsafeProperty(),n=requireIsDeepKey(),i=requireToKey(),o=requireToPath();function u(m,v,p){if(m==null)return p;switch(typeof v){case"string":{if(t.isUnsafeProperty(v))return p;const f=m[v];return f===void 0?n.isDeepKey(v)?u(m,o.toPath(v),p):p:f}case"number":case"symbol":{typeof v=="number"&&(v=i.toKey(v));const f=m[v];return f===void 0?p:f}default:{if(Array.isArray(v))return h(m,v,p);if(Object.is(v?.valueOf(),-0)?v="-0":v=String(v),t.isUnsafeProperty(v))return p;const f=m[v];return f===void 0?p:f}}}function h(m,v,p){if(v.length===0)return p;let f=m;for(let b=0;b<v.length;b++){if(f==null||t.isUnsafeProperty(v[b]))return p;f=f[v[b]]}return f===void 0?p:f}e.get=u}(get$2)),get$2}var get$1,hasRequiredGet;function requireGet(){return hasRequiredGet||(hasRequiredGet=1,get$1=requireGet$1().get),get$1}var getExports=requireGet();const get=getDefaultExportFromCjs(getExports);var reactIs={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production_min;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,i=e?Symbol.for("react.fragment"):60107,o=e?Symbol.for("react.strict_mode"):60108,u=e?Symbol.for("react.profiler"):60114,h=e?Symbol.for("react.provider"):60109,m=e?Symbol.for("react.context"):60110,v=e?Symbol.for("react.async_mode"):60111,p=e?Symbol.for("react.concurrent_mode"):60111,f=e?Symbol.for("react.forward_ref"):60112,b=e?Symbol.for("react.suspense"):60113,w=e?Symbol.for("react.suspense_list"):60120,S=e?Symbol.for("react.memo"):60115,j=e?Symbol.for("react.lazy"):60116,A=e?Symbol.for("react.block"):60121,T=e?Symbol.for("react.fundamental"):60117,C=e?Symbol.for("react.responder"):60118,O=e?Symbol.for("react.scope"):60119;function M(_){if(typeof _=="object"&&_!==null){var q=_.$$typeof;switch(q){case t:switch(_=_.type,_){case v:case p:case i:case u:case o:case b:return _;default:switch(_=_&&_.$$typeof,_){case m:case f:case j:case S:case h:return _;default:return q}}case n:return q}}}function R(_){return M(_)===p}return reactIs_production_min.AsyncMode=v,reactIs_production_min.ConcurrentMode=p,reactIs_production_min.ContextConsumer=m,reactIs_production_min.ContextProvider=h,reactIs_production_min.Element=t,reactIs_production_min.ForwardRef=f,reactIs_production_min.Fragment=i,reactIs_production_min.Lazy=j,reactIs_production_min.Memo=S,reactIs_production_min.Portal=n,reactIs_production_min.Profiler=u,reactIs_production_min.StrictMode=o,reactIs_production_min.Suspense=b,reactIs_production_min.isAsyncMode=function(_){return R(_)||M(_)===v},reactIs_production_min.isConcurrentMode=R,reactIs_production_min.isContextConsumer=function(_){return M(_)===m},reactIs_production_min.isContextProvider=function(_){return M(_)===h},reactIs_production_min.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},reactIs_production_min.isForwardRef=function(_){return M(_)===f},reactIs_production_min.isFragment=function(_){return M(_)===i},reactIs_production_min.isLazy=function(_){return M(_)===j},reactIs_production_min.isMemo=function(_){return M(_)===S},reactIs_production_min.isPortal=function(_){return M(_)===n},reactIs_production_min.isProfiler=function(_){return M(_)===u},reactIs_production_min.isStrictMode=function(_){return M(_)===o},reactIs_production_min.isSuspense=function(_){return M(_)===b},reactIs_production_min.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===i||_===p||_===u||_===o||_===b||_===w||typeof _=="object"&&_!==null&&(_.$$typeof===j||_.$$typeof===S||_.$$typeof===h||_.$$typeof===m||_.$$typeof===f||_.$$typeof===T||_.$$typeof===C||_.$$typeof===O||_.$$typeof===A)},reactIs_production_min.typeOf=M,reactIs_production_min}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production_min()),reactIs.exports}var reactIsExports=requireReactIs(),mathSign=e=>e===0?0:e>0?1:-1,isNan=e=>typeof e=="number"&&e!=+e,isPercent=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,isNumber=e=>(typeof e=="number"||e instanceof Number)&&!isNan(e),isNumOrStr=e=>isNumber(e)||typeof e=="string",idCounter=0,uniqueId=e=>{var t=++idCounter;return"".concat(e||"").concat(t)},getPercentValue=function e(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(t)&&typeof t!="string")return i;var u;if(isPercent(t)){if(n==null)return i;var h=t.indexOf("%");u=n*parseFloat(t.slice(0,h))/100}else u=+t;return isNan(u)&&(u=i),o&&n!=null&&u>n&&(u=n),u},hasDuplicate=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},i=0;i<t;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1};function interpolate$1(e,t,n){return isNumber(e)&&isNumber(t)?e+n*(t-e):t}function findEntryInArray(e,t,n){if(!(!e||!e.length))return e.find(i=>i&&(typeof t=="function"?t(i):get(i,t))===n)}var isNullish=e=>e===null||typeof e>"u",upperFirst=e=>isNullish(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function isEventKey(e){if(typeof e!="string")return!1;var t=EventKeys;return t.includes(e)}var SVGContainerPropKeys=["viewBox","children"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},adaptEventHandlers=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(reactExports.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(o=>{isEventKey(o)&&(i[o]=u=>n[o](n,u))}),i},getEventHandlerOfChild=(e,t,n)=>i=>(e(t,n,i),null),adaptEventsOfChild=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var i=null;return Object.keys(e).forEach(o=>{var u=e[o];isEventKey(o)&&typeof u=="function"&&(i||(i={}),i[o]=getEventHandlerOfChild(u,t,n))}),i},SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function isSvgElementPropKey(e){if(typeof e!="string")return!1;var t=SVGElementPropKeys;return t.includes(e)}function svgPropertiesNoEvents(e){var t=Object.entries(e).filter(n=>{var[i]=n;return isSvgElementPropKey(i)});return Object.fromEntries(t)}var getDisplayName=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",lastChildren=null,lastResult=null,toArray$1=e=>{if(e===lastChildren&&Array.isArray(lastResult))return lastResult;var t=[];return reactExports.Children.forEach(e,n=>{isNullish(n)||(reactIsExports.isFragment(n)?t=t.concat(toArray$1(n.props.children)):t.push(n))}),lastResult=t,lastChildren=e,t};function findAllByType(e,t){var n=[],i=[];return Array.isArray(t)?i=t.map(o=>getDisplayName(o)):i=[getDisplayName(t)],toArray$1(e).forEach(o=>{var u=get(o,"type.displayName")||get(o,"type.name");i.indexOf(u)!==-1&&n.push(o)}),n}var isClipDot=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,isValidSpreadableProp=(e,t,n,i)=>{var o;if(typeof t=="symbol"||typeof t=="number")return!0;var u=(o=i&&FilteredElementKeyMap?.[i])!==null&&o!==void 0?o:[],h=t.startsWith("data-"),m=typeof e!="function"&&(!!i&&u.includes(t)||isSvgElementPropKey(t)),v=!!n&&isEventKey(t);return h||m||v},filterProps=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(reactExports.isValidElement(e)&&(i=e.props),typeof i!="object"&&typeof i!="function")return null;var o={};return Object.keys(i).forEach(u=>{var h;isValidSpreadableProp((h=i)===null||h===void 0?void 0:h[u],u,t,n)&&(o[u]=i[u])}),o},_excluded$n=["children","width","height","viewBox","className","style","title","desc"];function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$r.apply(null,arguments)}function _objectWithoutProperties$n(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$n(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$n(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Surface=reactExports.forwardRef((e,t)=>{var{children:n,width:i,height:o,viewBox:u,className:h,style:m,title:v,desc:p}=e,f=_objectWithoutProperties$n(e,_excluded$n),b=u||{width:i,height:o,x:0,y:0},w=clsx("recharts-surface",h);return reactExports.createElement("svg",_extends$r({},filterProps(f,!0,"svg"),{className:w,width:i,height:o,style:m,viewBox:"".concat(b.x," ").concat(b.y," ").concat(b.width," ").concat(b.height),ref:t}),reactExports.createElement("title",null,v),reactExports.createElement("desc",null,p),n)}),_excluded$m=["children","className"];function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$q.apply(null,arguments)}function _objectWithoutProperties$m(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$m(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$m(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Layer=reactExports.forwardRef((e,t)=>{var{children:n,className:i}=e,o=_objectWithoutProperties$m(e,_excluded$m),u=clsx("recharts-layer",i);return reactExports.createElement("g",_extends$q({className:u},filterProps(o,!0),{ref:t}),n)}),LegendPortalContext=reactExports.createContext(null),useLegendPortal=()=>reactExports.useContext(LegendPortalContext);function constant$1(e){return function(){return e}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function appendRound(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return append;const n=10**t;return function(i){this._+=i[0];for(let o=1,u=i.length;o<u;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}class Path{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?append:appendRound(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,o){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(t,n,i,o,u,h){this._append`C${+t},${+n},${+i},${+o},${this._x1=+u},${this._y1=+h}`}arcTo(t,n,i,o,u){if(t=+t,n=+n,i=+i,o=+o,u=+u,u<0)throw new Error(`negative radius: ${u}`);let h=this._x1,m=this._y1,v=i-t,p=o-n,f=h-t,b=m-n,w=f*f+b*b;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(w>epsilon)if(!(Math.abs(b*v-p*f)>epsilon)||!u)this._append`L${this._x1=t},${this._y1=n}`;else{let S=i-h,j=o-m,A=v*v+p*p,T=S*S+j*j,C=Math.sqrt(A),O=Math.sqrt(w),M=u*Math.tan((pi-Math.acos((A+w-T)/(2*C*O)))/2),R=M/O,_=M/C;Math.abs(R-1)>epsilon&&this._append`L${t+R*f},${n+R*b}`,this._append`A${u},${u},0,0,${+(b*S>f*j)},${this._x1=t+_*v},${this._y1=n+_*p}`}}arc(t,n,i,o,u,h){if(t=+t,n=+n,i=+i,h=!!h,i<0)throw new Error(`negative radius: ${i}`);let m=i*Math.cos(o),v=i*Math.sin(o),p=t+m,f=n+v,b=1^h,w=h?o-u:u-o;this._x1===null?this._append`M${p},${f}`:(Math.abs(this._x1-p)>epsilon||Math.abs(this._y1-f)>epsilon)&&this._append`L${p},${f}`,i&&(w<0&&(w=w%tau+tau),w>tauEpsilon?this._append`A${i},${i},0,1,${b},${t-m},${n-v}A${i},${i},0,1,${b},${this._x1=p},${this._y1=f}`:w>epsilon&&this._append`A${i},${i},0,${+(w>=pi)},${b},${this._x1=t+i*Math.cos(u)},${this._y1=n+i*Math.sin(u)}`)}rect(t,n,i,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}}function withPath(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new Path(t)}function array(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Linear(e){this._context=e}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function curveLinear(e){return new Linear(e)}function x(e){return e[0]}function y(e){return e[1]}function shapeLine(e,t){var n=constant$1(!0),i=null,o=curveLinear,u=null,h=withPath(m);e=typeof e=="function"?e:e===void 0?x:constant$1(e),t=typeof t=="function"?t:t===void 0?y:constant$1(t);function m(v){var p,f=(v=array(v)).length,b,w=!1,S;for(i==null&&(u=o(S=h())),p=0;p<=f;++p)!(p<f&&n(b=v[p],p,v))===w&&((w=!w)?u.lineStart():u.lineEnd()),w&&u.point(+e(b,p,v),+t(b,p,v));if(S)return u=null,S+""||null}return m.x=function(v){return arguments.length?(e=typeof v=="function"?v:constant$1(+v),m):e},m.y=function(v){return arguments.length?(t=typeof v=="function"?v:constant$1(+v),m):t},m.defined=function(v){return arguments.length?(n=typeof v=="function"?v:constant$1(!!v),m):n},m.curve=function(v){return arguments.length?(o=v,i!=null&&(u=o(i)),m):o},m.context=function(v){return arguments.length?(v==null?i=u=null:u=o(i=v),m):i},m}function shapeArea(e,t,n){var i=null,o=constant$1(!0),u=null,h=curveLinear,m=null,v=withPath(p);e=typeof e=="function"?e:e===void 0?x:constant$1(+e),t=typeof t=="function"?t:constant$1(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?y:constant$1(+n);function p(b){var w,S,j,A=(b=array(b)).length,T,C=!1,O,M=new Array(A),R=new Array(A);for(u==null&&(m=h(O=v())),w=0;w<=A;++w){if(!(w<A&&o(T=b[w],w,b))===C)if(C=!C)S=w,m.areaStart(),m.lineStart();else{for(m.lineEnd(),m.lineStart(),j=w-1;j>=S;--j)m.point(M[j],R[j]);m.lineEnd(),m.areaEnd()}C&&(M[w]=+e(T,w,b),R[w]=+t(T,w,b),m.point(i?+i(T,w,b):M[w],n?+n(T,w,b):R[w]))}if(O)return m=null,O+""||null}function f(){return shapeLine().defined(o).curve(h).context(u)}return p.x=function(b){return arguments.length?(e=typeof b=="function"?b:constant$1(+b),i=null,p):e},p.x0=function(b){return arguments.length?(e=typeof b=="function"?b:constant$1(+b),p):e},p.x1=function(b){return arguments.length?(i=b==null?null:typeof b=="function"?b:constant$1(+b),p):i},p.y=function(b){return arguments.length?(t=typeof b=="function"?b:constant$1(+b),n=null,p):t},p.y0=function(b){return arguments.length?(t=typeof b=="function"?b:constant$1(+b),p):t},p.y1=function(b){return arguments.length?(n=b==null?null:typeof b=="function"?b:constant$1(+b),p):n},p.lineX0=p.lineY0=function(){return f().x(e).y(t)},p.lineY1=function(){return f().x(e).y(n)},p.lineX1=function(){return f().x(i).y(t)},p.defined=function(b){return arguments.length?(o=typeof b=="function"?b:constant$1(!!b),p):o},p.curve=function(b){return arguments.length?(h=b,u!=null&&(m=h(u)),p):h},p.context=function(b){return arguments.length?(b==null?u=m=null:m=h(u=b),p):u},p}class Bump{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function bumpX(e){return new Bump(e,!0)}function bumpY(e){return new Bump(e,!1)}const symbolCircle={draw(e,t){const n=sqrt$1(t/pi$1);e.moveTo(n,0),e.arc(0,0,n,0,tau$1)}},symbolCross={draw(e,t){const n=sqrt$1(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(e,t){const n=sqrt$1(t/tan30_2),i=n*tan30;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}},symbolSquare={draw(e,t){const n=sqrt$1(t),i=-n/2;e.rect(i,i,n,n)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(e,t){const n=sqrt$1(t*ka),i=kx*n,o=ky*n;e.moveTo(0,-n),e.lineTo(i,o);for(let u=1;u<5;++u){const h=tau$1*u/5,m=cos(h),v=sin(h);e.lineTo(v*n,-m*n),e.lineTo(m*i-v*o,v*i+m*o)}e.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(e,t){const n=-sqrt$1(t/(sqrt3*3));e.moveTo(0,n*2),e.lineTo(-sqrt3*n,-n),e.lineTo(sqrt3*n,-n),e.closePath()}},c=-.5,s=sqrt$1(3)/2,k=1/sqrt$1(12),a=(k/2+1)*3,symbolWye={draw(e,t){const n=sqrt$1(t/a),i=n/2,o=n*k,u=i,h=n*k+n,m=-u,v=h;e.moveTo(i,o),e.lineTo(u,h),e.lineTo(m,v),e.lineTo(c*i-s*o,s*i+c*o),e.lineTo(c*u-s*h,s*u+c*h),e.lineTo(c*m-s*v,s*m+c*v),e.lineTo(c*i+s*o,c*o-s*i),e.lineTo(c*u+s*h,c*h-s*u),e.lineTo(c*m+s*v,c*v-s*m),e.closePath()}};function Symbol$1(e,t){let n=null,i=withPath(o);e=typeof e=="function"?e:constant$1(e||symbolCircle),t=typeof t=="function"?t:constant$1(t===void 0?64:+t);function o(){let u;if(n||(n=u=i()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),u)return n=null,u+""||null}return o.type=function(u){return arguments.length?(e=typeof u=="function"?u:constant$1(u),o):e},o.size=function(u){return arguments.length?(t=typeof u=="function"?u:constant$1(+u),o):t},o.context=function(u){return arguments.length?(n=u??null,o):n},o}function noop$5(){}function point$2(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Basis(e){this._context=e}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function curveBasis(e){return new Basis(e)}function BasisClosed(e){this._context=e}BasisClosed.prototype={areaStart:noop$5,areaEnd:noop$5,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:point$2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function curveBasisClosed(e){return new BasisClosed(e)}function BasisOpen(e){this._context=e}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:point$2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function curveBasisOpen(e){return new BasisOpen(e)}function LinearClosed(e){this._context=e}LinearClosed.prototype={areaStart:noop$5,areaEnd:noop$5,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function curveLinearClosed(e){return new LinearClosed(e)}function sign(e){return e<0?-1:1}function slope3(e,t,n){var i=e._x1-e._x0,o=t-e._x1,u=(e._y1-e._y0)/(i||o<0&&-0),h=(n-e._y1)/(o||i<0&&-0),m=(u*o+h*i)/(i+o);return(sign(u)+sign(h))*Math.min(Math.abs(u),Math.abs(h),.5*Math.abs(m))||0}function slope2(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function point$1(e,t,n){var i=e._x0,o=e._y0,u=e._x1,h=e._y1,m=(u-i)/3;e._context.bezierCurveTo(i+m,o+m*t,u-m,h-m*n,u,h)}function MonotoneX(e){this._context=e}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,n=slope3(this,e,t)),n);break;default:point$1(this,this._t0,n=slope3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function MonotoneY(e){this._context=new ReflectContext(e)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(e,t){MonotoneX.prototype.point.call(this,t,e)};function ReflectContext(e){this._context=e}ReflectContext.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,o,u){this._context.bezierCurveTo(t,e,i,n,u,o)}};function monotoneX(e){return new MonotoneX(e)}function monotoneY(e){return new MonotoneY(e)}function Natural(e){this._context=e}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var i=controlPoints(e),o=controlPoints(t),u=0,h=1;h<n;++u,++h)this._context.bezierCurveTo(i[0][u],o[0][u],i[1][u],o[1][u],e[h],t[h]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function controlPoints(e){var t,n=e.length-1,i,o=new Array(n),u=new Array(n),h=new Array(n);for(o[0]=0,u[0]=2,h[0]=e[0]+2*e[1],t=1;t<n-1;++t)o[t]=1,u[t]=4,h[t]=4*e[t]+2*e[t+1];for(o[n-1]=2,u[n-1]=7,h[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)i=o[t]/u[t-1],u[t]-=i,h[t]-=i*h[t-1];for(o[n-1]=h[n-1]/u[n-1],t=n-2;t>=0;--t)o[t]=(h[t]-o[t+1])/u[t];for(u[n-1]=(e[n]+o[n-1])/2,t=0;t<n-1;++t)u[t]=2*e[t+1]-o[t+1];return[o,u]}function curveNatural(e){return new Natural(e)}function Step(e,t){this._context=e,this._t=t}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function curveStep(e){return new Step(e,.5)}function stepBefore(e){return new Step(e,0)}function stepAfter(e){return new Step(e,1)}function stackOffsetNone(e,t){if((h=e.length)>1)for(var n=1,i,o,u=e[t[0]],h,m=u.length;n<h;++n)for(o=u,u=e[t[n]],i=0;i<m;++i)u[i][1]+=u[i][0]=isNaN(o[i][1])?o[i][0]:o[i][1]}function stackOrderNone(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function stackValue(e,t){return e[t]}function stackSeries(e){const t=[];return t.key=e,t}function shapeStack(){var e=constant$1([]),t=stackOrderNone,n=stackOffsetNone,i=stackValue;function o(u){var h=Array.from(e.apply(this,arguments),stackSeries),m,v=h.length,p=-1,f;for(const b of u)for(m=0,++p;m<v;++m)(h[m][p]=[0,+i(b,h[m].key,p,u)]).data=b;for(m=0,f=array(t(h));m<v;++m)h[f[m]].index=m;return n(h,f),h}return o.keys=function(u){return arguments.length?(e=typeof u=="function"?u:constant$1(Array.from(u)),o):e},o.value=function(u){return arguments.length?(i=typeof u=="function"?u:constant$1(+u),o):i},o.order=function(u){return arguments.length?(t=u==null?stackOrderNone:typeof u=="function"?u:constant$1(Array.from(u)),o):t},o.offset=function(u){return arguments.length?(n=u??stackOffsetNone,o):n},o}function stackOffsetExpand(e,t){if((i=e.length)>0){for(var n,i,o=0,u=e[0].length,h;o<u;++o){for(h=n=0;n<i;++n)h+=e[n][o][1]||0;if(h)for(n=0;n<i;++n)e[n][o][1]/=h}stackOffsetNone(e,t)}}function stackOffsetSilhouette(e,t){if((o=e.length)>0){for(var n=0,i=e[t[0]],o,u=i.length;n<u;++n){for(var h=0,m=0;h<o;++h)m+=e[h][n][1]||0;i[n][1]+=i[n][0]=-m/2}stackOffsetNone(e,t)}}function stackOffsetWiggle(e,t){if(!(!((h=e.length)>0)||!((u=(o=e[t[0]]).length)>0))){for(var n=0,i=1,o,u,h;i<u;++i){for(var m=0,v=0,p=0;m<h;++m){for(var f=e[t[m]],b=f[i][1]||0,w=f[i-1][1]||0,S=(b-w)/2,j=0;j<m;++j){var A=e[t[j]],T=A[i][1]||0,C=A[i-1][1]||0;S+=T-C}v+=b,p+=S*b}o[i-1][1]+=o[i-1][0]=n,v&&(n-=p/v)}o[i-1][1]+=o[i-1][0]=n,stackOffsetNone(e,t)}}var _excluded$l=["type","size","sizeType"];function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$p.apply(null,arguments)}function ownKeys$C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$C(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$C(Object(n),!0).forEach(function(i){_defineProperty$E(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$C(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$E(e,t,n){return(t=_toPropertyKey$E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$E(e){var t=_toPrimitive$E(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$E(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _objectWithoutProperties$l(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$l(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$l(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$1=Math.PI/180,getSymbolFactory=e=>{var t="symbol".concat(upperFirst(e));return symbolFactories[t]||symbolCircle},calculateAreaSize=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*RADIAN$1;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},registerSymbol=(e,t)=>{symbolFactories["symbol".concat(upperFirst(e))]=t},Symbols=e=>{var{type:t="circle",size:n=64,sizeType:i="area"}=e,o=_objectWithoutProperties$l(e,_excluded$l),u=_objectSpread$C(_objectSpread$C({},o),{},{type:t,size:n,sizeType:i}),h="circle";typeof t=="string"&&(h=t);var m=()=>{var w=getSymbolFactory(h),S=Symbol$1().type(w).size(calculateAreaSize(n,i,h));return S()},{className:v,cx:p,cy:f}=u,b=filterProps(u,!0);return p===+p&&f===+f&&n===+n?reactExports.createElement("path",_extends$p({},b,{className:clsx("recharts-symbols",v),transform:"translate(".concat(p,", ").concat(f,")"),d:m()})):null};Symbols.registerSymbol=registerSymbol;function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$o.apply(null,arguments)}function ownKeys$B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$B(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$B(Object(n),!0).forEach(function(i){_defineProperty$D(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$B(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$D(e,t,n){return(t=_toPropertyKey$D(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$D(e){var t=_toPrimitive$D(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$D(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SIZE=32;class DefaultLegendContent extends reactExports.PureComponent{renderIcon(t,n){var{inactiveColor:i}=this.props,o=SIZE/2,u=SIZE/6,h=SIZE/3,m=t.inactive?i:t.color,v=n??t.type;if(v==="none")return null;if(v==="plainline")return reactExports.createElement("line",{strokeWidth:4,fill:"none",stroke:m,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:o,x2:SIZE,y2:o,className:"recharts-legend-icon"});if(v==="line")return reactExports.createElement("path",{strokeWidth:4,fill:"none",stroke:m,d:"M0,".concat(o,"h").concat(h,`
            A`).concat(u,",").concat(u,",0,1,1,").concat(2*h,",").concat(o,`
            H`).concat(SIZE,"M").concat(2*h,",").concat(o,`
            A`).concat(u,",").concat(u,",0,1,1,").concat(h,",").concat(o),className:"recharts-legend-icon"});if(v==="rect")return reactExports.createElement("path",{stroke:"none",fill:m,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(reactExports.isValidElement(t.legendIcon)){var p=_objectSpread$B({},t);return delete p.legendIcon,reactExports.cloneElement(t.legendIcon,p)}return reactExports.createElement(Symbols,{fill:m,cx:o,cy:o,size:SIZE,sizeType:"diameter",type:v})}renderItems(){var{payload:t,iconSize:n,layout:i,formatter:o,inactiveColor:u,iconType:h}=this.props,m={x:0,y:0,width:SIZE,height:SIZE},v={display:i==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((f,b)=>{var w=f.formatter||o,S=clsx({"recharts-legend-item":!0,["legend-item-".concat(b)]:!0,inactive:f.inactive});if(f.type==="none")return null;var j=f.inactive?u:f.color,A=w?w(f.value,f,b):f.value;return reactExports.createElement("li",_extends$o({className:S,style:v,key:"legend-item-".concat(b)},adaptEventsOfChild(this.props,f,b)),reactExports.createElement(Surface,{width:n,height:n,viewBox:m,style:p,"aria-label":"".concat(A," legend icon")},this.renderIcon(f,h)),reactExports.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},A))})}render(){var{payload:t,layout:n,align:i}=this.props;if(!t||!t.length)return null;var o={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return reactExports.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}_defineProperty$D(DefaultLegendContent,"displayName","Legend");_defineProperty$D(DefaultLegendContent,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var uniqBy$3={},uniqBy$2={},hasRequiredUniqBy$2;function requireUniqBy$2(){return hasRequiredUniqBy$2||(hasRequiredUniqBy$2=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i){const o=new Map;for(let u=0;u<n.length;u++){const h=n[u],m=i(h);o.has(m)||o.set(m,h)}return Array.from(o.values())}e.uniqBy=t}(uniqBy$2)),uniqBy$2}var identity$4={},hasRequiredIdentity;function requireIdentity(){return hasRequiredIdentity||(hasRequiredIdentity=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t}(identity$4)),identity$4}var isArrayLikeObject={},isArrayLike={},isLength={},hasRequiredIsLength;function requireIsLength(){return hasRequiredIsLength||(hasRequiredIsLength=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t}(isLength)),isLength}var hasRequiredIsArrayLike;function requireIsArrayLike(){return hasRequiredIsArrayLike||(hasRequiredIsArrayLike=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsLength();function n(i){return i!=null&&typeof i!="function"&&t.isLength(i.length)}e.isArrayLike=n}(isArrayLike)),isArrayLike}var isObjectLike={},hasRequiredIsObjectLike;function requireIsObjectLike(){return hasRequiredIsObjectLike||(hasRequiredIsObjectLike=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t}(isObjectLike)),isObjectLike}var hasRequiredIsArrayLikeObject;function requireIsArrayLikeObject(){return hasRequiredIsArrayLikeObject||(hasRequiredIsArrayLikeObject=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsArrayLike(),n=requireIsObjectLike();function i(o){return n.isObjectLike(o)&&t.isArrayLike(o)}e.isArrayLikeObject=i}(isArrayLikeObject)),isArrayLikeObject}var iteratee={},property={},hasRequiredProperty;function requireProperty(){return hasRequiredProperty||(hasRequiredProperty=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireGet$1();function n(i){return function(o){return t.get(o,i)}}e.property=n}(property)),property}var matches={},isMatch={},isMatchWith={},isObject={},hasRequiredIsObject;function requireIsObject(){return hasRequiredIsObject||(hasRequiredIsObject=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t}(isObject)),isObject}var isPrimitive={},hasRequiredIsPrimitive;function requireIsPrimitive(){return hasRequiredIsPrimitive||(hasRequiredIsPrimitive=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t}(isPrimitive)),isPrimitive}var eq={},hasRequiredEq;function requireEq(){return hasRequiredEq||(hasRequiredEq=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i){return n===i||Number.isNaN(n)&&Number.isNaN(i)}e.eq=t}(eq)),eq}var hasRequiredIsMatchWith;function requireIsMatchWith(){return hasRequiredIsMatchWith||(hasRequiredIsMatchWith=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsMatch(),n=requireIsObject(),i=requireIsPrimitive(),o=requireEq();function u(b,w,S){return typeof S!="function"?t.isMatch(b,w):h(b,w,function j(A,T,C,O,M,R){const _=S(A,T,C,O,M,R);return _!==void 0?!!_:h(A,T,j,R)},new Map)}function h(b,w,S,j){if(w===b)return!0;switch(typeof w){case"object":return m(b,w,S,j);case"function":return Object.keys(w).length>0?h(b,{...w},S,j):o.eq(b,w);default:return n.isObject(b)?typeof w=="string"?w==="":!0:o.eq(b,w)}}function m(b,w,S,j){if(w==null)return!0;if(Array.isArray(w))return p(b,w,S,j);if(w instanceof Map)return v(b,w,S,j);if(w instanceof Set)return f(b,w,S,j);const A=Object.keys(w);if(b==null)return A.length===0;if(A.length===0)return!0;if(j&&j.has(w))return j.get(w)===b;j&&j.set(w,b);try{for(let T=0;T<A.length;T++){const C=A[T];if(!i.isPrimitive(b)&&!(C in b)||w[C]===void 0&&b[C]!==void 0||w[C]===null&&b[C]!==null||!S(b[C],w[C],C,b,w,j))return!1}return!0}finally{j&&j.delete(w)}}function v(b,w,S,j){if(w.size===0)return!0;if(!(b instanceof Map))return!1;for(const[A,T]of w.entries()){const C=b.get(A);if(S(C,T,A,b,w,j)===!1)return!1}return!0}function p(b,w,S,j){if(w.length===0)return!0;if(!Array.isArray(b))return!1;const A=new Set;for(let T=0;T<w.length;T++){const C=w[T];let O=!1;for(let M=0;M<b.length;M++){if(A.has(M))continue;const R=b[M];let _=!1;if(S(R,C,T,b,w,j)&&(_=!0),_){A.add(M),O=!0;break}}if(!O)return!1}return!0}function f(b,w,S,j){return w.size===0?!0:b instanceof Set?p([...b],[...w],S,j):!1}e.isMatchWith=u,e.isSetMatch=f}(isMatchWith)),isMatchWith}var hasRequiredIsMatch;function requireIsMatch(){return hasRequiredIsMatch||(hasRequiredIsMatch=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsMatchWith();function n(i,o){return t.isMatchWith(i,o,()=>{})}e.isMatch=n}(isMatch)),isMatch}var cloneDeep$1={},cloneDeepWith$1={},getSymbols={},hasRequiredGetSymbols;function requireGetSymbols(){return hasRequiredGetSymbols||(hasRequiredGetSymbols=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(i=>Object.prototype.propertyIsEnumerable.call(n,i))}e.getSymbols=t}(getSymbols)),getSymbols}var getTag={},hasRequiredGetTag;function requireGetTag(){return hasRequiredGetTag||(hasRequiredGetTag=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t}(getTag)),getTag}var tags={},hasRequiredTags;function requireTags(){return hasRequiredTags||(hasRequiredTags=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",i="[object Number]",o="[object Boolean]",u="[object Arguments]",h="[object Symbol]",m="[object Date]",v="[object Map]",p="[object Set]",f="[object Array]",b="[object Function]",w="[object ArrayBuffer]",S="[object Object]",j="[object Error]",A="[object DataView]",T="[object Uint8Array]",C="[object Uint8ClampedArray]",O="[object Uint16Array]",M="[object Uint32Array]",R="[object BigUint64Array]",_="[object Int8Array]",q="[object Int16Array]",se="[object Int32Array]",ee="[object BigInt64Array]",ae="[object Float32Array]",pe="[object Float64Array]";e.argumentsTag=u,e.arrayBufferTag=w,e.arrayTag=f,e.bigInt64ArrayTag=ee,e.bigUint64ArrayTag=R,e.booleanTag=o,e.dataViewTag=A,e.dateTag=m,e.errorTag=j,e.float32ArrayTag=ae,e.float64ArrayTag=pe,e.functionTag=b,e.int16ArrayTag=q,e.int32ArrayTag=se,e.int8ArrayTag=_,e.mapTag=v,e.numberTag=i,e.objectTag=S,e.regexpTag=t,e.setTag=p,e.stringTag=n,e.symbolTag=h,e.uint16ArrayTag=O,e.uint32ArrayTag=M,e.uint8ArrayTag=T,e.uint8ClampedArrayTag=C}(tags)),tags}var isTypedArray={},hasRequiredIsTypedArray;function requireIsTypedArray(){return hasRequiredIsTypedArray||(hasRequiredIsTypedArray=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t}(isTypedArray)),isTypedArray}var hasRequiredCloneDeepWith$1;function requireCloneDeepWith$1(){return hasRequiredCloneDeepWith$1||(hasRequiredCloneDeepWith$1=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireGetSymbols(),n=requireGetTag(),i=requireTags(),o=requireIsPrimitive(),u=requireIsTypedArray();function h(f,b){return m(f,void 0,f,new Map,b)}function m(f,b,w,S=new Map,j=void 0){const A=j?.(f,b,w,S);if(A!==void 0)return A;if(o.isPrimitive(f))return f;if(S.has(f))return S.get(f);if(Array.isArray(f)){const T=new Array(f.length);S.set(f,T);for(let C=0;C<f.length;C++)T[C]=m(f[C],C,w,S,j);return Object.hasOwn(f,"index")&&(T.index=f.index),Object.hasOwn(f,"input")&&(T.input=f.input),T}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const T=new RegExp(f.source,f.flags);return T.lastIndex=f.lastIndex,T}if(f instanceof Map){const T=new Map;S.set(f,T);for(const[C,O]of f)T.set(C,m(O,C,w,S,j));return T}if(f instanceof Set){const T=new Set;S.set(f,T);for(const C of f)T.add(m(C,void 0,w,S,j));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(u.isTypedArray(f)){const T=new(Object.getPrototypeOf(f)).constructor(f.length);S.set(f,T);for(let C=0;C<f.length;C++)T[C]=m(f[C],C,w,S,j);return T}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const T=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return S.set(f,T),v(T,f,w,S,j),T}if(typeof File<"u"&&f instanceof File){const T=new File([f],f.name,{type:f.type});return S.set(f,T),v(T,f,w,S,j),T}if(f instanceof Blob){const T=new Blob([f],{type:f.type});return S.set(f,T),v(T,f,w,S,j),T}if(f instanceof Error){const T=new f.constructor;return S.set(f,T),T.message=f.message,T.name=f.name,T.stack=f.stack,T.cause=f.cause,v(T,f,w,S,j),T}if(typeof f=="object"&&p(f)){const T=Object.create(Object.getPrototypeOf(f));return S.set(f,T),v(T,f,w,S,j),T}return f}function v(f,b,w=f,S,j){const A=[...Object.keys(b),...t.getSymbols(b)];for(let T=0;T<A.length;T++){const C=A[T],O=Object.getOwnPropertyDescriptor(f,C);(O==null||O.writable)&&(f[C]=m(b[C],C,w,S,j))}}function p(f){switch(n.getTag(f)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=h,e.cloneDeepWithImpl=m,e.copyProperties=v}(cloneDeepWith$1)),cloneDeepWith$1}var hasRequiredCloneDeep$1;function requireCloneDeep$1(){return hasRequiredCloneDeep$1||(hasRequiredCloneDeep$1=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireCloneDeepWith$1();function n(i){return t.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}e.cloneDeep=n}(cloneDeep$1)),cloneDeep$1}var hasRequiredMatches;function requireMatches(){return hasRequiredMatches||(hasRequiredMatches=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsMatch(),n=requireCloneDeep$1();function i(o){return o=n.cloneDeep(o),u=>t.isMatch(u,o)}e.matches=i}(matches)),matches}var matchesProperty={},cloneDeep={},cloneDeepWith={},hasRequiredCloneDeepWith;function requireCloneDeepWith(){return hasRequiredCloneDeepWith||(hasRequiredCloneDeepWith=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireCloneDeepWith$1(),n=requireTags();function i(o,u){return t.cloneDeepWith(o,(h,m,v,p)=>{const f=u?.(h,m,v,p);if(f!==void 0)return f;if(typeof o=="object")switch(Object.prototype.toString.call(o)){case n.numberTag:case n.stringTag:case n.booleanTag:{const b=new o.constructor(o?.valueOf());return t.copyProperties(b,o),b}case n.argumentsTag:{const b={};return t.copyProperties(b,o),b.length=o.length,b[Symbol.iterator]=o[Symbol.iterator],b}default:return}})}e.cloneDeepWith=i}(cloneDeepWith)),cloneDeepWith}var hasRequiredCloneDeep;function requireCloneDeep(){return hasRequiredCloneDeep||(hasRequiredCloneDeep=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireCloneDeepWith();function n(i){return t.cloneDeepWith(i)}e.cloneDeep=n}(cloneDeep)),cloneDeep}var has$1={},isIndex={},hasRequiredIsIndex;function requireIsIndex(){return hasRequiredIsIndex||(hasRequiredIsIndex=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(i,o=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<o;case"symbol":return!1;case"string":return t.test(i)}}e.isIndex=n}(isIndex)),isIndex}var isArguments={},hasRequiredIsArguments;function requireIsArguments(){return hasRequiredIsArguments||(hasRequiredIsArguments=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireGetTag();function n(i){return i!==null&&typeof i=="object"&&t.getTag(i)==="[object Arguments]"}e.isArguments=n}(isArguments)),isArguments}var hasRequiredHas;function requireHas(){return hasRequiredHas||(hasRequiredHas=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsDeepKey(),n=requireIsIndex(),i=requireIsArguments(),o=requireToPath();function u(h,m){let v;if(Array.isArray(m)?v=m:typeof m=="string"&&t.isDeepKey(m)&&h?.[m]==null?v=o.toPath(m):v=[m],v.length===0)return!1;let p=h;for(let f=0;f<v.length;f++){const b=v[f];if((p==null||!Object.hasOwn(p,b))&&!((Array.isArray(p)||i.isArguments(p))&&n.isIndex(b)&&b<p.length))return!1;p=p[b]}return!0}e.has=u}(has$1)),has$1}var hasRequiredMatchesProperty;function requireMatchesProperty(){return hasRequiredMatchesProperty||(hasRequiredMatchesProperty=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsMatch(),n=requireToKey(),i=requireCloneDeep(),o=requireGet$1(),u=requireHas();function h(m,v){switch(typeof m){case"object":{Object.is(m?.valueOf(),-0)&&(m="-0");break}case"number":{m=n.toKey(m);break}}return v=i.cloneDeep(v),function(p){const f=o.get(p,m);return f===void 0?u.has(p,m):v===void 0?f===void 0:t.isMatch(f,v)}}e.matchesProperty=h}(matchesProperty)),matchesProperty}var hasRequiredIteratee;function requireIteratee(){return hasRequiredIteratee||(hasRequiredIteratee=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIdentity(),n=requireProperty(),i=requireMatches(),o=requireMatchesProperty();function u(h){if(h==null)return t.identity;switch(typeof h){case"function":return h;case"object":return Array.isArray(h)&&h.length===2?o.matchesProperty(h[0],h[1]):i.matches(h);case"string":case"symbol":case"number":return n.property(h)}}e.iteratee=u}(iteratee)),iteratee}var hasRequiredUniqBy$1;function requireUniqBy$1(){return hasRequiredUniqBy$1||(hasRequiredUniqBy$1=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireUniqBy$2(),n=requireIdentity(),i=requireIsArrayLikeObject(),o=requireIteratee();function u(h,m=n.identity){return i.isArrayLikeObject(h)?t.uniqBy(Array.from(h),o.iteratee(m)):[]}e.uniqBy=u}(uniqBy$3)),uniqBy$3}var uniqBy$1,hasRequiredUniqBy;function requireUniqBy(){return hasRequiredUniqBy||(hasRequiredUniqBy=1,uniqBy$1=requireUniqBy$1().uniqBy),uniqBy$1}var uniqByExports=requireUniqBy();const uniqBy=getDefaultExportFromCjs(uniqByExports);function getUniqPayload(e,t,n){return t===!0?uniqBy(e,n):typeof t=="function"?uniqBy(e,t):e}var withSelector$1={exports:{}},withSelector_production={},shim={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var e=requireReact();function t(b,w){return b===w&&(b!==0||1/b===1/w)||b!==b&&w!==w}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,o=e.useEffect,u=e.useLayoutEffect,h=e.useDebugValue;function m(b,w){var S=w(),j=i({inst:{value:S,getSnapshot:w}}),A=j[0].inst,T=j[1];return u(function(){A.value=S,A.getSnapshot=w,v(A)&&T({inst:A})},[b,S,w]),o(function(){return v(A)&&T({inst:A}),b(function(){v(A)&&T({inst:A})})},[b]),h(S),S}function v(b){var w=b.getSnapshot;b=b.value;try{var S=w();return!n(b,S)}catch{return!0}}function p(b,w){return w()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:m;return useSyncExternalStoreShim_production.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production;function requireWithSelector_production(){if(hasRequiredWithSelector_production)return withSelector_production;hasRequiredWithSelector_production=1;var e=requireReact(),t=requireShim();function n(p,f){return p===f&&(p!==0||1/p===1/f)||p!==p&&f!==f}var i=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,u=e.useRef,h=e.useEffect,m=e.useMemo,v=e.useDebugValue;return withSelector_production.useSyncExternalStoreWithSelector=function(p,f,b,w,S){var j=u(null);if(j.current===null){var A={hasValue:!1,value:null};j.current=A}else A=j.current;j=m(function(){function C(q){if(!O){if(O=!0,M=q,q=w(q),S!==void 0&&A.hasValue){var se=A.value;if(S(se,q))return R=se}return R=q}if(se=R,i(M,q))return se;var ee=w(q);return S!==void 0&&S(se,ee)?(M=q,se):(M=q,R=ee)}var O=!1,M,R,_=b===void 0?null:b;return[function(){return C(f())},_===null?void 0:function(){return C(_())}]},[f,b,w,S]);var T=o(p,j[0],j[1]);return h(function(){A.hasValue=!0,A.value=T},[T]),v(T),T},withSelector_production}var hasRequiredWithSelector$1;function requireWithSelector$1(){return hasRequiredWithSelector$1||(hasRequiredWithSelector$1=1,withSelector$1.exports=requireWithSelector_production()),withSelector$1.exports}var withSelectorExports=requireWithSelector$1(),RechartsReduxContext=reactExports.createContext(null),noopDispatch=e=>e,useAppDispatch=()=>{var e=reactExports.useContext(RechartsReduxContext);return e?e.store.dispatch:noopDispatch},noop$4=()=>{},addNestedSubNoop=()=>noop$4,refEquality=(e,t)=>e===t;function useAppSelector(e){var t=reactExports.useContext(RechartsReduxContext);return withSelectorExports.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:addNestedSubNoop,t?t.store.getState:noop$4,t?t.store.getState:noop$4,t?e:noop$4,refEquality)}function assertIsFunction(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function assertIsObject(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function assertIsArrayOfFunctions(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${t}[${n}]`)}}var ensureIsArray=e=>Array.isArray(e)?e:[e];function getDependencies(e){const t=Array.isArray(e[0])?e[0]:e;return assertIsArrayOfFunctions(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function collectInputSelectorResults(e,t){const n=[],{length:i}=e;for(let o=0;o<i;o++)n.push(e[o].apply(null,t));return n}var StrongRef=class{constructor(e){this.value=e}deref(){return this.value}},Ref=typeof WeakRef<"u"?WeakRef:StrongRef,UNTERMINATED=0,TERMINATED=1;function createCacheNode(){return{s:UNTERMINATED,v:void 0,o:null,p:null}}function weakMapMemoize(e,t={}){let n=createCacheNode();const{resultEqualityCheck:i}=t;let o,u=0;function h(){let m=n;const{length:v}=arguments;for(let b=0,w=v;b<w;b++){const S=arguments[b];if(typeof S=="function"||typeof S=="object"&&S!==null){let j=m.o;j===null&&(m.o=j=new WeakMap);const A=j.get(S);A===void 0?(m=createCacheNode(),j.set(S,m)):m=A}else{let j=m.p;j===null&&(m.p=j=new Map);const A=j.get(S);A===void 0?(m=createCacheNode(),j.set(S,m)):m=A}}const p=m;let f;if(m.s===TERMINATED)f=m.v;else if(f=e.apply(null,arguments),u++,i){const b=o?.deref?.()??o;b!=null&&i(b,f)&&(f=b,u!==0&&u--),o=typeof f=="object"&&f!==null||typeof f=="function"?new Ref(f):f}return p.s=TERMINATED,p.v=f,f}return h.clearCache=()=>{n=createCacheNode(),h.resetResultsCount()},h.resultsCount=()=>u,h.resetResultsCount=()=>{u=0},h}function createSelectorCreator(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,i=(...o)=>{let u=0,h=0,m,v={},p=o.pop();typeof p=="object"&&(v=p,p=o.pop()),assertIsFunction(p,`createSelector expects an output function after the inputs, but received: [${typeof p}]`);const f={...n,...v},{memoize:b,memoizeOptions:w=[],argsMemoize:S=weakMapMemoize,argsMemoizeOptions:j=[]}=f,A=ensureIsArray(w),T=ensureIsArray(j),C=getDependencies(o),O=b(function(){return u++,p.apply(null,arguments)},...A),M=S(function(){h++;const _=collectInputSelectorResults(C,arguments);return m=O.apply(null,_),m},...T);return Object.assign(M,{resultFunc:p,memoizedResultFunc:O,dependencies:C,dependencyRecomputations:()=>h,resetDependencyRecomputations:()=>{h=0},lastResult:()=>m,recomputations:()=>u,resetRecomputations:()=>{u=0},memoize:b,argsMemoize:S})};return Object.assign(i,{withTypes:()=>i}),i}var createSelector=createSelectorCreator(weakMapMemoize),createStructuredSelector=Object.assign((e,t=createSelector)=>{assertIsObject(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),i=n.map(u=>e[u]);return t(i,(...u)=>u.reduce((h,m,v)=>(h[n[v]]=m,h),{}))},{withTypes:()=>createStructuredSelector}),sortBy$2={},orderBy={},compareValues={},hasRequiredCompareValues;function requireCompareValues(){return hasRequiredCompareValues||(hasRequiredCompareValues=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const n=(i,o,u)=>{if(i!==o){const h=t(i),m=t(o);if(h===m&&h===0){if(i<o)return u==="desc"?1:-1;if(i>o)return u==="desc"?-1:1}return u==="desc"?m-h:h-m}return 0};e.compareValues=n}(compareValues)),compareValues}var isKey={},isSymbol={},hasRequiredIsSymbol;function requireIsSymbol(){return hasRequiredIsSymbol||(hasRequiredIsSymbol=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t}(isSymbol)),isSymbol}var hasRequiredIsKey;function requireIsKey(){return hasRequiredIsKey||(hasRequiredIsKey=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsSymbol(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function o(u,h){return Array.isArray(u)?!1:typeof u=="number"||typeof u=="boolean"||u==null||t.isSymbol(u)?!0:typeof u=="string"&&(i.test(u)||!n.test(u))||h!=null&&Object.hasOwn(h,u)}e.isKey=o}(isKey)),isKey}var hasRequiredOrderBy;function requireOrderBy(){return hasRequiredOrderBy||(hasRequiredOrderBy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireCompareValues(),n=requireIsKey(),i=requireToPath();function o(u,h,m,v){if(u==null)return[];m=v?void 0:m,Array.isArray(u)||(u=Object.values(u)),Array.isArray(h)||(h=h==null?[null]:[h]),h.length===0&&(h=[null]),Array.isArray(m)||(m=m==null?[]:[m]),m=m.map(S=>String(S));const p=(S,j)=>{let A=S;for(let T=0;T<j.length&&A!=null;++T)A=A[j[T]];return A},f=(S,j)=>j==null||S==null?j:typeof S=="object"&&"key"in S?Object.hasOwn(j,S.key)?j[S.key]:p(j,S.path):typeof S=="function"?S(j):Array.isArray(S)?p(j,S):typeof j=="object"?j[S]:j,b=h.map(S=>(Array.isArray(S)&&S.length===1&&(S=S[0]),S==null||typeof S=="function"||Array.isArray(S)||n.isKey(S)?S:{key:S,path:i.toPath(S)}));return u.map(S=>({original:S,criteria:b.map(j=>f(j,S))})).slice().sort((S,j)=>{for(let A=0;A<b.length;A++){const T=t.compareValues(S.criteria[A],j.criteria[A],m[A]);if(T!==0)return T}return 0}).map(S=>S.original)}e.orderBy=o}(orderBy)),orderBy}var flatten={},hasRequiredFlatten;function requireFlatten(){return hasRequiredFlatten||(hasRequiredFlatten=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i=1){const o=[],u=Math.floor(i),h=(m,v)=>{for(let p=0;p<m.length;p++){const f=m[p];Array.isArray(f)&&v<u?h(f,v+1):o.push(f)}};return h(n,0),o}e.flatten=t}(flatten)),flatten}var isIterateeCall={},hasRequiredIsIterateeCall;function requireIsIterateeCall(){return hasRequiredIsIterateeCall||(hasRequiredIsIterateeCall=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsIndex(),n=requireIsArrayLike(),i=requireIsObject(),o=requireEq();function u(h,m,v){return i.isObject(v)&&(typeof m=="number"&&n.isArrayLike(v)&&t.isIndex(m)&&m<v.length||typeof m=="string"&&m in v)?o.eq(v[m],h):!1}e.isIterateeCall=u}(isIterateeCall)),isIterateeCall}var hasRequiredSortBy$1;function requireSortBy$1(){return hasRequiredSortBy$1||(hasRequiredSortBy$1=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireOrderBy(),n=requireFlatten(),i=requireIsIterateeCall();function o(u,...h){const m=h.length;return m>1&&i.isIterateeCall(u,h[0],h[1])?h=[]:m>2&&i.isIterateeCall(h[0],h[1],h[2])&&(h=[h[0]]),t.orderBy(u,n.flatten(h),["asc"])}e.sortBy=o}(sortBy$2)),sortBy$2}var sortBy$1,hasRequiredSortBy;function requireSortBy(){return hasRequiredSortBy||(hasRequiredSortBy=1,sortBy$1=requireSortBy$1().sortBy),sortBy$1}var sortByExports=requireSortBy();const sortBy=getDefaultExportFromCjs(sortByExports);var selectLegendSettings=e=>e.legend.settings,selectLegendSize=e=>e.legend.size,selectAllLegendPayload2DArray=e=>e.legend.payload,selectLegendPayload=createSelector([selectAllLegendPayload2DArray,selectLegendSettings],(e,t)=>{var{itemSorter:n}=t,i=e.flat(1);return n?sortBy(i,n):i});function useLegendPayload(){return useAppSelector(selectLegendPayload)}var EPS$1=1;function useElementOffset(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=reactExports.useState({height:0,left:0,top:0,width:0}),i=reactExports.useCallback(o=>{if(o!=null){var u=o.getBoundingClientRect(),h={height:u.height,left:u.left,top:u.top,width:u.width};(Math.abs(h.height-t.height)>EPS$1||Math.abs(h.left-t.left)>EPS$1||Math.abs(h.top-t.top)>EPS$1||Math.abs(h.width-t.width)>EPS$1)&&n({height:h.height,left:h.left,top:h.top,width:h.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,i]}function formatProdErrorMessage$1(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$4(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function createStore(e,t,n){if(typeof e!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(formatProdErrorMessage$1(1));return n(createStore)(e,t)}let i=e,o=t,u=new Map,h=u,m=0,v=!1;function p(){h===u&&(h=new Map,u.forEach((T,C)=>{h.set(C,T)}))}function f(){if(v)throw new Error(formatProdErrorMessage$1(3));return o}function b(T){if(typeof T!="function")throw new Error(formatProdErrorMessage$1(4));if(v)throw new Error(formatProdErrorMessage$1(5));let C=!0;p();const O=m++;return h.set(O,T),function(){if(C){if(v)throw new Error(formatProdErrorMessage$1(6));C=!1,p(),h.delete(O),u=null}}}function w(T){if(!isPlainObject$4(T))throw new Error(formatProdErrorMessage$1(7));if(typeof T.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof T.type!="string")throw new Error(formatProdErrorMessage$1(17));if(v)throw new Error(formatProdErrorMessage$1(9));try{v=!0,o=i(o,T)}finally{v=!1}return(u=h).forEach(O=>{O()}),T}function S(T){if(typeof T!="function")throw new Error(formatProdErrorMessage$1(10));i=T,w({type:actionTypes_default.REPLACE})}function j(){const T=b;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(formatProdErrorMessage$1(11));function O(){const R=C;R.next&&R.next(f())}return O(),{unsubscribe:T(O)}},[symbol_observable_default](){return this}}}return w({type:actionTypes_default.INIT}),{dispatch:w,subscribe:b,getState:f,replaceReducer:S,[symbol_observable_default]:j}}function assertReducerShape(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof n(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(e){const t=Object.keys(e),n={};for(let u=0;u<t.length;u++){const h=t[u];typeof e[h]=="function"&&(n[h]=e[h])}const i=Object.keys(n);let o;try{assertReducerShape(n)}catch(u){o=u}return function(h={},m){if(o)throw o;let v=!1;const p={};for(let f=0;f<i.length;f++){const b=i[f],w=n[b],S=h[b],j=w(S,m);if(typeof j>"u")throw m&&m.type,new Error(formatProdErrorMessage$1(14));p[b]=j,v=v||j!==S}return v=v||i.length!==Object.keys(h).length,v?p:h}}function compose$1(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...i)=>t(n(...i)))}function applyMiddleware(...e){return t=>(n,i)=>{const o=t(n,i);let u=()=>{throw new Error(formatProdErrorMessage$1(15))};const h={getState:o.getState,dispatch:(v,...p)=>u(v,...p)},m=e.map(v=>v(h));return u=compose$1(...m)(o.dispatch),{...o,dispatch:u}}}function isAction(e){return isPlainObject$4(e)&&"type"in e&&typeof e.type=="string"}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(e){return!!e&&!!e[DRAFT_STATE]}function isDraftable(e){return e?isPlainObject$3(e)||Array.isArray(e)||!!e[DRAFTABLE]||!!e.constructor?.[DRAFTABLE]||isMap(e)||isSet(e):!1}var objectCtorString=Object.prototype.constructor.toString();function isPlainObject$3(e){if(!e||typeof e!="object")return!1;const t=getPrototypeOf(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===objectCtorString}function each(e,t){getArchtype(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,i)=>t(i,n,e))}function getArchtype(e){const t=e[DRAFT_STATE];return t?t.type_:Array.isArray(e)?1:isMap(e)?2:isSet(e)?3:0}function has(e,t){return getArchtype(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function set(e,t,n){const i=getArchtype(e);i===2?e.set(t,n):i===3?e.add(n):e[t]=n}function is(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function isMap(e){return e instanceof Map}function isSet(e){return e instanceof Set}function latest(e){return e.copy_||e.base_}function shallowCopy(e,t){if(isMap(e))return new Map(e);if(isSet(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=isPlainObject$3(e);if(t===!0||t==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(e);delete i[DRAFT_STATE];let o=Reflect.ownKeys(i);for(let u=0;u<o.length;u++){const h=o[u],m=i[h];m.writable===!1&&(m.writable=!0,m.configurable=!0),(m.get||m.set)&&(i[h]={configurable:!0,writable:!0,enumerable:m.enumerable,value:e[h]})}return Object.create(getPrototypeOf(e),i)}else{const i=getPrototypeOf(e);if(i!==null&&n)return{...e};const o=Object.create(i);return Object.assign(o,e)}}function freeze(e,t=!1){return isFrozen(e)||isDraft(e)||!isDraftable(e)||(getArchtype(e)>1&&Object.defineProperties(e,{set:{value:dontMutateFrozenCollections},add:{value:dontMutateFrozenCollections},clear:{value:dontMutateFrozenCollections},delete:{value:dontMutateFrozenCollections}}),Object.freeze(e),t&&Object.values(e).forEach(n=>freeze(n,!0))),e}function dontMutateFrozenCollections(){die(2)}function isFrozen(e){return Object.isFrozen(e)}var plugins={};function getPlugin(e){const t=plugins[e];return t||die(0,e),t}var currentScope;function getCurrentScope(){return currentScope}function createScope(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(e,t){t&&(getPlugin("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function revokeScope(e){leaveScope(e),e.drafts_.forEach(revokeDraft),e.drafts_=null}function leaveScope(e){e===currentScope&&(currentScope=e.parent_)}function enterScope(e){return currentScope=createScope(currentScope,e)}function revokeDraft(e){const t=e[DRAFT_STATE];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function processResult(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[DRAFT_STATE].modified_&&(revokeScope(t),die(4)),isDraftable(e)&&(e=finalize(t,e),t.parent_||maybeFreeze(t,e)),t.patches_&&getPlugin("Patches").generateReplacementPatches_(n[DRAFT_STATE].base_,e,t.patches_,t.inversePatches_)):e=finalize(t,n,[]),revokeScope(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==NOTHING?e:void 0}function finalize(e,t,n){if(isFrozen(t))return t;const i=t[DRAFT_STATE];if(!i)return each(t,(o,u)=>finalizeProperty(e,i,t,o,u,n)),t;if(i.scope_!==e)return t;if(!i.modified_)return maybeFreeze(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let u=o,h=!1;i.type_===3&&(u=new Set(o),o.clear(),h=!0),each(u,(m,v)=>finalizeProperty(e,i,o,m,v,n,h)),maybeFreeze(e,o,!1),n&&e.patches_&&getPlugin("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function finalizeProperty(e,t,n,i,o,u,h){if(isDraft(o)){const m=u&&t&&t.type_!==3&&!has(t.assigned_,i)?u.concat(i):void 0,v=finalize(e,o,m);if(set(n,i,v),isDraft(v))e.canAutoFreeze_=!1;else return}else h&&n.add(o);if(isDraftable(o)&&!isFrozen(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;finalize(e,o),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&(isMap(n)?n.has(i):Object.prototype.propertyIsEnumerable.call(n,i))&&maybeFreeze(e,o)}}function maybeFreeze(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&freeze(t,n)}function createProxyProxy(e,t){const n=Array.isArray(e),i={type_:n?1:0,scope_:t?t.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=i,u=objectTraps;n&&(o=[i],u=arrayTraps);const{revoke:h,proxy:m}=Proxy.revocable(o,u);return i.draft_=m,i.revoke_=h,m}var objectTraps={get(e,t){if(t===DRAFT_STATE)return e;const n=latest(e);if(!has(n,t))return readPropFromProto(e,n,t);const i=n[t];return e.finalized_||!isDraftable(i)?i:i===peek(e.base_,t)?(prepareCopy(e),e.copy_[t]=createProxy(i,e)):i},has(e,t){return t in latest(e)},ownKeys(e){return Reflect.ownKeys(latest(e))},set(e,t,n){const i=getDescriptorFromProto(latest(e),t);if(i?.set)return i.set.call(e.draft_,n),!0;if(!e.modified_){const o=peek(latest(e),t),u=o?.[DRAFT_STATE];if(u&&u.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(is(n,o)&&(n!==void 0||has(e.base_,t)))return!0;prepareCopy(e),markChanged(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return peek(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,prepareCopy(e),markChanged(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=latest(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:i.enumerable,value:n[t]}},defineProperty(){die(11)},getPrototypeOf(e){return getPrototypeOf(e.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(e,t)=>{arrayTraps[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});arrayTraps.deleteProperty=function(e,t){return arrayTraps.set.call(this,e,t,void 0)};arrayTraps.set=function(e,t,n){return objectTraps.set.call(this,e[0],t,n,e[0])};function peek(e,t){const n=e[DRAFT_STATE];return(n?latest(n):e)[t]}function readPropFromProto(e,t,n){const i=getDescriptorFromProto(t,n);return i?"value"in i?i.value:i.get?.call(e.draft_):void 0}function getDescriptorFromProto(e,t){if(!(t in e))return;let n=getPrototypeOf(e);for(;n;){const i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=getPrototypeOf(n)}}function markChanged(e){e.modified_||(e.modified_=!0,e.parent_&&markChanged(e.parent_))}function prepareCopy(e){e.copy_||(e.copy_=shallowCopy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,i)=>{if(typeof t=="function"&&typeof n!="function"){const u=n;n=t;const h=this;return function(v=u,...p){return h.produce(v,f=>n.call(this,f,...p))}}typeof n!="function"&&die(6),i!==void 0&&typeof i!="function"&&die(7);let o;if(isDraftable(t)){const u=enterScope(this),h=createProxy(t,void 0);let m=!0;try{o=n(h),m=!1}finally{m?revokeScope(u):leaveScope(u)}return usePatchesInScope(u,i),processResult(o,u)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===NOTHING&&(o=void 0),this.autoFreeze_&&freeze(o,!0),i){const u=[],h=[];getPlugin("Patches").generateReplacementPatches_(t,o,u,h),i(u,h)}return o}else die(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(h,...m)=>this.produceWithPatches(h,v=>t(v,...m));let i,o;return[this.produce(t,n,(h,m)=>{i=h,o=m}),i,o]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){isDraftable(e)||die(8),isDraft(e)&&(e=current(e));const t=enterScope(this),n=createProxy(e,void 0);return n[DRAFT_STATE].isManual_=!0,leaveScope(t),n}finishDraft(e,t){const n=e&&e[DRAFT_STATE];(!n||!n.isManual_)&&die(9);const{scope_:i}=n;return usePatchesInScope(i,t),processResult(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const i=getPlugin("Patches").applyPatches_;return isDraft(e)?i(e,t):this.produce(e,o=>i(o,t))}};function createProxy(e,t){const n=isMap(e)?getPlugin("MapSet").proxyMap_(e,t):isSet(e)?getPlugin("MapSet").proxySet_(e,t):createProxyProxy(e,t);return(t?t.scope_:getCurrentScope()).drafts_.push(n),n}function current(e){return isDraft(e)||die(10,e),currentImpl(e)}function currentImpl(e){if(!isDraftable(e)||isFrozen(e))return e;const t=e[DRAFT_STATE];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=shallowCopy(e,t.scope_.immer_.useStrictShallowCopy_)}else n=shallowCopy(e,!0);return each(n,(i,o)=>{set(n,i,currentImpl(o))}),t&&(t.finalized_=!1),n}var immer=new Immer2,produce=immer.produce;function castDraft(e){return e}function createThunkMiddleware(e){return({dispatch:n,getState:i})=>o=>u=>typeof u=="function"?u(n,i,e):o(u)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose$1:compose$1.apply(null,arguments)};function createAction(e,t){function n(...i){if(t){let o=t(...i);if(!o)throw new Error(formatProdErrorMessage(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:i[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=i=>isAction(i)&&i.type===e,n}var Tuple=class Ji extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ji.prototype)}static get[Symbol.species](){return Ji}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ji(...t[0].concat(this)):new Ji(...t.concat(this))}};function freezeDraftable(e){return isDraftable(e)?produce(e,()=>{}):e}function getOrInsertComputed(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function isBoolean(e){return typeof e=="boolean"}var buildGetDefaultMiddleware=()=>function(t){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=t??{};let h=new Tuple;return n&&(isBoolean(n)?h.push(thunk):h.push(withExtraArgument(n.extraArgument))),h},SHOULD_AUTOBATCH="RTK_autoBatch",createQueueWithTimer=e=>t=>{setTimeout(t,e)},autoBatchEnhancer=(e={type:"raf"})=>t=>(...n)=>{const i=t(...n);let o=!0,u=!1,h=!1;const m=new Set,v=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10):e.type==="callback"?e.queueNotification:createQueueWithTimer(e.timeout),p=()=>{h=!1,u&&(u=!1,m.forEach(f=>f()))};return Object.assign({},i,{subscribe(f){const b=()=>o&&f(),w=i.subscribe(b);return m.add(f),()=>{w(),m.delete(f)}},dispatch(f){try{return o=!f?.meta?.[SHOULD_AUTOBATCH],u=!o,u&&(h||(h=!0,v(p))),i.dispatch(f)}finally{o=!0}}})},buildGetDefaultEnhancers=e=>function(n){const{autoBatch:i=!0}=n??{};let o=new Tuple(e);return i&&o.push(autoBatchEnhancer(typeof i=="object"?i:void 0)),o};function configureStore(e){const t=buildGetDefaultMiddleware(),{reducer:n=void 0,middleware:i,devTools:o=!0,preloadedState:u=void 0,enhancers:h=void 0}=e||{};let m;if(typeof n=="function")m=n;else if(isPlainObject$4(n))m=combineReducers(n);else throw new Error(formatProdErrorMessage(1));let v;typeof i=="function"?v=i(t):v=t();let p=compose$1;o&&(p=composeWithDevTools({trace:!1,...typeof o=="object"&&o}));const f=applyMiddleware(...v),b=buildGetDefaultEnhancers(f);let w=typeof h=="function"?h(b):b();const S=p(...w);return createStore(m,u,S)}function executeReducerBuilderCallback(e){const t={},n=[];let i;const o={addCase(u,h){const m=typeof u=="string"?u:u.type;if(!m)throw new Error(formatProdErrorMessage(28));if(m in t)throw new Error(formatProdErrorMessage(29));return t[m]=h,o},addAsyncThunk(u,h){return h.pending&&(t[u.pending.type]=h.pending),h.rejected&&(t[u.rejected.type]=h.rejected),h.fulfilled&&(t[u.fulfilled.type]=h.fulfilled),h.settled&&n.push({matcher:u.settled,reducer:h.settled}),o},addMatcher(u,h){return n.push({matcher:u,reducer:h}),o},addDefaultCase(u){return i=u,o}};return e(o),[t,n,i]}function isStateFunction(e){return typeof e=="function"}function createReducer(e,t){let[n,i,o]=executeReducerBuilderCallback(t),u;if(isStateFunction(e))u=()=>freezeDraftable(e());else{const m=freezeDraftable(e);u=()=>m}function h(m=u(),v){let p=[n[v.type],...i.filter(({matcher:f})=>f(v)).map(({reducer:f})=>f)];return p.filter(f=>!!f).length===0&&(p=[o]),p.reduce((f,b)=>{if(b)if(isDraft(f)){const S=b(f,v);return S===void 0?f:S}else{if(isDraftable(f))return produce(f,w=>b(w,v));{const w=b(f,v);if(w===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return f},m)}return h.getInitialState=u,h}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=(e=21)=>{let t="",n=e;for(;n--;)t+=urlAlphabet[Math.random()*64|0];return t},asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(e,t){return`${e}/${t}`}function buildCreateSlice({creators:e}={}){const t=e?.asyncThunk?.[asyncThunkSymbol];return function(i){const{name:o,reducerPath:u=o}=i;if(!o)throw new Error(formatProdErrorMessage(11));const h=(typeof i.reducers=="function"?i.reducers(buildReducerCreators()):i.reducers)||{},m=Object.keys(h),v={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(M,R){const _=typeof M=="string"?M:M.type;if(!_)throw new Error(formatProdErrorMessage(12));if(_ in v.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return v.sliceCaseReducersByType[_]=R,p},addMatcher(M,R){return v.sliceMatchers.push({matcher:M,reducer:R}),p},exposeAction(M,R){return v.actionCreators[M]=R,p},exposeCaseReducer(M,R){return v.sliceCaseReducersByName[M]=R,p}};m.forEach(M=>{const R=h[M],_={reducerName:M,type:getType(o,M),createNotation:typeof i.reducers=="function"};isAsyncThunkSliceReducerDefinition(R)?handleThunkCaseReducerDefinition(_,R,p,t):handleNormalReducerDefinition(_,R,p)});function f(){const[M={},R=[],_=void 0]=typeof i.extraReducers=="function"?executeReducerBuilderCallback(i.extraReducers):[i.extraReducers],q={...M,...v.sliceCaseReducersByType};return createReducer(i.initialState,se=>{for(let ee in q)se.addCase(ee,q[ee]);for(let ee of v.sliceMatchers)se.addMatcher(ee.matcher,ee.reducer);for(let ee of R)se.addMatcher(ee.matcher,ee.reducer);_&&se.addDefaultCase(_)})}const b=M=>M,w=new Map,S=new WeakMap;let j;function A(M,R){return j||(j=f()),j(M,R)}function T(){return j||(j=f()),j.getInitialState()}function C(M,R=!1){function _(se){let ee=se[M];return typeof ee>"u"&&R&&(ee=getOrInsertComputed(S,_,T)),ee}function q(se=b){const ee=getOrInsertComputed(w,R,()=>new WeakMap);return getOrInsertComputed(ee,se,()=>{const ae={};for(const[pe,fe]of Object.entries(i.selectors??{}))ae[pe]=wrapSelector(fe,se,()=>getOrInsertComputed(S,se,T),R);return ae})}return{reducerPath:M,getSelectors:q,get selectors(){return q(_)},selectSlice:_}}const O={name:o,reducer:A,actions:v.actionCreators,caseReducers:v.sliceCaseReducersByName,getInitialState:T,...C(u),injectInto(M,{reducerPath:R,..._}={}){const q=R??u;return M.inject({reducerPath:q,reducer:A},_),{...O,...C(q,!0)}}};return O}}function wrapSelector(e,t,n,i){function o(u,...h){let m=t(u);return typeof m>"u"&&i&&(m=n()),e(m,...h)}return o.unwrapped=e,o}var createSlice=buildCreateSlice();function buildReducerCreators(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function handleNormalReducerDefinition({type:e,reducerName:t,createNotation:n},i,o){let u,h;if("reducer"in i){if(n&&!isCaseReducerWithPrepareDefinition(i))throw new Error(formatProdErrorMessage(17));u=i.reducer,h=i.prepare}else u=i;o.addCase(e,u).exposeCaseReducer(t,u).exposeAction(t,h?createAction(e,h):createAction(e))}function isAsyncThunkSliceReducerDefinition(e){return e._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(e){return e._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:e,reducerName:t},n,i,o){if(!o)throw new Error(formatProdErrorMessage(18));const{payloadCreator:u,fulfilled:h,pending:m,rejected:v,settled:p,options:f}=n,b=o(e,u,f);i.exposeAction(t,b),h&&i.addCase(b.fulfilled,h),m&&i.addCase(b.pending,m),v&&i.addCase(b.rejected,v),p&&i.addMatcher(b.settled,p),i.exposeCaseReducer(t,{fulfilled:h||noop$3,pending:m||noop$3,rejected:v||noop$3,settled:p||noop$3})}function noop$3(){}var task="task",listener="listener",completed="completed",cancelled="cancelled",taskCancelled=`task-${cancelled}`,taskCompleted=`task-${completed}`,listenerCancelled=`${listener}-${cancelled}`,listenerCompleted=`${listener}-${completed}`,TaskAbortError=class{constructor(e){this.code=e,this.message=`${task} ${cancelled} (reason: ${e})`}name="TaskAbortError";message},assertFunction=(e,t)=>{if(typeof e!="function")throw new TypeError(formatProdErrorMessage(32))},noop2=()=>{},catchRejection=(e,t=noop2)=>(e.catch(t),e),addAbortSignalListener=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),abortControllerWithReason=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},validateActive=e=>{if(e.aborted){const{reason:t}=e;throw new TaskAbortError(t)}};function raceWithSignal(e,t){let n=noop2;return new Promise((i,o)=>{const u=()=>o(new TaskAbortError(e.reason));if(e.aborted){u();return}n=addAbortSignalListener(e,u),t.finally(()=>n()).then(i,o)}).finally(()=>{n=noop2})}var runTask=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof TaskAbortError?"cancelled":"rejected",error:n}}finally{t?.()}},createPause=e=>t=>catchRejection(raceWithSignal(e,t).then(n=>(validateActive(e),n))),createDelay=e=>{const t=createPause(e);return n=>t(new Promise(i=>setTimeout(i,n)))},{assign}=Object,INTERNAL_NIL_TOKEN={},alm="listenerMiddleware",createFork=(e,t)=>{const n=i=>addAbortSignalListener(e,()=>abortControllerWithReason(i,e.reason));return(i,o)=>{assertFunction(i);const u=new AbortController;n(u);const h=runTask(async()=>{validateActive(e),validateActive(u.signal);const m=await i({pause:createPause(u.signal),delay:createDelay(u.signal),signal:u.signal});return validateActive(u.signal),m},()=>abortControllerWithReason(u,taskCompleted));return o?.autoJoin&&t.push(h.catch(noop2)),{result:createPause(e)(h),cancel(){abortControllerWithReason(u,taskCancelled)}}}},createTakePattern=(e,t)=>{const n=async(i,o)=>{validateActive(t);let u=()=>{};const m=[new Promise((v,p)=>{let f=e({predicate:i,effect:(b,w)=>{w.unsubscribe(),v([b,w.getState(),w.getOriginalState()])}});u=()=>{f(),p()}})];o!=null&&m.push(new Promise(v=>setTimeout(v,o,null)));try{const v=await raceWithSignal(t,Promise.race(m));return validateActive(t),v}finally{u()}};return(i,o)=>catchRejection(n(i,o))},getListenerEntryPropsFrom=e=>{let{type:t,actionCreator:n,matcher:i,predicate:o,effect:u}=e;if(t)o=createAction(t).match;else if(n)t=n.type,o=n.match;else if(i)o=i;else if(!o)throw new Error(formatProdErrorMessage(21));return assertFunction(u),{predicate:o,type:t,effect:u}},createListenerEntry=assign(e=>{const{type:t,predicate:n,effect:i}=getListenerEntryPropsFrom(e);return{id:nanoid(),effect:i,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(formatProdErrorMessage(22))}}},{withTypes:()=>createListenerEntry}),findListenerEntry=(e,t)=>{const{type:n,effect:i,predicate:o}=getListenerEntryPropsFrom(t);return Array.from(e.values()).find(u=>(typeof n=="string"?u.type===n:u.predicate===o)&&u.effect===i)},cancelActiveListeners=e=>{e.pending.forEach(t=>{abortControllerWithReason(t,listenerCancelled)})},createClearListenerMiddleware=e=>()=>{e.forEach(cancelActiveListeners),e.clear()},safelyNotifyError=(e,t,n)=>{try{e(t,n)}catch(i){setTimeout(()=>{throw i},0)}},addListener=assign(createAction(`${alm}/add`),{withTypes:()=>addListener}),clearAllListeners=createAction(`${alm}/removeAll`),removeListener=assign(createAction(`${alm}/remove`),{withTypes:()=>removeListener}),defaultErrorHandler=(...e)=>{console.error(`${alm}/error`,...e)},createListenerMiddleware=(e={})=>{const t=new Map,{extra:n,onError:i=defaultErrorHandler}=e;assertFunction(i);const o=f=>(f.unsubscribe=()=>t.delete(f.id),t.set(f.id,f),b=>{f.unsubscribe(),b?.cancelActive&&cancelActiveListeners(f)}),u=f=>{const b=findListenerEntry(t,f)??createListenerEntry(f);return o(b)};assign(u,{withTypes:()=>u});const h=f=>{const b=findListenerEntry(t,f);return b&&(b.unsubscribe(),f.cancelActive&&cancelActiveListeners(b)),!!b};assign(h,{withTypes:()=>h});const m=async(f,b,w,S)=>{const j=new AbortController,A=createTakePattern(u,j.signal),T=[];try{f.pending.add(j),await Promise.resolve(f.effect(b,assign({},w,{getOriginalState:S,condition:(C,O)=>A(C,O).then(Boolean),take:A,delay:createDelay(j.signal),pause:createPause(j.signal),extra:n,signal:j.signal,fork:createFork(j.signal,T),unsubscribe:f.unsubscribe,subscribe:()=>{t.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((C,O,M)=>{C!==j&&(abortControllerWithReason(C,listenerCancelled),M.delete(C))})},cancel:()=>{abortControllerWithReason(j,listenerCancelled),f.pending.delete(j)},throwIfCancelled:()=>{validateActive(j.signal)}})))}catch(C){C instanceof TaskAbortError||safelyNotifyError(i,C,{raisedBy:"effect"})}finally{await Promise.all(T),abortControllerWithReason(j,listenerCompleted),f.pending.delete(j)}},v=createClearListenerMiddleware(t);return{middleware:f=>b=>w=>{if(!isAction(w))return b(w);if(addListener.match(w))return u(w.payload);if(clearAllListeners.match(w)){v();return}if(removeListener.match(w))return h(w.payload);let S=f.getState();const j=()=>{if(S===INTERNAL_NIL_TOKEN)throw new Error(formatProdErrorMessage(23));return S};let A;try{if(A=b(w),t.size>0){const T=f.getState(),C=Array.from(t.values());for(const O of C){let M=!1;try{M=O.predicate(w,T,S)}catch(R){M=!1,safelyNotifyError(i,R,{raisedBy:"predicate"})}M&&m(O,w,f,j)}}}finally{S=INTERNAL_NIL_TOKEN}return A},startListening:u,stopListening:h,clearListeners:v}};function formatProdErrorMessage(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var initialState$a={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},chartLayoutSlice=createSlice({name:"chartLayout",initialState:initialState$a,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,i,o,u;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(i=t.payload.right)!==null&&i!==void 0?i:0,e.margin.bottom=(o=t.payload.bottom)!==null&&o!==void 0?o:0,e.margin.left=(u=t.payload.left)!==null&&u!==void 0?u:0},setScale(e,t){e.scale=t.payload}}}),{setMargin,setLayout,setChartSize,setScale}=chartLayoutSlice.actions,chartLayoutReducer=chartLayoutSlice.reducer;function ownKeys$A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$A(Object(n),!0).forEach(function(i){_defineProperty$C(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$A(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$C(e,t,n){return(t=_toPropertyKey$C(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$C(e){var t=_toPrimitive$C(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$C(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RADIAN=Math.PI/180,radianToDegree=e=>e*180/Math.PI,polarToCartesian=(e,t,n,i)=>({x:e+Math.cos(-RADIAN*i)*n,y:t+Math.sin(-RADIAN*i)*n}),getMaxRadius=function e(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(i.left||0)-(i.right||0)),Math.abs(n-(i.top||0)-(i.bottom||0)))/2},distanceBetweenPoints=(e,t)=>{var{x:n,y:i}=e,{x:o,y:u}=t;return Math.sqrt((n-o)**2+(i-u)**2)},getAngleOfPoint=(e,t)=>{var{x:n,y:i}=e,{cx:o,cy:u}=t,h=distanceBetweenPoints({x:n,y:i},{x:o,y:u});if(h<=0)return{radius:h,angle:0};var m=(n-o)/h,v=Math.acos(m);return i>u&&(v=2*Math.PI-v),{radius:h,angle:radianToDegree(v),angleInRadian:v}},formatAngleOfSector=e=>{var{startAngle:t,endAngle:n}=e,i=Math.floor(t/360),o=Math.floor(n/360),u=Math.min(i,o);return{startAngle:t-u*360,endAngle:n-u*360}},reverseFormatAngleOfSector=(e,t)=>{var{startAngle:n,endAngle:i}=t,o=Math.floor(n/360),u=Math.floor(i/360),h=Math.min(o,u);return e+h*360},inRangeOfSector=(e,t)=>{var{x:n,y:i}=e,{radius:o,angle:u}=getAngleOfPoint({x:n,y:i},t),{innerRadius:h,outerRadius:m}=t;if(o<h||o>m||o===0)return null;var{startAngle:v,endAngle:p}=formatAngleOfSector(t),f=u,b;if(v<=p){for(;f>p;)f-=360;for(;f<v;)f+=360;b=f>=v&&f<=p}else{for(;f>v;)f-=360;for(;f<p;)f+=360;b=f>=p&&f<=v}return b?_objectSpread$A(_objectSpread$A({},t),{},{radius:o,angle:reverseFormatAngleOfSector(f,t)}):null};function getSliced(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function ownKeys$z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$z(Object(n),!0).forEach(function(i){_defineProperty$B(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$z(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$B(e,t,n){return(t=_toPropertyKey$B(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$B(e){var t=_toPrimitive$B(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$B(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function getValueByDataKey(e,t,n){return isNullish(e)||isNullish(t)?n:isNumOrStr(t)?get(e,t,n):typeof t=="function"?t(e):n}var calculateActiveTickIndex=(e,t,n,i,o)=>{var u,h=-1,m=(u=t?.length)!==null&&u!==void 0?u:0;if(m<=1||e==null)return 0;if(i==="angleAxis"&&o!=null&&Math.abs(Math.abs(o[1]-o[0])-360)<=1e-6)for(var v=0;v<m;v++){var p=v>0?n[v-1].coordinate:n[m-1].coordinate,f=n[v].coordinate,b=v>=m-1?n[0].coordinate:n[v+1].coordinate,w=void 0;if(mathSign(f-p)!==mathSign(b-f)){var S=[];if(mathSign(b-f)===mathSign(o[1]-o[0])){w=b;var j=f+o[1]-o[0];S[0]=Math.min(j,(j+p)/2),S[1]=Math.max(j,(j+p)/2)}else{w=p;var A=b+o[1]-o[0];S[0]=Math.min(f,(A+f)/2),S[1]=Math.max(f,(A+f)/2)}var T=[Math.min(f,(w+f)/2),Math.max(f,(w+f)/2)];if(e>T[0]&&e<=T[1]||e>=S[0]&&e<=S[1]){({index:h}=n[v]);break}}else{var C=Math.min(p,b),O=Math.max(p,b);if(e>(C+f)/2&&e<=(O+f)/2){({index:h}=n[v]);break}}}else if(t){for(var M=0;M<m;M++)if(M===0&&e<=(t[M].coordinate+t[M+1].coordinate)/2||M>0&&M<m-1&&e>(t[M].coordinate+t[M-1].coordinate)/2&&e<=(t[M].coordinate+t[M+1].coordinate)/2||M===m-1&&e>(t[M].coordinate+t[M-1].coordinate)/2){({index:h}=t[M]);break}}return h},appendOffsetOfLegend=(e,t,n)=>{if(t&&n){var{width:i,height:o}=n,{align:u,verticalAlign:h,layout:m}=t;if((m==="vertical"||m==="horizontal"&&h==="middle")&&u!=="center"&&isNumber(e[u]))return _objectSpread$z(_objectSpread$z({},e),{},{[u]:e[u]+(i||0)});if((m==="horizontal"||m==="vertical"&&u==="center")&&h!=="middle"&&isNumber(e[h]))return _objectSpread$z(_objectSpread$z({},e),{},{[h]:e[h]+(o||0)})}return e},isCategoricalAxis=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",getCoordinatesOfGrid=(e,t,n,i)=>{if(i)return e.map(m=>m.coordinate);var o,u,h=e.map(m=>(m.coordinate===t&&(o=!0),m.coordinate===n&&(u=!0),m.coordinate));return o||h.push(t),u||h.push(n),h},getTicksOfAxis=(e,t,n)=>{if(!e)return null;var{duplicateDomain:i,type:o,range:u,scale:h,realScaleType:m,isCategorical:v,categoricalDomain:p,tickCount:f,ticks:b,niceTicks:w,axisType:S}=e;if(!h)return null;var j=m==="scaleBand"&&h.bandwidth?h.bandwidth()/2:2,A=o==="category"&&h.bandwidth?h.bandwidth()/j:0;if(A=S==="angleAxis"&&u&&u.length>=2?mathSign(u[0]-u[1])*2*A:A,b||w){var T=(b||w||[]).map((C,O)=>{var M=i?i.indexOf(C):C;return{coordinate:h(M)+A,value:C,offset:A,index:O}});return T.filter(C=>!isNan(C.coordinate))}return v&&p?p.map((C,O)=>({coordinate:h(C)+A,value:C,index:O,offset:A})):h.ticks&&f!=null?h.ticks(f).map((C,O)=>({coordinate:h(C)+A,value:C,offset:A,index:O})):h.domain().map((C,O)=>({coordinate:h(C)+A,value:i?i[C]:C,index:O,offset:A}))},EPS=1e-4,checkDomainOfScale=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,i=e.range(),o=Math.min(i[0],i[1])-EPS,u=Math.max(i[0],i[1])+EPS,h=e(t[0]),m=e(t[n-1]);(h<o||h>u||m<o||m>u)&&e.domain([t[0],t[n-1]])}},truncateByDomain=(e,t)=>{if(!t||t.length!==2||!isNumber(t[0])||!isNumber(t[1]))return e;var n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]),o=[e[0],e[1]];return(!isNumber(e[0])||e[0]<n)&&(o[0]=n),(!isNumber(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},offsetSign=e=>{var t=e.length;if(!(t<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,u=0,h=0;h<t;++h){var m=isNan(e[h][n][1])?e[h][n][0]:e[h][n][1];m>=0?(e[h][n][0]=o,e[h][n][1]=o+m,o=e[h][n][1]):(e[h][n][0]=u,e[h][n][1]=u+m,u=e[h][n][1])}},offsetPositive=e=>{var t=e.length;if(!(t<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,u=0;u<t;++u){var h=isNan(e[u][n][1])?e[u][n][0]:e[u][n][1];h>=0?(e[u][n][0]=o,e[u][n][1]=o+h,o=e[u][n][1]):(e[u][n][0]=0,e[u][n][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=(e,t,n)=>{var i=STACK_OFFSET_MAP[n],o=shapeStack().keys(t).value((u,h)=>+getValueByDataKey(u,h,0)).order(stackOrderNone).offset(i);return o(e)};function getNormalizedStackId(e){return e==null?void 0:String(e)}function getCateCoordinateOfLine(e){var{axis:t,ticks:n,bandSize:i,entry:o,index:u,dataKey:h}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!isNullish(o[t.dataKey])){var m=findEntryInArray(n,"value",o[t.dataKey]);if(m)return m.coordinate+i/2}return n[u]?n[u].coordinate+i/2:null}var v=getValueByDataKey(o,isNullish(h)?t.dataKey:h);return isNullish(v)?null:t.scale(v)}var getCateCoordinateOfBar=e=>{var{axis:t,ticks:n,offset:i,bandSize:o,entry:u,index:h}=e;if(t.type==="category")return n[h]?n[h].coordinate+i:null;var m=getValueByDataKey(u,t.dataKey,t.scale.domain()[h]);return isNullish(m)?null:t.scale(m)-o/2+i},getBaseValueOfBar=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},getDomainOfSingle=e=>{var t=e.flat(2).filter(isNumber);return[Math.min(...t),Math.max(...t)]},makeDomainFinite=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],getDomainOfStackGroups=(e,t,n)=>{if(e!=null)return makeDomainFinite(Object.keys(e).reduce((i,o)=>{var u=e[o],{stackedData:h}=u,m=h.reduce((v,p)=>{var f=getSliced(p,t,n),b=getDomainOfSingle(f);return[Math.min(v[0],b[0]),Math.max(v[1],b[1])]},[1/0,-1/0]);return[Math.min(m[0],i[0]),Math.max(m[1],i[1])]},[1/0,-1/0]))},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,getBandSizeOfAxis=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&t&&t.length>=2){for(var o=sortBy(t,f=>f.coordinate),u=1/0,h=1,m=o.length;h<m;h++){var v=o[h],p=o[h-1];u=Math.min((v.coordinate||0)-(p.coordinate||0),u)}return u===1/0?0:u}return n?void 0:0};function getTooltipEntry(e){var{tooltipEntrySettings:t,dataKey:n,payload:i,value:o,name:u}=e;return _objectSpread$z(_objectSpread$z({},t),{},{dataKey:n,payload:i,value:o,name:u})}function getTooltipNameProp(e,t){if(e)return String(e);if(typeof t=="string")return t}function inRange(e,t,n,i,o){if(n==="horizontal"||n==="vertical"){var u=e>=o.left&&e<=o.left+o.width&&t>=o.top&&t<=o.top+o.height;return u?{x:e,y:t}:null}return i?inRangeOfSector({x:e,y:t},i):null}var getActiveCoordinate=(e,t,n,i)=>{var o=t.find(p=>p&&p.index===n);if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var u=o.coordinate,{radius:h}=i;return _objectSpread$z(_objectSpread$z(_objectSpread$z({},i),polarToCartesian(i.cx,i.cy,h,u)),{},{angle:u,radius:h})}var m=o.coordinate,{angle:v}=i;return _objectSpread$z(_objectSpread$z(_objectSpread$z({},i),polarToCartesian(i.cx,i.cy,m,v)),{},{angle:v,radius:m})}return{x:0,y:0}},calculateTooltipPos=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,selectChartWidth=e=>e.layout.width,selectChartHeight=e=>e.layout.height,selectContainerScale=e=>e.layout.scale,selectMargin=e=>e.layout.margin,selectAllXAxes=createSelector(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),selectAllYAxes=createSelector(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),DATA_ITEM_INDEX_ATTRIBUTE_NAME="data-recharts-item-index",DATA_ITEM_DATAKEY_ATTRIBUTE_NAME="data-recharts-item-data-key",DEFAULT_Y_AXIS_WIDTH=60;function ownKeys$y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$y(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$y(Object(n),!0).forEach(function(i){_defineProperty$A(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$y(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$A(e,t,n){return(t=_toPropertyKey$A(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$A(e){var t=_toPrimitive$A(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$A(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var selectBrushHeight=e=>e.brush.height;function selectLeftAxesOffset(e){var t=selectAllYAxes(e);return t.reduce((n,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var o=typeof i.width=="number"?i.width:DEFAULT_Y_AXIS_WIDTH;return n+o}return n},0)}function selectRightAxesOffset(e){var t=selectAllYAxes(e);return t.reduce((n,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var o=typeof i.width=="number"?i.width:DEFAULT_Y_AXIS_WIDTH;return n+o}return n},0)}function selectTopAxesOffset(e){var t=selectAllXAxes(e);return t.reduce((n,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?n+i.height:n,0)}function selectBottomAxesOffset(e){var t=selectAllXAxes(e);return t.reduce((n,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?n+i.height:n,0)}var selectChartOffsetInternal=createSelector([selectChartWidth,selectChartHeight,selectMargin,selectBrushHeight,selectLeftAxesOffset,selectRightAxesOffset,selectTopAxesOffset,selectBottomAxesOffset,selectLegendSettings,selectLegendSize],(e,t,n,i,o,u,h,m,v,p)=>{var f={left:(n.left||0)+o,right:(n.right||0)+u},b={top:(n.top||0)+h,bottom:(n.bottom||0)+m},w=_objectSpread$y(_objectSpread$y({},b),f),S=w.bottom;w.bottom+=i,w=appendOffsetOfLegend(w,v,p);var j=e-w.left-w.right,A=t-w.top-w.bottom;return _objectSpread$y(_objectSpread$y({brushBottom:S},w),{},{width:Math.max(j,0),height:Math.max(A,0)})}),selectChartViewBox=createSelector(selectChartOffsetInternal,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),selectAxisViewBox=createSelector(selectChartWidth,selectChartHeight,(e,t)=>({x:0,y:0,width:e,height:t})),PanoramaContext=reactExports.createContext(null),useIsPanorama=()=>reactExports.useContext(PanoramaContext)!=null,selectBrushSettings=e=>e.brush,selectBrushDimensions=createSelector([selectBrushSettings,selectChartOffsetInternal,selectMargin],(e,t,n)=>({height:e.height,x:isNumber(e.x)?e.x:t.left,y:isNumber(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:isNumber(e.width)?e.width:t.width})),useViewBox=()=>{var e,t=useIsPanorama(),n=useAppSelector(selectChartViewBox),i=useAppSelector(selectBrushDimensions),o=(e=useAppSelector(selectBrushSettings))===null||e===void 0?void 0:e.padding;return!t||!i||!o?n:{width:i.width-o.left-o.right,height:i.height-o.top-o.bottom,x:o.left,y:o.top}},manyComponentsThrowErrorsIfOffsetIsUndefined={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},useOffsetInternal=()=>{var e;return(e=useAppSelector(selectChartOffsetInternal))!==null&&e!==void 0?e:manyComponentsThrowErrorsIfOffsetIsUndefined},useChartWidth=()=>useAppSelector(selectChartWidth),useChartHeight=()=>useAppSelector(selectChartHeight),useMargin=()=>useAppSelector(e=>e.layout.margin),selectChartLayout=e=>e.layout.layoutType,useChartLayout=()=>useAppSelector(selectChartLayout),initialState$9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},legendSlice=createSlice({name:"legend",initialState:initialState$9,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=current(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize,setLegendSettings,addLegendPayload,removeLegendPayload}=legendSlice.actions,legendReducer=legendSlice.reducer,_excluded$k=["contextPayload"];function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$n.apply(null,arguments)}function ownKeys$x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$x(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$x(Object(n),!0).forEach(function(i){_defineProperty$z(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$x(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$z(e,t,n){return(t=_toPropertyKey$z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$z(e){var t=_toPrimitive$z(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$z(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _objectWithoutProperties$k(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$k(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$k(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function defaultUniqBy$1(e){return e.value}function LegendContent(e){var{contextPayload:t}=e,n=_objectWithoutProperties$k(e,_excluded$k),i=getUniqPayload(t,e.payloadUniqBy,defaultUniqBy$1),o=_objectSpread$x(_objectSpread$x({},n),{},{payload:i});return reactExports.isValidElement(e.content)?reactExports.cloneElement(e.content,o):typeof e.content=="function"?reactExports.createElement(e.content,o):reactExports.createElement(DefaultLegendContent,o)}function getDefaultPosition(e,t,n,i,o,u){var{layout:h,align:m,verticalAlign:v}=t,p,f;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(m==="center"&&h==="vertical"?p={left:((i||0)-u.width)/2}:p=m==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(v==="middle"?f={top:((o||0)-u.height)/2}:f=v==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),_objectSpread$x(_objectSpread$x({},p),f)}function LegendSettingsDispatcher(e){var t=useAppDispatch();return reactExports.useEffect(()=>{t(setLegendSettings(e))},[t,e]),null}function LegendSizeDispatcher(e){var t=useAppDispatch();return reactExports.useEffect(()=>(t(setLegendSize(e)),()=>{t(setLegendSize({width:0,height:0}))}),[t,e]),null}function LegendWrapper(e){var t=useLegendPayload(),n=useLegendPortal(),i=useMargin(),{width:o,height:u,wrapperStyle:h,portal:m}=e,[v,p]=useElementOffset([t]),f=useChartWidth(),b=useChartHeight();if(f==null||b==null)return null;var w=f-(i.left||0)-(i.right||0),S=Legend.getWidthOrHeight(e.layout,u,o,w),j=m?h:_objectSpread$x(_objectSpread$x({position:"absolute",width:S?.width||o||"auto",height:S?.height||u||"auto"},getDefaultPosition(h,e,i,f,b,v)),h),A=m??n;if(A==null)return null;var T=reactExports.createElement("div",{className:"recharts-legend-wrapper",style:j,ref:p},reactExports.createElement(LegendSettingsDispatcher,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),reactExports.createElement(LegendSizeDispatcher,{width:v.width,height:v.height}),reactExports.createElement(LegendContent,_extends$n({},e,S,{margin:i,chartWidth:f,chartHeight:b,contextPayload:t})));return reactDomExports.createPortal(T,A)}class Legend extends reactExports.PureComponent{static getWidthOrHeight(t,n,i,o){return t==="vertical"&&isNumber(n)?{height:n}:t==="horizontal"?{width:i||o}:null}render(){return reactExports.createElement(LegendWrapper,this.props)}}_defineProperty$z(Legend,"displayName","Legend");_defineProperty$z(Legend,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$m.apply(null,arguments)}function ownKeys$w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$w(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$w(Object(n),!0).forEach(function(i){_defineProperty$y(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$w(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$y(e,t,n){return(t=_toPropertyKey$y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$y(e){var t=_toPrimitive$y(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$y(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function defaultFormatter(e){return Array.isArray(e)&&isNumOrStr(e[0])&&isNumOrStr(e[1])?e.join(" ~ "):e}var DefaultTooltipContent=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:i={},labelStyle:o={},payload:u,formatter:h,itemSorter:m,wrapperClassName:v,labelClassName:p,label:f,labelFormatter:b,accessibilityLayer:w=!1}=e,S=()=>{if(u&&u.length){var _={padding:0,margin:0},q=(m?sortBy(u,m):u).map((se,ee)=>{if(se.type==="none")return null;var ae=se.formatter||h||defaultFormatter,{value:pe,name:fe}=se,Ee=pe,_e=fe;if(ae){var Re=ae(pe,fe,se,ee,u);if(Array.isArray(Re))[Ee,_e]=Re;else if(Re!=null)Ee=Re;else return null}var Pe=_objectSpread$w({display:"block",paddingTop:4,paddingBottom:4,color:se.color||"#000"},i);return reactExports.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ee),style:Pe},isNumOrStr(_e)?reactExports.createElement("span",{className:"recharts-tooltip-item-name"},_e):null,isNumOrStr(_e)?reactExports.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,reactExports.createElement("span",{className:"recharts-tooltip-item-value"},Ee),reactExports.createElement("span",{className:"recharts-tooltip-item-unit"},se.unit||""))});return reactExports.createElement("ul",{className:"recharts-tooltip-item-list",style:_},q)}return null},j=_objectSpread$w({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),A=_objectSpread$w({margin:0},o),T=!isNullish(f),C=T?f:"",O=clsx("recharts-default-tooltip",v),M=clsx("recharts-tooltip-label",p);T&&b&&u!==void 0&&u!==null&&(C=b(f,u));var R=w?{role:"status","aria-live":"assertive"}:{};return reactExports.createElement("div",_extends$m({className:O,style:j},R),reactExports.createElement("p",{className:M,style:A},reactExports.isValidElement(C)?C:"".concat(C)),S())},CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(e){var{coordinate:t,translateX:n,translateY:i}=e;return clsx(CSS_CLASS_PREFIX,{["".concat(CSS_CLASS_PREFIX,"-right")]:isNumber(n)&&t&&isNumber(t.x)&&n>=t.x,["".concat(CSS_CLASS_PREFIX,"-left")]:isNumber(n)&&t&&isNumber(t.x)&&n<t.x,["".concat(CSS_CLASS_PREFIX,"-bottom")]:isNumber(i)&&t&&isNumber(t.y)&&i>=t.y,["".concat(CSS_CLASS_PREFIX,"-top")]:isNumber(i)&&t&&isNumber(t.y)&&i<t.y})}function getTooltipTranslateXY(e){var{allowEscapeViewBox:t,coordinate:n,key:i,offsetTopLeft:o,position:u,reverseDirection:h,tooltipDimension:m,viewBox:v,viewBoxDimension:p}=e;if(u&&isNumber(u[i]))return u[i];var f=n[i]-m-(o>0?o:0),b=n[i]+o;if(t[i])return h[i]?f:b;var w=v[i];if(w==null)return 0;if(h[i]){var S=f,j=w;return S<j?Math.max(b,w):Math.max(f,w)}if(p==null)return 0;var A=b+m,T=w+p;return A>T?Math.max(f,w):Math.max(b,w)}function getTransformStyle(e){var{translateX:t,translateY:n,useTranslate3d:i}=e;return{transform:i?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function getTooltipTranslate(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:i,position:o,reverseDirection:u,tooltipBox:h,useTranslate3d:m,viewBox:v}=e,p,f,b;return h.height>0&&h.width>0&&n?(f=getTooltipTranslateXY({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:i,position:o,reverseDirection:u,tooltipDimension:h.width,viewBox:v,viewBoxDimension:v.width}),b=getTooltipTranslateXY({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:i,position:o,reverseDirection:u,tooltipDimension:h.height,viewBox:v,viewBoxDimension:v.height}),p=getTransformStyle({translateX:f,translateY:b,useTranslate3d:m})):p=TOOLTIP_HIDDEN,{cssProperties:p,cssClasses:getTooltipCSSClassName({translateX:f,translateY:b,coordinate:n})}}function ownKeys$v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$v(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$v(Object(n),!0).forEach(function(i){_defineProperty$x(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$v(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$x(e,t,n){return(t=_toPropertyKey$x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$x(e){var t=_toPrimitive$x(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$x(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class TooltipBoundingBox extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty$x(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_defineProperty$x(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,i,o,u;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&n!==void 0?n:0,y:(o=(u=this.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&o!==void 0?o:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:i,animationEasing:o,children:u,coordinate:h,hasPayload:m,isAnimationActive:v,offset:p,position:f,reverseDirection:b,useTranslate3d:w,viewBox:S,wrapperStyle:j,lastBoundingBox:A,innerRef:T,hasPortalFromProps:C}=this.props,{cssClasses:O,cssProperties:M}=getTooltipTranslate({allowEscapeViewBox:n,coordinate:h,offsetTopLeft:p,position:f,reverseDirection:b,tooltipBox:{height:A.height,width:A.width},useTranslate3d:w,viewBox:S}),R=C?{}:_objectSpread$v(_objectSpread$v({transition:v&&t?"transform ".concat(i,"ms ").concat(o):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&m?"visible":"hidden",position:"absolute",top:0,left:0}),_=_objectSpread$v(_objectSpread$v({},R),{},{visibility:!this.state.dismissed&&t&&m?"visible":"hidden"},j);return reactExports.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:_,ref:T},u)}}var parseIsSsrByDefault=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Global={devToolsEnabled:!1,isSsr:parseIsSsrByDefault()},useAccessibilityLayer=()=>useAppSelector(e=>e.rootProps.accessibilityLayer);function isWellBehavedNumber(e){return Number.isFinite(e)}function isPositiveNumber(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$l.apply(null,arguments)}function ownKeys$u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$u(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$u(Object(n),!0).forEach(function(i){_defineProperty$w(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$u(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$w(e,t,n){return(t=_toPropertyKey$w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$w(e){var t=_toPrimitive$w(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$w(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=e=>isWellBehavedNumber(e.x)&&isWellBehavedNumber(e.y),getX=e=>e.x,getY=e=>e.y,getCurveFactory=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(upperFirst(e));return(n==="curveMonotone"||n==="curveBump")&&t?CURVE_FACTORIES["".concat(n).concat(t==="vertical"?"Y":"X")]:CURVE_FACTORIES[n]||curveLinear},getPath$1=e=>{var{type:t="linear",points:n=[],baseLine:i,layout:o,connectNulls:u=!1}=e,h=getCurveFactory(t,o),m=u?n.filter(defined):n,v;if(Array.isArray(i)){var p=u?i.filter(b=>defined(b)):i,f=m.map((b,w)=>_objectSpread$u(_objectSpread$u({},b),{},{base:p[w]}));return o==="vertical"?v=shapeArea().y(getY).x1(getX).x0(b=>b.base.x):v=shapeArea().x(getX).y1(getY).y0(b=>b.base.y),v.defined(defined).curve(h),v(f)}return o==="vertical"&&isNumber(i)?v=shapeArea().y(getY).x1(getX).x0(i):isNumber(i)?v=shapeArea().x(getX).y1(getY).y0(i):v=shapeLine().x(getX).y(getY),v.defined(defined).curve(h),v(m)},Curve=e=>{var{className:t,points:n,path:i,pathRef:o}=e;if((!n||!n.length)&&!i)return null;var u=n&&n.length?getPath$1(e):i;return reactExports.createElement("path",_extends$l({},svgPropertiesNoEvents(e),adaptEventHandlers(e),{className:clsx("recharts-curve",t),d:u===null?void 0:u,ref:o}))},_excluded$j=["x","y","top","left","width","height","className"];function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$k.apply(null,arguments)}function ownKeys$t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$t(Object(n),!0).forEach(function(i){_defineProperty$v(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$t(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$v(e,t,n){return(t=_toPropertyKey$v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$v(e){var t=_toPrimitive$v(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$v(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _objectWithoutProperties$j(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$j(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$j(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var getPath=(e,t,n,i,o,u)=>"M".concat(e,",").concat(o,"v").concat(i,"M").concat(u,",").concat(t,"h").concat(n),Cross=e=>{var{x:t=0,y:n=0,top:i=0,left:o=0,width:u=0,height:h=0,className:m}=e,v=_objectWithoutProperties$j(e,_excluded$j),p=_objectSpread$t({x:t,y:n,top:i,left:o,width:u,height:h},v);return!isNumber(t)||!isNumber(n)||!isNumber(u)||!isNumber(h)||!isNumber(i)||!isNumber(o)?null:reactExports.createElement("path",_extends$k({},filterProps(p,!0),{className:clsx("recharts-cross",m),d:getPath(t,n,u,h,i,o)}))};function getCursorRectangle(e,t,n,i){var o=i/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-o:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-o,width:e==="horizontal"?i:n.width-1,height:e==="horizontal"?n.height-1:i}}function ownKeys$s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$s(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$s(Object(n),!0).forEach(function(i){_defineProperty$u(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$s(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$u(e,t,n){return(t=_toPropertyKey$u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$u(e){var t=_toPrimitive$u(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$u(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function resolveDefaultProps(e,t){var n=_objectSpread$s({},e),i=t,o=Object.keys(t),u=o.reduce((h,m)=>(h[m]===void 0&&i[m]!==void 0&&(h[m]=i[m]),h),n);return u}function noop$2(){}function ownKeys$r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$r(Object(n),!0).forEach(function(i){_defineProperty$t(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$r(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$t(e,t,n){return(t=_toPropertyKey$t(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$t(e){var t=_toPrimitive$t(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$t(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var getDashCase=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),getTransitionVal=(e,t,n)=>e.map(i=>"".concat(getDashCase(i)," ").concat(t,"ms ").concat(n)).join(","),getIntersectionKeys=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,i)=>n.filter(o=>i.includes(o))),mapObject=(e,t)=>Object.keys(t).reduce((n,i)=>_objectSpread$r(_objectSpread$r({},n),{},{[i]:e(i,t[i])}),{});function ownKeys$q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$q(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$q(Object(n),!0).forEach(function(i){_defineProperty$s(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$q(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$s(e,t,n){return(t=_toPropertyKey$s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$s(e){var t=_toPrimitive$s(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$s(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var alpha=(e,t,n)=>e+(t-e)*n,needContinue=e=>{var{from:t,to:n}=e;return t!==n},calStepperVals=(e,t,n)=>{var i=mapObject((o,u)=>{if(needContinue(u)){var[h,m]=e(u.from,u.to,u.velocity);return _objectSpread$q(_objectSpread$q({},u),{},{from:h,velocity:m})}return u},t);return n<1?mapObject((o,u)=>needContinue(u)?_objectSpread$q(_objectSpread$q({},u),{},{velocity:alpha(u.velocity,i[o].velocity,n),from:alpha(u.from,i[o].from,n)}):u,t):calStepperVals(e,i,n-1)};function createStepperUpdate(e,t,n,i,o,u){var h,m=i.reduce((w,S)=>_objectSpread$q(_objectSpread$q({},w),{},{[S]:{from:e[S],velocity:0,to:t[S]}}),{}),v=()=>mapObject((w,S)=>S.from,m),p=()=>!Object.values(m).filter(needContinue).length,f=null,b=w=>{h||(h=w);var S=w-h,j=S/n.dt;m=calStepperVals(n,m,j),o(_objectSpread$q(_objectSpread$q(_objectSpread$q({},e),t),v())),h=w,p()||(f=u.setTimeout(b))};return()=>(f=u.setTimeout(b),()=>{f()})}function createTimingUpdate(e,t,n,i,o,u,h){var m=null,v=o.reduce((b,w)=>_objectSpread$q(_objectSpread$q({},b),{},{[w]:[e[w],t[w]]}),{}),p,f=b=>{p||(p=b);var w=(b-p)/i,S=mapObject((A,T)=>alpha(...T,n(w)),v);if(u(_objectSpread$q(_objectSpread$q(_objectSpread$q({},e),t),S)),w<1)m=h.setTimeout(f);else{var j=mapObject((A,T)=>alpha(...T,n(1)),v);u(_objectSpread$q(_objectSpread$q(_objectSpread$q({},e),t),j))}};return()=>(m=h.setTimeout(f),()=>{m()})}const configUpdate=(e,t,n,i,o,u)=>{var h=getIntersectionKeys(e,t);return n.isStepper===!0?createStepperUpdate(e,t,n,h,o,u):createTimingUpdate(e,t,n,i,h,o,u)};var ACCURACY=1e-4,cubicBezierFactor=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],evaluatePolynomial=(e,t)=>e.map((n,i)=>n*t**i).reduce((n,i)=>n+i),cubicBezier=(e,t)=>n=>{var i=cubicBezierFactor(e,t);return evaluatePolynomial(i,n)},derivativeCubicBezier=(e,t)=>n=>{var i=cubicBezierFactor(e,t),o=[...i.map((u,h)=>u*h).slice(1),0];return evaluatePolynomial(o,n)},configBezier=function e(){for(var t,n,i,o,u=arguments.length,h=new Array(u),m=0;m<u;m++)h[m]=arguments[m];if(h.length===1)switch(h[0]){case"linear":[t,i,n,o]=[0,0,1,1];break;case"ease":[t,i,n,o]=[.25,.1,.25,1];break;case"ease-in":[t,i,n,o]=[.42,0,1,1];break;case"ease-out":[t,i,n,o]=[.42,0,.58,1];break;case"ease-in-out":[t,i,n,o]=[0,0,.58,1];break;default:{var v=h[0].split("(");v[0]==="cubic-bezier"&&v[1].split(")")[0].split(",").length===4&&([t,i,n,o]=v[1].split(")")[0].split(",").map(j=>parseFloat(j)))}}else h.length===4&&([t,i,n,o]=h);var p=cubicBezier(t,n),f=cubicBezier(i,o),b=derivativeCubicBezier(t,n),w=j=>j>1?1:j<0?0:j,S=j=>{for(var A=j>1?1:j,T=A,C=0;C<8;++C){var O=p(T)-A,M=b(T);if(Math.abs(O-A)<ACCURACY||M<ACCURACY)return f(T);T=w(T-O/M)}return f(T)};return S.isStepper=!1,S},configSpring=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:i=8,dt:o=17}=t,u=(h,m,v)=>{var p=-(h-m)*n,f=v*i,b=v+(p-f)*o/1e3,w=v*o/1e3+h;return Math.abs(w-m)<ACCURACY&&Math.abs(b)<ACCURACY?[m,0]:[w,b]};return u.isStepper=!0,u.dt=o,u},configEasing=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(e);case"spring":return configSpring();default:if(e.split("(")[0]==="cubic-bezier")return configBezier(e)}return typeof e=="function"?e:null};function createAnimateManager(e){var t,n=()=>null,i=!1,o=null,u=h=>{if(!i){if(Array.isArray(h)){if(!h.length)return;var m=h,[v,...p]=m;if(typeof v=="number"){o=e.setTimeout(u.bind(null,p),v);return}u(v),o=e.setTimeout(u.bind(null,p));return}typeof h=="string"&&(t=h,n(t)),typeof h=="object"&&(t=h,n(t)),typeof h=="function"&&h()}};return{stop:()=>{i=!0},start:h=>{i=!1,o&&(o(),o=null),u(h)},subscribe:h=>(n=h,()=>{n=()=>null}),getTimeoutController:()=>e}}class RequestAnimationFrameTimeoutController{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),o=null,u=h=>{h-i>=n?t(h):typeof requestAnimationFrame=="function"&&(o=requestAnimationFrame(u))};return o=requestAnimationFrame(u),()=>{cancelAnimationFrame(o)}}}function createDefaultAnimationManager(){return createAnimateManager(new RequestAnimationFrameTimeoutController)}var AnimationManagerContext=reactExports.createContext(createDefaultAnimationManager);function useAnimationManager(e,t){var n=reactExports.useContext(AnimationManagerContext);return reactExports.useMemo(()=>t??n(e),[e,t,n])}var defaultJavascriptAnimateProps={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},from={t:0},to={t:1};function JavascriptAnimate(e){var t=resolveDefaultProps(e,defaultJavascriptAnimateProps),{isActive:n,canBegin:i,duration:o,easing:u,begin:h,onAnimationEnd:m,onAnimationStart:v,children:p}=t,f=useAnimationManager(t.animationId,t.animationManager),[b,w]=reactExports.useState(n?from:to),S=reactExports.useRef(null);return reactExports.useEffect(()=>{n||w(to)},[n]),reactExports.useEffect(()=>{if(!n||!i)return noop$2;var j=configUpdate(from,to,configEasing(u),o,w,f.getTimeoutController()),A=()=>{S.current=j()};return f.start([v,h,A,o,m]),()=>{f.stop(),S.current&&S.current(),m()}},[n,i,o,u,h,v,m,f]),p(b.t)}function useAnimationId(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=reactExports.useRef(uniqueId(t)),i=reactExports.useRef(e);return i.current!==e&&(n.current=uniqueId(t),i.current=e),n.current}function ownKeys$p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$p(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$p(Object(n),!0).forEach(function(i){_defineProperty$r(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$p(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$r(e,t,n){return(t=_toPropertyKey$r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$r(e){var t=_toPrimitive$r(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$r(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$j.apply(null,arguments)}var getRectanglePath=(e,t,n,i,o)=>{var u=Math.min(Math.abs(n)/2,Math.abs(i)/2),h=i>=0?1:-1,m=n>=0?1:-1,v=i>=0&&n>=0||i<0&&n<0?1:0,p;if(u>0&&o instanceof Array){for(var f=[0,0,0,0],b=0,w=4;b<w;b++)f[b]=o[b]>u?u:o[b];p="M".concat(e,",").concat(t+h*f[0]),f[0]>0&&(p+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(v,",").concat(e+m*f[0],",").concat(t)),p+="L ".concat(e+n-m*f[1],",").concat(t),f[1]>0&&(p+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(v,`,
        `).concat(e+n,",").concat(t+h*f[1])),p+="L ".concat(e+n,",").concat(t+i-h*f[2]),f[2]>0&&(p+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(v,`,
        `).concat(e+n-m*f[2],",").concat(t+i)),p+="L ".concat(e+m*f[3],",").concat(t+i),f[3]>0&&(p+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(v,`,
        `).concat(e,",").concat(t+i-h*f[3])),p+="Z"}else if(u>0&&o===+o&&o>0){var S=Math.min(u,o);p="M ".concat(e,",").concat(t+h*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(v,",").concat(e+m*S,",").concat(t,`
            L `).concat(e+n-m*S,",").concat(t,`
            A `).concat(S,",").concat(S,",0,0,").concat(v,",").concat(e+n,",").concat(t+h*S,`
            L `).concat(e+n,",").concat(t+i-h*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(v,",").concat(e+n-m*S,",").concat(t+i,`
            L `).concat(e+m*S,",").concat(t+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(v,",").concat(e,",").concat(t+i-h*S," Z")}else p="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return p},defaultProps$6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=e=>{var t=resolveDefaultProps(e,defaultProps$6),n=reactExports.useRef(null),[i,o]=reactExports.useState(-1);reactExports.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Re=n.current.getTotalLength();Re&&o(Re)}catch{}},[]);var{x:u,y:h,width:m,height:v,radius:p,className:f}=t,{animationEasing:b,animationDuration:w,animationBegin:S,isAnimationActive:j,isUpdateAnimationActive:A}=t,T=reactExports.useRef(m),C=reactExports.useRef(v),O=reactExports.useRef(u),M=reactExports.useRef(h),R=reactExports.useMemo(()=>({x:u,y:h,width:m,height:v,radius:p}),[u,h,m,v,p]),_=useAnimationId(R,"rectangle-");if(u!==+u||h!==+h||m!==+m||v!==+v||m===0||v===0)return null;var q=clsx("recharts-rectangle",f);if(!A)return reactExports.createElement("path",_extends$j({},filterProps(t,!0),{className:q,d:getRectanglePath(u,h,m,v,p)}));var se=T.current,ee=C.current,ae=O.current,pe=M.current,fe="0px ".concat(i===-1?1:i,"px"),Ee="".concat(i,"px 0px"),_e=getTransitionVal(["strokeDasharray"],w,typeof b=="string"?b:void 0);return reactExports.createElement(JavascriptAnimate,{animationId:_,key:_,canBegin:i>0,duration:w,easing:b,isActive:A,begin:S},Re=>{var Pe=interpolate$1(se,m,Re),je=interpolate$1(ee,v,Re),ce=interpolate$1(ae,u,Re),le=interpolate$1(pe,h,Re);n.current&&(T.current=Pe,C.current=je,O.current=ce,M.current=le);var ie;return j?Re>0?ie={transition:_e,strokeDasharray:Ee}:ie={strokeDasharray:fe}:ie={strokeDasharray:Ee},reactExports.createElement("path",_extends$j({},filterProps(t,!0),{className:q,d:getRectanglePath(ce,le,Pe,je,p),ref:n,style:_objectSpread$p(_objectSpread$p({},ie),t.style)}))})};function getRadialCursorPoints(e){var{cx:t,cy:n,radius:i,startAngle:o,endAngle:u}=e,h=polarToCartesian(t,n,i,o),m=polarToCartesian(t,n,i,u);return{points:[h,m],cx:t,cy:n,radius:i,startAngle:o,endAngle:u}}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$i.apply(null,arguments)}var getDeltaAngle$1=(e,t)=>{var n=mathSign(t-e),i=Math.min(Math.abs(t-e),359.999);return n*i},getTangentCircle=e=>{var{cx:t,cy:n,radius:i,angle:o,sign:u,isExternal:h,cornerRadius:m,cornerIsExternal:v}=e,p=m*(h?1:-1)+i,f=Math.asin(m/p)/RADIAN,b=v?o:o+u*f,w=polarToCartesian(t,n,p,b),S=polarToCartesian(t,n,i,b),j=v?o-u*f:o,A=polarToCartesian(t,n,p*Math.cos(f*RADIAN),j);return{center:w,circleTangency:S,lineTangency:A,theta:f}},getSectorPath=e=>{var{cx:t,cy:n,innerRadius:i,outerRadius:o,startAngle:u,endAngle:h}=e,m=getDeltaAngle$1(u,h),v=u+m,p=polarToCartesian(t,n,o,u),f=polarToCartesian(t,n,o,v),b="M ".concat(p.x,",").concat(p.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(m)>180),",").concat(+(u>v),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var w=polarToCartesian(t,n,i,u),S=polarToCartesian(t,n,i,v);b+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(m)>180),",").concat(+(u<=v),`,
            `).concat(w.x,",").concat(w.y," Z")}else b+="L ".concat(t,",").concat(n," Z");return b},getSectorWithCorner=e=>{var{cx:t,cy:n,innerRadius:i,outerRadius:o,cornerRadius:u,forceCornerRadius:h,cornerIsExternal:m,startAngle:v,endAngle:p}=e,f=mathSign(p-v),{circleTangency:b,lineTangency:w,theta:S}=getTangentCircle({cx:t,cy:n,radius:o,angle:v,sign:f,cornerRadius:u,cornerIsExternal:m}),{circleTangency:j,lineTangency:A,theta:T}=getTangentCircle({cx:t,cy:n,radius:o,angle:p,sign:-f,cornerRadius:u,cornerIsExternal:m}),C=m?Math.abs(v-p):Math.abs(v-p)-S-T;if(C<0)return h?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(u,",").concat(u,",0,0,1,").concat(u*2,`,0
        a`).concat(u,",").concat(u,",0,0,1,").concat(-u*2,`,0
      `):getSectorPath({cx:t,cy:n,innerRadius:i,outerRadius:o,startAngle:v,endAngle:p});var O="M ".concat(w.x,",").concat(w.y,`
    A`).concat(u,",").concat(u,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(u,",").concat(u,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var{circleTangency:M,lineTangency:R,theta:_}=getTangentCircle({cx:t,cy:n,radius:i,angle:v,sign:f,isExternal:!0,cornerRadius:u,cornerIsExternal:m}),{circleTangency:q,lineTangency:se,theta:ee}=getTangentCircle({cx:t,cy:n,radius:i,angle:p,sign:-f,isExternal:!0,cornerRadius:u,cornerIsExternal:m}),ae=m?Math.abs(v-p):Math.abs(v-p)-_-ee;if(ae<0&&u===0)return"".concat(O,"L").concat(t,",").concat(n,"Z");O+="L".concat(se.x,",").concat(se.y,`
      A`).concat(u,",").concat(u,",0,0,").concat(+(f<0),",").concat(q.x,",").concat(q.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(ae>180),",").concat(+(f>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(u,",").concat(u,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,"Z")}else O+="L".concat(t,",").concat(n,"Z");return O},defaultProps$5={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=e=>{var t=resolveDefaultProps(e,defaultProps$5),{cx:n,cy:i,innerRadius:o,outerRadius:u,cornerRadius:h,forceCornerRadius:m,cornerIsExternal:v,startAngle:p,endAngle:f,className:b}=t;if(u<o||p===f)return null;var w=clsx("recharts-sector",b),S=u-o,j=getPercentValue(h,S,0,!0),A;return j>0&&Math.abs(p-f)<360?A=getSectorWithCorner({cx:n,cy:i,innerRadius:o,outerRadius:u,cornerRadius:Math.min(j,S/2),forceCornerRadius:m,cornerIsExternal:v,startAngle:p,endAngle:f}):A=getSectorPath({cx:n,cy:i,innerRadius:o,outerRadius:u,startAngle:p,endAngle:f}),reactExports.createElement("path",_extends$i({},filterProps(t,!0),{className:w,d:A}))};function getCursorPoints(e,t,n){var i,o,u,h;if(e==="horizontal")i=t.x,u=i,o=n.top,h=n.top+n.height;else if(e==="vertical")o=t.y,h=o,i=n.left,u=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:m,cy:v,innerRadius:p,outerRadius:f,angle:b}=t,w=polarToCartesian(m,v,p,b),S=polarToCartesian(m,v,f,b);i=w.x,o=w.y,u=S.x,h=S.y}else return getRadialCursorPoints(t);return[{x:i,y:o},{x:u,y:h}]}var range$4={},toFinite={},toNumber={},hasRequiredToNumber;function requireToNumber(){return hasRequiredToNumber||(hasRequiredToNumber=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsSymbol();function n(i){return t.isSymbol(i)?NaN:Number(i)}e.toNumber=n}(toNumber)),toNumber}var hasRequiredToFinite;function requireToFinite(){return hasRequiredToFinite||(hasRequiredToFinite=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireToNumber();function n(i){return i?(i=t.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}e.toFinite=n}(toFinite)),toFinite}var hasRequiredRange$1;function requireRange$1(){return hasRequiredRange$1||(hasRequiredRange$1=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsIterateeCall(),n=requireToFinite();function i(o,u,h){h&&typeof h!="number"&&t.isIterateeCall(o,u,h)&&(u=h=void 0),o=n.toFinite(o),u===void 0?(u=o,o=0):u=n.toFinite(u),h=h===void 0?o<u?1:-1:n.toFinite(h);const m=Math.max(Math.ceil((u-o)/(h||1)),0),v=new Array(m);for(let p=0;p<m;p++)v[p]=o,o+=h;return v}e.range=i}(range$4)),range$4}var range$3,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range$3=requireRange$1().range),range$3}var rangeExports=requireRange();const range$2=getDefaultExportFromCjs(rangeExports);function ascending(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function descending(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bisector(e){let t,n,i;e.length!==2?(t=ascending,n=(m,v)=>ascending(e(m),v),i=(m,v)=>e(m)-v):(t=e===ascending||e===descending?e:zero$1,n=e,i=e);function o(m,v,p=0,f=m.length){if(p<f){if(t(v,v)!==0)return f;do{const b=p+f>>>1;n(m[b],v)<0?p=b+1:f=b}while(p<f)}return p}function u(m,v,p=0,f=m.length){if(p<f){if(t(v,v)!==0)return f;do{const b=p+f>>>1;n(m[b],v)<=0?p=b+1:f=b}while(p<f)}return p}function h(m,v,p=0,f=m.length){const b=o(m,v,p,f-1);return b>p&&i(m[b-1],v)>-i(m[b],v)?b-1:b}return{left:o,center:h,right:u}}function zero$1(){return 0}function number$2(e){return e===null?NaN:+e}function*numbers(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(t,n=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,o]of t)this.set(i,o)}get(t){return super.get(intern_get(this,t))}has(t){return super.has(intern_get(this,t))}set(t,n){return super.set(intern_set(this,t),n)}delete(t){return super.delete(intern_delete(this,t))}}function intern_get({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function intern_set({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function intern_delete({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function keyof(e){return e!==null&&typeof e=="object"?e.valueOf():e}function compareDefined(e=ascending){if(e===ascending)return ascendingDefined;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const i=e(t,n);return i||i===0?i:(e(n,n)===0)-(e(t,t)===0)}}function ascendingDefined(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(e,t,n){const i=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(i)),u=i/Math.pow(10,o),h=u>=e10?10:u>=e5?5:u>=e2?2:1;let m,v,p;return o<0?(p=Math.pow(10,-o)/h,m=Math.round(e*p),v=Math.round(t*p),m/p<e&&++m,v/p>t&&--v,p=-p):(p=Math.pow(10,o)*h,m=Math.round(e/p),v=Math.round(t/p),m*p<e&&++m,v*p>t&&--v),v<m&&.5<=n&&n<2?tickSpec(e,t,n*2):[m,v,p]}function ticks(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[o,u,h]=i?tickSpec(t,e,n):tickSpec(e,t,n);if(!(u>=o))return[];const m=u-o+1,v=new Array(m);if(i)if(h<0)for(let p=0;p<m;++p)v[p]=(u-p)/-h;else for(let p=0;p<m;++p)v[p]=(u-p)*h;else if(h<0)for(let p=0;p<m;++p)v[p]=(o+p)/-h;else for(let p=0;p<m;++p)v[p]=(o+p)*h;return v}function tickIncrement(e,t,n){return t=+t,e=+e,n=+n,tickSpec(e,t,n)[2]}function tickStep(e,t,n){t=+t,e=+e,n=+n;const i=t<e,o=i?tickIncrement(t,e,n):tickIncrement(e,t,n);return(i?-1:1)*(o<0?1/-o:o)}function max(e,t){let n;for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);return n}function min(e,t){let n;for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);return n}function quickselect(e,t,n=0,i=1/0,o){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(e.length-1,i)),!(n<=t&&t<=i))return e;for(o=o===void 0?ascendingDefined:compareDefined(o);i>n;){if(i-n>600){const v=i-n+1,p=t-n+1,f=Math.log(v),b=.5*Math.exp(2*f/3),w=.5*Math.sqrt(f*b*(v-b)/v)*(p-v/2<0?-1:1),S=Math.max(n,Math.floor(t-p*b/v+w)),j=Math.min(i,Math.floor(t+(v-p)*b/v+w));quickselect(e,t,S,j,o)}const u=e[t];let h=n,m=i;for(swap(e,n,t),o(e[i],u)>0&&swap(e,n,i);h<m;){for(swap(e,h,m),++h,--m;o(e[h],u)<0;)++h;for(;o(e[m],u)>0;)--m}o(e[n],u)===0?swap(e,n,m):(++m,swap(e,m,i)),m<=t&&(n=m+1),t<=m&&(i=m-1)}return e}function swap(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function quantile$1(e,t,n){if(e=Float64Array.from(numbers(e)),!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return min(e);if(t>=1)return max(e);var i,o=(i-1)*t,u=Math.floor(o),h=max(quickselect(e,u).subarray(0,u+1)),m=min(e.subarray(u+1));return h+(m-h)*(o-u)}}function quantileSorted(e,t,n=number$2){if(!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,o=(i-1)*t,u=Math.floor(o),h=+n(e[u],u,e),m=+n(e[u+1],u+1,e);return h+(m-h)*(o-u)}}function range$1(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var i=-1,o=Math.max(0,Math.ceil((t-e)/n))|0,u=new Array(o);++i<o;)u[i]=e+i*n;return u}function initRange(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function initInterpolator(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const implicit=Symbol("implicit");function ordinal(){var e=new InternMap,t=[],n=[],i=implicit;function o(u){let h=e.get(u);if(h===void 0){if(i!==implicit)return i;e.set(u,h=t.push(u)-1)}return n[h%n.length]}return o.domain=function(u){if(!arguments.length)return t.slice();t=[],e=new InternMap;for(const h of u)e.has(h)||e.set(h,t.push(h)-1);return o},o.range=function(u){return arguments.length?(n=Array.from(u),o):n.slice()},o.unknown=function(u){return arguments.length?(i=u,o):i},o.copy=function(){return ordinal(t,n).unknown(i)},initRange.apply(o,arguments),o}function band(){var e=ordinal().unknown(void 0),t=e.domain,n=e.range,i=0,o=1,u,h,m=!1,v=0,p=0,f=.5;delete e.unknown;function b(){var w=t().length,S=o<i,j=S?o:i,A=S?i:o;u=(A-j)/Math.max(1,w-v+p*2),m&&(u=Math.floor(u)),j+=(A-j-u*(w-v))*f,h=u*(1-v),m&&(j=Math.round(j),h=Math.round(h));var T=range$1(w).map(function(C){return j+u*C});return n(S?T.reverse():T)}return e.domain=function(w){return arguments.length?(t(w),b()):t()},e.range=function(w){return arguments.length?([i,o]=w,i=+i,o=+o,b()):[i,o]},e.rangeRound=function(w){return[i,o]=w,i=+i,o=+o,m=!0,b()},e.bandwidth=function(){return h},e.step=function(){return u},e.round=function(w){return arguments.length?(m=!!w,b()):m},e.padding=function(w){return arguments.length?(v=Math.min(1,p=+w),b()):v},e.paddingInner=function(w){return arguments.length?(v=Math.min(1,w),b()):v},e.paddingOuter=function(w){return arguments.length?(p=+w,b()):p},e.align=function(w){return arguments.length?(f=Math.max(0,Math.min(1,w)),b()):f},e.copy=function(){return band(t(),[i,o]).round(m).paddingInner(v).paddingOuter(p).align(f)},initRange.apply(b(),arguments)}function pointish(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pointish(t())},e}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function extend(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=reHex.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?rgbn(t):n===3?new Rgb(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?rgba(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?rgba(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=reRgbInteger.exec(e))?new Rgb(t[1],t[2],t[3],1):(t=reRgbPercent.exec(e))?new Rgb(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=reRgbaInteger.exec(e))?rgba(t[1],t[2],t[3],t[4]):(t=reRgbaPercent.exec(e))?rgba(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=reHslPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,1):(t=reHslaPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,t[4]):named.hasOwnProperty(e)?rgbn(named[e]):e==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,e&255,1)}function rgba(e,t,n,i){return i<=0&&(e=t=n=NaN),new Rgb(e,t,n,i)}function rgbConvert(e){return e instanceof Color||(e=color(e)),e?(e=e.rgb(),new Rgb(e.r,e.g,e.b,e.opacity)):new Rgb}function rgb$1(e,t,n,i){return arguments.length===1?rgbConvert(e):new Rgb(e,t,n,i??1)}function Rgb(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}define(Rgb,rgb$1,extend(Color,{brighter(e){return e=e==null?brighter:Math.pow(brighter,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?darker:Math.pow(darker,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const e=clampa(this.opacity);return`${e===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${e===1?")":`, ${e})`}`}function clampa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function clampi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hex(e){return e=clampi(e),(e<16?"0":"")+e.toString(16)}function hsla(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Hsl(e,t,n,i)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color||(e=color(e)),!e)return new Hsl;if(e instanceof Hsl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,o=Math.min(t,n,i),u=Math.max(t,n,i),h=NaN,m=u-o,v=(u+o)/2;return m?(t===u?h=(n-i)/m+(n<i)*6:n===u?h=(i-t)/m+2:h=(t-n)/m+4,m/=v<.5?u+o:2-u-o,h*=60):m=v>0&&v<1?0:h,new Hsl(h,m,v,e.opacity)}function hsl(e,t,n,i){return arguments.length===1?hslConvert(e):new Hsl(e,t,n,i??1)}function Hsl(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}define(Hsl,hsl,extend(Color,{brighter(e){return e=e==null?brighter:Math.pow(brighter,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?darker:Math.pow(darker,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,o=2*n-i;return new Rgb(hsl2rgb(e>=240?e-240:e+120,o,i),hsl2rgb(e,o,i),hsl2rgb(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=clampa(this.opacity);return`${e===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function clamph(e){return e=(e||0)%360,e<0?e+360:e}function clampt(e){return Math.max(0,Math.min(1,e||0))}function hsl2rgb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const constant=e=>()=>e;function linear$1(e,t){return function(n){return e+n*t}}function exponential(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function gamma(e){return(e=+e)==1?nogamma:function(t,n){return n-t?exponential(t,n,e):constant(isNaN(t)?n:t)}}function nogamma(e,t){var n=t-e;return n?linear$1(e,n):constant(isNaN(e)?t:e)}const rgb=function e(t){var n=gamma(t);function i(o,u){var h=n((o=rgb$1(o)).r,(u=rgb$1(u)).r),m=n(o.g,u.g),v=n(o.b,u.b),p=nogamma(o.opacity,u.opacity);return function(f){return o.r=h(f),o.g=m(f),o.b=v(f),o.opacity=p(f),o+""}}return i.gamma=e,i}(1);function numberArray(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),o;return function(u){for(o=0;o<n;++o)i[o]=e[o]*(1-u)+t[o]*u;return i}}function isNumberArray(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function genericArray(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,o=new Array(i),u=new Array(n),h;for(h=0;h<i;++h)o[h]=interpolate(e[h],t[h]);for(;h<n;++h)u[h]=t[h];return function(m){for(h=0;h<i;++h)u[h]=o[h](m);return u}}function date$1(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function interpolateNumber(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function object(e,t){var n={},i={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=interpolate(e[o],t[o]):i[o]=t[o];return function(u){for(o in n)i[o]=n[o](u);return i}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(e){return function(){return e}}function one(e){return function(t){return e(t)+""}}function string(e,t){var n=reA.lastIndex=reB.lastIndex=0,i,o,u,h=-1,m=[],v=[];for(e=e+"",t=t+"";(i=reA.exec(e))&&(o=reB.exec(t));)(u=o.index)>n&&(u=t.slice(n,u),m[h]?m[h]+=u:m[++h]=u),(i=i[0])===(o=o[0])?m[h]?m[h]+=o:m[++h]=o:(m[++h]=null,v.push({i:h,x:interpolateNumber(i,o)})),n=reB.lastIndex;return n<t.length&&(u=t.slice(n),m[h]?m[h]+=u:m[++h]=u),m.length<2?v[0]?one(v[0].x):zero(t):(t=v.length,function(p){for(var f=0,b;f<t;++f)m[(b=v[f]).i]=b.x(p);return m.join("")})}function interpolate(e,t){var n=typeof t,i;return t==null||n==="boolean"?constant(t):(n==="number"?interpolateNumber:n==="string"?(i=color(t))?(t=i,rgb):string:t instanceof color?rgb:t instanceof Date?date$1:isNumberArray(t)?numberArray:Array.isArray(t)?genericArray:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?object:interpolateNumber)(e,t)}function interpolateRound(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function piecewise(e,t){t===void 0&&(t=e,e=interpolate);for(var n=0,i=t.length-1,o=t[0],u=new Array(i<0?0:i);n<i;)u[n]=e(o,o=t[++n]);return function(h){var m=Math.max(0,Math.min(i-1,Math.floor(h*=i)));return u[m](h-m)}}function constants(e){return function(){return e}}function number$1(e){return+e}var unit=[0,1];function identity$3(e){return e}function normalize(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:constants(isNaN(t)?NaN:.5)}function clamper(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function bimap(e,t,n){var i=e[0],o=e[1],u=t[0],h=t[1];return o<i?(i=normalize(o,i),u=n(h,u)):(i=normalize(i,o),u=n(u,h)),function(m){return u(i(m))}}function polymap(e,t,n){var i=Math.min(e.length,t.length)-1,o=new Array(i),u=new Array(i),h=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++h<i;)o[h]=normalize(e[h],e[h+1]),u[h]=n(t[h],t[h+1]);return function(m){var v=bisectRight(e,m,1,i)-1;return u[v](o[v](m))}}function copy$1(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function transformer$2(){var e=unit,t=unit,n=interpolate,i,o,u,h=identity$3,m,v,p;function f(){var w=Math.min(e.length,t.length);return h!==identity$3&&(h=clamper(e[0],e[w-1])),m=w>2?polymap:bimap,v=p=null,b}function b(w){return w==null||isNaN(w=+w)?u:(v||(v=m(e.map(i),t,n)))(i(h(w)))}return b.invert=function(w){return h(o((p||(p=m(t,e.map(i),interpolateNumber)))(w)))},b.domain=function(w){return arguments.length?(e=Array.from(w,number$1),f()):e.slice()},b.range=function(w){return arguments.length?(t=Array.from(w),f()):t.slice()},b.rangeRound=function(w){return t=Array.from(w),n=interpolateRound,f()},b.clamp=function(w){return arguments.length?(h=w?!0:identity$3,f()):h!==identity$3},b.interpolate=function(w){return arguments.length?(n=w,f()):n},b.unknown=function(w){return arguments.length?(u=w,b):u},function(w,S){return i=w,o=S,f()}}function continuous(){return transformer$2()(identity$3,identity$3)}function formatDecimal(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function formatDecimalParts(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function exponent(e){return e=formatDecimalParts(Math.abs(e)),e?e[1]:NaN}function formatGroup(e,t){return function(n,i){for(var o=n.length,u=[],h=0,m=e[0],v=0;o>0&&m>0&&(v+m+1>i&&(m=Math.max(1,i-v)),u.push(n.substring(o-=m,o+m)),!((v+=m+1)>i));)m=e[h=(h+1)%e.length];return u.reverse().join(t)}}function formatNumerals(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(e){if(!(t=re.exec(e)))throw new Error("invalid format: "+e);var t;return new FormatSpecifier({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(e){e:for(var t=e.length,n=1,i=-1,o;n<t;++n)switch(e[n]){case".":i=o=n;break;case"0":i===0&&(i=n),o=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(o+1):e}var prefixExponent;function formatPrefixAuto(e,t){var n=formatDecimalParts(e,t);if(!n)return e+"";var i=n[0],o=n[1],u=o-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,h=i.length;return u===h?i:u>h?i+new Array(u-h+1).join("0"):u>0?i.slice(0,u)+"."+i.slice(u):"0."+new Array(1-u).join("0")+formatDecimalParts(e,Math.max(0,t+u-1))[0]}function formatRounded(e,t){var n=formatDecimalParts(e,t);if(!n)return e+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const formatTypes={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:formatDecimal,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>formatRounded(e*100,t),r:formatRounded,s:formatPrefixAuto,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function identity$2(e){return e}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(e){var t=e.grouping===void 0||e.thousands===void 0?identity$2:formatGroup(map$1.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",u=e.numerals===void 0?identity$2:formatNumerals(map$1.call(e.numerals,String)),h=e.percent===void 0?"%":e.percent+"",m=e.minus===void 0?"−":e.minus+"",v=e.nan===void 0?"NaN":e.nan+"";function p(b){b=formatSpecifier(b);var w=b.fill,S=b.align,j=b.sign,A=b.symbol,T=b.zero,C=b.width,O=b.comma,M=b.precision,R=b.trim,_=b.type;_==="n"?(O=!0,_="g"):formatTypes[_]||(M===void 0&&(M=12),R=!0,_="g"),(T||w==="0"&&S==="=")&&(T=!0,w="0",S="=");var q=A==="$"?n:A==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",se=A==="$"?i:/[%p]/.test(_)?h:"",ee=formatTypes[_],ae=/[defgprs%]/.test(_);M=M===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function pe(fe){var Ee=q,_e=se,Re,Pe,je;if(_==="c")_e=ee(fe)+_e,fe="";else{fe=+fe;var ce=fe<0||1/fe<0;if(fe=isNaN(fe)?v:ee(Math.abs(fe),M),R&&(fe=formatTrim(fe)),ce&&+fe==0&&j!=="+"&&(ce=!1),Ee=(ce?j==="("?j:m:j==="-"||j==="("?"":j)+Ee,_e=(_==="s"?prefixes[8+prefixExponent/3]:"")+_e+(ce&&j==="("?")":""),ae){for(Re=-1,Pe=fe.length;++Re<Pe;)if(je=fe.charCodeAt(Re),48>je||je>57){_e=(je===46?o+fe.slice(Re+1):fe.slice(Re))+_e,fe=fe.slice(0,Re);break}}}O&&!T&&(fe=t(fe,1/0));var le=Ee.length+fe.length+_e.length,ie=le<C?new Array(C-le+1).join(w):"";switch(O&&T&&(fe=t(ie+fe,ie.length?C-_e.length:1/0),ie=""),S){case"<":fe=Ee+fe+_e+ie;break;case"=":fe=Ee+ie+fe+_e;break;case"^":fe=ie.slice(0,le=ie.length>>1)+Ee+fe+_e+ie.slice(le);break;default:fe=ie+Ee+fe+_e;break}return u(fe)}return pe.toString=function(){return b+""},pe}function f(b,w){var S=p((b=formatSpecifier(b),b.type="f",b)),j=Math.max(-8,Math.min(8,Math.floor(exponent(w)/3)))*3,A=Math.pow(10,-j),T=prefixes[8+j/3];return function(C){return S(A*C)+T}}return{format:p,formatPrefix:f}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(e){return locale$1=formatLocale$1(e),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(e){return Math.max(0,-exponent(Math.abs(e)))}function precisionPrefix(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(t)/3)))*3-exponent(Math.abs(e)))}function precisionRound(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,exponent(t)-exponent(e))+1}function tickFormat(e,t,n,i){var o=tickStep(e,t,n),u;switch(i=formatSpecifier(i??",f"),i.type){case"s":{var h=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(u=precisionPrefix(o,h))&&(i.precision=u),formatPrefix(i,h)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(u=precisionRound(o,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=u-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(u=precisionFixed(o))&&(i.precision=u-(i.type==="%")*2);break}}return format(i)}function linearish(e){var t=e.domain;return e.ticks=function(n){var i=t();return ticks(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var o=t();return tickFormat(o[0],o[o.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),o=0,u=i.length-1,h=i[o],m=i[u],v,p,f=10;for(m<h&&(p=h,h=m,m=p,p=o,o=u,u=p);f-- >0;){if(p=tickIncrement(h,m,n),p===v)return i[o]=h,i[u]=m,t(i);if(p>0)h=Math.floor(h/p)*p,m=Math.ceil(m/p)*p;else if(p<0)h=Math.ceil(h*p)/p,m=Math.floor(m*p)/p;else break;v=p}return e},e}function linear(){var e=continuous();return e.copy=function(){return copy$1(e,linear())},initRange.apply(e,arguments),linearish(e)}function identity$1(e){var t;function n(i){return i==null||isNaN(i=+i)?t:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(e=Array.from(i,number$1),n):e.slice()},n.unknown=function(i){return arguments.length?(t=i,n):t},n.copy=function(){return identity$1(e).unknown(t)},e=arguments.length?Array.from(e,number$1):[0,1],linearish(n)}function nice(e,t){e=e.slice();var n=0,i=e.length-1,o=e[n],u=e[i],h;return u<o&&(h=n,n=i,i=h,h=o,o=u,u=h),e[n]=t.floor(o),e[i]=t.ceil(u),e}function transformLog(e){return Math.log(e)}function transformExp(e){return Math.exp(e)}function transformLogn(e){return-Math.log(-e)}function transformExpn(e){return-Math.exp(-e)}function pow10(e){return isFinite(e)?+("1e"+e):e<0?0:e}function powp(e){return e===10?pow10:e===Math.E?Math.exp:t=>Math.pow(e,t)}function logp(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function reflect(e){return(t,n)=>-e(-t,n)}function loggish(e){const t=e(transformLog,transformExp),n=t.domain;let i=10,o,u;function h(){return o=logp(i),u=powp(i),n()[0]<0?(o=reflect(o),u=reflect(u),e(transformLogn,transformExpn)):e(transformLog,transformExp),t}return t.base=function(m){return arguments.length?(i=+m,h()):i},t.domain=function(m){return arguments.length?(n(m),h()):n()},t.ticks=m=>{const v=n();let p=v[0],f=v[v.length-1];const b=f<p;b&&([p,f]=[f,p]);let w=o(p),S=o(f),j,A;const T=m==null?10:+m;let C=[];if(!(i%1)&&S-w<T){if(w=Math.floor(w),S=Math.ceil(S),p>0){for(;w<=S;++w)for(j=1;j<i;++j)if(A=w<0?j/u(-w):j*u(w),!(A<p)){if(A>f)break;C.push(A)}}else for(;w<=S;++w)for(j=i-1;j>=1;--j)if(A=w>0?j/u(-w):j*u(w),!(A<p)){if(A>f)break;C.push(A)}C.length*2<T&&(C=ticks(p,f,T))}else C=ticks(w,S,Math.min(S-w,T)).map(u);return b?C.reverse():C},t.tickFormat=(m,v)=>{if(m==null&&(m=10),v==null&&(v=i===10?"s":","),typeof v!="function"&&(!(i%1)&&(v=formatSpecifier(v)).precision==null&&(v.trim=!0),v=format(v)),m===1/0)return v;const p=Math.max(1,i*m/t.ticks().length);return f=>{let b=f/u(Math.round(o(f)));return b*i<i-.5&&(b*=i),b<=p?v(f):""}},t.nice=()=>n(nice(n(),{floor:m=>u(Math.floor(o(m))),ceil:m=>u(Math.ceil(o(m)))})),t}function log(){const e=loggish(transformer$2()).domain([1,10]);return e.copy=()=>copy$1(e,log()).base(e.base()),initRange.apply(e,arguments),e}function transformSymlog(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function transformSymexp(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function symlogish(e){var t=1,n=e(transformSymlog(t),transformSymexp(t));return n.constant=function(i){return arguments.length?e(transformSymlog(t=+i),transformSymexp(t)):t},linearish(n)}function symlog(){var e=symlogish(transformer$2());return e.copy=function(){return copy$1(e,symlog()).constant(e.constant())},initRange.apply(e,arguments)}function transformPow(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function transformSqrt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function transformSquare(e){return e<0?-e*e:e*e}function powish(e){var t=e(identity$3,identity$3),n=1;function i(){return n===1?e(identity$3,identity$3):n===.5?e(transformSqrt,transformSquare):e(transformPow(n),transformPow(1/n))}return t.exponent=function(o){return arguments.length?(n=+o,i()):n},linearish(t)}function pow(){var e=powish(transformer$2());return e.copy=function(){return copy$1(e,pow()).exponent(e.exponent())},initRange.apply(e,arguments),e}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(e){return Math.sign(e)*e*e}function unsquare(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function radial(){var e=continuous(),t=[0,1],n=!1,i;function o(u){var h=unsquare(e(u));return isNaN(h)?i:n?Math.round(h):h}return o.invert=function(u){return e.invert(square(u))},o.domain=function(u){return arguments.length?(e.domain(u),o):e.domain()},o.range=function(u){return arguments.length?(e.range((t=Array.from(u,number$1)).map(square)),o):t.slice()},o.rangeRound=function(u){return o.range(u).round(!0)},o.round=function(u){return arguments.length?(n=!!u,o):n},o.clamp=function(u){return arguments.length?(e.clamp(u),o):e.clamp()},o.unknown=function(u){return arguments.length?(i=u,o):i},o.copy=function(){return radial(e.domain(),t).round(n).clamp(e.clamp()).unknown(i)},initRange.apply(o,arguments),linearish(o)}function quantile(){var e=[],t=[],n=[],i;function o(){var h=0,m=Math.max(1,t.length);for(n=new Array(m-1);++h<m;)n[h-1]=quantileSorted(e,h/m);return u}function u(h){return h==null||isNaN(h=+h)?i:t[bisectRight(n,h)]}return u.invertExtent=function(h){var m=t.indexOf(h);return m<0?[NaN,NaN]:[m>0?n[m-1]:e[0],m<n.length?n[m]:e[e.length-1]]},u.domain=function(h){if(!arguments.length)return e.slice();e=[];for(let m of h)m!=null&&!isNaN(m=+m)&&e.push(m);return e.sort(ascending),o()},u.range=function(h){return arguments.length?(t=Array.from(h),o()):t.slice()},u.unknown=function(h){return arguments.length?(i=h,u):i},u.quantiles=function(){return n.slice()},u.copy=function(){return quantile().domain(e).range(t).unknown(i)},initRange.apply(u,arguments)}function quantize(){var e=0,t=1,n=1,i=[.5],o=[0,1],u;function h(v){return v!=null&&v<=v?o[bisectRight(i,v,0,n)]:u}function m(){var v=-1;for(i=new Array(n);++v<n;)i[v]=((v+1)*t-(v-n)*e)/(n+1);return h}return h.domain=function(v){return arguments.length?([e,t]=v,e=+e,t=+t,m()):[e,t]},h.range=function(v){return arguments.length?(n=(o=Array.from(v)).length-1,m()):o.slice()},h.invertExtent=function(v){var p=o.indexOf(v);return p<0?[NaN,NaN]:p<1?[e,i[0]]:p>=n?[i[n-1],t]:[i[p-1],i[p]]},h.unknown=function(v){return arguments.length&&(u=v),h},h.thresholds=function(){return i.slice()},h.copy=function(){return quantize().domain([e,t]).range(o).unknown(u)},initRange.apply(linearish(h),arguments)}function threshold(){var e=[.5],t=[0,1],n,i=1;function o(u){return u!=null&&u<=u?t[bisectRight(e,u,0,i)]:n}return o.domain=function(u){return arguments.length?(e=Array.from(u),i=Math.min(e.length,t.length-1),o):e.slice()},o.range=function(u){return arguments.length?(t=Array.from(u),i=Math.min(e.length,t.length-1),o):t.slice()},o.invertExtent=function(u){var h=t.indexOf(u);return[e[h-1],e[h]]},o.unknown=function(u){return arguments.length?(n=u,o):n},o.copy=function(){return threshold().domain(e).range(t).unknown(n)},initRange.apply(o,arguments)}const t0=new Date,t1=new Date;function timeInterval(e,t,n,i){function o(u){return e(u=arguments.length===0?new Date:new Date(+u)),u}return o.floor=u=>(e(u=new Date(+u)),u),o.ceil=u=>(e(u=new Date(u-1)),t(u,1),e(u),u),o.round=u=>{const h=o(u),m=o.ceil(u);return u-h<m-u?h:m},o.offset=(u,h)=>(t(u=new Date(+u),h==null?1:Math.floor(h)),u),o.range=(u,h,m)=>{const v=[];if(u=o.ceil(u),m=m==null?1:Math.floor(m),!(u<h)||!(m>0))return v;let p;do v.push(p=new Date(+u)),t(u,m),e(u);while(p<u&&u<h);return v},o.filter=u=>timeInterval(h=>{if(h>=h)for(;e(h),!u(h);)h.setTime(h-1)},(h,m)=>{if(h>=h)if(m<0)for(;++m<=0;)for(;t(h,-1),!u(h););else for(;--m>=0;)for(;t(h,1),!u(h););}),n&&(o.count=(u,h)=>(t0.setTime(+u),t1.setTime(+h),e(t0),e(t1),Math.floor(n(t0,t1))),o.every=u=>(u=Math.floor(u),!isFinite(u)||!(u>0)?null:u>1?o.filter(i?h=>i(h)%u===0:h=>o.count(0,h)%u===0):o)),o}const millisecond=timeInterval(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);millisecond.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?timeInterval(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*durationSecond)},(e,t)=>(t-e)/durationSecond,e=>e.getUTCSeconds());second.range;const timeMinute=timeInterval(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*durationSecond)},(e,t)=>{e.setTime(+e+t*durationMinute)},(e,t)=>(t-e)/durationMinute,e=>e.getMinutes());timeMinute.range;const utcMinute=timeInterval(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*durationMinute)},(e,t)=>(t-e)/durationMinute,e=>e.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*durationSecond-e.getMinutes()*durationMinute)},(e,t)=>{e.setTime(+e+t*durationHour)},(e,t)=>(t-e)/durationHour,e=>e.getHours());timeHour.range;const utcHour=timeInterval(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*durationHour)},(e,t)=>(t-e)/durationHour,e=>e.getUTCHours());utcHour.range;const timeDay=timeInterval(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*durationMinute)/durationDay,e=>e.getDate()-1);timeDay.range;const utcDay=timeInterval(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/durationDay,e=>e.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/durationDay,e=>Math.floor(e/durationDay));unixDay.range;function timeWeekday(e){return timeInterval(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(e){return timeInterval(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());timeMonth.range;const utcMonth=timeInterval(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());utcMonth.range;const timeYear=timeInterval(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());timeYear.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:timeInterval(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});timeYear.range;const utcYear=timeInterval(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());utcYear.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:timeInterval(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});utcYear.range;function ticker(e,t,n,i,o,u){const h=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[u,1,durationMinute],[u,5,5*durationMinute],[u,15,15*durationMinute],[u,30,30*durationMinute],[o,1,durationHour],[o,3,3*durationHour],[o,6,6*durationHour],[o,12,12*durationHour],[i,1,durationDay],[i,2,2*durationDay],[n,1,durationWeek],[t,1,durationMonth],[t,3,3*durationMonth],[e,1,durationYear]];function m(p,f,b){const w=f<p;w&&([p,f]=[f,p]);const S=b&&typeof b.range=="function"?b:v(p,f,b),j=S?S.range(p,+f+1):[];return w?j.reverse():j}function v(p,f,b){const w=Math.abs(f-p)/b,S=bisector(([,,T])=>T).right(h,w);if(S===h.length)return e.every(tickStep(p/durationYear,f/durationYear,b));if(S===0)return millisecond.every(Math.max(tickStep(p,f,b),1));const[j,A]=h[w/h[S-1][2]<h[S][2]/w?S-1:S];return j.every(A)}return[m,v]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function utcDate(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function newDate(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function formatLocale(e){var t=e.dateTime,n=e.date,i=e.time,o=e.periods,u=e.days,h=e.shortDays,m=e.months,v=e.shortMonths,p=formatRe(o),f=formatLookup(o),b=formatRe(u),w=formatLookup(u),S=formatRe(h),j=formatLookup(h),A=formatRe(m),T=formatLookup(m),C=formatRe(v),O=formatLookup(v),M={a:ce,A:le,b:ie,B:Y,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:ne,q:oe,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},R={a:ue,A:ve,b:me,B:te,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:he,q:ge,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},_={a:pe,A:fe,b:Ee,B:_e,c:Re,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:ae,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Pe,X:je,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};M.x=q(n,M),M.X=q(i,M),M.c=q(t,M),R.x=q(n,R),R.X=q(i,R),R.c=q(t,R);function q(xe,ye){return function(Se){var we=[],ke=-1,Ve=0,Oe=xe.length,Be,Fe,Ue;for(Se instanceof Date||(Se=new Date(+Se));++ke<Oe;)xe.charCodeAt(ke)===37&&(we.push(xe.slice(Ve,ke)),(Fe=pads[Be=xe.charAt(++ke)])!=null?Be=xe.charAt(++ke):Fe=Be==="e"?" ":"0",(Ue=ye[Be])&&(Be=Ue(Se,Fe)),we.push(Be),Ve=ke+1);return we.push(xe.slice(Ve,ke)),we.join("")}}function se(xe,ye){return function(Se){var we=newDate(1900,void 0,1),ke=ee(we,xe,Se+="",0),Ve,Oe;if(ke!=Se.length)return null;if("Q"in we)return new Date(we.Q);if("s"in we)return new Date(we.s*1e3+("L"in we?we.L:0));if(ye&&!("Z"in we)&&(we.Z=0),"p"in we&&(we.H=we.H%12+we.p*12),we.m===void 0&&(we.m="q"in we?we.q:0),"V"in we){if(we.V<1||we.V>53)return null;"w"in we||(we.w=1),"Z"in we?(Ve=utcDate(newDate(we.y,0,1)),Oe=Ve.getUTCDay(),Ve=Oe>4||Oe===0?utcMonday.ceil(Ve):utcMonday(Ve),Ve=utcDay.offset(Ve,(we.V-1)*7),we.y=Ve.getUTCFullYear(),we.m=Ve.getUTCMonth(),we.d=Ve.getUTCDate()+(we.w+6)%7):(Ve=localDate(newDate(we.y,0,1)),Oe=Ve.getDay(),Ve=Oe>4||Oe===0?timeMonday.ceil(Ve):timeMonday(Ve),Ve=timeDay.offset(Ve,(we.V-1)*7),we.y=Ve.getFullYear(),we.m=Ve.getMonth(),we.d=Ve.getDate()+(we.w+6)%7)}else("W"in we||"U"in we)&&("w"in we||(we.w="u"in we?we.u%7:"W"in we?1:0),Oe="Z"in we?utcDate(newDate(we.y,0,1)).getUTCDay():localDate(newDate(we.y,0,1)).getDay(),we.m=0,we.d="W"in we?(we.w+6)%7+we.W*7-(Oe+5)%7:we.w+we.U*7-(Oe+6)%7);return"Z"in we?(we.H+=we.Z/100|0,we.M+=we.Z%100,utcDate(we)):localDate(we)}}function ee(xe,ye,Se,we){for(var ke=0,Ve=ye.length,Oe=Se.length,Be,Fe;ke<Ve;){if(we>=Oe)return-1;if(Be=ye.charCodeAt(ke++),Be===37){if(Be=ye.charAt(ke++),Fe=_[Be in pads?ye.charAt(ke++):Be],!Fe||(we=Fe(xe,Se,we))<0)return-1}else if(Be!=Se.charCodeAt(we++))return-1}return we}function ae(xe,ye,Se){var we=p.exec(ye.slice(Se));return we?(xe.p=f.get(we[0].toLowerCase()),Se+we[0].length):-1}function pe(xe,ye,Se){var we=S.exec(ye.slice(Se));return we?(xe.w=j.get(we[0].toLowerCase()),Se+we[0].length):-1}function fe(xe,ye,Se){var we=b.exec(ye.slice(Se));return we?(xe.w=w.get(we[0].toLowerCase()),Se+we[0].length):-1}function Ee(xe,ye,Se){var we=C.exec(ye.slice(Se));return we?(xe.m=O.get(we[0].toLowerCase()),Se+we[0].length):-1}function _e(xe,ye,Se){var we=A.exec(ye.slice(Se));return we?(xe.m=T.get(we[0].toLowerCase()),Se+we[0].length):-1}function Re(xe,ye,Se){return ee(xe,t,ye,Se)}function Pe(xe,ye,Se){return ee(xe,n,ye,Se)}function je(xe,ye,Se){return ee(xe,i,ye,Se)}function ce(xe){return h[xe.getDay()]}function le(xe){return u[xe.getDay()]}function ie(xe){return v[xe.getMonth()]}function Y(xe){return m[xe.getMonth()]}function ne(xe){return o[+(xe.getHours()>=12)]}function oe(xe){return 1+~~(xe.getMonth()/3)}function ue(xe){return h[xe.getUTCDay()]}function ve(xe){return u[xe.getUTCDay()]}function me(xe){return v[xe.getUTCMonth()]}function te(xe){return m[xe.getUTCMonth()]}function he(xe){return o[+(xe.getUTCHours()>=12)]}function ge(xe){return 1+~~(xe.getUTCMonth()/3)}return{format:function(xe){var ye=q(xe+="",M);return ye.toString=function(){return xe},ye},parse:function(xe){var ye=se(xe+="",!1);return ye.toString=function(){return xe},ye},utcFormat:function(xe){var ye=q(xe+="",R);return ye.toString=function(){return xe},ye},utcParse:function(xe){var ye=se(xe+="",!0);return ye.toString=function(){return xe},ye}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(e,t,n){var i=e<0?"-":"",o=(i?-e:e)+"",u=o.length;return i+(u<n?new Array(n-u+1).join(t)+o:o)}function requote(e){return e.replace(requoteRe,"\\$&")}function formatRe(e){return new RegExp("^(?:"+e.map(requote).join("|")+")","i")}function formatLookup(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function parseWeekdayNumberSunday(e,t,n){var i=numberRe.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function parseWeekdayNumberMonday(e,t,n){var i=numberRe.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function parseWeekNumberSunday(e,t,n){var i=numberRe.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function parseWeekNumberISO(e,t,n){var i=numberRe.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function parseWeekNumberMonday(e,t,n){var i=numberRe.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function parseFullYear(e,t,n){var i=numberRe.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function parseYear(e,t,n){var i=numberRe.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function parseZone(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function parseQuarter(e,t,n){var i=numberRe.exec(t.slice(n,n+1));return i?(e.q=i[0]*3-3,n+i[0].length):-1}function parseMonthNumber(e,t,n){var i=numberRe.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function parseDayOfMonth(e,t,n){var i=numberRe.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function parseDayOfYear(e,t,n){var i=numberRe.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function parseHour24(e,t,n){var i=numberRe.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function parseMinutes(e,t,n){var i=numberRe.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function parseSeconds(e,t,n){var i=numberRe.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function parseMilliseconds(e,t,n){var i=numberRe.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function parseMicroseconds(e,t,n){var i=numberRe.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function parseLiteralPercent(e,t,n){var i=percentRe.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function parseUnixTimestamp(e,t,n){var i=numberRe.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function parseUnixTimestampSeconds(e,t,n){var i=numberRe.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function formatDayOfMonth(e,t){return pad(e.getDate(),t,2)}function formatHour24(e,t){return pad(e.getHours(),t,2)}function formatHour12(e,t){return pad(e.getHours()%12||12,t,2)}function formatDayOfYear(e,t){return pad(1+timeDay.count(timeYear(e),e),t,3)}function formatMilliseconds(e,t){return pad(e.getMilliseconds(),t,3)}function formatMicroseconds(e,t){return formatMilliseconds(e,t)+"000"}function formatMonthNumber(e,t){return pad(e.getMonth()+1,t,2)}function formatMinutes(e,t){return pad(e.getMinutes(),t,2)}function formatSeconds(e,t){return pad(e.getSeconds(),t,2)}function formatWeekdayNumberMonday(e){var t=e.getDay();return t===0?7:t}function formatWeekNumberSunday(e,t){return pad(timeSunday.count(timeYear(e)-1,e),t,2)}function dISO(e){var t=e.getDay();return t>=4||t===0?timeThursday(e):timeThursday.ceil(e)}function formatWeekNumberISO(e,t){return e=dISO(e),pad(timeThursday.count(timeYear(e),e)+(timeYear(e).getDay()===4),t,2)}function formatWeekdayNumberSunday(e){return e.getDay()}function formatWeekNumberMonday(e,t){return pad(timeMonday.count(timeYear(e)-1,e),t,2)}function formatYear(e,t){return pad(e.getFullYear()%100,t,2)}function formatYearISO(e,t){return e=dISO(e),pad(e.getFullYear()%100,t,2)}function formatFullYear(e,t){return pad(e.getFullYear()%1e4,t,4)}function formatFullYearISO(e,t){var n=e.getDay();return e=n>=4||n===0?timeThursday(e):timeThursday.ceil(e),pad(e.getFullYear()%1e4,t,4)}function formatZone(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pad(t/60|0,"0",2)+pad(t%60,"0",2)}function formatUTCDayOfMonth(e,t){return pad(e.getUTCDate(),t,2)}function formatUTCHour24(e,t){return pad(e.getUTCHours(),t,2)}function formatUTCHour12(e,t){return pad(e.getUTCHours()%12||12,t,2)}function formatUTCDayOfYear(e,t){return pad(1+utcDay.count(utcYear(e),e),t,3)}function formatUTCMilliseconds(e,t){return pad(e.getUTCMilliseconds(),t,3)}function formatUTCMicroseconds(e,t){return formatUTCMilliseconds(e,t)+"000"}function formatUTCMonthNumber(e,t){return pad(e.getUTCMonth()+1,t,2)}function formatUTCMinutes(e,t){return pad(e.getUTCMinutes(),t,2)}function formatUTCSeconds(e,t){return pad(e.getUTCSeconds(),t,2)}function formatUTCWeekdayNumberMonday(e){var t=e.getUTCDay();return t===0?7:t}function formatUTCWeekNumberSunday(e,t){return pad(utcSunday.count(utcYear(e)-1,e),t,2)}function UTCdISO(e){var t=e.getUTCDay();return t>=4||t===0?utcThursday(e):utcThursday.ceil(e)}function formatUTCWeekNumberISO(e,t){return e=UTCdISO(e),pad(utcThursday.count(utcYear(e),e)+(utcYear(e).getUTCDay()===4),t,2)}function formatUTCWeekdayNumberSunday(e){return e.getUTCDay()}function formatUTCWeekNumberMonday(e,t){return pad(utcMonday.count(utcYear(e)-1,e),t,2)}function formatUTCYear(e,t){return pad(e.getUTCFullYear()%100,t,2)}function formatUTCYearISO(e,t){return e=UTCdISO(e),pad(e.getUTCFullYear()%100,t,2)}function formatUTCFullYear(e,t){return pad(e.getUTCFullYear()%1e4,t,4)}function formatUTCFullYearISO(e,t){var n=e.getUTCDay();return e=n>=4||n===0?utcThursday(e):utcThursday.ceil(e),pad(e.getUTCFullYear()%1e4,t,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(e){return+e}function formatUnixTimestampSeconds(e){return Math.floor(+e/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(e){return locale=formatLocale(e),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(e){return new Date(e)}function number(e){return e instanceof Date?+e:+new Date(+e)}function calendar(e,t,n,i,o,u,h,m,v,p){var f=continuous(),b=f.invert,w=f.domain,S=p(".%L"),j=p(":%S"),A=p("%I:%M"),T=p("%I %p"),C=p("%a %d"),O=p("%b %d"),M=p("%B"),R=p("%Y");function _(q){return(v(q)<q?S:m(q)<q?j:h(q)<q?A:u(q)<q?T:i(q)<q?o(q)<q?C:O:n(q)<q?M:R)(q)}return f.invert=function(q){return new Date(b(q))},f.domain=function(q){return arguments.length?w(Array.from(q,number)):w().map(date)},f.ticks=function(q){var se=w();return e(se[0],se[se.length-1],q??10)},f.tickFormat=function(q,se){return se==null?_:p(se)},f.nice=function(q){var se=w();return(!q||typeof q.range!="function")&&(q=t(se[0],se[se.length-1],q??10)),q?w(nice(se,q)):f},f.copy=function(){return copy$1(f,calendar(e,t,n,i,o,u,h,m,v,p))},f}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var e=0,t=1,n,i,o,u,h=identity$3,m=!1,v;function p(b){return b==null||isNaN(b=+b)?v:h(o===0?.5:(b=(u(b)-n)*o,m?Math.max(0,Math.min(1,b)):b))}p.domain=function(b){return arguments.length?([e,t]=b,n=u(e=+e),i=u(t=+t),o=n===i?0:1/(i-n),p):[e,t]},p.clamp=function(b){return arguments.length?(m=!!b,p):m},p.interpolator=function(b){return arguments.length?(h=b,p):h};function f(b){return function(w){var S,j;return arguments.length?([S,j]=w,h=b(S,j),p):[h(0),h(1)]}}return p.range=f(interpolate),p.rangeRound=f(interpolateRound),p.unknown=function(b){return arguments.length?(v=b,p):v},function(b){return u=b,n=b(e),i=b(t),o=n===i?0:1/(i-n),p}}function copy(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sequential(){var e=linearish(transformer$1()(identity$3));return e.copy=function(){return copy(e,sequential())},initInterpolator.apply(e,arguments)}function sequentialLog(){var e=loggish(transformer$1()).domain([1,10]);return e.copy=function(){return copy(e,sequentialLog()).base(e.base())},initInterpolator.apply(e,arguments)}function sequentialSymlog(){var e=symlogish(transformer$1());return e.copy=function(){return copy(e,sequentialSymlog()).constant(e.constant())},initInterpolator.apply(e,arguments)}function sequentialPow(){var e=powish(transformer$1());return e.copy=function(){return copy(e,sequentialPow()).exponent(e.exponent())},initInterpolator.apply(e,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var e=[],t=identity$3;function n(i){if(i!=null&&!isNaN(i=+i))return t((bisectRight(e,i,1)-1)/(e.length-1))}return n.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let o of i)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ascending),n},n.interpolator=function(i){return arguments.length?(t=i,n):t},n.range=function(){return e.map((i,o)=>t(o/(e.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(o,u)=>quantile$1(e,u/i))},n.copy=function(){return sequentialQuantile(t).domain(e)},initInterpolator.apply(n,arguments)}function transformer(){var e=0,t=.5,n=1,i=1,o,u,h,m,v,p=identity$3,f,b=!1,w;function S(A){return isNaN(A=+A)?w:(A=.5+((A=+f(A))-u)*(i*A<i*u?m:v),p(b?Math.max(0,Math.min(1,A)):A))}S.domain=function(A){return arguments.length?([e,t,n]=A,o=f(e=+e),u=f(t=+t),h=f(n=+n),m=o===u?0:.5/(u-o),v=u===h?0:.5/(h-u),i=u<o?-1:1,S):[e,t,n]},S.clamp=function(A){return arguments.length?(b=!!A,S):b},S.interpolator=function(A){return arguments.length?(p=A,S):p};function j(A){return function(T){var C,O,M;return arguments.length?([C,O,M]=T,p=piecewise(A,[C,O,M]),S):[p(0),p(.5),p(1)]}}return S.range=j(interpolate),S.rangeRound=j(interpolateRound),S.unknown=function(A){return arguments.length?(w=A,S):w},function(A){return f=A,o=A(e),u=A(t),h=A(n),m=o===u?0:.5/(u-o),v=u===h?0:.5/(h-u),i=u<o?-1:1,S}}function diverging(){var e=linearish(transformer()(identity$3));return e.copy=function(){return copy(e,diverging())},initInterpolator.apply(e,arguments)}function divergingLog(){var e=loggish(transformer()).domain([.1,1,10]);return e.copy=function(){return copy(e,divergingLog()).base(e.base())},initInterpolator.apply(e,arguments)}function divergingSymlog(){var e=symlogish(transformer());return e.copy=function(){return copy(e,divergingSymlog()).constant(e.constant())},initInterpolator.apply(e,arguments)}function divergingPow(){var e=powish(transformer());return e.copy=function(){return copy(e,divergingPow()).exponent(e.exponent())},initInterpolator.apply(e,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$1,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var selectChartDataWithIndexes=e=>e.chartData,selectChartDataAndAlwaysIgnoreIndexes=createSelector([selectChartDataWithIndexes],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),selectChartDataWithIndexesIfNotInPanorama=(e,t,n,i)=>i?selectChartDataAndAlwaysIgnoreIndexes(e):selectChartDataWithIndexes(e);function isWellFormedNumberDomain(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(isWellBehavedNumber(t)&&isWellBehavedNumber(n))return!0}return!1}function extendDomain(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function numericalDomainSpecifiedWithoutRequiringData(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,i]=e,o,u;if(isWellBehavedNumber(n))o=n;else if(typeof n=="function")return;if(isWellBehavedNumber(i))u=i;else if(typeof i=="function")return;var h=[o,u];if(isWellFormedNumberDomain(h))return h}}function parseNumericalUserDomain(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var i=e(t,n);if(isWellFormedNumberDomain(i))return extendDomain(i,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[o,u]=e,h,m;if(o==="auto")t!=null&&(h=Math.min(...t));else if(isNumber(o))h=o;else if(typeof o=="function")try{t!=null&&(h=o(t?.[0]))}catch{}else if(typeof o=="string"&&MIN_VALUE_REG.test(o)){var v=MIN_VALUE_REG.exec(o);if(v==null||t==null)h=void 0;else{var p=+v[1];h=t[0]-p}}else h=t?.[0];if(u==="auto")t!=null&&(m=Math.max(...t));else if(isNumber(u))m=u;else if(typeof u=="function")try{t!=null&&(m=u(t?.[1]))}catch{}else if(typeof u=="string"&&MAX_VALUE_REG.test(u)){var f=MAX_VALUE_REG.exec(u);if(f==null||t==null)m=void 0;else{var b=+f[1];m=t[1]+b}}else m=t?.[1];var w=[h,m];if(isWellFormedNumberDomain(w))return t==null?w:extendDomain(w,t,n)}}}var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P={};P.absoluteValue=P.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};P.comparedTo=P.cmp=function(e){var t,n,i,o,u=this;if(e=new u.constructor(e),u.s!==e.s)return u.s||-e.s;if(u.e!==e.e)return u.e>e.e^u.s<0?1:-1;for(i=u.d.length,o=e.d.length,t=0,n=i<o?i:o;t<n;++t)if(u.d[t]!==e.d[t])return u.d[t]>e.d[t]^u.s<0?1:-1;return i===o?0:i>o^u.s<0?1:-1};P.decimalPlaces=P.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*LOG_BASE;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};P.dividedBy=P.div=function(e){return divide(this,new this.constructor(e))};P.dividedToIntegerBy=P.idiv=function(e){var t=this,n=t.constructor;return round(divide(t,new n(e),0,1),n.precision)};P.equals=P.eq=function(e){return!this.cmp(e)};P.exponent=function(){return getBase10Exponent(this)};P.greaterThan=P.gt=function(e){return this.cmp(e)>0};P.greaterThanOrEqualTo=P.gte=function(e){return this.cmp(e)>=0};P.isInteger=P.isint=function(){return this.e>this.d.length-2};P.isNegative=P.isneg=function(){return this.s<0};P.isPositive=P.ispos=function(){return this.s>0};P.isZero=function(){return this.s===0};P.lessThan=P.lt=function(e){return this.cmp(e)<0};P.lessThanOrEqualTo=P.lte=function(e){return this.cmp(e)<1};P.logarithm=P.log=function(e){var t,n=this,i=n.constructor,o=i.precision,u=o+5;if(e===void 0)e=new i(10);else if(e=new i(e),e.s<1||e.eq(ONE))throw Error(decimalError+"NaN");if(n.s<1)throw Error(decimalError+(n.s?"NaN":"-Infinity"));return n.eq(ONE)?new i(0):(external=!1,t=divide(ln(n,u),ln(e,u),u),external=!0,round(t,o))};P.minus=P.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?subtract(t,e):add(t,(e.s=-e.s,e))};P.modulo=P.mod=function(e){var t,n=this,i=n.constructor,o=i.precision;if(e=new i(e),!e.s)throw Error(decimalError+"NaN");return n.s?(external=!1,t=divide(n,e,0,1).times(e),external=!0,n.minus(t)):round(new i(n),o)};P.naturalExponential=P.exp=function(){return exp(this)};P.naturalLogarithm=P.ln=function(){return ln(this)};P.negated=P.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};P.plus=P.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?add(t,e):subtract(t,(e.s=-e.s,e))};P.precision=P.sd=function(e){var t,n,i,o=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(invalidArgument+e);if(t=getBase10Exponent(o)+1,i=o.d.length-1,n=i*LOG_BASE+1,i=o.d[i],i){for(;i%10==0;i/=10)n--;for(i=o.d[0];i>=10;i/=10)n++}return e&&t>n?t:n};P.squareRoot=P.sqrt=function(){var e,t,n,i,o,u,h,m=this,v=m.constructor;if(m.s<1){if(!m.s)return new v(0);throw Error(decimalError+"NaN")}for(e=getBase10Exponent(m),external=!1,o=Math.sqrt(+m),o==0||o==1/0?(t=digitsToString(m.d),(t.length+e)%2==0&&(t+="0"),o=Math.sqrt(t),e=mathfloor((e+1)/2)-(e<0||e%2),o==1/0?t="5e"+e:(t=o.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),i=new v(t)):i=new v(o.toString()),n=v.precision,o=h=n+3;;)if(u=i,i=u.plus(divide(m,u,h+2)).times(.5),digitsToString(u.d).slice(0,h)===(t=digitsToString(i.d)).slice(0,h)){if(t=t.slice(h-3,h+1),o==h&&t=="4999"){if(round(u,n+1,0),u.times(u).eq(m)){i=u;break}}else if(t!="9999")break;h+=4}return external=!0,round(i,n)};P.times=P.mul=function(e){var t,n,i,o,u,h,m,v,p,f=this,b=f.constructor,w=f.d,S=(e=new b(e)).d;if(!f.s||!e.s)return new b(0);for(e.s*=f.s,n=f.e+e.e,v=w.length,p=S.length,v<p&&(u=w,w=S,S=u,h=v,v=p,p=h),u=[],h=v+p,i=h;i--;)u.push(0);for(i=p;--i>=0;){for(t=0,o=v+i;o>i;)m=u[o]+S[i]*w[o-i-1]+t,u[o--]=m%BASE|0,t=m/BASE|0;u[o]=(u[o]+t)%BASE|0}for(;!u[--h];)u.pop();return t?++n:u.shift(),e.d=u,e.e=n,external?round(e,b.precision):e};P.toDecimalPlaces=P.todp=function(e,t){var n=this,i=n.constructor;return n=new i(n),e===void 0?n:(checkInt32(e,0,MAX_DIGITS),t===void 0?t=i.rounding:checkInt32(t,0,8),round(n,e+getBase10Exponent(n)+1,t))};P.toExponential=function(e,t){var n,i=this,o=i.constructor;return e===void 0?n=toString(i,!0):(checkInt32(e,0,MAX_DIGITS),t===void 0?t=o.rounding:checkInt32(t,0,8),i=round(new o(i),e+1,t),n=toString(i,!0,e+1)),n};P.toFixed=function(e,t){var n,i,o=this,u=o.constructor;return e===void 0?toString(o):(checkInt32(e,0,MAX_DIGITS),t===void 0?t=u.rounding:checkInt32(t,0,8),i=round(new u(o),e+getBase10Exponent(o)+1,t),n=toString(i.abs(),!1,e+getBase10Exponent(i)+1),o.isneg()&&!o.isZero()?"-"+n:n)};P.toInteger=P.toint=function(){var e=this,t=e.constructor;return round(new t(e),getBase10Exponent(e)+1,t.rounding)};P.toNumber=function(){return+this};P.toPower=P.pow=function(e){var t,n,i,o,u,h,m=this,v=m.constructor,p=12,f=+(e=new v(e));if(!e.s)return new v(ONE);if(m=new v(m),!m.s){if(e.s<1)throw Error(decimalError+"Infinity");return m}if(m.eq(ONE))return m;if(i=v.precision,e.eq(ONE))return round(m,i);if(t=e.e,n=e.d.length-1,h=t>=n,u=m.s,h){if((n=f<0?-f:f)<=MAX_SAFE_INTEGER){for(o=new v(ONE),t=Math.ceil(i/LOG_BASE+4),external=!1;n%2&&(o=o.times(m),truncate(o.d,t)),n=mathfloor(n/2),n!==0;)m=m.times(m),truncate(m.d,t);return external=!0,e.s<0?new v(ONE).div(o):round(o,i)}}else if(u<0)throw Error(decimalError+"NaN");return u=u<0&&e.d[Math.max(t,n)]&1?-1:1,m.s=1,external=!1,o=e.times(ln(m,i+p)),external=!0,o=exp(o),o.s=u,o};P.toPrecision=function(e,t){var n,i,o=this,u=o.constructor;return e===void 0?(n=getBase10Exponent(o),i=toString(o,n<=u.toExpNeg||n>=u.toExpPos)):(checkInt32(e,1,MAX_DIGITS),t===void 0?t=u.rounding:checkInt32(t,0,8),o=round(new u(o),e,t),n=getBase10Exponent(o),i=toString(o,e<=n||n<=u.toExpNeg,e)),i};P.toSignificantDigits=P.tosd=function(e,t){var n=this,i=n.constructor;return e===void 0?(e=i.precision,t=i.rounding):(checkInt32(e,1,MAX_DIGITS),t===void 0?t=i.rounding:checkInt32(t,0,8)),round(new i(n),e,t)};P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=getBase10Exponent(e),n=e.constructor;return toString(e,t<=n.toExpNeg||t>=n.toExpPos)};function add(e,t){var n,i,o,u,h,m,v,p,f=e.constructor,b=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),external?round(t,b):t;if(v=e.d,p=t.d,h=e.e,o=t.e,v=v.slice(),u=h-o,u){for(u<0?(i=v,u=-u,m=p.length):(i=p,o=h,m=v.length),h=Math.ceil(b/LOG_BASE),m=h>m?h+1:m+1,u>m&&(u=m,i.length=1),i.reverse();u--;)i.push(0);i.reverse()}for(m=v.length,u=p.length,m-u<0&&(u=m,i=p,p=v,v=i),n=0;u;)n=(v[--u]=v[u]+p[u]+n)/BASE|0,v[u]%=BASE;for(n&&(v.unshift(n),++o),m=v.length;v[--m]==0;)v.pop();return t.d=v,t.e=o,external?round(t,b):t}function checkInt32(e,t,n){if(e!==~~e||e<t||e>n)throw Error(invalidArgument+e)}function digitsToString(e){var t,n,i,o=e.length-1,u="",h=e[0];if(o>0){for(u+=h,t=1;t<o;t++)i=e[t]+"",n=LOG_BASE-i.length,n&&(u+=getZeroString(n)),u+=i;h=e[t],i=h+"",n=LOG_BASE-i.length,n&&(u+=getZeroString(n))}else if(h===0)return"0";for(;h%10===0;)h/=10;return u+h}var divide=function(){function e(i,o){var u,h=0,m=i.length;for(i=i.slice();m--;)u=i[m]*o+h,i[m]=u%BASE|0,h=u/BASE|0;return h&&i.unshift(h),i}function t(i,o,u,h){var m,v;if(u!=h)v=u>h?1:-1;else for(m=v=0;m<u;m++)if(i[m]!=o[m]){v=i[m]>o[m]?1:-1;break}return v}function n(i,o,u){for(var h=0;u--;)i[u]-=h,h=i[u]<o[u]?1:0,i[u]=h*BASE+i[u]-o[u];for(;!i[0]&&i.length>1;)i.shift()}return function(i,o,u,h){var m,v,p,f,b,w,S,j,A,T,C,O,M,R,_,q,se,ee,ae=i.constructor,pe=i.s==o.s?1:-1,fe=i.d,Ee=o.d;if(!i.s)return new ae(i);if(!o.s)throw Error(decimalError+"Division by zero");for(v=i.e-o.e,se=Ee.length,_=fe.length,S=new ae(pe),j=S.d=[],p=0;Ee[p]==(fe[p]||0);)++p;if(Ee[p]>(fe[p]||0)&&--v,u==null?O=u=ae.precision:h?O=u+(getBase10Exponent(i)-getBase10Exponent(o))+1:O=u,O<0)return new ae(0);if(O=O/LOG_BASE+2|0,p=0,se==1)for(f=0,Ee=Ee[0],O++;(p<_||f)&&O--;p++)M=f*BASE+(fe[p]||0),j[p]=M/Ee|0,f=M%Ee|0;else{for(f=BASE/(Ee[0]+1)|0,f>1&&(Ee=e(Ee,f),fe=e(fe,f),se=Ee.length,_=fe.length),R=se,A=fe.slice(0,se),T=A.length;T<se;)A[T++]=0;ee=Ee.slice(),ee.unshift(0),q=Ee[0],Ee[1]>=BASE/2&&++q;do f=0,m=t(Ee,A,se,T),m<0?(C=A[0],se!=T&&(C=C*BASE+(A[1]||0)),f=C/q|0,f>1?(f>=BASE&&(f=BASE-1),b=e(Ee,f),w=b.length,T=A.length,m=t(b,A,w,T),m==1&&(f--,n(b,se<w?ee:Ee,w))):(f==0&&(m=f=1),b=Ee.slice()),w=b.length,w<T&&b.unshift(0),n(A,b,T),m==-1&&(T=A.length,m=t(Ee,A,se,T),m<1&&(f++,n(A,se<T?ee:Ee,T))),T=A.length):m===0&&(f++,A=[0]),j[p++]=f,m&&A[0]?A[T++]=fe[R]||0:(A=[fe[R]],T=1);while((R++<_||A[0]!==void 0)&&O--)}return j[0]||j.shift(),S.e=v,round(S,h?u+getBase10Exponent(S)+1:u)}}();function exp(e,t){var n,i,o,u,h,m,v=0,p=0,f=e.constructor,b=f.precision;if(getBase10Exponent(e)>16)throw Error(exponentOutOfRange+getBase10Exponent(e));if(!e.s)return new f(ONE);for(external=!1,m=b,h=new f(.03125);e.abs().gte(.1);)e=e.times(h),p+=5;for(i=Math.log(mathpow(2,p))/Math.LN10*2+5|0,m+=i,n=o=u=new f(ONE),f.precision=m;;){if(o=round(o.times(e),m),n=n.times(++v),h=u.plus(divide(o,n,m)),digitsToString(h.d).slice(0,m)===digitsToString(u.d).slice(0,m)){for(;p--;)u=round(u.times(u),m);return f.precision=b,t==null?(external=!0,round(u,b)):u}u=h}}function getBase10Exponent(e){for(var t=e.e*LOG_BASE,n=e.d[0];n>=10;n/=10)t++;return t}function getLn10(e,t,n){if(t>e.LN10.sd())throw external=!0,n&&(e.precision=n),Error(decimalError+"LN10 precision limit exceeded");return round(new e(e.LN10),t)}function getZeroString(e){for(var t="";e--;)t+="0";return t}function ln(e,t){var n,i,o,u,h,m,v,p,f,b=1,w=10,S=e,j=S.d,A=S.constructor,T=A.precision;if(S.s<1)throw Error(decimalError+(S.s?"NaN":"-Infinity"));if(S.eq(ONE))return new A(0);if(t==null?(external=!1,p=T):p=t,S.eq(10))return t==null&&(external=!0),getLn10(A,p);if(p+=w,A.precision=p,n=digitsToString(j),i=n.charAt(0),u=getBase10Exponent(S),Math.abs(u)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)S=S.times(e),n=digitsToString(S.d),i=n.charAt(0),b++;u=getBase10Exponent(S),i>1?(S=new A("0."+n),u++):S=new A(i+"."+n.slice(1))}else return v=getLn10(A,p+2,T).times(u+""),S=ln(new A(i+"."+n.slice(1)),p-w).plus(v),A.precision=T,t==null?(external=!0,round(S,T)):S;for(m=h=S=divide(S.minus(ONE),S.plus(ONE),p),f=round(S.times(S),p),o=3;;){if(h=round(h.times(f),p),v=m.plus(divide(h,new A(o),p)),digitsToString(v.d).slice(0,p)===digitsToString(m.d).slice(0,p))return m=m.times(2),u!==0&&(m=m.plus(getLn10(A,p+2,T).times(u+""))),m=divide(m,new A(b),p),A.precision=T,t==null?(external=!0,round(m,T)):m;m=v,o+=2}}function parseDecimal(e,t){var n,i,o;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charCodeAt(i)===48;)++i;for(o=t.length;t.charCodeAt(o-1)===48;)--o;if(t=t.slice(i,o),t){if(o-=i,n=n-i-1,e.e=mathfloor(n/LOG_BASE),e.d=[],i=(n+1)%LOG_BASE,n<0&&(i+=LOG_BASE),i<o){for(i&&e.d.push(+t.slice(0,i)),o-=LOG_BASE;i<o;)e.d.push(+t.slice(i,i+=LOG_BASE));t=t.slice(i),i=LOG_BASE-t.length}else i-=o;for(;i--;)t+="0";if(e.d.push(+t),external&&(e.e>MAX_E||e.e<-MAX_E))throw Error(exponentOutOfRange+n)}else e.s=0,e.e=0,e.d=[0];return e}function round(e,t,n){var i,o,u,h,m,v,p,f,b=e.d;for(h=1,u=b[0];u>=10;u/=10)h++;if(i=t-h,i<0)i+=LOG_BASE,o=t,p=b[f=0];else{if(f=Math.ceil((i+1)/LOG_BASE),u=b.length,f>=u)return e;for(p=u=b[f],h=1;u>=10;u/=10)h++;i%=LOG_BASE,o=i-LOG_BASE+h}if(n!==void 0&&(u=mathpow(10,h-o-1),m=p/u%10|0,v=t<0||b[f+1]!==void 0||p%u,v=n<4?(m||v)&&(n==0||n==(e.s<0?3:2)):m>5||m==5&&(n==4||v||n==6&&(i>0?o>0?p/mathpow(10,h-o):0:b[f-1])%10&1||n==(e.s<0?8:7))),t<1||!b[0])return v?(u=getBase10Exponent(e),b.length=1,t=t-u-1,b[0]=mathpow(10,(LOG_BASE-t%LOG_BASE)%LOG_BASE),e.e=mathfloor(-t/LOG_BASE)||0):(b.length=1,b[0]=e.e=e.s=0),e;if(i==0?(b.length=f,u=1,f--):(b.length=f+1,u=mathpow(10,LOG_BASE-i),b[f]=o>0?(p/mathpow(10,h-o)%mathpow(10,o)|0)*u:0),v)for(;;)if(f==0){(b[0]+=u)==BASE&&(b[0]=1,++e.e);break}else{if(b[f]+=u,b[f]!=BASE)break;b[f--]=0,u=1}for(i=b.length;b[--i]===0;)b.pop();if(external&&(e.e>MAX_E||e.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(e));return e}function subtract(e,t){var n,i,o,u,h,m,v,p,f,b,w=e.constructor,S=w.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new w(e),external?round(t,S):t;if(v=e.d,b=t.d,i=t.e,p=e.e,v=v.slice(),h=p-i,h){for(f=h<0,f?(n=v,h=-h,m=b.length):(n=b,i=p,m=v.length),o=Math.max(Math.ceil(S/LOG_BASE),m)+2,h>o&&(h=o,n.length=1),n.reverse(),o=h;o--;)n.push(0);n.reverse()}else{for(o=v.length,m=b.length,f=o<m,f&&(m=o),o=0;o<m;o++)if(v[o]!=b[o]){f=v[o]<b[o];break}h=0}for(f&&(n=v,v=b,b=n,t.s=-t.s),m=v.length,o=b.length-m;o>0;--o)v[m++]=0;for(o=b.length;o>h;){if(v[--o]<b[o]){for(u=o;u&&v[--u]===0;)v[u]=BASE-1;--v[u],v[o]+=BASE}v[o]-=b[o]}for(;v[--m]===0;)v.pop();for(;v[0]===0;v.shift())--i;return v[0]?(t.d=v,t.e=i,external?round(t,S):t):new w(0)}function toString(e,t,n){var i,o=getBase10Exponent(e),u=digitsToString(e.d),h=u.length;return t?(n&&(i=n-h)>0?u=u.charAt(0)+"."+u.slice(1)+getZeroString(i):h>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(o<0?"e":"e+")+o):o<0?(u="0."+getZeroString(-o-1)+u,n&&(i=n-h)>0&&(u+=getZeroString(i))):o>=h?(u+=getZeroString(o+1-h),n&&(i=n-o-1)>0&&(u=u+"."+getZeroString(i))):((i=o+1)<h&&(u=u.slice(0,i)+"."+u.slice(i)),n&&(i=n-h)>0&&(o+1===h&&(u+="."),u+=getZeroString(i))),e.s<0?"-"+u:u}function truncate(e,t){if(e.length>t)return e.length=t,!0}function clone(e){var t,n,i;function o(u){var h=this;if(!(h instanceof o))return new o(u);if(h.constructor=o,u instanceof o){h.s=u.s,h.e=u.e,h.d=(u=u.d)?u.slice():u;return}if(typeof u=="number"){if(u*0!==0)throw Error(invalidArgument+u);if(u>0)h.s=1;else if(u<0)u=-u,h.s=-1;else{h.s=0,h.e=0,h.d=[0];return}if(u===~~u&&u<1e7){h.e=0,h.d=[u];return}return parseDecimal(h,u.toString())}else if(typeof u!="string")throw Error(invalidArgument+u);if(u.charCodeAt(0)===45?(u=u.slice(1),h.s=-1):h.s=1,isDecimal.test(u))parseDecimal(h,u);else throw Error(invalidArgument+u)}if(o.prototype=P,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=clone,o.config=o.set=config,e===void 0&&(e={}),e)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<i.length;)e.hasOwnProperty(n=i[t++])||(e[n]=this[n]);return o.config(e),o}function config(e){if(!e||typeof e!="object")throw Error(decimalError+"Object expected");var t,n,i,o=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<o.length;t+=3)if((i=e[n=o[t]])!==void 0)if(mathfloor(i)===i&&i>=o[t+1]&&i<=o[t+2])this[n]=i;else throw Error(invalidArgument+n+": "+i);if((i=e[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(invalidArgument+n+": "+i);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;var identity=e=>e,PLACE_HOLDER={},isPlaceHolder=e=>e===PLACE_HOLDER,curry0=e=>function t(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},curryN=(e,t)=>e===1?t:curry0(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var u=i.filter(h=>h!==PLACE_HOLDER).length;return u>=e?t(...i):curryN(e-u,curry0(function(){for(var h=arguments.length,m=new Array(h),v=0;v<h;v++)m[v]=arguments[v];var p=i.map(f=>isPlaceHolder(f)?m.shift():f);return t(...p,...m)}))}),curry=e=>curryN(e.length,e),range=(e,t)=>{for(var n=[],i=e;i<t;++i)n[i-e]=i;return n},map=curry((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),compose=function e(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!n.length)return identity;var o=n.reverse(),u=o[0],h=o.slice(1);return function(){return h.reduce((m,v)=>v(m),u(...arguments))}},reverse=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),memoize=e=>{var t=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return t&&o.every((h,m)=>{var v;return h===((v=t)===null||v===void 0?void 0:v[m])})||(t=o,n=e(...o)),n}};function getDigitCount(e){var t;return e===0?t=1:t=Math.floor(new Decimal$1(e).abs().log(10).toNumber())+1,t}function rangeStep(e,t,n){for(var i=new Decimal$1(e),o=0,u=[];i.lt(t)&&o<1e5;)u.push(i.toNumber()),i=i.add(n),o++;return u}curry((e,t,n)=>{var i=+e,o=+t;return i+n*(o-i)});curry((e,t,n)=>{var i=t-+e;return i=i||1/0,(n-e)/i});curry((e,t,n)=>{var i=t-+e;return i=i||1/0,Math.max(0,Math.min(1,(n-e)/i))});var getValidInterval=e=>{var[t,n]=e,[i,o]=[t,n];return t>n&&([i,o]=[n,t]),[i,o]},getFormatStep=(e,t,n)=>{if(e.lte(0))return new Decimal$1(0);var i=getDigitCount(e.toNumber()),o=new Decimal$1(10).pow(i),u=e.div(o),h=i!==1?.05:.1,m=new Decimal$1(Math.ceil(u.div(h).toNumber())).add(n).mul(h),v=m.mul(o);return t?new Decimal$1(v.toNumber()):new Decimal$1(Math.ceil(v.toNumber()))},getTickOfSingleValue=(e,t,n)=>{var i=new Decimal$1(1),o=new Decimal$1(e);if(!o.isint()&&n){var u=Math.abs(e);u<1?(i=new Decimal$1(10).pow(getDigitCount(e)-1),o=new Decimal$1(Math.floor(o.div(i).toNumber())).mul(i)):u>1&&(o=new Decimal$1(Math.floor(e)))}else e===0?o=new Decimal$1(Math.floor((t-1)/2)):n||(o=new Decimal$1(Math.floor(e)));var h=Math.floor((t-1)/2),m=compose(map(v=>o.add(new Decimal$1(v-h).mul(i)).toNumber()),range);return m(0,t)},_calculateStep=function e(t,n,i,o){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(i-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var h=getFormatStep(new Decimal$1(n).sub(t).div(i-1),o,u),m;t<=0&&n>=0?m=new Decimal$1(0):(m=new Decimal$1(t).add(n).div(2),m=m.sub(new Decimal$1(m).mod(h)));var v=Math.ceil(m.sub(t).div(h).toNumber()),p=Math.ceil(new Decimal$1(n).sub(m).div(h).toNumber()),f=v+p+1;return f>i?_calculateStep(t,n,i,o,u+1):(f<i&&(p=n>0?p+(i-f):p,v=n>0?v:v+(i-f)),{step:h,tickMin:m.sub(new Decimal$1(v).mul(h)),tickMax:m.add(new Decimal$1(p).mul(h))})};function getNiceTickValuesFn(e){var[t,n]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,u=Math.max(i,2),[h,m]=getValidInterval([t,n]);if(h===-1/0||m===1/0){var v=m===1/0?[h,...range(0,i-1).map(()=>1/0)]:[...range(0,i-1).map(()=>-1/0),m];return t>n?reverse(v):v}if(h===m)return getTickOfSingleValue(h,i,o);var{step:p,tickMin:f,tickMax:b}=_calculateStep(h,m,u,o,0),w=rangeStep(f,b.add(new Decimal$1(.1).mul(p)),p);return t>n?reverse(w):w}function getTickValuesFixedDomainFn(e,t){var[n,i]=e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[u,h]=getValidInterval([n,i]);if(u===-1/0||h===1/0)return[n,i];if(u===h)return[u];var m=Math.max(t,2),v=getFormatStep(new Decimal$1(h).sub(u).div(m-1),o,0),p=[...rangeStep(new Decimal$1(u),new Decimal$1(h),v),h];return o===!1&&(p=p.map(f=>Math.round(f))),n>i?reverse(p):p}var getNiceTickValues=memoize(getNiceTickValuesFn),getTickValuesFixedDomain=memoize(getTickValuesFixedDomainFn),selectRootMaxBarSize=e=>e.rootProps.maxBarSize,selectBarGap=e=>e.rootProps.barGap,selectBarCategoryGap=e=>e.rootProps.barCategoryGap,selectRootBarSize=e=>e.rootProps.barSize,selectStackOffsetType=e=>e.rootProps.stackOffset,selectChartName=e=>e.options.chartName,selectSyncId=e=>e.rootProps.syncId,selectSyncMethod=e=>e.rootProps.syncMethod,selectEventEmitter=e=>e.options.eventEmitter,defaultPolarAngleAxisProps={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},defaultPolarRadiusAxisProps={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},combineAxisRangeWithReverse=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},implicitAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:defaultPolarAngleAxisProps.reversed,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:defaultPolarAngleAxisProps.type,unit:void 0},implicitRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:defaultPolarRadiusAxisProps.type,unit:void 0},implicitRadialBarAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:defaultPolarAngleAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},implicitRadialBarRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:"category",unit:void 0},selectAngleAxis=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?implicitRadialBarAngleAxis:implicitAngleAxis,selectRadiusAxis=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?implicitRadialBarRadiusAxis:implicitRadiusAxis,selectPolarOptions=e=>e.polarOptions,selectMaxRadius=createSelector([selectChartWidth,selectChartHeight,selectChartOffsetInternal],getMaxRadius),selectInnerRadius=createSelector([selectPolarOptions,selectMaxRadius],(e,t)=>{if(e!=null)return getPercentValue(e.innerRadius,t,0)}),selectOuterRadius=createSelector([selectPolarOptions,selectMaxRadius],(e,t)=>{if(e!=null)return getPercentValue(e.outerRadius,t,t*.8)}),combineAngleAxisRange=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},selectAngleAxisRange=createSelector([selectPolarOptions],combineAngleAxisRange);createSelector([selectAngleAxis,selectAngleAxisRange],combineAxisRangeWithReverse);var selectRadiusAxisRange=createSelector([selectMaxRadius,selectInnerRadius,selectOuterRadius],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});createSelector([selectRadiusAxis,selectRadiusAxisRange],combineAxisRangeWithReverse);var selectPolarViewBox=createSelector([selectChartLayout,selectPolarOptions,selectInnerRadius,selectOuterRadius,selectChartWidth,selectChartHeight],(e,t,n,i,o,u)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||i==null)){var{cx:h,cy:m,startAngle:v,endAngle:p}=t;return{cx:getPercentValue(h,o,o/2),cy:getPercentValue(m,u,u/2),innerRadius:n,outerRadius:i,startAngle:v,endAngle:p,clockWise:!1}}}),pickAxisType=(e,t)=>t,pickAxisId=(e,t,n)=>n;function getStackSeriesIdentifier(e){return e?.id}var selectTooltipAxisType=e=>{var t=selectChartLayout(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},selectTooltipAxisId=e=>e.tooltip.settings.axisId,selectTooltipAxis=e=>{var t=selectTooltipAxisType(e),n=selectTooltipAxisId(e);return selectAxisSettings(e,t,n)},selectTooltipAxisDataKey=createSelector([selectTooltipAxis],e=>e?.dataKey);function combineDisplayedStackedData(e,t,n){var{chartData:i=[]}=t,{allowDuplicatedCategory:o,dataKey:u}=n,h=new Map;return e.forEach(m=>{var v,p=(v=m.data)!==null&&v!==void 0?v:i;if(!(p==null||p.length===0)){var f=getStackSeriesIdentifier(m);p.forEach((b,w)=>{var S=u==null||o?w:String(getValueByDataKey(b,u,null)),j=getValueByDataKey(b,m.dataKey,0),A;h.has(S)?A=h.get(S):A={},Object.assign(A,{[f]:j}),h.set(S,A)})}}),Array.from(h.values())}function isStacked(e){return e.stackId!=null&&e.dataKey!=null}function ownKeys$o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$o(Object(n),!0).forEach(function(i){_defineProperty$q(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$o(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$q(e,t,n){return(t=_toPropertyKey$q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$q(e){var t=_toPrimitive$q(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$q(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var defaultNumericDomain=[0,"auto"],implicitXAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},selectXAxisSettingsNoDefaults=(e,t)=>e.cartesianAxis.xAxis[t],selectXAxisSettings=(e,t)=>{var n=selectXAxisSettingsNoDefaults(e,t);return n??implicitXAxis},implicitYAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:defaultNumericDomain,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:DEFAULT_Y_AXIS_WIDTH},selectYAxisSettingsNoDefaults=(e,t)=>e.cartesianAxis.yAxis[t],selectYAxisSettings=(e,t)=>{var n=selectYAxisSettingsNoDefaults(e,t);return n??implicitYAxis},implicitZAxis={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},selectZAxisSettings=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??implicitZAxis},selectBaseAxis=(e,t,n)=>{switch(t){case"xAxis":return selectXAxisSettings(e,n);case"yAxis":return selectYAxisSettings(e,n);case"zAxis":return selectZAxisSettings(e,n);case"angleAxis":return selectAngleAxis(e,n);case"radiusAxis":return selectRadiusAxis(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},selectCartesianAxisSettings=(e,t,n)=>{switch(t){case"xAxis":return selectXAxisSettings(e,n);case"yAxis":return selectYAxisSettings(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},selectAxisSettings=(e,t,n)=>{switch(t){case"xAxis":return selectXAxisSettings(e,n);case"yAxis":return selectYAxisSettings(e,n);case"angleAxis":return selectAngleAxis(e,n);case"radiusAxis":return selectRadiusAxis(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},selectHasBar=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function itemAxisPredicate(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var selectUnfilteredCartesianItems=e=>e.graphicalItems.cartesianItems,selectAxisPredicate$1=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),combineGraphicalItemsSettings=(e,t,n)=>e.filter(n).filter(i=>t?.includeHidden===!0?!0:!i.hide),selectCartesianItemsSettings=createSelector([selectUnfilteredCartesianItems,selectBaseAxis,selectAxisPredicate$1],combineGraphicalItemsSettings),selectStackedCartesianItemsSettings=createSelector([selectCartesianItemsSettings],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(isStacked)),filterGraphicalNotStackedItems=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),selectCartesianItemsSettingsExceptStacked=createSelector([selectCartesianItemsSettings],filterGraphicalNotStackedItems),combineGraphicalItemsData=e=>e.map(t=>t.data).filter(Boolean).flat(1),selectCartesianGraphicalItemsData=createSelector([selectCartesianItemsSettings],combineGraphicalItemsData),combineDisplayedData=(e,t)=>{var{chartData:n=[],dataStartIndex:i,dataEndIndex:o}=t;return e.length>0?e:n.slice(i,o+1)},selectDisplayedData$1=createSelector([selectCartesianGraphicalItemsData,selectChartDataWithIndexesIfNotInPanorama],combineDisplayedData),combineAppliedValues=(e,t,n)=>t?.dataKey!=null?e.map(i=>({value:getValueByDataKey(i,t.dataKey)})):n.length>0?n.map(i=>i.dataKey).flatMap(i=>e.map(o=>({value:getValueByDataKey(o,i)}))):e.map(i=>({value:i})),selectAllAppliedValues=createSelector([selectDisplayedData$1,selectBaseAxis,selectCartesianItemsSettings],combineAppliedValues);function isErrorBarRelevantForAxisType(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function onlyAllowNumbers(e){return e.filter(t=>isNumOrStr(t)||t instanceof Date).map(Number).filter(t=>isNan(t)===!1)}function getErrorDomainByDataKey(e,t,n){return!n||typeof t!="number"||isNan(t)?[]:n.length?onlyAllowNumbers(n.flatMap(i=>{var o=getValueByDataKey(e,i.dataKey),u,h;if(Array.isArray(o)?[u,h]=o:u=h=o,!(!isWellBehavedNumber(u)||!isWellBehavedNumber(h)))return[t-u,t+h]})):[]}var selectDisplayedStackedData=createSelector([selectStackedCartesianItemsSettings,selectChartDataWithIndexesIfNotInPanorama,selectTooltipAxis],combineDisplayedStackedData),combineStackGroups=(e,t,n)=>{var i={},o=t.reduce((u,h)=>(h.stackId==null||(u[h.stackId]==null&&(u[h.stackId]=[]),u[h.stackId].push(h)),u),i);return Object.fromEntries(Object.entries(o).map(u=>{var[h,m]=u,v=m.map(getStackSeriesIdentifier);return[h,{stackedData:getStackedData(e,v,n),graphicalItems:m}]}))},selectStackGroups=createSelector([selectDisplayedStackedData,selectStackedCartesianItemsSettings,selectStackOffsetType],combineStackGroups),combineDomainOfStackGroups=(e,t,n)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(n!=="zAxis"){var u=getDomainOfStackGroups(e,i,o);if(!(u!=null&&u[0]===0&&u[1]===0))return u}},selectDomainOfStackGroups=createSelector([selectStackGroups,selectChartDataWithIndexes,pickAxisType],combineDomainOfStackGroups),combineAppliedNumericalValuesIncludingErrorValues=(e,t,n,i,o)=>n.length>0?e.flatMap(u=>n.flatMap(h=>{var m,v,p=(m=i[h.id])===null||m===void 0?void 0:m.filter(b=>isErrorBarRelevantForAxisType(o,b)),f=getValueByDataKey(u,(v=t.dataKey)!==null&&v!==void 0?v:h.dataKey);return{value:f,errorDomain:getErrorDomainByDataKey(u,f,p)}})).filter(Boolean):t?.dataKey!=null?e.map(u=>({value:getValueByDataKey(u,t.dataKey),errorDomain:[]})):e.map(u=>({value:u,errorDomain:[]})),selectAllErrorBarSettings=e=>e.errorBars,combineRelevantErrorBarSettings=(e,t,n)=>e.flatMap(i=>t[i.id]).filter(Boolean).filter(i=>isErrorBarRelevantForAxisType(n,i));createSelector([selectCartesianItemsSettingsExceptStacked,selectAllErrorBarSettings,pickAxisType],combineRelevantErrorBarSettings);var selectAllAppliedNumericalValuesIncludingErrorValues=createSelector([selectDisplayedData$1,selectBaseAxis,selectCartesianItemsSettingsExceptStacked,selectAllErrorBarSettings,pickAxisType],combineAppliedNumericalValuesIncludingErrorValues);function onlyAllowNumbersAndStringsAndDates(e){var{value:t}=e;if(isNumOrStr(t)||t instanceof Date)return t}var computeNumericalDomain=e=>{var t=e.flatMap(i=>[i.value,i.errorDomain]).flat(1),n=onlyAllowNumbers(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},computeDomainOfTypeCategory=(e,t,n)=>{var i=e.map(onlyAllowNumbersAndStringsAndDates).filter(o=>o!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&hasDuplicate(i))?range$2(0,e.length):t.allowDuplicatedCategory?i:Array.from(new Set(i))},getDomainDefinition=e=>{var t;if(e==null||!("domain"in e))return defaultNumericDomain;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=onlyAllowNumbers(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:defaultNumericDomain},mergeDomains=function e(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=n.filter(Boolean);if(o.length!==0){var u=o.flat(),h=Math.min(...u),m=Math.max(...u);return[h,m]}},selectReferenceDots=e=>e.referenceElements.dots,filterReferenceElements=(e,t,n)=>e.filter(i=>i.ifOverflow==="extendDomain").filter(i=>t==="xAxis"?i.xAxisId===n:i.yAxisId===n),selectReferenceDotsByAxis=createSelector([selectReferenceDots,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceAreas=e=>e.referenceElements.areas,selectReferenceAreasByAxis=createSelector([selectReferenceAreas,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceLines=e=>e.referenceElements.lines,selectReferenceLinesByAxis=createSelector([selectReferenceLines,pickAxisType,pickAxisId],filterReferenceElements),combineDotsDomain=(e,t)=>{var n=onlyAllowNumbers(e.map(i=>t==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},selectReferenceDotsDomain=createSelector(selectReferenceDotsByAxis,pickAxisType,combineDotsDomain),combineAreasDomain=(e,t)=>{var n=onlyAllowNumbers(e.flatMap(i=>[t==="xAxis"?i.x1:i.y1,t==="xAxis"?i.x2:i.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},selectReferenceAreasDomain=createSelector([selectReferenceAreasByAxis,pickAxisType],combineAreasDomain),combineLinesDomain=(e,t)=>{var n=onlyAllowNumbers(e.map(i=>t==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},selectReferenceLinesDomain=createSelector(selectReferenceLinesByAxis,pickAxisType,combineLinesDomain),selectReferenceElementsDomain=createSelector(selectReferenceDotsDomain,selectReferenceLinesDomain,selectReferenceAreasDomain,(e,t,n)=>mergeDomains(e,n,t)),selectDomainDefinition=createSelector([selectBaseAxis],getDomainDefinition),combineNumericalDomain=(e,t,n,i,o,u,h)=>{var m=numericalDomainSpecifiedWithoutRequiringData(t,e.allowDataOverflow);if(m!=null)return m;var v=u==="vertical"&&h==="xAxis"||u==="horizontal"&&h==="yAxis",p=v?mergeDomains(n,o,computeNumericalDomain(i)):mergeDomains(o,computeNumericalDomain(i));return parseNumericalUserDomain(t,p,e.allowDataOverflow)},selectNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,selectDomainOfStackGroups,selectAllAppliedNumericalValuesIncludingErrorValues,selectReferenceElementsDomain,selectChartLayout,pickAxisType],combineNumericalDomain),expandDomain=[0,1],combineAxisDomain=(e,t,n,i,o,u,h)=>{if(!((e==null||n==null||n.length===0)&&h===void 0)){var{dataKey:m,type:v}=e,p=isCategoricalAxis(t,u);return p&&m==null?range$2(0,n.length):v==="category"?computeDomainOfTypeCategory(i,e,p):o==="expand"?expandDomain:h}},selectAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectDisplayedData$1,selectAllAppliedValues,selectStackOffsetType,pickAxisType,selectNumericalDomain],combineAxisDomain),combineRealScaleType=(e,t,n,i,o)=>{if(e!=null){var{scale:u,type:h}=e;if(u==="auto")return t==="radial"&&o==="radiusAxis"?"band":t==="radial"&&o==="angleAxis"?"linear":h==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!n)?"point":h==="category"?"band":"linear";if(typeof u=="string"){var m="scale".concat(upperFirst(u));return m in d3Scales?m:"point"}}},selectRealScaleType=createSelector([selectBaseAxis,selectChartLayout,selectHasBar,selectChartName,pickAxisType],combineRealScaleType);function getD3ScaleFromType(e){if(e!=null){if(e in d3Scales)return d3Scales[e]();var t="scale".concat(upperFirst(e));if(t in d3Scales)return d3Scales[t]()}}function combineScaleFunction(e,t,n,i){if(!(n==null||i==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(i);var o=getD3ScaleFromType(t);if(o!=null){var u=o.domain(n).range(i);return checkDomainOfScale(u),u}}}var combineNiceTicks=(e,t,n)=>{var i=getDomainDefinition(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&isWellFormedNumberDomain(e))return getNiceTickValues(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&isWellFormedNumberDomain(e))return getTickValuesFixedDomain(e,t.tickCount,t.allowDecimals)}},selectNiceTicks=createSelector([selectAxisDomain,selectAxisSettings,selectRealScaleType],combineNiceTicks),combineAxisDomainWithNiceTicks=(e,t,n,i)=>{if(i!=="angleAxis"&&e?.type==="number"&&isWellFormedNumberDomain(t)&&Array.isArray(n)&&n.length>0){var o=t[0],u=n[0],h=t[1],m=n[n.length-1];return[Math.min(o,u),Math.max(h,m)]}return t},selectAxisDomainIncludingNiceTicks=createSelector([selectBaseAxis,selectAxisDomain,selectNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks),selectSmallestDistanceBetweenValues=createSelector(selectAllAppliedValues,selectBaseAxis,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,i=Array.from(onlyAllowNumbers(e.map(m=>m.value))).sort((m,v)=>m-v);if(i.length<2)return 1/0;var o=i[i.length-1]-i[0];if(o===0)return 1/0;for(var u=0;u<i.length-1;u++){var h=i[u+1]-i[u];n=Math.min(n,h)}return n/o}}),selectCalculatedPadding=createSelector(selectSmallestDistanceBetweenValues,selectChartLayout,selectBarCategoryGap,selectChartOffsetInternal,(e,t,n,i)=>i,(e,t,n,i,o)=>{if(!isWellBehavedNumber(e))return 0;var u=t==="vertical"?i.height:i.width;if(o==="gap")return e*u/2;if(o==="no-gap"){var h=getPercentValue(n,e*u),m=e*u/2;return m-h-(m-h)/u*h}return 0}),selectCalculatedXAxisPadding=(e,t)=>{var n=selectXAxisSettings(e,t);return n==null||typeof n.padding!="string"?0:selectCalculatedPadding(e,"xAxis",t,n.padding)},selectCalculatedYAxisPadding=(e,t)=>{var n=selectYAxisSettings(e,t);return n==null||typeof n.padding!="string"?0:selectCalculatedPadding(e,"yAxis",t,n.padding)},selectXAxisPadding=createSelector(selectXAxisSettings,selectCalculatedXAxisPadding,(e,t)=>{var n,i;if(e==null)return{left:0,right:0};var{padding:o}=e;return typeof o=="string"?{left:t,right:t}:{left:((n=o.left)!==null&&n!==void 0?n:0)+t,right:((i=o.right)!==null&&i!==void 0?i:0)+t}}),selectYAxisPadding=createSelector(selectYAxisSettings,selectCalculatedYAxisPadding,(e,t)=>{var n,i;if(e==null)return{top:0,bottom:0};var{padding:o}=e;return typeof o=="string"?{top:t,bottom:t}:{top:((n=o.top)!==null&&n!==void 0?n:0)+t,bottom:((i=o.bottom)!==null&&i!==void 0?i:0)+t}}),combineXAxisRange=createSelector([selectChartOffsetInternal,selectXAxisPadding,selectBrushDimensions,selectBrushSettings,(e,t,n)=>n],(e,t,n,i,o)=>{var{padding:u}=i;return o?[u.left,n.width-u.right]:[e.left+t.left,e.left+e.width-t.right]}),combineYAxisRange=createSelector([selectChartOffsetInternal,selectChartLayout,selectYAxisPadding,selectBrushDimensions,selectBrushSettings,(e,t,n)=>n],(e,t,n,i,o,u)=>{var{padding:h}=o;return u?[i.height-h.bottom,h.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),selectAxisRange=(e,t,n,i)=>{var o;switch(t){case"xAxis":return combineXAxisRange(e,n,i);case"yAxis":return combineYAxisRange(e,n,i);case"zAxis":return(o=selectZAxisSettings(e,n))===null||o===void 0?void 0:o.range;case"angleAxis":return selectAngleAxisRange(e);case"radiusAxis":return selectRadiusAxisRange(e,n);default:return}},selectAxisRangeWithReverse=createSelector([selectBaseAxis,selectAxisRange],combineAxisRangeWithReverse),selectAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomainIncludingNiceTicks,selectAxisRangeWithReverse],combineScaleFunction);createSelector([selectCartesianItemsSettings,selectAllErrorBarSettings,pickAxisType],combineRelevantErrorBarSettings);function compareIds(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var pickAxisOrientation=(e,t)=>t,pickMirror=(e,t,n)=>n,selectAllXAxesWithOffsetType=createSelector(selectAllXAxes,pickAxisOrientation,pickMirror,(e,t,n)=>e.filter(i=>i.orientation===t).filter(i=>i.mirror===n).sort(compareIds)),selectAllYAxesWithOffsetType=createSelector(selectAllYAxes,pickAxisOrientation,pickMirror,(e,t,n)=>e.filter(i=>i.orientation===t).filter(i=>i.mirror===n).sort(compareIds)),getXAxisSize=(e,t)=>({width:e.width,height:t.height}),getYAxisSize=(e,t)=>{var n=typeof t.width=="number"?t.width:DEFAULT_Y_AXIS_WIDTH;return{width:n,height:e.height}},selectXAxisSize=createSelector(selectChartOffsetInternal,selectXAxisSettings,getXAxisSize),combineXAxisPositionStartingPoint=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},combineYAxisPositionStartingPoint=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},selectAllXAxesOffsetSteps=createSelector(selectChartHeight,selectChartOffsetInternal,selectAllXAxesWithOffsetType,pickAxisOrientation,pickMirror,(e,t,n,i,o)=>{var u={},h;return n.forEach(m=>{var v=getXAxisSize(t,m);h==null&&(h=combineXAxisPositionStartingPoint(t,i,e));var p=i==="top"&&!o||i==="bottom"&&o;u[m.id]=h-Number(p)*v.height,h+=(p?-1:1)*v.height}),u}),selectAllYAxesOffsetSteps=createSelector(selectChartWidth,selectChartOffsetInternal,selectAllYAxesWithOffsetType,pickAxisOrientation,pickMirror,(e,t,n,i,o)=>{var u={},h;return n.forEach(m=>{var v=getYAxisSize(t,m);h==null&&(h=combineYAxisPositionStartingPoint(t,i,e));var p=i==="left"&&!o||i==="right"&&o;u[m.id]=h-Number(p)*v.width,h+=(p?-1:1)*v.width}),u}),selectXAxisOffsetSteps=(e,t)=>{var n=selectXAxisSettings(e,t);if(n!=null)return selectAllXAxesOffsetSteps(e,n.orientation,n.mirror)},selectXAxisPosition=createSelector([selectChartOffsetInternal,selectXAxisSettings,selectXAxisOffsetSteps,(e,t)=>t],(e,t,n,i)=>{if(t!=null){var o=n?.[i];return o==null?{x:e.left,y:0}:{x:e.left,y:o}}}),selectYAxisOffsetSteps=(e,t)=>{var n=selectYAxisSettings(e,t);if(n!=null)return selectAllYAxesOffsetSteps(e,n.orientation,n.mirror)},selectYAxisPosition=createSelector([selectChartOffsetInternal,selectYAxisSettings,selectYAxisOffsetSteps,(e,t)=>t],(e,t,n,i)=>{if(t!=null){var o=n?.[i];return o==null?{x:0,y:e.top}:{x:o,y:e.top}}}),selectYAxisSize=createSelector(selectChartOffsetInternal,selectYAxisSettings,(e,t)=>{var n=typeof t.width=="number"?t.width:DEFAULT_Y_AXIS_WIDTH;return{width:n,height:e.height}}),selectCartesianAxisSize=(e,t,n)=>{switch(t){case"xAxis":return selectXAxisSize(e,n).width;case"yAxis":return selectYAxisSize(e,n).height;default:return}},combineDuplicateDomain=(e,t,n,i)=>{if(n!=null){var{allowDuplicatedCategory:o,type:u,dataKey:h}=n,m=isCategoricalAxis(e,i),v=t.map(p=>p.value);if(h&&m&&u==="category"&&o&&hasDuplicate(v))return v}},selectDuplicateDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectBaseAxis,pickAxisType],combineDuplicateDomain),combineCategoricalDomain=(e,t,n,i)=>{if(!(n==null||n.dataKey==null)){var{type:o,scale:u}=n,h=isCategoricalAxis(e,i);if(h&&(o==="number"||u!=="auto"))return t.map(m=>m.value)}},selectCategoricalDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectAxisSettings,pickAxisType],combineCategoricalDomain),selectAxisPropsNeededForCartesianGridTicksGenerator=createSelector([selectChartLayout,selectCartesianAxisSettings,selectRealScaleType,selectAxisScale,selectDuplicateDomain,selectCategoricalDomain,selectAxisRange,selectNiceTicks,pickAxisType],(e,t,n,i,o,u,h,m,v)=>{if(t==null)return null;var p=isCategoricalAxis(e,v);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:v,categoricalDomain:u,duplicateDomain:o,isCategorical:p,niceTicks:m,range:h,realScaleType:n,scale:i}}),combineAxisTicks=(e,t,n,i,o,u,h,m,v)=>{if(!(t==null||i==null)){var p=isCategoricalAxis(e,v),{type:f,ticks:b,tickCount:w}=t,S=n==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,j=f==="category"&&i.bandwidth?i.bandwidth()/S:0;j=v==="angleAxis"&&u!=null&&u.length>=2?mathSign(u[0]-u[1])*2*j:j;var A=b||o;if(A){var T=A.map((C,O)=>{var M=h?h.indexOf(C):C;return{index:O,coordinate:i(M)+j,value:C,offset:j}});return T.filter(C=>!isNan(C.coordinate))}return p&&m?m.map((C,O)=>({coordinate:i(C)+j,value:C,index:O,offset:j})):i.ticks?i.ticks(w).map(C=>({coordinate:i(C)+j,value:C,offset:j})):i.domain().map((C,O)=>({coordinate:i(C)+j,value:h?h[C]:C,index:O,offset:j}))}},selectTicksOfAxis=createSelector([selectChartLayout,selectAxisSettings,selectRealScaleType,selectAxisScale,selectNiceTicks,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineAxisTicks),combineGraphicalItemTicks=(e,t,n,i,o,u,h)=>{if(!(t==null||n==null||i==null||i[0]===i[1])){var m=isCategoricalAxis(e,h),{tickCount:v}=t,p=0;return p=h==="angleAxis"&&i?.length>=2?mathSign(i[0]-i[1])*2*p:p,m&&u?u.map((f,b)=>({coordinate:n(f)+p,value:f,index:b,offset:p})):n.ticks?n.ticks(v).map(f=>({coordinate:n(f)+p,value:f,offset:p})):n.domain().map((f,b)=>({coordinate:n(f)+p,value:o?o[f]:f,index:b,offset:p}))}},selectTicksOfGraphicalItem=createSelector([selectChartLayout,selectAxisSettings,selectAxisScale,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineGraphicalItemTicks),selectAxisWithScale=createSelector(selectBaseAxis,selectAxisScale,(e,t)=>{if(!(e==null||t==null))return _objectSpread$o(_objectSpread$o({},e),{},{scale:t})}),selectZAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomain,selectAxisRangeWithReverse],combineScaleFunction);createSelector((e,t,n)=>selectZAxisSettings(e,n),selectZAxisScale,(e,t)=>{if(!(e==null||t==null))return _objectSpread$o(_objectSpread$o({},e),{},{scale:t})});var selectChartDirection=createSelector([selectChartLayout,selectAllXAxes,selectAllYAxes],(e,t,n)=>{switch(e){case"horizontal":return t.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),selectDefaultTooltipEventType=e=>e.options.defaultTooltipEventType,selectValidateTooltipEventTypes=e=>e.options.validateTooltipEventTypes;function combineTooltipEventType(e,t,n){if(e==null)return t;var i=e?"axis":"item";return n==null?t:n.includes(i)?i:t}function selectTooltipEventType$1(e,t){var n=selectDefaultTooltipEventType(e),i=selectValidateTooltipEventTypes(e);return combineTooltipEventType(t,n,i)}function useTooltipEventType(e){return useAppSelector(t=>selectTooltipEventType$1(t,e))}var combineActiveLabel=(e,t)=>{var n,i=Number(t);if(!(isNan(i)||t==null))return i>=0?e==null||(n=e[i])===null||n===void 0?void 0:n.value:void 0},selectTooltipSettings=e=>e.tooltip.settings,noInteraction={active:!1,index:null,dataKey:void 0,coordinate:void 0},initialState$8={itemInteraction:{click:noInteraction,hover:noInteraction},axisInteraction:{click:noInteraction,hover:noInteraction},keyboardInteraction:noInteraction,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},tooltipSlice=createSlice({name:"tooltip",initialState:initialState$8,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=current(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings,removeTooltipEntrySettings,setTooltipSettingsState,setActiveMouseOverItemIndex,mouseLeaveItem,mouseLeaveChart,setActiveClickItemIndex,setMouseOverAxisIndex,setMouseClickAxisIndex,setSyncInteraction,setKeyboardInteraction}=tooltipSlice.actions,tooltipReducer=tooltipSlice.reducer;function ownKeys$n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$n(Object(n),!0).forEach(function(i){_defineProperty$p(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$n(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$p(e,t,n){return(t=_toPropertyKey$p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$p(e){var t=_toPrimitive$p(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$p(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function chooseAppropriateMouseInteraction(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function hasBeenActivePreviously(e){return e.index!=null}var combineTooltipInteractionState=(e,t,n,i)=>{if(t==null)return noInteraction;var o=chooseAppropriateMouseInteraction(e,t,n);if(o==null)return noInteraction;if(o.active)return o;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var u=e.settings.active===!0;if(hasBeenActivePreviously(o)){if(u)return _objectSpread$n(_objectSpread$n({},o),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i};return _objectSpread$n(_objectSpread$n({},noInteraction),{},{coordinate:o.coordinate})},combineActiveTooltipIndex=(e,t)=>{var n=e?.index;if(n==null)return null;var i=Number(n);if(!isWellBehavedNumber(i))return n;var o=0,u=1/0;return t.length>0&&(u=t.length-1),String(Math.max(o,Math.min(i,u)))},combineCoordinateForDefaultIndex=(e,t,n,i,o,u,h,m)=>{if(!(u==null||m==null)){var v=h[0],p=v==null?void 0:m(v.positions,u);if(p!=null)return p;var f=o?.[Number(u)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(i.top+t)/2};default:return{x:(i.left+e)/2,y:f.coordinate}}}},combineTooltipPayloadConfigurations=(e,t,n,i)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var o;return n==="hover"?o=e.itemInteraction.hover.dataKey:o=e.itemInteraction.click.dataKey,o==null&&i!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(u=>{var h;return((h=u.settings)===null||h===void 0?void 0:h.dataKey)===o})},selectTooltipPayloadSearcher=e=>e.options.tooltipPayloadSearcher,selectTooltipState=e=>e.tooltip;function ownKeys$m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$m(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$m(Object(n),!0).forEach(function(i){_defineProperty$o(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$m(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$o(e,t,n){return(t=_toPropertyKey$o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$o(e){var t=_toPrimitive$o(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$o(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function selectFinalData(e,t){return e??t}var combineTooltipPayload=(e,t,n,i,o,u,h)=>{if(!(t==null||u==null)){var{chartData:m,computedData:v,dataStartIndex:p,dataEndIndex:f}=n,b=[];return e.reduce((w,S)=>{var j,{dataDefinedOnItem:A,settings:T}=S,C=selectFinalData(A,m),O=Array.isArray(C)?getSliced(C,p,f):C,M=(j=T?.dataKey)!==null&&j!==void 0?j:i,R=T?.nameKey,_;if(i&&Array.isArray(O)&&!Array.isArray(O[0])&&h==="axis"?_=findEntryInArray(O,i,o):_=u(O,t,v,R),Array.isArray(_))_.forEach(se=>{var ee=_objectSpread$m(_objectSpread$m({},T),{},{name:se.name,unit:se.unit,color:void 0,fill:void 0});w.push(getTooltipEntry({tooltipEntrySettings:ee,dataKey:se.dataKey,payload:se.payload,value:getValueByDataKey(se.payload,se.dataKey),name:se.name}))});else{var q;w.push(getTooltipEntry({tooltipEntrySettings:T,dataKey:M,payload:_,value:getValueByDataKey(_,M),name:(q=getValueByDataKey(_,R))!==null&&q!==void 0?q:T?.name}))}return w},b)}},selectTooltipAxisRealScaleType=createSelector([selectTooltipAxis,selectChartLayout,selectHasBar,selectChartName,selectTooltipAxisType],combineRealScaleType),selectAllUnfilteredGraphicalItems=createSelector([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),selectTooltipAxisPredicate=createSelector([selectTooltipAxisType,selectTooltipAxisId],itemAxisPredicate),selectAllGraphicalItemsSettings=createSelector([selectAllUnfilteredGraphicalItems,selectTooltipAxis,selectTooltipAxisPredicate],combineGraphicalItemsSettings),selectAllStackedGraphicalItemsSettings=createSelector([selectAllGraphicalItemsSettings],e=>e.filter(isStacked)),selectTooltipGraphicalItemsData=createSelector([selectAllGraphicalItemsSettings],combineGraphicalItemsData),selectTooltipDisplayedData=createSelector([selectTooltipGraphicalItemsData,selectChartDataWithIndexes],combineDisplayedData),selectTooltipStackedData=createSelector([selectAllStackedGraphicalItemsSettings,selectChartDataWithIndexes,selectTooltipAxis],combineDisplayedStackedData),selectAllTooltipAppliedValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectAllGraphicalItemsSettings],combineAppliedValues),selectTooltipAxisDomainDefinition=createSelector([selectTooltipAxis],getDomainDefinition),selectAllStackedGraphicalItems=createSelector([selectAllGraphicalItemsSettings],e=>e.filter(isStacked)),selectTooltipStackGroups=createSelector([selectTooltipStackedData,selectAllStackedGraphicalItems,selectStackOffsetType],combineStackGroups),selectTooltipDomainOfStackGroups=createSelector([selectTooltipStackGroups,selectChartDataWithIndexes,selectTooltipAxisType],combineDomainOfStackGroups),selectTooltipItemsSettingsExceptStacked=createSelector([selectAllGraphicalItemsSettings],filterGraphicalNotStackedItems),selectTooltipAllAppliedNumericalValuesIncludingErrorValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectTooltipItemsSettingsExceptStacked,selectAllErrorBarSettings,selectTooltipAxisType],combineAppliedNumericalValuesIncludingErrorValues),selectReferenceDotsByTooltipAxis=createSelector([selectReferenceDots,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceDotsDomain=createSelector([selectReferenceDotsByTooltipAxis,selectTooltipAxisType],combineDotsDomain),selectReferenceAreasByTooltipAxis=createSelector([selectReferenceAreas,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceAreasDomain=createSelector([selectReferenceAreasByTooltipAxis,selectTooltipAxisType],combineAreasDomain),selectReferenceLinesByTooltipAxis=createSelector([selectReferenceLines,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceLinesDomain=createSelector([selectReferenceLinesByTooltipAxis,selectTooltipAxisType],combineLinesDomain),selectTooltipReferenceElementsDomain=createSelector([selectTooltipReferenceDotsDomain,selectTooltipReferenceLinesDomain,selectTooltipReferenceAreasDomain],mergeDomains),selectTooltipNumericalDomain=createSelector([selectTooltipAxis,selectTooltipAxisDomainDefinition,selectTooltipDomainOfStackGroups,selectTooltipAllAppliedNumericalValuesIncludingErrorValues,selectTooltipReferenceElementsDomain,selectChartLayout,selectTooltipAxisType],combineNumericalDomain),selectTooltipAxisDomain=createSelector([selectTooltipAxis,selectChartLayout,selectTooltipDisplayedData,selectAllTooltipAppliedValues,selectStackOffsetType,selectTooltipAxisType,selectTooltipNumericalDomain],combineAxisDomain),selectTooltipNiceTicks=createSelector([selectTooltipAxisDomain,selectTooltipAxis,selectTooltipAxisRealScaleType],combineNiceTicks),selectTooltipAxisDomainIncludingNiceTicks=createSelector([selectTooltipAxis,selectTooltipAxisDomain,selectTooltipNiceTicks,selectTooltipAxisType],combineAxisDomainWithNiceTicks),selectTooltipAxisRange=e=>{var t=selectTooltipAxisType(e),n=selectTooltipAxisId(e),i=!1;return selectAxisRange(e,t,n,i)},selectTooltipAxisRangeWithReverse=createSelector([selectTooltipAxis,selectTooltipAxisRange],combineAxisRangeWithReverse),selectTooltipAxisScale=createSelector([selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisDomainIncludingNiceTicks,selectTooltipAxisRangeWithReverse],combineScaleFunction),selectTooltipDuplicateDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineDuplicateDomain),selectTooltipCategoricalDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineCategoricalDomain),combineTicksOfTooltipAxis=(e,t,n,i,o,u,h,m)=>{if(t){var{type:v}=t,p=isCategoricalAxis(e,m);if(i){var f=n==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,b=v==="category"&&i.bandwidth?i.bandwidth()/f:0;return b=m==="angleAxis"&&o!=null&&o?.length>=2?mathSign(o[0]-o[1])*2*b:b,p&&h?h.map((w,S)=>({coordinate:i(w)+b,value:w,index:S,offset:b})):i.domain().map((w,S)=>({coordinate:i(w)+b,value:u?u[w]:w,index:S,offset:b}))}}},selectTooltipAxisTicks=createSelector([selectChartLayout,selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisScale,selectTooltipAxisRange,selectTooltipDuplicateDomain,selectTooltipCategoricalDomain,selectTooltipAxisType],combineTicksOfTooltipAxis),selectTooltipEventType=createSelector([selectDefaultTooltipEventType,selectValidateTooltipEventTypes,selectTooltipSettings],(e,t,n)=>combineTooltipEventType(n.shared,e,t)),selectTooltipTrigger=e=>e.tooltip.settings.trigger,selectDefaultIndex=e=>e.tooltip.settings.defaultIndex,selectTooltipInteractionState$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipInteractionState),selectActiveTooltipIndex=createSelector([selectTooltipInteractionState$1,selectTooltipDisplayedData],combineActiveTooltipIndex),selectActiveLabel$1=createSelector([selectTooltipAxisTicks,selectActiveTooltipIndex],combineActiveLabel),selectActiveTooltipDataKey=createSelector([selectTooltipInteractionState$1],e=>{if(e)return e.dataKey}),selectTooltipPayloadConfigurations$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipPayloadConfigurations),selectTooltipCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,selectDefaultIndex,selectTooltipPayloadConfigurations$1,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveTooltipCoordinate=createSelector([selectTooltipInteractionState$1,selectTooltipCoordinateForDefaultIndex],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),selectIsTooltipActive$1=createSelector([selectTooltipInteractionState$1],e=>e.active),selectActiveTooltipPayload=createSelector([selectTooltipPayloadConfigurations$1,selectActiveTooltipIndex,selectChartDataWithIndexes,selectTooltipAxisDataKey,selectActiveLabel$1,selectTooltipPayloadSearcher,selectTooltipEventType],combineTooltipPayload),selectActiveTooltipDataPoints=createSelector([selectActiveTooltipPayload],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function ownKeys$l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$l(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$l(Object(n),!0).forEach(function(i){_defineProperty$n(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$l(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$n(e,t,n){return(t=_toPropertyKey$n(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$n(e){var t=_toPrimitive$n(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$n(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var useTooltipAxis=()=>useAppSelector(selectTooltipAxis),useTooltipAxisBandSize=()=>{var e=useTooltipAxis(),t=useAppSelector(selectTooltipAxisTicks),n=useAppSelector(selectTooltipAxisScale);return getBandSizeOfAxis(_objectSpread$l(_objectSpread$l({},e),{},{scale:n}),t)},useChartName=()=>useAppSelector(selectChartName),pickTooltipEventType=(e,t)=>t,pickTrigger=(e,t,n)=>n,pickDefaultIndex=(e,t,n,i)=>i,selectOrderedTooltipTicks=createSelector(selectTooltipAxisTicks,e=>sortBy(e,t=>t.coordinate)),selectTooltipInteractionState=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipInteractionState),selectActiveIndex=createSelector([selectTooltipInteractionState,selectTooltipDisplayedData],combineActiveTooltipIndex),selectTooltipDataKey=(e,t,n)=>{if(t!=null){var i=selectTooltipState(e);return t==="axis"?n==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:n==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},selectTooltipPayloadConfigurations=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipPayloadConfigurations),selectCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,pickDefaultIndex,selectTooltipPayloadConfigurations,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveCoordinate=createSelector([selectTooltipInteractionState,selectCoordinateForDefaultIndex],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),selectActiveLabel=createSelector(selectTooltipAxisTicks,selectActiveIndex,combineActiveLabel),selectTooltipPayload=createSelector([selectTooltipPayloadConfigurations,selectActiveIndex,selectChartDataWithIndexes,selectTooltipAxisDataKey,selectActiveLabel,selectTooltipPayloadSearcher,pickTooltipEventType],combineTooltipPayload),selectIsTooltipActive=createSelector([selectTooltipInteractionState],e=>({isActive:e.active,activeIndex:e.index})),combineActiveProps=(e,t,n,i,o,u,h,m)=>{if(!(!e||!t||!i||!o||!u)){var v=inRange(e.chartX,e.chartY,t,n,m);if(v){var p=calculateTooltipPos(v,t),f=calculateActiveTickIndex(p,h,u,i,o),b=getActiveCoordinate(t,u,f,v);return{activeIndex:String(f),activeCoordinate:b}}}};function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$h.apply(null,arguments)}function ownKeys$k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$k(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$k(Object(n),!0).forEach(function(i){_defineProperty$m(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$k(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$m(e,t,n){return(t=_toPropertyKey$m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$m(e){var t=_toPrimitive$m(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$m(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CursorInternal(e){var{coordinate:t,payload:n,index:i,offset:o,tooltipAxisBandSize:u,layout:h,cursor:m,tooltipEventType:v,chartName:p}=e,f=t,b=n,w=i;if(!m||!f||p!=="ScatterChart"&&v!=="axis")return null;var S,j;if(p==="ScatterChart")S=f,j=Cross;else if(p==="BarChart")S=getCursorRectangle(h,f,o,u),j=Rectangle;else if(h==="radial"){var{cx:A,cy:T,radius:C,startAngle:O,endAngle:M}=getRadialCursorPoints(f);S={cx:A,cy:T,startAngle:O,endAngle:M,innerRadius:C,outerRadius:C},j=Sector}else S={points:getCursorPoints(h,f,o)},j=Curve;var R=typeof m=="object"&&"className"in m?m.className:void 0,_=_objectSpread$k(_objectSpread$k(_objectSpread$k(_objectSpread$k({stroke:"#ccc",pointerEvents:"none"},o),S),filterProps(m,!1)),{},{payload:b,payloadIndex:w,className:clsx("recharts-tooltip-cursor",R)});return reactExports.isValidElement(m)?reactExports.cloneElement(m,_):reactExports.createElement(j,_)}function Cursor(e){var t=useTooltipAxisBandSize(),n=useOffsetInternal(),i=useChartLayout(),o=useChartName();return reactExports.createElement(CursorInternal,_extends$h({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:i,tooltipAxisBandSize:t,chartName:o}))}var TooltipPortalContext=reactExports.createContext(null),useTooltipPortal=()=>reactExports.useContext(TooltipPortalContext),eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function o(v,p,f){this.fn=v,this.context=p,this.once=f||!1}function u(v,p,f,b,w){if(typeof f!="function")throw new TypeError("The listener must be a function");var S=new o(f,b||v,w),j=n?n+p:p;return v._events[j]?v._events[j].fn?v._events[j]=[v._events[j],S]:v._events[j].push(S):(v._events[j]=S,v._eventsCount++),v}function h(v,p){--v._eventsCount===0?v._events=new i:delete v._events[p]}function m(){this._events=new i,this._eventsCount=0}m.prototype.eventNames=function(){var p=[],f,b;if(this._eventsCount===0)return p;for(b in f=this._events)t.call(f,b)&&p.push(n?b.slice(1):b);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(f)):p},m.prototype.listeners=function(p){var f=n?n+p:p,b=this._events[f];if(!b)return[];if(b.fn)return[b.fn];for(var w=0,S=b.length,j=new Array(S);w<S;w++)j[w]=b[w].fn;return j},m.prototype.listenerCount=function(p){var f=n?n+p:p,b=this._events[f];return b?b.fn?1:b.length:0},m.prototype.emit=function(p,f,b,w,S,j){var A=n?n+p:p;if(!this._events[A])return!1;var T=this._events[A],C=arguments.length,O,M;if(T.fn){switch(T.once&&this.removeListener(p,T.fn,void 0,!0),C){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,f),!0;case 3:return T.fn.call(T.context,f,b),!0;case 4:return T.fn.call(T.context,f,b,w),!0;case 5:return T.fn.call(T.context,f,b,w,S),!0;case 6:return T.fn.call(T.context,f,b,w,S,j),!0}for(M=1,O=new Array(C-1);M<C;M++)O[M-1]=arguments[M];T.fn.apply(T.context,O)}else{var R=T.length,_;for(M=0;M<R;M++)switch(T[M].once&&this.removeListener(p,T[M].fn,void 0,!0),C){case 1:T[M].fn.call(T[M].context);break;case 2:T[M].fn.call(T[M].context,f);break;case 3:T[M].fn.call(T[M].context,f,b);break;case 4:T[M].fn.call(T[M].context,f,b,w);break;default:if(!O)for(_=1,O=new Array(C-1);_<C;_++)O[_-1]=arguments[_];T[M].fn.apply(T[M].context,O)}}return!0},m.prototype.on=function(p,f,b){return u(this,p,f,b,!1)},m.prototype.once=function(p,f,b){return u(this,p,f,b,!0)},m.prototype.removeListener=function(p,f,b,w){var S=n?n+p:p;if(!this._events[S])return this;if(!f)return h(this,S),this;var j=this._events[S];if(j.fn)j.fn===f&&(!w||j.once)&&(!b||j.context===b)&&h(this,S);else{for(var A=0,T=[],C=j.length;A<C;A++)(j[A].fn!==f||w&&!j[A].once||b&&j[A].context!==b)&&T.push(j[A]);T.length?this._events[S]=T.length===1?T[0]:T:h(this,S)}return this},m.prototype.removeAllListeners=function(p){var f;return p?(f=n?n+p:p,this._events[f]&&h(this,f)):(this._events=new i,this._eventsCount=0),this},m.prototype.off=m.prototype.removeListener,m.prototype.addListener=m.prototype.on,m.prefixed=n,m.EventEmitter=m,e.exports=m}(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,TOOLTIP_SYNC_EVENT="recharts.syncEvent.tooltip",BRUSH_SYNC_EVENT="recharts.syncEvent.brush";function arrayTooltipSearcher(e,t){if(t){var n=Number.parseInt(t,10);if(!isNan(n))return e?.[n]}}var initialState$7={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},optionsSlice=createSlice({name:"options",initialState:initialState$7,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),optionsReducer=optionsSlice.reducer,{createEventEmitter}=optionsSlice.actions;function selectSynchronisedTooltipState(e){return e.tooltip.syncInteraction}var initialChartDataState={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},chartDataSlice=createSlice({name:"chartData",initialState:initialChartDataState,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:i}=t.payload;n!=null&&(e.dataStartIndex=n),i!=null&&(e.dataEndIndex=i)}}}),{setChartData,setDataStartEndIndexes,setComputedData}=chartDataSlice.actions,chartDataReducer=chartDataSlice.reducer,_excluded$i=["x","y"];function ownKeys$j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$j(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$j(Object(n),!0).forEach(function(i){_defineProperty$l(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$j(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$l(e,t,n){return(t=_toPropertyKey$l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$l(e){var t=_toPrimitive$l(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$l(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _objectWithoutProperties$i(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$i(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$i(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var noop$1=()=>{};function useTooltipSyncEventsListener(){var e=useAppSelector(selectSyncId),t=useAppSelector(selectEventEmitter),n=useAppDispatch(),i=useAppSelector(selectSyncMethod),o=useAppSelector(selectTooltipAxisTicks),u=useChartLayout(),h=useViewBox(),m=useAppSelector(v=>v.rootProps.className);reactExports.useEffect(()=>{if(e==null)return noop$1;var v=(p,f,b)=>{if(t!==b&&e===p){if(i==="index"){var w;if(h&&f!==null&&f!==void 0&&(w=f.payload)!==null&&w!==void 0&&w.coordinate){var S=f.payload.coordinate,{x:j,y:A}=S,T=_objectWithoutProperties$i(S,_excluded$i),C=_objectSpread$j(_objectSpread$j(_objectSpread$j({},T),typeof j=="number"&&{x:Math.max(h.x,Math.min(j,h.x+h.width))}),typeof A=="number"&&{y:Math.max(h.y,Math.min(A,h.y+h.height))}),O=_objectSpread$j(_objectSpread$j({},f),{},{payload:_objectSpread$j(_objectSpread$j({},f.payload),{},{coordinate:C})});n(O)}else n(f);return}if(o!=null){var M;if(typeof i=="function"){var R={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},_=i(o,R);M=o[_]}else i==="value"&&(M=o.find(_e=>String(_e.value)===f.payload.label));var{coordinate:q}=f.payload;if(M==null||f.payload.active===!1||q==null||h==null){n(setSyncInteraction({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:se,y:ee}=q,ae=Math.min(se,h.x+h.width),pe=Math.min(ee,h.y+h.height),fe={x:u==="horizontal"?M.coordinate:ae,y:u==="horizontal"?pe:M.coordinate},Ee=setSyncInteraction({active:f.payload.active,coordinate:fe,dataKey:f.payload.dataKey,index:String(M.index),label:f.payload.label});n(Ee)}}};return eventCenter.on(TOOLTIP_SYNC_EVENT,v),()=>{eventCenter.off(TOOLTIP_SYNC_EVENT,v)}},[m,n,t,e,i,o,u,h])}function useBrushSyncEventsListener(){var e=useAppSelector(selectSyncId),t=useAppSelector(selectEventEmitter),n=useAppDispatch();reactExports.useEffect(()=>{if(e==null)return noop$1;var i=(o,u,h)=>{t!==h&&e===o&&n(setDataStartEndIndexes(u))};return eventCenter.on(BRUSH_SYNC_EVENT,i),()=>{eventCenter.off(BRUSH_SYNC_EVENT,i)}},[n,t,e])}function useSynchronisedEventsFromOtherCharts(){var e=useAppDispatch();reactExports.useEffect(()=>{e(createEventEmitter())},[e]),useTooltipSyncEventsListener(),useBrushSyncEventsListener()}function useTooltipChartSynchronisation(e,t,n,i,o,u){var h=useAppSelector(w=>selectTooltipDataKey(w,e,t)),m=useAppSelector(selectEventEmitter),v=useAppSelector(selectSyncId),p=useAppSelector(selectSyncMethod),f=useAppSelector(selectSynchronisedTooltipState),b=f?.active;reactExports.useEffect(()=>{if(!b&&v!=null&&m!=null){var w=setSyncInteraction({active:u,coordinate:n,dataKey:h,index:o,label:typeof i=="number"?String(i):i});eventCenter.emit(TOOLTIP_SYNC_EVENT,v,w,m)}},[b,n,h,o,i,m,v,p,u])}function ownKeys$i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$i(Object(n),!0).forEach(function(i){_defineProperty$k(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$i(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$k(e,t,n){return(t=_toPropertyKey$k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$k(e){var t=_toPrimitive$k(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$k(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function defaultUniqBy(e){return e.dataKey}function renderContent(e,t){return reactExports.isValidElement(e)?reactExports.cloneElement(e,t):typeof e=="function"?reactExports.createElement(e,t):reactExports.createElement(DefaultTooltipContent,t)}var emptyPayload=[],defaultTooltipProps={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Global.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Tooltip(e){var t=resolveDefaultProps(e,defaultTooltipProps),{active:n,allowEscapeViewBox:i,animationDuration:o,animationEasing:u,content:h,filterNull:m,isAnimationActive:v,offset:p,payloadUniqBy:f,position:b,reverseDirection:w,useTranslate3d:S,wrapperStyle:j,cursor:A,shared:T,trigger:C,defaultIndex:O,portal:M,axisId:R}=t,_=useAppDispatch(),q=typeof O=="number"?String(O):O;reactExports.useEffect(()=>{_(setTooltipSettingsState({shared:T,trigger:C,axisId:R,active:n,defaultIndex:q}))},[_,T,C,R,n,q]);var se=useViewBox(),ee=useAccessibilityLayer(),ae=useTooltipEventType(T),{activeIndex:pe,isActive:fe}=useAppSelector(me=>selectIsTooltipActive(me,ae,C,q)),Ee=useAppSelector(me=>selectTooltipPayload(me,ae,C,q)),_e=useAppSelector(me=>selectActiveLabel(me,ae,C,q)),Re=useAppSelector(me=>selectActiveCoordinate(me,ae,C,q)),Pe=Ee,je=useTooltipPortal(),ce=n??fe,[le,ie]=useElementOffset([Pe,ce]),Y=ae==="axis"?_e:void 0;useTooltipChartSynchronisation(ae,C,Re,Y,pe,ce);var ne=M??je;if(ne==null)return null;var oe=Pe??emptyPayload;ce||(oe=emptyPayload),m&&oe.length&&(oe=getUniqPayload(Pe.filter(me=>me.value!=null&&(me.hide!==!0||t.includeHidden)),f,defaultUniqBy));var ue=oe.length>0,ve=reactExports.createElement(TooltipBoundingBox,{allowEscapeViewBox:i,animationDuration:o,animationEasing:u,isAnimationActive:v,active:ce,coordinate:Re,hasPayload:ue,offset:p,position:b,reverseDirection:w,useTranslate3d:S,viewBox:se,wrapperStyle:j,lastBoundingBox:le,innerRef:ie,hasPortalFromProps:!!M},renderContent(h,_objectSpread$i(_objectSpread$i({},t),{},{payload:oe,label:Y,active:ce,coordinate:Re,accessibilityLayer:ee})));return reactExports.createElement(reactExports.Fragment,null,reactDomExports.createPortal(ve,ne),ce&&reactExports.createElement(Cursor,{cursor:A,tooltipEventType:ae,coordinate:Re,payload:Pe,index:pe}))}var throttle$2={},debounce$1={},debounce={},hasRequiredDebounce$1;function requireDebounce$1(){return hasRequiredDebounce$1||(hasRequiredDebounce$1=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i,{signal:o,edges:u}={}){let h,m=null;const v=u!=null&&u.includes("leading"),p=u==null||u.includes("trailing"),f=()=>{m!==null&&(n.apply(h,m),h=void 0,m=null)},b=()=>{p&&f(),A()};let w=null;const S=()=>{w!=null&&clearTimeout(w),w=setTimeout(()=>{w=null,b()},i)},j=()=>{w!==null&&(clearTimeout(w),w=null)},A=()=>{j(),h=void 0,m=null},T=()=>{f()},C=function(...O){if(o?.aborted)return;h=this,m=O;const M=w==null;S(),v&&M&&f()};return C.schedule=S,C.cancel=A,C.flush=T,o?.addEventListener("abort",A,{once:!0}),C}e.debounce=t}(debounce)),debounce}var hasRequiredDebounce;function requireDebounce(){return hasRequiredDebounce||(hasRequiredDebounce=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireDebounce$1();function n(i,o=0,u={}){typeof u!="object"&&(u={});const{leading:h=!1,trailing:m=!0,maxWait:v}=u,p=Array(2);h&&(p[0]="leading"),m&&(p[1]="trailing");let f,b=null;const w=t.debounce(function(...A){f=i.apply(this,A),b=null},o,{edges:p}),S=function(...A){return v!=null&&(b===null&&(b=Date.now()),Date.now()-b>=v)?(f=i.apply(this,A),b=Date.now(),w.cancel(),w.schedule(),f):(w.apply(this,A),f)},j=()=>(w.flush(),f);return S.cancel=w.cancel,S.flush=j,S}e.debounce=n}(debounce$1)),debounce$1}var hasRequiredThrottle$1;function requireThrottle$1(){return hasRequiredThrottle$1||(hasRequiredThrottle$1=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireDebounce();function n(i,o=0,u={}){const{leading:h=!0,trailing:m=!0}=u;return t.debounce(i,o,{leading:h,maxWait:o,trailing:m})}e.throttle=n}(throttle$2)),throttle$2}var throttle$1,hasRequiredThrottle;function requireThrottle(){return hasRequiredThrottle||(hasRequiredThrottle=1,throttle$1=requireThrottle$1().throttle),throttle$1}var throttleExports=requireThrottle();const throttle=getDefaultExportFromCjs(throttleExports);var warn=function e(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),u=2;u<i;u++)o[u-2]=arguments[u]};function ownKeys$h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$h(Object(n),!0).forEach(function(i){_defineProperty$j(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$h(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$j(e,t,n){return(t=_toPropertyKey$j(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$j(e){var t=_toPrimitive$j(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$j(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ResponsiveContainer=reactExports.forwardRef((e,t)=>{var{aspect:n,initialDimension:i={width:-1,height:-1},width:o="100%",height:u="100%",minWidth:h=0,minHeight:m,maxHeight:v,children:p,debounce:f=0,id:b,className:w,onResize:S,style:j={}}=e,A=reactExports.useRef(null),T=reactExports.useRef();T.current=S,reactExports.useImperativeHandle(t,()=>A.current);var[C,O]=reactExports.useState({containerWidth:i.width,containerHeight:i.height}),M=reactExports.useCallback((_,q)=>{O(se=>{var ee=Math.round(_),ae=Math.round(q);return se.containerWidth===ee&&se.containerHeight===ae?se:{containerWidth:ee,containerHeight:ae}})},[]);reactExports.useEffect(()=>{var _=ae=>{var pe,{width:fe,height:Ee}=ae[0].contentRect;M(fe,Ee),(pe=T.current)===null||pe===void 0||pe.call(T,fe,Ee)};f>0&&(_=throttle(_,f,{trailing:!0,leading:!1}));var q=new ResizeObserver(_),{width:se,height:ee}=A.current.getBoundingClientRect();return M(se,ee),q.observe(A.current),()=>{q.disconnect()}},[M,f]);var R=reactExports.useMemo(()=>{var{containerWidth:_,containerHeight:q}=C;if(_<0||q<0)return null;warn(isPercent(o)||isPercent(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,u),warn(!n||n>0,"The aspect(%s) must be greater than zero.",n);var se=isPercent(o)?_:o,ee=isPercent(u)?q:u;return n&&n>0&&(se?ee=se/n:ee&&(se=ee*n),v&&ee>v&&(ee=v)),warn(se>0||ee>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,se,ee,o,u,h,m,n),reactExports.Children.map(p,ae=>reactExports.cloneElement(ae,{width:se,height:ee,style:_objectSpread$h({width:se,height:ee},ae.props.style)}))},[n,p,u,v,m,h,C,o]);return reactExports.createElement("div",{id:b?"".concat(b):void 0,className:clsx("recharts-responsive-container",w),style:_objectSpread$h(_objectSpread$h({},j),{},{width:o,height:u,minWidth:h,minHeight:m,maxHeight:v}),ref:A},reactExports.createElement("div",{style:{width:0,height:0,overflow:"visible"}},R))}),Cell=e=>null;Cell.displayName="Cell";function _defineProperty$i(e,t,n){return(t=_toPropertyKey$i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$i(e){var t=_toPrimitive$i(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$i(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class LRUCache{constructor(t){_defineProperty$i(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function ownKeys$g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$g(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$g(Object(n),!0).forEach(function(i){_defineProperty$h(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$g(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$h(e,t,n){return(t=_toPropertyKey$h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$h(e){var t=_toPrimitive$h(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$h(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var defaultConfig={cacheSize:2e3,enableCache:!0},currentConfig=_objectSpread$g({},defaultConfig),stringCache=new LRUCache(currentConfig.cacheSize),SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function createCacheKey(e,t){var n=t.fontSize||"",i=t.fontFamily||"",o=t.fontWeight||"",u=t.fontStyle||"",h=t.letterSpacing||"",m=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(i,"|").concat(o,"|").concat(u,"|").concat(h,"|").concat(m)}var measureTextWithDOM=(e,t)=>{try{var n=document.getElementById(MEASUREMENT_SPAN_ID);n||(n=document.createElement("span"),n.setAttribute("id",MEASUREMENT_SPAN_ID),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,SPAN_STYLE,t),n.textContent="".concat(e);var i=n.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},getStringSize=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Global.isSsr)return{width:0,height:0};if(!currentConfig.enableCache)return measureTextWithDOM(t,n);var i=createCacheKey(t,n),o=stringCache.get(i);if(o)return o;var u=measureTextWithDOM(t,n);return stringCache.set(i,u),u},MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(e,t){return e*CONVERSION_RATES[t]}class DecimalCSS{static parse(t){var n,[,i,o]=(n=NUM_SPLIT_REGEX.exec(t))!==null&&n!==void 0?n:[];return new DecimalCSS(parseFloat(i),o??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,isNan(t)&&(this.unit=""),n!==""&&!CSS_LENGTH_UNIT_REGEX.test(n)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(n)&&(this.num=convertToPx(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return isNan(this.num)}}function calculateArithmetic(e){if(e.includes(STR_NAN))return STR_NAN;for(var t=e;t.includes("*")||t.includes("/");){var n,[,i,o,u]=(n=MULTIPLY_OR_DIVIDE_REGEX.exec(t))!==null&&n!==void 0?n:[],h=DecimalCSS.parse(i??""),m=DecimalCSS.parse(u??""),v=o==="*"?h.multiply(m):h.divide(m);if(v.isNaN())return STR_NAN;t=t.replace(MULTIPLY_OR_DIVIDE_REGEX,v.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,[,f,b,w]=(p=ADD_OR_SUBTRACT_REGEX.exec(t))!==null&&p!==void 0?p:[],S=DecimalCSS.parse(f??""),j=DecimalCSS.parse(w??""),A=b==="+"?S.add(j):S.subtract(j);if(A.isNaN())return STR_NAN;t=t.replace(ADD_OR_SUBTRACT_REGEX,A.toString())}return t}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(e){for(var t=e,n;(n=PARENTHESES_REGEX.exec(t))!=null;){var[,i]=n;t=t.replace(PARENTHESES_REGEX,calculateArithmetic(i))}return t}function evaluateExpression(e){var t=e.replace(/\s+/g,"");return t=calculateParentheses(t),t=calculateArithmetic(t),t}function safeEvaluateExpression(e){try{return evaluateExpression(e)}catch{return STR_NAN}}function reduceCSSCalc(e){var t=safeEvaluateExpression(e.slice(5,-1));return t===STR_NAN?"":t}var _excluded$h=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$8=["dx","dy","angle","className","breakAll"];function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$g.apply(null,arguments)}function _objectWithoutProperties$h(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$h(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$h(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=e=>{var{children:t,breakAll:n,style:i}=e;try{var o=[];isNullish(t)||(n?o=t.toString().split(""):o=t.toString().split(BREAKING_SPACES));var u=o.map(m=>({word:m,width:getStringSize(m,i).width})),h=n?0:getStringSize(" ",i).width;return{wordsWithComputedWidth:u,spaceWidth:h}}catch{return null}},calculateWordsByLines=(e,t,n,i,o)=>{var{maxLines:u,children:h,style:m,breakAll:v}=e,p=isNumber(u),f=h,b=function(){var fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return fe.reduce((Ee,_e)=>{var{word:Re,width:Pe}=_e,je=Ee[Ee.length-1];if(je&&(i==null||o||je.width+Pe+n<Number(i)))je.words.push(Re),je.width+=Pe+n;else{var ce={words:[Re],width:Pe};Ee.push(ce)}return Ee},[])},w=b(t),S=pe=>pe.reduce((fe,Ee)=>fe.width>Ee.width?fe:Ee);if(!p||o)return w;var j=w.length>u||S(w).width>Number(i);if(!j)return w;for(var A="…",T=pe=>{var fe=f.slice(0,pe),Ee=calculateWordWidths({breakAll:v,style:m,children:fe+A}).wordsWithComputedWidth,_e=b(Ee),Re=_e.length>u||S(_e).width>Number(i);return[Re,_e]},C=0,O=f.length-1,M=0,R;C<=O&&M<=f.length-1;){var _=Math.floor((C+O)/2),q=_-1,[se,ee]=T(q),[ae]=T(_);if(!se&&!ae&&(C=_+1),se&&ae&&(O=_-1),!se&&ae){R=ee;break}M++}return R||w},getWordsWithoutCalculate=e=>{var t=isNullish(e)?[]:e.toString().split(BREAKING_SPACES);return[{words:t}]},getWordsByLines=e=>{var{width:t,scaleToFit:n,children:i,style:o,breakAll:u,maxLines:h}=e;if((t||n)&&!Global.isSsr){var m,v,p=calculateWordWidths({breakAll:u,children:i,style:o});if(p){var{wordsWithComputedWidth:f,spaceWidth:b}=p;m=f,v=b}else return getWordsWithoutCalculate(i);return calculateWordsByLines({breakAll:u,children:i,maxLines:h,style:o},m,v,t,n)}return getWordsWithoutCalculate(i)},DEFAULT_FILL="#808080",Text=reactExports.forwardRef((e,t)=>{var{x:n=0,y:i=0,lineHeight:o="1em",capHeight:u="0.71em",scaleToFit:h=!1,textAnchor:m="start",verticalAnchor:v="end",fill:p=DEFAULT_FILL}=e,f=_objectWithoutProperties$h(e,_excluded$h),b=reactExports.useMemo(()=>getWordsByLines({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:h,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,h,f.style,f.width]),{dx:w,dy:S,angle:j,className:A,breakAll:T}=f,C=_objectWithoutProperties$h(f,_excluded2$8);if(!isNumOrStr(n)||!isNumOrStr(i)||b.length===0)return null;var O=n+(isNumber(w)?w:0),M=i+(isNumber(S)?S:0),R;switch(v){case"start":R=reduceCSSCalc("calc(".concat(u,")"));break;case"middle":R=reduceCSSCalc("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:R=reduceCSSCalc("calc(".concat(b.length-1," * -").concat(o,")"));break}var _=[];if(h){var q=b[0].width,{width:se}=f;_.push("scale(".concat(isNumber(se)?se/q:1,")"))}return j&&_.push("rotate(".concat(j,", ").concat(O,", ").concat(M,")")),_.length&&(C.transform=_.join(" ")),reactExports.createElement("text",_extends$g({},filterProps(C,!0),{ref:t,x:O,y:M,className:clsx("recharts-text",A),textAnchor:m,fill:p.includes("url")?DEFAULT_FILL:p}),b.map((ee,ae)=>{var pe=ee.words.join(T?"":" ");return reactExports.createElement("tspan",{x:O,dy:ae===0?R:o,key:"".concat(pe,"-").concat(ae)},pe)}))});Text.displayName="Text";var _excluded$g=["labelRef"];function _objectWithoutProperties$g(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$g(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$g(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function ownKeys$f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$f(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$f(Object(n),!0).forEach(function(i){_defineProperty$g(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$f(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$g(e,t,n){return(t=_toPropertyKey$g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$g(e){var t=_toPrimitive$g(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$g(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$f.apply(null,arguments)}var CartesianLabelContext=reactExports.createContext(null),CartesianLabelContextProvider=e=>{var{x:t,y:n,width:i,height:o,children:u}=e,h=reactExports.useMemo(()=>({x:t,y:n,width:i,height:o}),[t,n,i,o]);return reactExports.createElement(CartesianLabelContext.Provider,{value:h},u)},useCartesianLabelContext=()=>{var e=reactExports.useContext(CartesianLabelContext),t=useViewBox();return e||t},PolarLabelContext=reactExports.createContext(null),usePolarLabelContext=()=>{var e=reactExports.useContext(PolarLabelContext),t=useAppSelector(selectPolarViewBox);return e||t},getLabel=e=>{var{value:t,formatter:n}=e,i=isNullish(e.children)?t:e.children;return typeof n=="function"?n(i):i},isLabelContentAFunction=e=>e!=null&&typeof e=="function",getDeltaAngle=(e,t)=>{var n=mathSign(t-e),i=Math.min(Math.abs(t-e),360);return n*i},renderRadialLabel=(e,t,n,i,o)=>{var{offset:u,className:h}=e,{cx:m,cy:v,innerRadius:p,outerRadius:f,startAngle:b,endAngle:w,clockWise:S}=o,j=(p+f)/2,A=getDeltaAngle(b,w),T=A>=0?1:-1,C,O;switch(t){case"insideStart":C=b+T*u,O=S;break;case"insideEnd":C=w-T*u,O=!S;break;case"end":C=w+T*u,O=S;break;default:throw new Error("Unsupported position ".concat(t))}O=A<=0?O:!O;var M=polarToCartesian(m,v,j,C),R=polarToCartesian(m,v,j,C+(O?1:-1)*359),_="M".concat(M.x,",").concat(M.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(O?0:1,`,
    `).concat(R.x,",").concat(R.y),q=isNullish(e.id)?uniqueId("recharts-radial-line-"):e.id;return reactExports.createElement("text",_extends$f({},i,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",h)}),reactExports.createElement("defs",null,reactExports.createElement("path",{id:q,d:_})),reactExports.createElement("textPath",{xlinkHref:"#".concat(q)},n))},getAttrsOfPolarLabel=(e,t,n)=>{var{cx:i,cy:o,innerRadius:u,outerRadius:h,startAngle:m,endAngle:v}=e,p=(m+v)/2;if(n==="outside"){var{x:f,y:b}=polarToCartesian(i,o,h+t,p);return{x:f,y:b,textAnchor:f>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var w=(u+h)/2,{x:S,y:j}=polarToCartesian(i,o,w,p);return{x:S,y:j,textAnchor:"middle",verticalAnchor:"middle"}},isPolar=e=>"cx"in e&&isNumber(e.cx),getAttrsOfCartesianLabel=(e,t)=>{var{parentViewBox:n,offset:i,position:o}=e,u;n!=null&&!isPolar(n)&&(u=n);var{x:h,y:m,width:v,height:p}=t,f=p>=0?1:-1,b=f*i,w=f>0?"end":"start",S=f>0?"start":"end",j=v>=0?1:-1,A=j*i,T=j>0?"end":"start",C=j>0?"start":"end";if(o==="top"){var O={x:h+v/2,y:m-f*i,textAnchor:"middle",verticalAnchor:w};return _objectSpread$f(_objectSpread$f({},O),u?{height:Math.max(m-u.y,0),width:v}:{})}if(o==="bottom"){var M={x:h+v/2,y:m+p+b,textAnchor:"middle",verticalAnchor:S};return _objectSpread$f(_objectSpread$f({},M),u?{height:Math.max(u.y+u.height-(m+p),0),width:v}:{})}if(o==="left"){var R={x:h-A,y:m+p/2,textAnchor:T,verticalAnchor:"middle"};return _objectSpread$f(_objectSpread$f({},R),u?{width:Math.max(R.x-u.x,0),height:p}:{})}if(o==="right"){var _={x:h+v+A,y:m+p/2,textAnchor:C,verticalAnchor:"middle"};return _objectSpread$f(_objectSpread$f({},_),u?{width:Math.max(u.x+u.width-_.x,0),height:p}:{})}var q=u?{width:v,height:p}:{};return o==="insideLeft"?_objectSpread$f({x:h+A,y:m+p/2,textAnchor:C,verticalAnchor:"middle"},q):o==="insideRight"?_objectSpread$f({x:h+v-A,y:m+p/2,textAnchor:T,verticalAnchor:"middle"},q):o==="insideTop"?_objectSpread$f({x:h+v/2,y:m+b,textAnchor:"middle",verticalAnchor:S},q):o==="insideBottom"?_objectSpread$f({x:h+v/2,y:m+p-b,textAnchor:"middle",verticalAnchor:w},q):o==="insideTopLeft"?_objectSpread$f({x:h+A,y:m+b,textAnchor:C,verticalAnchor:S},q):o==="insideTopRight"?_objectSpread$f({x:h+v-A,y:m+b,textAnchor:T,verticalAnchor:S},q):o==="insideBottomLeft"?_objectSpread$f({x:h+A,y:m+p-b,textAnchor:C,verticalAnchor:w},q):o==="insideBottomRight"?_objectSpread$f({x:h+v-A,y:m+p-b,textAnchor:T,verticalAnchor:w},q):o&&typeof o=="object"&&(isNumber(o.x)||isPercent(o.x))&&(isNumber(o.y)||isPercent(o.y))?_objectSpread$f({x:h+getPercentValue(o.x,v),y:m+getPercentValue(o.y,p),textAnchor:"end",verticalAnchor:"end"},q):_objectSpread$f({x:h+v/2,y:m+p/2,textAnchor:"middle",verticalAnchor:"middle"},q)},defaultLabelProps={offset:5};function Label(e){var t=resolveDefaultProps(e,defaultLabelProps),{viewBox:n,position:i,value:o,children:u,content:h,className:m="",textBreakAll:v,labelRef:p}=t,f=usePolarLabelContext(),b=useCartesianLabelContext(),w=i==="center"?b:f??b,S=n||w;if(!S||isNullish(o)&&isNullish(u)&&!reactExports.isValidElement(h)&&typeof h!="function")return null;var j=_objectSpread$f(_objectSpread$f({},t),{},{viewBox:S});if(reactExports.isValidElement(h)){var{labelRef:A}=j,T=_objectWithoutProperties$g(j,_excluded$g);return reactExports.cloneElement(h,T)}var C;if(typeof h=="function"){if(C=reactExports.createElement(h,j),reactExports.isValidElement(C))return C}else C=getLabel(t);var O=isPolar(S),M=filterProps(t,!0);if(O&&(i==="insideStart"||i==="insideEnd"||i==="end"))return renderRadialLabel(t,i,C,M,S);var R=O?getAttrsOfPolarLabel(S,t.offset,t.position):getAttrsOfCartesianLabel(t,S);return reactExports.createElement(Text,_extends$f({ref:p,className:clsx("recharts-label",m)},M,R,{breakAll:v}),C)}Label.displayName="Label";var parseLabel=(e,t,n)=>{if(!e)return null;var i={viewBox:t,labelRef:n};return e===!0?reactExports.createElement(Label,_extends$f({key:"label-implicit"},i)):isNumOrStr(e)?reactExports.createElement(Label,_extends$f({key:"label-implicit",value:e},i)):reactExports.isValidElement(e)?e.type===Label?reactExports.cloneElement(e,_objectSpread$f({key:"label-implicit"},i)):reactExports.createElement(Label,_extends$f({key:"label-implicit",content:e},i)):isLabelContentAFunction(e)?reactExports.createElement(Label,_extends$f({key:"label-implicit",content:e},i)):e&&typeof e=="object"?reactExports.createElement(Label,_extends$f({},e,{key:"label-implicit"},i)):null};function CartesianLabelFromLabelProp(e){var{label:t}=e,n=useCartesianLabelContext();return parseLabel(t,n)||null}var last$3={},last$2={},hasRequiredLast$2;function requireLast$2(){return hasRequiredLast$2||(hasRequiredLast$2=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t}(last$2)),last$2}var toArray={},hasRequiredToArray;function requireToArray(){return hasRequiredToArray||(hasRequiredToArray=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t}(toArray)),toArray}var hasRequiredLast$1;function requireLast$1(){return hasRequiredLast$1||(hasRequiredLast$1=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireLast$2(),n=requireToArray(),i=requireIsArrayLike();function o(u){if(i.isArrayLike(u))return t.last(n.toArray(u))}e.last=o}(last$3)),last$3}var last$1,hasRequiredLast;function requireLast(){return hasRequiredLast||(hasRequiredLast=1,last$1=requireLast$1().last),last$1}var lastExports=requireLast();const last=getDefaultExportFromCjs(lastExports);var _excluded$f=["valueAccessor"],_excluded2$7=["dataKey","clockWise","id","textBreakAll"];function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$e.apply(null,arguments)}function _objectWithoutProperties$f(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$f(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$f(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var defaultAccessor=e=>Array.isArray(e.value)?last(e.value):e.value,CartesianLabelListContext=reactExports.createContext(void 0),CartesianLabelListContextProvider=CartesianLabelListContext.Provider,PolarLabelListContext=reactExports.createContext(void 0),PolarLabelListContextProvider=PolarLabelListContext.Provider;function useCartesianLabelListContext(){return reactExports.useContext(CartesianLabelListContext)}function usePolarLabelListContext(){return reactExports.useContext(PolarLabelListContext)}function LabelList(e){var{valueAccessor:t=defaultAccessor}=e,n=_objectWithoutProperties$f(e,_excluded$f),{dataKey:i,clockWise:o,id:u,textBreakAll:h}=n,m=_objectWithoutProperties$f(n,_excluded2$7),v=useCartesianLabelListContext(),p=usePolarLabelListContext(),f=v||p;return!f||!f.length?null:reactExports.createElement(Layer,{className:"recharts-label-list"},f.map((b,w)=>{var S,j=isNullish(i)?t(b,w):getValueByDataKey(b&&b.payload,i),A=isNullish(u)?{}:{id:"".concat(u,"-").concat(w)};return reactExports.createElement(Label,_extends$e({},filterProps(b,!0),m,A,{fill:(S=n.fill)!==null&&S!==void 0?S:b.fill,parentViewBox:b.parentViewBox,value:j,textBreakAll:h,viewBox:b.viewBox,key:"label-".concat(w),index:w}))}))}LabelList.displayName="LabelList";function LabelListFromLabelProp(e){var{label:t}=e;return t?t===!0?reactExports.createElement(LabelList,{key:"labelList-implicit"}):reactExports.isValidElement(t)||isLabelContentAFunction(t)?reactExports.createElement(LabelList,{key:"labelList-implicit",content:t}):typeof t=="object"?reactExports.createElement(LabelList,_extends$e({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$d.apply(null,arguments)}var Dot=e=>{var{cx:t,cy:n,r:i,className:o}=e,u=clsx("recharts-dot",o);return t===+t&&n===+n&&i===+i?reactExports.createElement("circle",_extends$d({},svgPropertiesNoEvents(e),adaptEventHandlers(e),{className:u,cx:t,cy:n,r:i})):null},selectUnfilteredPolarItems=e=>e.graphicalItems.polarItems,selectAxisPredicate=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),selectPolarItemsSettings=createSelector([selectUnfilteredPolarItems,selectBaseAxis,selectAxisPredicate],combineGraphicalItemsSettings),selectPolarGraphicalItemsData=createSelector([selectPolarItemsSettings],combineGraphicalItemsData),selectPolarDisplayedData=createSelector([selectPolarGraphicalItemsData,selectChartDataAndAlwaysIgnoreIndexes],combineDisplayedData),selectPolarAppliedValues=createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings],combineAppliedValues),selectAllPolarAppliedNumericalValues=createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings],(e,t,n)=>n.length>0?e.flatMap(i=>n.flatMap(o=>{var u,h=getValueByDataKey(i,(u=t.dataKey)!==null&&u!==void 0?u:o.dataKey);return{value:h,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(i=>({value:getValueByDataKey(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]}))),unsupportedInPolarChart=()=>{},selectPolarNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,unsupportedInPolarChart,selectAllPolarAppliedNumericalValues,unsupportedInPolarChart,selectChartLayout,pickAxisType],combineNumericalDomain),selectPolarAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectPolarDisplayedData,selectPolarAppliedValues,selectStackOffsetType,pickAxisType,selectPolarNumericalDomain],combineAxisDomain),selectPolarNiceTicks=createSelector([selectPolarAxisDomain,selectBaseAxis,selectRealScaleType],combineNiceTicks);createSelector([selectBaseAxis,selectPolarAxisDomain,selectPolarNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks);var initialState$6={radiusAxis:{},angleAxis:{}},polarAxisSlice=createSlice({name:"polarAxis",initialState:initialState$6,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis,removeRadiusAxis,addAngleAxis,removeAngleAxis}=polarAxisSlice.actions,polarAxisReducer=polarAxisSlice.reducer;function ownKeys$e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$e(Object(n),!0).forEach(function(i){_defineProperty$f(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$e(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$f(e,t,n){return(t=_toPropertyKey$f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$f(e){var t=_toPrimitive$f(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$f(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pickId=(e,t)=>t,selectSynchronisedPieSettings=createSelector([selectUnfilteredPolarItems,pickId],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),emptyArray=[],pickCells$1=(e,t,n)=>n?.length===0?emptyArray:n,selectDisplayedData=createSelector([selectChartDataAndAlwaysIgnoreIndexes,selectSynchronisedPieSettings,pickCells$1],(e,t,n)=>{var{chartData:i}=e;if(t!=null){var o;if(t?.data!=null&&t.data.length>0?o=t.data:o=i,(!o||!o.length)&&n!=null&&(o=n.map(u=>_objectSpread$e(_objectSpread$e({},t.presentationProps),u.props))),o!=null)return o}}),selectPieLegend=createSelector([selectDisplayedData,selectSynchronisedPieSettings,pickCells$1],(e,t,n)=>{if(!(e==null||t==null))return e.map((i,o)=>{var u,h=getValueByDataKey(i,t.nameKey,t.name),m;return n!=null&&(u=n[o])!==null&&u!==void 0&&(u=u.props)!==null&&u!==void 0&&u.fill?m=n[o].props.fill:typeof i=="object"&&i!=null&&"fill"in i?m=i.fill:m=t.fill,{value:getTooltipNameProp(h,t.dataKey),color:m,payload:i,type:t.legendType}})}),selectPieSectors=createSelector([selectDisplayedData,selectSynchronisedPieSettings,pickCells$1,selectChartOffsetInternal],(e,t,n,i)=>{if(!(t==null||e==null))return computePieSectors({offset:i,pieSettings:t,displayedData:e,cells:n})}),isPlainObject$2={},hasRequiredIsPlainObject$1;function requireIsPlainObject$1(){return hasRequiredIsPlainObject$1||(hasRequiredIsPlainObject$1=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${o}]`}let i=n;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(n)===i}e.isPlainObject=t}(isPlainObject$2)),isPlainObject$2}var isPlainObject$1,hasRequiredIsPlainObject;function requireIsPlainObject(){return hasRequiredIsPlainObject||(hasRequiredIsPlainObject=1,isPlainObject$1=requireIsPlainObject$1().isPlainObject),isPlainObject$1}var isPlainObjectExports=requireIsPlainObject();const isPlainObject=getDefaultExportFromCjs(isPlainObjectExports);function ownKeys$d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$d(Object(n),!0).forEach(function(i){_defineProperty$e(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$d(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$e(e,t,n){return(t=_toPropertyKey$e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$e(e){var t=_toPrimitive$e(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$c.apply(null,arguments)}var getTrapezoidPath=(e,t,n,i,o)=>{var u=n-i,h;return h="M ".concat(e,",").concat(t),h+="L ".concat(e+n,",").concat(t),h+="L ".concat(e+n-u/2,",").concat(t+o),h+="L ".concat(e+n-u/2-i,",").concat(t+o),h+="L ".concat(e,",").concat(t," Z"),h},defaultProps$4={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=e=>{var t=resolveDefaultProps(e,defaultProps$4),{x:n,y:i,upperWidth:o,lowerWidth:u,height:h,className:m}=t,{animationEasing:v,animationDuration:p,animationBegin:f,isUpdateAnimationActive:b}=t,w=reactExports.useRef(),[S,j]=reactExports.useState(-1),A=reactExports.useRef(o),T=reactExports.useRef(u),C=reactExports.useRef(h),O=reactExports.useRef(n),M=reactExports.useRef(i),R=useAnimationId(e,"trapezoid-");if(reactExports.useEffect(()=>{if(w.current&&w.current.getTotalLength)try{var Re=w.current.getTotalLength();Re&&j(Re)}catch{}},[]),n!==+n||i!==+i||o!==+o||u!==+u||h!==+h||o===0&&u===0||h===0)return null;var _=clsx("recharts-trapezoid",m);if(!b)return reactExports.createElement("g",null,reactExports.createElement("path",_extends$c({},filterProps(t,!0),{className:_,d:getTrapezoidPath(n,i,o,u,h)})));var q=A.current,se=T.current,ee=C.current,ae=O.current,pe=M.current,fe="0px ".concat(S===-1?1:S,"px"),Ee="".concat(S,"px 0px"),_e=getTransitionVal(["strokeDasharray"],p,v);return reactExports.createElement(JavascriptAnimate,{animationId:R,key:R,canBegin:S>0,duration:p,easing:v,isActive:b,begin:f},Re=>{var Pe=interpolate$1(q,o,Re),je=interpolate$1(se,u,Re),ce=interpolate$1(ee,h,Re),le=interpolate$1(ae,n,Re),ie=interpolate$1(pe,i,Re);w.current&&(A.current=Pe,T.current=je,C.current=ce,O.current=le,M.current=ie);var Y=Re>0?{transition:_e,strokeDasharray:Ee}:{strokeDasharray:fe};return reactExports.createElement("path",_extends$c({},filterProps(t,!0),{className:_,d:getTrapezoidPath(le,ie,Pe,je,ce),ref:w,style:_objectSpread$d(_objectSpread$d({},Y),t.style)}))})},_excluded$e=["option","shapeType","propTransformer","activeClassName","isActive"];function _objectWithoutProperties$e(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$e(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$e(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function ownKeys$c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$c(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$c(Object(n),!0).forEach(function(i){_defineProperty$d(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$c(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$d(e,t,n){return(t=_toPropertyKey$d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$d(e){var t=_toPrimitive$d(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$d(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function defaultPropTransformer(e,t){return _objectSpread$c(_objectSpread$c({},t),e)}function isSymbolsProps(e,t){return e==="symbols"}function ShapeSelector(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return reactExports.createElement(Rectangle,n);case"trapezoid":return reactExports.createElement(Trapezoid,n);case"sector":return reactExports.createElement(Sector,n);case"symbols":if(isSymbolsProps(t))return reactExports.createElement(Symbols,n);break;default:return null}}function getPropsFromShapeOption(e){return reactExports.isValidElement(e)?e.props:e}function Shape(e){var{option:t,shapeType:n,propTransformer:i=defaultPropTransformer,activeClassName:o="recharts-active-shape",isActive:u}=e,h=_objectWithoutProperties$e(e,_excluded$e),m;if(reactExports.isValidElement(t))m=reactExports.cloneElement(t,_objectSpread$c(_objectSpread$c({},h),getPropsFromShapeOption(t)));else if(typeof t=="function")m=t(h);else if(isPlainObject(t)&&typeof t!="boolean"){var v=i(t,h);m=reactExports.createElement(ShapeSelector,{shapeType:n,elementProps:v})}else{var p=h;m=reactExports.createElement(ShapeSelector,{shapeType:n,elementProps:p})}return u?reactExports.createElement(Layer,{className:o},m):m}var useMouseEnterItemDispatch=(e,t)=>{var n=useAppDispatch();return(i,o)=>u=>{e?.(i,o,u),n(setActiveMouseOverItemIndex({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition}))}},useMouseLeaveItemDispatch=e=>{var t=useAppDispatch();return(n,i)=>o=>{e?.(n,i,o),t(mouseLeaveItem())}},useMouseClickItemDispatch=(e,t)=>{var n=useAppDispatch();return(i,o)=>u=>{e?.(i,o,u),n(setActiveClickItemIndex({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition}))}};function SetTooltipEntrySettings(e){var{fn:t,args:n}=e,i=useAppDispatch(),o=useIsPanorama();return reactExports.useEffect(()=>{if(!o){var u=t(n);return i(addTooltipEntrySettings(u)),()=>{i(removeTooltipEntrySettings(u))}}},[t,n,i,o]),null}var noop=()=>{};function SetLegendPayload(e){var{legendPayload:t}=e,n=useAppDispatch(),i=useIsPanorama();return reactExports.useEffect(()=>i?noop:(n(addLegendPayload(t)),()=>{n(removeLegendPayload(t))}),[n,i,t]),null}function SetPolarLegendPayload(e){var{legendPayload:t}=e,n=useAppDispatch(),i=useAppSelector(selectChartLayout);return reactExports.useEffect(()=>i!=="centric"&&i!=="radial"?noop:(n(addLegendPayload(t)),()=>{n(removeLegendPayload(t))}),[n,i,t]),null}var _ref,useIdFallback=()=>{var[e]=reactExports.useState(()=>uniqueId("uid-"));return e},useId=(_ref=React$1.useId)!==null&&_ref!==void 0?_ref:useIdFallback;function useUniqueId(e,t){var n=useId();return t||(e?"".concat(e,"-").concat(n):n)}var GraphicalItemIdContext=reactExports.createContext(void 0),RegisterGraphicalItemId=e=>{var{id:t,type:n,children:i}=e,o=useUniqueId("recharts-".concat(n),t);return reactExports.createElement(GraphicalItemIdContext.Provider,{value:o},i(o))},initialState$5={cartesianItems:[],polarItems:[]},graphicalItemsSlice=createSlice({name:"graphicalItems",initialState:initialState$5,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:i}=t.payload,o=current(e).cartesianItems.indexOf(n);o>-1&&(e.cartesianItems[o]=i)},removeCartesianGraphicalItem(e,t){var n=current(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=current(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem,replaceCartesianGraphicalItem,removeCartesianGraphicalItem,addPolarGraphicalItem,removePolarGraphicalItem}=graphicalItemsSlice.actions,graphicalItemsReducer=graphicalItemsSlice.reducer;function SetCartesianGraphicalItem(e){var t=useAppDispatch(),n=reactExports.useRef(null);return reactExports.useEffect(()=>{n.current===null?t(addCartesianGraphicalItem(e)):n.current!==e&&t(replaceCartesianGraphicalItem({prev:n.current,next:e})),n.current=e},[t,e]),reactExports.useEffect(()=>()=>{n.current&&(t(removeCartesianGraphicalItem(n.current)),n.current=null)},[t]),null}function SetPolarGraphicalItem(e){var t=useAppDispatch();return reactExports.useEffect(()=>(t(addPolarGraphicalItem(e)),()=>{t(removePolarGraphicalItem(e))}),[t,e]),null}var _excluded$d=["onMouseEnter","onClick","onMouseLeave"],_excluded2$6=["id"],_excluded3$6=["id"];function _objectWithoutProperties$d(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$d(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$d(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function ownKeys$b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$b(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$b(Object(n),!0).forEach(function(i){_defineProperty$c(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$b(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$c(e,t,n){return(t=_toPropertyKey$c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$c(e){var t=_toPrimitive$c(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$c(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$b.apply(null,arguments)}function SetPiePayloadLegend(e){var t=reactExports.useMemo(()=>findAllByType(e.children,Cell),[e.children]),n=useAppSelector(i=>selectPieLegend(i,e.id,t));return n==null?null:reactExports.createElement(SetPolarLegendPayload,{legendPayload:n})}function getTooltipEntrySettings$2(e){var{dataKey:t,nameKey:n,sectors:i,stroke:o,strokeWidth:u,fill:h,name:m,hide:v,tooltipType:p}=e;return{dataDefinedOnItem:i.map(f=>f.tooltipPayload),positions:i.map(f=>f.tooltipPosition),settings:{stroke:o,strokeWidth:u,fill:h,dataKey:t,nameKey:n,name:getTooltipNameProp(m,t),hide:v,type:p,color:h,unit:""}}}var getTextAnchor=(e,t)=>e>t?"start":e<t?"end":"middle",getOuterRadius=(e,t,n)=>getPercentValue(typeof t=="function"?t(e):t,n,n*.8),parseCoordinateOfPie=(e,t,n)=>{var{top:i,left:o,width:u,height:h}=t,m=getMaxRadius(u,h),v=o+getPercentValue(e.cx,u,u/2),p=i+getPercentValue(e.cy,h,h/2),f=getPercentValue(e.innerRadius,m,0),b=getOuterRadius(n,e.outerRadius,m),w=e.maxRadius||Math.sqrt(u*u+h*h)/2;return{cx:v,cy:p,innerRadius:f,outerRadius:b,maxRadius:w}},parseDeltaAngle=(e,t)=>{var n=mathSign(t-e),i=Math.min(Math.abs(t-e),360);return n*i};function getClassNamePropertyIfExists(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var renderLabelLineItem=(e,t)=>{if(reactExports.isValidElement(e))return reactExports.cloneElement(e,t);if(typeof e=="function")return e(t);var n=clsx("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return reactExports.createElement(Curve,_extends$b({},t,{type:"linear",className:n}))},renderLabelItem=(e,t,n)=>{if(reactExports.isValidElement(e))return reactExports.cloneElement(e,t);var i=n;if(typeof e=="function"&&(i=e(t),reactExports.isValidElement(i)))return i;var o=clsx("recharts-pie-label-text",getClassNamePropertyIfExists(e));return reactExports.createElement(Text,_extends$b({},t,{alignmentBaseline:"middle",className:o}),i)};function PieLabels(e){var{sectors:t,props:n,showLabels:i}=e,{label:o,labelLine:u,dataKey:h}=n;if(!i||!o||!t)return null;var m=svgPropertiesNoEvents(n),v=filterProps(o,!1),p=filterProps(u,!1),f=typeof o=="object"&&"offsetRadius"in o&&typeof o.offsetRadius=="number"&&o.offsetRadius||20,b=t.map((w,S)=>{var j=(w.startAngle+w.endAngle)/2,A=polarToCartesian(w.cx,w.cy,w.outerRadius+f,j),T=_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({},m),w),{},{stroke:"none"},v),{},{index:S,textAnchor:getTextAnchor(A.x,w.cx)},A),C=_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({},m),w),{},{fill:"none",stroke:w.fill},p),{},{index:S,points:[polarToCartesian(w.cx,w.cy,w.outerRadius,j),A],key:"line"});return reactExports.createElement(Layer,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(S)},u&&renderLabelLineItem(u,C),renderLabelItem(o,T,getValueByDataKey(w,h)))});return reactExports.createElement(Layer,{className:"recharts-pie-labels"},b)}function PieLabelList(e){var{sectors:t,props:n,showLabels:i}=e,{label:o}=n;return typeof o=="object"&&o!=null&&"position"in o?reactExports.createElement(LabelListFromLabelProp,{label:o}):reactExports.createElement(PieLabels,{sectors:t,props:n,showLabels:i})}function PieSectors(e){var{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:o}=e,u=useAppSelector(selectActiveTooltipIndex),{onMouseEnter:h,onClick:m,onMouseLeave:v}=o,p=_objectWithoutProperties$d(o,_excluded$d),f=useMouseEnterItemDispatch(h,o.dataKey),b=useMouseLeaveItemDispatch(v),w=useMouseClickItemDispatch(m,o.dataKey);return t==null||t.length===0?null:reactExports.createElement(reactExports.Fragment,null,t.map((S,j)=>{if(S?.startAngle===0&&S?.endAngle===0&&t.length!==1)return null;var A=n&&String(j)===u,T=u?i:null,C=A?n:T,O=_objectSpread$b(_objectSpread$b({},S),{},{stroke:S.stroke,tabIndex:-1,[DATA_ITEM_INDEX_ATTRIBUTE_NAME]:j,[DATA_ITEM_DATAKEY_ATTRIBUTE_NAME]:o.dataKey});return reactExports.createElement(Layer,_extends$b({tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(p,S,j),{onMouseEnter:f(S,j),onMouseLeave:b(S,j),onClick:w(S,j),key:"sector-".concat(S?.startAngle,"-").concat(S?.endAngle,"-").concat(S.midAngle,"-").concat(j)}),reactExports.createElement(Shape,_extends$b({option:C,isActive:A,shapeType:"sector"},O)))}))}function computePieSectors(e){var t,{pieSettings:n,displayedData:i,cells:o,offset:u}=e,{cornerRadius:h,startAngle:m,endAngle:v,dataKey:p,nameKey:f,tooltipType:b}=n,w=Math.abs(n.minAngle),S=parseDeltaAngle(m,v),j=Math.abs(S),A=i.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,T=i.filter(q=>getValueByDataKey(q,p,0)!==0).length,C=(j>=360?T:T-1)*A,O=j-T*w-C,M=i.reduce((q,se)=>{var ee=getValueByDataKey(se,p,0);return q+(isNumber(ee)?ee:0)},0),R;if(M>0){var _;R=i.map((q,se)=>{var ee=getValueByDataKey(q,p,0),ae=getValueByDataKey(q,f,se),pe=parseCoordinateOfPie(n,u,q),fe=(isNumber(ee)?ee:0)/M,Ee,_e=_objectSpread$b(_objectSpread$b({},q),o&&o[se]&&o[se].props);se?Ee=_.endAngle+mathSign(S)*A*(ee!==0?1:0):Ee=m;var Re=Ee+mathSign(S)*((ee!==0?w:0)+fe*O),Pe=(Ee+Re)/2,je=(pe.innerRadius+pe.outerRadius)/2,ce=[{name:ae,value:ee,payload:_e,dataKey:p,type:b}],le=polarToCartesian(pe.cx,pe.cy,je,Pe);return _=_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({},n.presentationProps),{},{percent:fe,cornerRadius:h,name:ae,tooltipPayload:ce,midAngle:Pe,middleRadius:je,tooltipPosition:le},_e),pe),{},{value:ee,startAngle:Ee,endAngle:Re,payload:_e,paddingAngle:mathSign(S)*A}),_})}return R}function PieLabelListProvider(e){var{showLabels:t,sectors:n,children:i}=e,o=reactExports.useMemo(()=>!t||!n?[]:n.map(u=>({value:u.value,payload:u.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:u.cx,cy:u.cy,innerRadius:u.innerRadius,outerRadius:u.outerRadius,startAngle:u.startAngle,endAngle:u.endAngle,clockWise:!1},fill:u.fill})),[n,t]);return reactExports.createElement(PolarLabelListContextProvider,{value:t?o:void 0},i)}function SectorsWithAnimation(e){var{props:t,previousSectorsRef:n}=e,{sectors:i,isAnimationActive:o,animationBegin:u,animationDuration:h,animationEasing:m,activeShape:v,inactiveShape:p,onAnimationStart:f,onAnimationEnd:b}=t,w=useAnimationId(t,"recharts-pie-"),S=n.current,[j,A]=reactExports.useState(!1),T=reactExports.useCallback(()=>{typeof b=="function"&&b(),A(!1)},[b]),C=reactExports.useCallback(()=>{typeof f=="function"&&f(),A(!0)},[f]);return reactExports.createElement(PieLabelListProvider,{showLabels:!j,sectors:i},reactExports.createElement(JavascriptAnimate,{animationId:w,begin:u,duration:h,isActive:o,easing:m,onAnimationStart:C,onAnimationEnd:T,key:w},O=>{var M=[],R=i&&i[0],_=R?.startAngle;return i?.forEach((q,se)=>{var ee=S&&S[se],ae=se>0?get(q,"paddingAngle",0):0;if(ee){var pe=interpolate$1(ee.endAngle-ee.startAngle,q.endAngle-q.startAngle,O),fe=_objectSpread$b(_objectSpread$b({},q),{},{startAngle:_+ae,endAngle:_+pe+ae});M.push(fe),_=fe.endAngle}else{var{endAngle:Ee,startAngle:_e}=q,Re=interpolate$1(0,Ee-_e,O),Pe=_objectSpread$b(_objectSpread$b({},q),{},{startAngle:_+ae,endAngle:_+Re+ae});M.push(Pe),_=Pe.endAngle}}),n.current=M,reactExports.createElement(Layer,null,reactExports.createElement(PieSectors,{sectors:M,activeShape:v,inactiveShape:p,allOtherPieProps:t}))}),reactExports.createElement(PieLabelList,{showLabels:!j,sectors:i,props:t}),t.children)}var defaultPieProps={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Global.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function PieImpl(e){var{id:t}=e,n=_objectWithoutProperties$d(e,_excluded2$6),{hide:i,className:o,rootTabIndex:u}=e,h=reactExports.useMemo(()=>findAllByType(e.children,Cell),[e.children]),m=useAppSelector(f=>selectPieSectors(f,t,h)),v=reactExports.useRef(null),p=clsx("recharts-pie",o);return i||m==null?(v.current=null,reactExports.createElement(Layer,{tabIndex:u,className:p})):reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings$2,args:_objectSpread$b(_objectSpread$b({},e),{},{sectors:m})}),reactExports.createElement(Layer,{tabIndex:u,className:p},reactExports.createElement(SectorsWithAnimation,{props:_objectSpread$b(_objectSpread$b({},n),{},{sectors:m}),previousSectorsRef:v})))}function Pie(e){var t=resolveDefaultProps(e,defaultPieProps),{id:n}=t,i=_objectWithoutProperties$d(t,_excluded3$6),o=svgPropertiesNoEvents(i);return reactExports.createElement(RegisterGraphicalItemId,{id:n,type:"pie"},u=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetPolarGraphicalItem,{type:"pie",id:u,data:i.data,dataKey:i.dataKey,hide:i.hide,angleAxisId:0,radiusAxisId:0,name:i.name,nameKey:i.nameKey,tooltipType:i.tooltipType,legendType:i.legendType,fill:i.fill,cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,paddingAngle:i.paddingAngle,minAngle:i.minAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,cornerRadius:i.cornerRadius,presentationProps:o,maxRadius:t.maxRadius}),reactExports.createElement(SetPiePayloadLegend,_extends$b({},i,{id:u})),reactExports.createElement(PieImpl,_extends$b({},i,{id:u}))))}Pie.displayName="Pie";function ownKeys$a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$a(Object(n),!0).forEach(function(i){_defineProperty$b(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$a(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$b(e,t,n){return(t=_toPropertyKey$b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$b(e){var t=_toPrimitive$b(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$b(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var initialState$4={xAxis:{},yAxis:{},zAxis:{}},cartesianAxisSlice=createSlice({name:"cartesianAxis",initialState:initialState$4,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:i}=t.payload;e.yAxis[n]&&(e.yAxis[n]=_objectSpread$a(_objectSpread$a({},e.yAxis[n]),{},{width:i}))}}}),{addXAxis,removeXAxis,addYAxis,removeYAxis,addZAxis,removeZAxis,updateYAxisWidth}=cartesianAxisSlice.actions,cartesianAxisReducer=cartesianAxisSlice.reducer,selectChartOffset=createSelector([selectChartOffsetInternal],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),selectPlotArea=createSelector([selectChartOffset,selectChartWidth,selectChartHeight],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),usePlotArea=()=>useAppSelector(selectPlotArea),useActiveTooltipDataPoints=()=>useAppSelector(selectActiveTooltipDataPoints);function ownKeys$9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$9(Object(n),!0).forEach(function(i){_defineProperty$a(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$9(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$a(e,t,n){return(t=_toPropertyKey$a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$a(e){var t=_toPrimitive$a(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$a(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var renderActivePoint=e=>{var{point:t,childIndex:n,mainColor:i,activeDot:o,dataKey:u}=e;if(o===!1||t.x==null||t.y==null)return null;var h=_objectSpread$9(_objectSpread$9({index:n,dataKey:u,cx:t.x,cy:t.y,r:4,fill:i??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},filterProps(o,!1)),adaptEventHandlers(o)),m;return reactExports.isValidElement(o)?m=reactExports.cloneElement(o,h):typeof o=="function"?m=o(h):m=reactExports.createElement(Dot,h),reactExports.createElement(Layer,{className:"recharts-active-dot"},m)};function ActivePoints(e){var{points:t,mainColor:n,activeDot:i,itemDataKey:o}=e,u=useAppSelector(selectActiveTooltipIndex),h=useActiveTooltipDataPoints();if(t==null||h==null)return null;var m=t.find(v=>h.includes(v.payload));return isNullish(m)?null:renderActivePoint({point:m,childIndex:Number(u),mainColor:n,dataKey:o,activeDot:i})}var prefix="Invariant failed";function invariant(e,t){throw new Error(prefix)}var _excluded$c=["x","y"];function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$a.apply(null,arguments)}function ownKeys$8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$8(Object(n),!0).forEach(function(i){_defineProperty$9(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$8(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$9(e,t,n){return(t=_toPropertyKey$9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$9(e){var t=_toPrimitive$9(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _objectWithoutProperties$c(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$c(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$c(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function typeguardBarRectangleProps(e,t){var{x:n,y:i}=e,o=_objectWithoutProperties$c(e,_excluded$c),u="".concat(n),h=parseInt(u,10),m="".concat(i),v=parseInt(m,10),p="".concat(t.height||o.height),f=parseInt(p,10),b="".concat(t.width||o.width),w=parseInt(b,10);return _objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8({},t),o),h?{x:h}:{}),v?{y:v}:{}),{},{height:f,width:w,name:t.name,radius:t.radius})}function BarRectangle(e){return reactExports.createElement(Shape,_extends$a({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},e))}var minPointSizeCallback=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,o)=>{if(isNumber(t))return t;var u=isNumber(i)||isNullish(i);return u?t(i,o):(u||invariant(),n)}},initialState$3={},errorBarSlice=createSlice({name:"errorBars",initialState:initialState$3,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:i}=t.payload;e[n]||(e[n]=[]),e[n].push(i)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:i,next:o}=t.payload;e[n]&&(e[n]=e[n].map(u=>u.dataKey===i.dataKey&&u.direction===i.direction?o:u))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:i}=t.payload;e[n]&&(e[n]=e[n].filter(o=>o.dataKey!==i.dataKey||o.direction!==i.direction))}}}),{addErrorBar,replaceErrorBar,removeErrorBar}=errorBarSlice.actions,errorBarReducer=errorBarSlice.reducer,_excluded$b=["children"];function _objectWithoutProperties$b(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$b(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$b(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var initialContextState={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ErrorBarContext=reactExports.createContext(initialContextState);function SetErrorBarContext(e){var{children:t}=e,n=_objectWithoutProperties$b(e,_excluded$b);return reactExports.createElement(ErrorBarContext.Provider,{value:n},t)}function useNeedsClip(e,t){var n,i,o=useAppSelector(p=>selectXAxisSettings(p,e)),u=useAppSelector(p=>selectYAxisSettings(p,t)),h=(n=o?.allowDataOverflow)!==null&&n!==void 0?n:implicitXAxis.allowDataOverflow,m=(i=u?.allowDataOverflow)!==null&&i!==void 0?i:implicitYAxis.allowDataOverflow,v=h||m;return{needClip:v,needClipX:h,needClipY:m}}function GraphicalItemClipPath(e){var{xAxisId:t,yAxisId:n,clipPathId:i}=e,o=usePlotArea(),{needClipX:u,needClipY:h,needClip:m}=useNeedsClip(t,n);if(!m)return null;var{x:v,y:p,width:f,height:b}=o;return reactExports.createElement("clipPath",{id:"clipPath-".concat(i)},reactExports.createElement("rect",{x:u?v:v-f/2,y:h?p:p-b/2,width:u?f:f*2,height:h?b:b*2}))}var _excluded$a=["onMouseEnter","onMouseLeave","onClick"],_excluded2$5=["value","background","tooltipPosition"],_excluded3$5=["id"],_excluded4$3=["onMouseEnter","onClick","onMouseLeave"];function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$9.apply(null,arguments)}function ownKeys$7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$7(Object(n),!0).forEach(function(i){_defineProperty$8(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$7(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$8(e,t,n){return(t=_toPropertyKey$8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$8(e){var t=_toPrimitive$8(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _objectWithoutProperties$a(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$a(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$a(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var computeLegendPayloadFromBarData=e=>{var{dataKey:t,name:n,fill:i,legendType:o,hide:u}=e;return[{inactive:u,dataKey:t,type:o,color:i,value:getTooltipNameProp(n,t),payload:e}]};function getTooltipEntrySettings$1(e){var{dataKey:t,stroke:n,strokeWidth:i,fill:o,name:u,hide:h,unit:m}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:o,dataKey:t,nameKey:void 0,name:getTooltipNameProp(u,t),hide:h,type:e.tooltipType,color:e.fill,unit:m}}}function BarBackground(e){var t=useAppSelector(selectActiveTooltipIndex),{data:n,dataKey:i,background:o,allOtherBarProps:u}=e,{onMouseEnter:h,onMouseLeave:m,onClick:v}=u,p=_objectWithoutProperties$a(u,_excluded$a),f=useMouseEnterItemDispatch(h,i),b=useMouseLeaveItemDispatch(m),w=useMouseClickItemDispatch(v,i);if(!o||n==null)return null;var S=filterProps(o,!1);return reactExports.createElement(reactExports.Fragment,null,n.map((j,A)=>{var{value:T,background:C,tooltipPosition:O}=j,M=_objectWithoutProperties$a(j,_excluded2$5);if(!C)return null;var R=f(j,A),_=b(j,A),q=w(j,A),se=_objectSpread$7(_objectSpread$7(_objectSpread$7(_objectSpread$7(_objectSpread$7({option:o,isActive:String(A)===t},M),{},{fill:"#eee"},C),S),adaptEventsOfChild(p,j,A)),{},{onMouseEnter:R,onMouseLeave:_,onClick:q,dataKey:i,index:A,className:"recharts-bar-background-rectangle"});return reactExports.createElement(BarRectangle,_extends$9({key:"background-bar-".concat(se.index)},se))}))}function BarLabelListProvider(e){var{showLabels:t,children:n,rects:i}=e,o=i?.map(u=>{var h={x:u.x,y:u.y,width:u.width,height:u.height};return _objectSpread$7(_objectSpread$7({},h),{},{value:u.value,payload:u.payload,parentViewBox:u.parentViewBox,viewBox:h,fill:u.fill})});return reactExports.createElement(CartesianLabelListContextProvider,{value:t?o:void 0},n)}function BarRectangleWithActiveState(e){var{shape:t,activeBar:n,baseProps:i,entry:o,index:u,dataKey:h}=e,m=useAppSelector(selectActiveTooltipIndex),v=useAppSelector(selectActiveTooltipDataKey),p=n&&String(u)===m&&(v==null||h===v),f=p?n:t;return reactExports.createElement(BarRectangle,_extends$9({},i,o,{isActive:p,option:f,index:u,dataKey:h}))}function BarRectangleNeverActive(e){var{shape:t,baseProps:n,entry:i,index:o,dataKey:u}=e;return reactExports.createElement(BarRectangle,_extends$9({},n,i,{isActive:!1,option:t,index:o,dataKey:u}))}function BarRectangles(e){var{data:t,props:n}=e,i=svgPropertiesNoEvents(n),{id:o}=i,u=_objectWithoutProperties$a(i,_excluded3$5),{shape:h,dataKey:m,activeBar:v}=n,{onMouseEnter:p,onClick:f,onMouseLeave:b}=n,w=_objectWithoutProperties$a(n,_excluded4$3),S=useMouseEnterItemDispatch(p,m),j=useMouseLeaveItemDispatch(b),A=useMouseClickItemDispatch(f,m);return t?reactExports.createElement(reactExports.Fragment,null,t.map((T,C)=>reactExports.createElement(Layer,_extends$9({className:"recharts-bar-rectangle"},adaptEventsOfChild(w,T,C),{onMouseEnter:S(T,C),onMouseLeave:j(T,C),onClick:A(T,C),key:"rectangle-".concat(T?.x,"-").concat(T?.y,"-").concat(T?.value,"-").concat(C)}),v?reactExports.createElement(BarRectangleWithActiveState,{shape:h,activeBar:v,baseProps:u,entry:T,index:C,dataKey:m}):reactExports.createElement(BarRectangleNeverActive,{shape:h,baseProps:u,entry:T,index:C,dataKey:m})))):null}function RectanglesWithAnimation(e){var{props:t,previousRectanglesRef:n}=e,{data:i,layout:o,isAnimationActive:u,animationBegin:h,animationDuration:m,animationEasing:v,onAnimationEnd:p,onAnimationStart:f}=t,b=n.current,w=useAnimationId(t,"recharts-bar-"),[S,j]=reactExports.useState(!1),A=!S,T=reactExports.useCallback(()=>{typeof p=="function"&&p(),j(!1)},[p]),C=reactExports.useCallback(()=>{typeof f=="function"&&f(),j(!0)},[f]);return reactExports.createElement(BarLabelListProvider,{showLabels:A,rects:i},reactExports.createElement(JavascriptAnimate,{animationId:w,begin:h,duration:m,isActive:u,easing:v,onAnimationEnd:T,onAnimationStart:C,key:w},O=>{var M=O===1?i:i?.map((R,_)=>{var q=b&&b[_];if(q)return _objectSpread$7(_objectSpread$7({},R),{},{x:interpolate$1(q.x,R.x,O),y:interpolate$1(q.y,R.y,O),width:interpolate$1(q.width,R.width,O),height:interpolate$1(q.height,R.height,O)});if(o==="horizontal"){var se=interpolate$1(0,R.height,O);return _objectSpread$7(_objectSpread$7({},R),{},{y:R.y+R.height-se,height:se})}var ee=interpolate$1(0,R.width,O);return _objectSpread$7(_objectSpread$7({},R),{},{width:ee})});return O>0&&(n.current=M??null),M==null?null:reactExports.createElement(Layer,null,reactExports.createElement(BarRectangles,{props:t,data:M}))}),reactExports.createElement(LabelListFromLabelProp,{label:t.label}),t.children)}function RenderRectangles(e){var t=reactExports.useRef(null);return reactExports.createElement(RectanglesWithAnimation,{previousRectanglesRef:t,props:e})}var defaultMinPointSize=0,errorBarDataPointFormatter$1=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:getValueByDataKey(e,t)}};class BarWithState extends reactExports.PureComponent{render(){var{hide:t,data:n,dataKey:i,className:o,xAxisId:u,yAxisId:h,needClip:m,background:v,id:p}=this.props;if(t||n==null)return null;var f=clsx("recharts-bar",o),b=p;return reactExports.createElement(Layer,{className:f,id:p},m&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:b,xAxisId:u,yAxisId:h})),reactExports.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:m?"url(#clipPath-".concat(b,")"):void 0},reactExports.createElement(BarBackground,{data:n,dataKey:i,background:v,allOtherBarProps:this.props}),reactExports.createElement(RenderRectangles,this.props)))}}var defaultBarProps={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Global.isSsr,legendType:"rect",minPointSize:defaultMinPointSize,xAxisId:0,yAxisId:0};function BarImpl(e){var{xAxisId:t,yAxisId:n,hide:i,legendType:o,minPointSize:u,activeBar:h,animationBegin:m,animationDuration:v,animationEasing:p,isAnimationActive:f}=e,{needClip:b}=useNeedsClip(t,n),w=useChartLayout(),S=useIsPanorama(),j=findAllByType(e.children,Cell),A=useAppSelector(O=>selectBarRectangles(O,t,n,S,e.id,j));if(w!=="vertical"&&w!=="horizontal")return null;var T,C=A?.[0];return C==null||C.height==null||C.width==null?T=0:T=w==="vertical"?C.height/2:C.width/2,reactExports.createElement(SetErrorBarContext,{xAxisId:t,yAxisId:n,data:A,dataPointFormatter:errorBarDataPointFormatter$1,errorBarOffset:T},reactExports.createElement(BarWithState,_extends$9({},e,{layout:w,needClip:b,data:A,xAxisId:t,yAxisId:n,hide:i,legendType:o,minPointSize:u,activeBar:h,animationBegin:m,animationDuration:v,animationEasing:p,isAnimationActive:f})))}function computeBarRectangles(e){var{layout:t,barSettings:{dataKey:n,minPointSize:i},pos:o,bandSize:u,xAxis:h,yAxis:m,xAxisTicks:v,yAxisTicks:p,stackedData:f,displayedData:b,offset:w,cells:S,parentViewBox:j}=e,A=t==="horizontal"?m:h,T=f?A.scale.domain():null,C=getBaseValueOfBar({numericAxis:A});return b.map((O,M)=>{var R,_,q,se,ee,ae;f?R=truncateByDomain(f[M],T):(R=getValueByDataKey(O,n),Array.isArray(R)||(R=[C,R]));var pe=minPointSizeCallback(i,defaultMinPointSize)(R[1],M);if(t==="horizontal"){var fe,[Ee,_e]=[m.scale(R[0]),m.scale(R[1])];_=getCateCoordinateOfBar({axis:h,ticks:v,bandSize:u,offset:o.offset,entry:O,index:M}),q=(fe=_e??Ee)!==null&&fe!==void 0?fe:void 0,se=o.size;var Re=Ee-_e;if(ee=isNan(Re)?0:Re,ae={x:_,y:w.top,width:se,height:w.height},Math.abs(pe)>0&&Math.abs(ee)<Math.abs(pe)){var Pe=mathSign(ee||pe)*(Math.abs(pe)-Math.abs(ee));q-=Pe,ee+=Pe}}else{var[je,ce]=[h.scale(R[0]),h.scale(R[1])];if(_=je,q=getCateCoordinateOfBar({axis:m,ticks:p,bandSize:u,offset:o.offset,entry:O,index:M}),se=ce-je,ee=o.size,ae={x:w.left,y:q,width:w.width,height:ee},Math.abs(pe)>0&&Math.abs(se)<Math.abs(pe)){var le=mathSign(se||pe)*(Math.abs(pe)-Math.abs(se));se+=le}}if(_==null||q==null||se==null||ee==null)return null;var ie=_objectSpread$7(_objectSpread$7({},O),{},{x:_,y:q,width:se,height:ee,value:f?R:R[1],payload:O,background:ae,tooltipPosition:{x:_+se/2,y:q+ee/2},parentViewBox:j},S&&S[M]&&S[M].props);return ie}).filter(Boolean)}function BarFn(e){var t=resolveDefaultProps(e,defaultBarProps),n=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:t.id,type:"bar"},i=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromBarData(t)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings$1,args:t}),reactExports.createElement(SetCartesianGraphicalItem,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:getNormalizedStackId(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),reactExports.createElement(BarImpl,_extends$9({},t,{id:i}))))}var Bar=reactExports.memo(BarFn);Bar.displayName="Bar";function ownKeys$6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$6(Object(n),!0).forEach(function(i){_defineProperty$7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$6(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$7(e,t,n){return(t=_toPropertyKey$7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$7(e){var t=_toPrimitive$7(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pickXAxisId=(e,t)=>t,pickYAxisId=(e,t,n)=>n,pickIsPanorama=(e,t,n,i)=>i,pickBarId=(e,t,n,i,o)=>o,selectSynchronisedBarSettings=createSelector([selectUnfilteredCartesianItems,pickBarId],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),selectMaxBarSize=createSelector([selectSynchronisedBarSettings],e=>e?.maxBarSize),pickCells=(e,t,n,i,o,u)=>u,getBarSize=(e,t,n)=>{var i=n??e;if(!isNullish(i))return getPercentValue(i,t,0)},selectAllVisibleBars=createSelector([selectChartLayout,selectUnfilteredCartesianItems,pickXAxisId,pickYAxisId,pickIsPanorama],(e,t,n,i,o)=>t.filter(u=>e==="horizontal"?u.xAxisId===n:u.yAxisId===i).filter(u=>u.isPanorama===o).filter(u=>u.hide===!1).filter(u=>u.type==="bar")),selectBarStackGroups=(e,t,n,i)=>{var o=selectChartLayout(e);return o==="horizontal"?selectStackGroups(e,"yAxis",n,i):selectStackGroups(e,"xAxis",t,i)},selectBarCartesianAxisSize=(e,t,n)=>{var i=selectChartLayout(e);return i==="horizontal"?selectCartesianAxisSize(e,"xAxis",t):selectCartesianAxisSize(e,"yAxis",n)},combineBarSizeList=(e,t,n)=>{var i={},o=e.filter(isStacked),u=e.filter(p=>p.stackId==null),h=o.reduce((p,f)=>(p[f.stackId]||(p[f.stackId]=[]),p[f.stackId].push(f),p),i),m=Object.entries(h).map(p=>{var[f,b]=p,w=b.map(j=>j.dataKey),S=getBarSize(t,n,b[0].barSize);return{stackId:f,dataKeys:w,barSize:S}}),v=u.map(p=>{var f=[p.dataKey].filter(w=>w!=null),b=getBarSize(t,n,p.barSize);return{stackId:void 0,dataKeys:f,barSize:b}});return[...m,...v]},selectBarSizeList=createSelector([selectAllVisibleBars,selectRootBarSize,selectBarCartesianAxisSize],combineBarSizeList),selectBarBandSize=(e,t,n,i,o)=>{var u,h,m=selectSynchronisedBarSettings(e,t,n,i,o);if(m!=null){var v=selectChartLayout(e),p=selectRootMaxBarSize(e),{maxBarSize:f}=m,b=isNullish(f)?p:f,w,S;return v==="horizontal"?(w=selectAxisWithScale(e,"xAxis",t,i),S=selectTicksOfGraphicalItem(e,"xAxis",t,i)):(w=selectAxisWithScale(e,"yAxis",n,i),S=selectTicksOfGraphicalItem(e,"yAxis",n,i)),(u=(h=getBandSizeOfAxis(w,S,!0))!==null&&h!==void 0?h:b)!==null&&u!==void 0?u:0}},selectAxisBandSize=(e,t,n,i)=>{var o=selectChartLayout(e),u,h;return o==="horizontal"?(u=selectAxisWithScale(e,"xAxis",t,i),h=selectTicksOfGraphicalItem(e,"xAxis",t,i)):(u=selectAxisWithScale(e,"yAxis",n,i),h=selectTicksOfGraphicalItem(e,"yAxis",n,i)),getBandSizeOfAxis(u,h)};function getBarPositions(e,t,n,i,o){var u=i.length;if(!(u<1)){var h=getPercentValue(e,n,0,!0),m,v=[];if(isWellBehavedNumber(i[0].barSize)){var p=!1,f=n/u,b=i.reduce((C,O)=>C+(O.barSize||0),0);b+=(u-1)*h,b>=n&&(b-=(u-1)*h,h=0),b>=n&&f>0&&(p=!0,f*=.9,b=u*f);var w=(n-b)/2>>0,S={offset:w-h,size:0};m=i.reduce((C,O)=>{var M,R={stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:S.offset+S.size+h,size:p?f:(M=O.barSize)!==null&&M!==void 0?M:0}},_=[...C,R];return S=_[_.length-1].position,_},v)}else{var j=getPercentValue(t,n,0,!0);n-2*j-(u-1)*h<=0&&(h=0);var A=(n-2*j-(u-1)*h)/u;A>1&&(A>>=0);var T=isWellBehavedNumber(o)?Math.min(A,o):A;m=i.reduce((C,O,M)=>[...C,{stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:j+(A+h)*M+(A-T)/2,size:T}}],v)}return m}}var combineAllBarPositions=(e,t,n,i,o,u,h)=>{var m=isNullish(h)?t:h,v=getBarPositions(n,i,o!==u?o:u,e,m);return o!==u&&v!=null&&(v=v.map(p=>_objectSpread$6(_objectSpread$6({},p),{},{position:_objectSpread$6(_objectSpread$6({},p.position),{},{offset:p.position.offset-o/2})}))),v},selectAllBarPositions=createSelector([selectBarSizeList,selectRootMaxBarSize,selectBarGap,selectBarCategoryGap,selectBarBandSize,selectAxisBandSize,selectMaxBarSize],combineAllBarPositions),selectXAxisWithScale$1=(e,t,n,i)=>selectAxisWithScale(e,"xAxis",t,i),selectYAxisWithScale$1=(e,t,n,i)=>selectAxisWithScale(e,"yAxis",n,i),selectXAxisTicks$1=(e,t,n,i)=>selectTicksOfGraphicalItem(e,"xAxis",t,i),selectYAxisTicks$1=(e,t,n,i)=>selectTicksOfGraphicalItem(e,"yAxis",n,i),selectBarPosition=createSelector([selectAllBarPositions,selectSynchronisedBarSettings],(e,t)=>{if(!(e==null||t==null)){var n=e.find(i=>i.stackId===t.stackId&&t.dataKey!=null&&i.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),combineStackedData=(e,t)=>{var n=getStackSeriesIdentifier(t);if(!(!e||n==null||t==null)){var{stackId:i}=t;if(i!=null){var o=e[i];if(o){var{stackedData:u}=o;if(u)return u.find(h=>h.key===n)}}}},selectStackedDataOfItem=createSelector([selectBarStackGroups,selectSynchronisedBarSettings],combineStackedData),selectBarRectangles=createSelector([selectChartOffsetInternal,selectAxisViewBox,selectXAxisWithScale$1,selectYAxisWithScale$1,selectXAxisTicks$1,selectYAxisTicks$1,selectBarPosition,selectChartLayout,selectChartDataWithIndexesIfNotInPanorama,selectAxisBandSize,selectStackedDataOfItem,selectSynchronisedBarSettings,pickCells],(e,t,n,i,o,u,h,m,v,p,f,b,w)=>{var{chartData:S,dataStartIndex:j,dataEndIndex:A}=v;if(!(b==null||h==null||t==null||m!=="horizontal"&&m!=="vertical"||n==null||i==null||o==null||u==null||p==null)){var{data:T}=b,C;if(T!=null&&T.length>0?C=T:C=S?.slice(j,A+1),C!=null)return computeBarRectangles({layout:m,barSettings:b,pos:h,parentViewBox:t,bandSize:p,xAxis:n,yAxis:i,xAxisTicks:o,yAxisTicks:u,stackedData:f,displayedData:C,offset:e,cells:w})}}),ChartDataContextProvider=e=>{var{chartData:t}=e,n=useAppDispatch(),i=useIsPanorama();return reactExports.useEffect(()=>i?()=>{}:(n(setChartData(t)),()=>{n(setChartData(void 0))}),[t,n,i]),null},initialState$2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},brushSlice=createSlice({name:"brush",initialState:initialState$2,reducers:{setBrushSettings(e,t){return t.payload==null?initialState$2:t.payload}}}),{setBrushSettings}=brushSlice.actions,brushReducer=brushSlice.reducer;function _defineProperty$6(e,t,n){return(t=_toPropertyKey$6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$6(e){var t=_toPrimitive$6(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ScaleHelper{static create(t){return new ScaleHelper(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(i)switch(i){case"start":return this.scale(t);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(t)+u}default:return this.scale(t)}if(n){var h=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+h}return this.scale(t)}}isInRange(t){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?t>=i&&t<=o:t>=o&&t<=i}}_defineProperty$6(ScaleHelper,"EPS",1e-4);function normalizeAngle(e){return(e%180+180)%180}var getAngledRectangleWidth=function e(t){var{width:n,height:i}=t,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=normalizeAngle(o),h=u*Math.PI/180,m=Math.atan(i/n),v=h>m&&h<Math.PI-m?i/Math.sin(h):n/Math.cos(h);return Math.abs(v)},initialState$1={dots:[],areas:[],lines:[]},referenceElementsSlice=createSlice({name:"referenceElements",initialState:initialState$1,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=current(e).dots.findIndex(i=>i===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=current(e).areas.findIndex(i=>i===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=current(e).lines.findIndex(i=>i===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot,removeDot,addArea,removeArea,addLine,removeLine}=referenceElementsSlice.actions,referenceElementsReducer=referenceElementsSlice.reducer,ClipPathIdContext=reactExports.createContext(void 0),ClipPathProvider=e=>{var{children:t}=e,[n]=reactExports.useState("".concat(uniqueId("recharts"),"-clip")),i=usePlotArea();if(i==null)return null;var{x:o,y:u,width:h,height:m}=i;return reactExports.createElement(ClipPathIdContext.Provider,{value:n},reactExports.createElement("defs",null,reactExports.createElement("clipPath",{id:n},reactExports.createElement("rect",{x:o,y:u,height:m,width:h}))),t)};function shallowEqual(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var i in t)if({}.hasOwnProperty.call(t,i)&&!{}.hasOwnProperty.call(e,i))return!1;return!0}function getEveryNthWithCondition(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var i=[],o=0;o<e.length;o+=t)i.push(e[o]);return i}function getAngledTickWidth(e,t,n){var i={width:e.width+t.width,height:e.height+t.height};return getAngledRectangleWidth(i,n)}function getTickBoundaries(e,t,n){var i=n==="width",{x:o,y:u,width:h,height:m}=e;return t===1?{start:i?o:u,end:i?o+h:u+m}:{start:i?o+h:u+m,end:i?o:u}}function isVisible(e,t,n,i,o){if(e*t<e*i||e*t>e*o)return!1;var u=n();return e*(t-e*u/2-i)>=0&&e*(t+e*u/2-o)<=0}function getNumberIntervalTicks(e,t){return getEveryNthWithCondition(e,t+1)}function getEquidistantTicks(e,t,n,i,o){for(var u=(i||[]).slice(),{start:h,end:m}=t,v=0,p=1,f=h,b=function(){var j=i?.[v];if(j===void 0)return{v:getEveryNthWithCondition(i,p)};var A=v,T,C=()=>(T===void 0&&(T=n(j,A)),T),O=j.coordinate,M=v===0||isVisible(e,O,C,f,m);M||(v=0,f=h,p+=1),M&&(f=O+e*(C()/2+o),v+=p)},w;p<=u.length;)if(w=b(),w)return w.v;return[]}function ownKeys$5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$5(Object(n),!0).forEach(function(i){_defineProperty$5(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$5(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$5(e,t,n){return(t=_toPropertyKey$5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$5(e){var t=_toPrimitive$5(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function getTicksEnd(e,t,n,i,o){for(var u=(i||[]).slice(),h=u.length,{start:m}=t,{end:v}=t,p=function(w){var S=u[w],j,A=()=>(j===void 0&&(j=n(S,w)),j);if(w===h-1){var T=e*(S.coordinate+e*A()/2-v);u[w]=S=_objectSpread$5(_objectSpread$5({},S),{},{tickCoord:T>0?S.coordinate-T*e:S.coordinate})}else u[w]=S=_objectSpread$5(_objectSpread$5({},S),{},{tickCoord:S.coordinate});var C=isVisible(e,S.tickCoord,A,m,v);C&&(v=S.tickCoord-e*(A()/2+o),u[w]=_objectSpread$5(_objectSpread$5({},S),{},{isShow:!0}))},f=h-1;f>=0;f--)p(f);return u}function getTicksStart(e,t,n,i,o,u){var h=(i||[]).slice(),m=h.length,{start:v,end:p}=t;if(u){var f=i[m-1],b=n(f,m-1),w=e*(f.coordinate+e*b/2-p);h[m-1]=f=_objectSpread$5(_objectSpread$5({},f),{},{tickCoord:w>0?f.coordinate-w*e:f.coordinate});var S=isVisible(e,f.tickCoord,()=>b,v,p);S&&(p=f.tickCoord-e*(b/2+o),h[m-1]=_objectSpread$5(_objectSpread$5({},f),{},{isShow:!0}))}for(var j=u?m-1:m,A=function(O){var M=h[O],R,_=()=>(R===void 0&&(R=n(M,O)),R);if(O===0){var q=e*(M.coordinate-e*_()/2-v);h[O]=M=_objectSpread$5(_objectSpread$5({},M),{},{tickCoord:q<0?M.coordinate-q*e:M.coordinate})}else h[O]=M=_objectSpread$5(_objectSpread$5({},M),{},{tickCoord:M.coordinate});var se=isVisible(e,M.tickCoord,_,v,p);se&&(v=M.tickCoord+e*(_()/2+o),h[O]=_objectSpread$5(_objectSpread$5({},M),{},{isShow:!0}))},T=0;T<j;T++)A(T);return h}function getTicks(e,t,n){var{tick:i,ticks:o,viewBox:u,minTickGap:h,orientation:m,interval:v,tickFormatter:p,unit:f,angle:b}=e;if(!o||!o.length||!i)return[];if(isNumber(v)||Global.isSsr){var w;return(w=getNumberIntervalTicks(o,isNumber(v)?v:0))!==null&&w!==void 0?w:[]}var S=[],j=m==="top"||m==="bottom"?"width":"height",A=f&&j==="width"?getStringSize(f,{fontSize:t,letterSpacing:n}):{width:0,height:0},T=(M,R)=>{var _=typeof p=="function"?p(M.value,R):M.value;return j==="width"?getAngledTickWidth(getStringSize(_,{fontSize:t,letterSpacing:n}),A,b):getStringSize(_,{fontSize:t,letterSpacing:n})[j]},C=o.length>=2?mathSign(o[1].coordinate-o[0].coordinate):1,O=getTickBoundaries(u,C,j);return v==="equidistantPreserveStart"?getEquidistantTicks(C,O,T,o,h):(v==="preserveStart"||v==="preserveStartEnd"?S=getTicksStart(C,O,T,o,h,v==="preserveStartEnd"):S=getTicksEnd(C,O,T,o,h),S.filter(M=>M.isShow))}var getCalculatedYAxisWidth=e=>{var{ticks:t,label:n,labelGapWithTick:i=5,tickSize:o=0,tickMargin:u=0}=e,h=0;if(t){t.forEach(f=>{if(f){var b=f.getBoundingClientRect();b.width>h&&(h=b.width)}});var m=n?n.getBoundingClientRect().width:0,v=o+u,p=h+v+m+(n?i:0);return Math.round(p)}return 0},_excluded$9=["axisLine","width","height","className","hide","ticks"],_excluded2$4=["viewBox"],_excluded3$4=["viewBox"];function _objectWithoutProperties$9(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$9(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$9(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$8.apply(null,arguments)}function ownKeys$4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$4(Object(n),!0).forEach(function(i){_defineProperty$4(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$4(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$4(e,t,n){return(t=_toPropertyKey$4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$4(e){var t=_toPrimitive$4(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var defaultCartesianAxisProps={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function AxisLine(e){var{x:t,y:n,width:i,height:o,orientation:u,mirror:h,axisLine:m,otherSvgProps:v}=e;if(!m)return null;var p=_objectSpread$4(_objectSpread$4(_objectSpread$4({},v),filterProps(m,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var f=+(u==="top"&&!h||u==="bottom"&&h);p=_objectSpread$4(_objectSpread$4({},p),{},{x1:t,y1:n+f*o,x2:t+i,y2:n+f*o})}else{var b=+(u==="left"&&!h||u==="right"&&h);p=_objectSpread$4(_objectSpread$4({},p),{},{x1:t+b*i,y1:n,x2:t+b*i,y2:n+o})}return reactExports.createElement("line",_extends$8({},p,{className:clsx("recharts-cartesian-axis-line",get(m,"className"))}))}function getTickLineCoord(e,t,n,i,o,u,h,m,v){var p,f,b,w,S,j,A=m?-1:1,T=e.tickSize||h,C=isNumber(e.tickCoord)?e.tickCoord:e.coordinate;switch(u){case"top":p=f=e.coordinate,w=n+ +!m*o,b=w-A*T,j=b-A*v,S=C;break;case"left":b=w=e.coordinate,f=t+ +!m*i,p=f-A*T,S=p-A*v,j=C;break;case"right":b=w=e.coordinate,f=t+ +m*i,p=f+A*T,S=p+A*v,j=C;break;default:p=f=e.coordinate,w=n+ +m*o,b=w+A*T,j=b+A*v,S=C;break}return{line:{x1:p,y1:b,x2:f,y2:w},tick:{x:S,y:j}}}function getTickTextAnchor(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function getTickVerticalAnchor(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function TickItem(e){var{option:t,tickProps:n,value:i}=e,o,u=clsx(n.className,"recharts-cartesian-axis-tick-value");if(reactExports.isValidElement(t))o=reactExports.cloneElement(t,_objectSpread$4(_objectSpread$4({},n),{},{className:u}));else if(typeof t=="function")o=t(_objectSpread$4(_objectSpread$4({},n),{},{className:u}));else{var h="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(h=clsx(h,t?.className)),o=reactExports.createElement(Text,_extends$8({},n,{className:h}),i)}return o}function Ticks(e){var{ticks:t=[],tick:n,tickLine:i,stroke:o,tickFormatter:u,unit:h,padding:m,tickTextProps:v,orientation:p,mirror:f,x:b,y:w,width:S,height:j,tickSize:A,tickMargin:T,fontSize:C,letterSpacing:O,getTicksConfig:M,events:R}=e,_=getTicks(_objectSpread$4(_objectSpread$4({},M),{},{ticks:t}),C,O),q=getTickTextAnchor(p,f),se=getTickVerticalAnchor(p,f),ee=svgPropertiesNoEvents(M),ae=filterProps(n,!1),pe=_objectSpread$4(_objectSpread$4({},ee),{},{fill:"none"},filterProps(i,!1)),fe=_.map((Ee,_e)=>{var{line:Re,tick:Pe}=getTickLineCoord(Ee,b,w,S,j,p,A,f,T),je=_objectSpread$4(_objectSpread$4(_objectSpread$4(_objectSpread$4({textAnchor:q,verticalAnchor:se},ee),{},{stroke:"none",fill:o},ae),Pe),{},{index:_e,payload:Ee,visibleTicksCount:_.length,tickFormatter:u,padding:m},v);return reactExports.createElement(Layer,_extends$8({className:"recharts-cartesian-axis-tick",key:"tick-".concat(Ee.value,"-").concat(Ee.coordinate,"-").concat(Ee.tickCoord)},adaptEventsOfChild(R,Ee,_e)),i&&reactExports.createElement("line",_extends$8({},pe,Re,{className:clsx("recharts-cartesian-axis-tick-line",get(i,"className"))})),n&&reactExports.createElement(TickItem,{option:n,tickProps:je,value:"".concat(typeof u=="function"?u(Ee.value,_e):Ee.value).concat(h||"")}))});return fe.length>0?reactExports.createElement("g",{className:"recharts-cartesian-axis-ticks"},fe):null}var CartesianAxisComponent=reactExports.forwardRef((e,t)=>{var{axisLine:n,width:i,height:o,className:u,hide:h,ticks:m}=e,v=_objectWithoutProperties$9(e,_excluded$9),[p,f]=reactExports.useState(""),[b,w]=reactExports.useState(""),S=reactExports.useRef([]);reactExports.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var A;return getCalculatedYAxisWidth({ticks:S.current,label:(A=e.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var j=reactExports.useCallback(A=>{if(A){var T=A.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=Array.from(T);var C=T[0];if(C){var O=window.getComputedStyle(C),M=O.fontSize,R=O.letterSpacing;(M!==p||R!==b)&&(f(M),w(R))}}},[p,b]);return h||i!=null&&i<=0||o!=null&&o<=0?null:reactExports.createElement(Layer,{className:clsx("recharts-cartesian-axis",u),ref:j},reactExports.createElement(AxisLine,{x:e.x,y:e.y,width:i,height:o,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:svgPropertiesNoEvents(e)}),reactExports.createElement(Ticks,{ticks:m,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:p,letterSpacing:b,getTicksConfig:e,events:v}),reactExports.createElement(CartesianLabelContextProvider,{x:e.x,y:e.y,width:e.width,height:e.height},reactExports.createElement(CartesianLabelFromLabelProp,{label:e.label}),e.children))}),MemoCartesianAxis=reactExports.memo(CartesianAxisComponent,(e,t)=>{var{viewBox:n}=e,i=_objectWithoutProperties$9(e,_excluded2$4),{viewBox:o}=t,u=_objectWithoutProperties$9(t,_excluded3$4);return shallowEqual(n,o)&&shallowEqual(i,u)}),CartesianAxis=reactExports.forwardRef((e,t)=>{var n=resolveDefaultProps(e,defaultCartesianAxisProps);return reactExports.createElement(MemoCartesianAxis,_extends$8({},n,{ref:t}))});CartesianAxis.displayName="CartesianAxis";var _excluded$8=["x1","y1","x2","y2","key"],_excluded2$3=["offset"],_excluded3$3=["xAxisId","yAxisId"],_excluded4$2=["xAxisId","yAxisId"];function ownKeys$3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$3(Object(n),!0).forEach(function(i){_defineProperty$3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$3(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$3(e,t,n){return(t=_toPropertyKey$3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$3(e){var t=_toPrimitive$3(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$7.apply(null,arguments)}function _objectWithoutProperties$8(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$8(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$8(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Background=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:i,y:o,width:u,height:h,ry:m}=e;return reactExports.createElement("rect",{x:i,y:o,ry:m,width:u,height:h,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function renderLineItem(e,t){var n;if(reactExports.isValidElement(e))n=reactExports.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:i,y1:o,x2:u,y2:h,key:m}=t,v=_objectWithoutProperties$8(t,_excluded$8),p=svgPropertiesNoEvents(v),{offset:f}=p,b=_objectWithoutProperties$8(p,_excluded2$3);n=reactExports.createElement("line",_extends$7({},b,{x1:i,y1:o,x2:u,y2:h,fill:"none",key:m}))}return n}function HorizontalGridLines(e){var{x:t,width:n,horizontal:i=!0,horizontalPoints:o}=e;if(!i||!o||!o.length)return null;var{xAxisId:u,yAxisId:h}=e,m=_objectWithoutProperties$8(e,_excluded3$3),v=o.map((p,f)=>{var b=_objectSpread$3(_objectSpread$3({},m),{},{x1:t,y1:p,x2:t+n,y2:p,key:"line-".concat(f),index:f});return renderLineItem(i,b)});return reactExports.createElement("g",{className:"recharts-cartesian-grid-horizontal"},v)}function VerticalGridLines(e){var{y:t,height:n,vertical:i=!0,verticalPoints:o}=e;if(!i||!o||!o.length)return null;var{xAxisId:u,yAxisId:h}=e,m=_objectWithoutProperties$8(e,_excluded4$2),v=o.map((p,f)=>{var b=_objectSpread$3(_objectSpread$3({},m),{},{x1:p,y1:t,x2:p,y2:t+n,key:"line-".concat(f),index:f});return renderLineItem(i,b)});return reactExports.createElement("g",{className:"recharts-cartesian-grid-vertical"},v)}function HorizontalStripes(e){var{horizontalFill:t,fillOpacity:n,x:i,y:o,width:u,height:h,horizontalPoints:m,horizontal:v=!0}=e;if(!v||!t||!t.length)return null;var p=m.map(b=>Math.round(b+o-o)).sort((b,w)=>b-w);o!==p[0]&&p.unshift(0);var f=p.map((b,w)=>{var S=!p[w+1],j=S?o+h-b:p[w+1]-b;if(j<=0)return null;var A=w%t.length;return reactExports.createElement("rect",{key:"react-".concat(w),y:b,x:i,height:j,width:u,stroke:"none",fill:t[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function VerticalStripes(e){var{vertical:t=!0,verticalFill:n,fillOpacity:i,x:o,y:u,width:h,height:m,verticalPoints:v}=e;if(!t||!n||!n.length)return null;var p=v.map(b=>Math.round(b+o-o)).sort((b,w)=>b-w);o!==p[0]&&p.unshift(0);var f=p.map((b,w)=>{var S=!p[w+1],j=S?o+h-b:p[w+1]-b;if(j<=0)return null;var A=w%n.length;return reactExports.createElement("rect",{key:"react-".concat(w),x:b,y:u,width:j,height:m,stroke:"none",fill:n[A],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var defaultVerticalCoordinatesGenerator=(e,t)=>{var{xAxis:n,width:i,height:o,offset:u}=e;return getCoordinatesOfGrid(getTicks(_objectSpread$3(_objectSpread$3(_objectSpread$3({},defaultCartesianAxisProps),n),{},{ticks:getTicksOfAxis(n),viewBox:{x:0,y:0,width:i,height:o}})),u.left,u.left+u.width,t)},defaultHorizontalCoordinatesGenerator=(e,t)=>{var{yAxis:n,width:i,height:o,offset:u}=e;return getCoordinatesOfGrid(getTicks(_objectSpread$3(_objectSpread$3(_objectSpread$3({},defaultCartesianAxisProps),n),{},{ticks:getTicksOfAxis(n),viewBox:{x:0,y:0,width:i,height:o}})),u.top,u.top+u.height,t)},defaultProps$3={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function CartesianGrid(e){var t=useChartWidth(),n=useChartHeight(),i=useOffsetInternal(),o=_objectSpread$3(_objectSpread$3({},resolveDefaultProps(e,defaultProps$3)),{},{x:isNumber(e.x)?e.x:i.left,y:isNumber(e.y)?e.y:i.top,width:isNumber(e.width)?e.width:i.width,height:isNumber(e.height)?e.height:i.height}),{xAxisId:u,yAxisId:h,x:m,y:v,width:p,height:f,syncWithTicks:b,horizontalValues:w,verticalValues:S}=o,j=useIsPanorama(),A=useAppSelector(ae=>selectAxisPropsNeededForCartesianGridTicksGenerator(ae,"xAxis",u,j)),T=useAppSelector(ae=>selectAxisPropsNeededForCartesianGridTicksGenerator(ae,"yAxis",h,j));if(!isNumber(p)||p<=0||!isNumber(f)||f<=0||!isNumber(m)||m!==+m||!isNumber(v)||v!==+v)return null;var C=o.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,O=o.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,{horizontalPoints:M,verticalPoints:R}=o;if((!M||!M.length)&&typeof O=="function"){var _=w&&w.length,q=O({yAxis:T?_objectSpread$3(_objectSpread$3({},T),{},{ticks:_?w:T.ticks}):void 0,width:t,height:n,offset:i},_?!0:b);warn(Array.isArray(q),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof q,"]")),Array.isArray(q)&&(M=q)}if((!R||!R.length)&&typeof C=="function"){var se=S&&S.length,ee=C({xAxis:A?_objectSpread$3(_objectSpread$3({},A),{},{ticks:se?S:A.ticks}):void 0,width:t,height:n,offset:i},se?!0:b);warn(Array.isArray(ee),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof ee,"]")),Array.isArray(ee)&&(R=ee)}return reactExports.createElement("g",{className:"recharts-cartesian-grid"},reactExports.createElement(Background,{fill:o.fill,fillOpacity:o.fillOpacity,x:o.x,y:o.y,width:o.width,height:o.height,ry:o.ry}),reactExports.createElement(HorizontalStripes,_extends$7({},o,{horizontalPoints:M})),reactExports.createElement(VerticalStripes,_extends$7({},o,{verticalPoints:R})),reactExports.createElement(HorizontalGridLines,_extends$7({},o,{offset:i,horizontalPoints:M,xAxis:A,yAxis:T})),reactExports.createElement(VerticalGridLines,_extends$7({},o,{offset:i,verticalPoints:R,xAxis:A,yAxis:T})))}CartesianGrid.displayName="CartesianGrid";var selectXAxisWithScale=(e,t,n,i)=>selectAxisWithScale(e,"xAxis",t,i),selectXAxisTicks=(e,t,n,i)=>selectTicksOfGraphicalItem(e,"xAxis",t,i),selectYAxisWithScale=(e,t,n,i)=>selectAxisWithScale(e,"yAxis",n,i),selectYAxisTicks=(e,t,n,i)=>selectTicksOfGraphicalItem(e,"yAxis",n,i),selectBandSize=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks],(e,t,n,i,o)=>isCategoricalAxis(e,"xAxis")?getBandSizeOfAxis(t,i,!1):getBandSizeOfAxis(n,o,!1)),pickLineId=(e,t,n,i,o)=>o;function isLineSettings(e){return e.type==="line"}var selectSynchronisedLineSettings=createSelector([selectUnfilteredCartesianItems,pickLineId],(e,t)=>e.filter(isLineSettings).find(n=>n.id===t)),selectLinePoints=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks,selectSynchronisedLineSettings,selectBandSize,selectChartDataWithIndexesIfNotInPanorama],(e,t,n,i,o,u,h,m)=>{var{chartData:v,dataStartIndex:p,dataEndIndex:f}=m;if(!(u==null||t==null||n==null||i==null||o==null||i.length===0||o.length===0||h==null)){var{dataKey:b,data:w}=u,S;if(w!=null&&w.length>0?S=w:S=v?.slice(p,f+1),S!=null)return computeLinePoints({layout:e,xAxis:t,yAxis:n,xAxisTicks:i,yAxisTicks:o,dataKey:b,bandSize:h,displayedData:S})}}),_excluded$7=["id"],_excluded2$2=["type","layout","connectNulls","needClip"],_excluded3$2=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ownKeys$2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$2(Object(n),!0).forEach(function(i){_defineProperty$2(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$2(e,t,n){return(t=_toPropertyKey$2(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$2(e){var t=_toPrimitive$2(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$2(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _objectWithoutProperties$7(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$7(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$7(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$6.apply(null,arguments)}var computeLegendPayloadFromAreaData=e=>{var{dataKey:t,name:n,stroke:i,legendType:o,hide:u}=e;return[{inactive:u,dataKey:t,type:o,color:i,value:getTooltipNameProp(n,t),payload:e}]};function getTooltipEntrySettings(e){var{dataKey:t,data:n,stroke:i,strokeWidth:o,fill:u,name:h,hide:m,unit:v}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:i,strokeWidth:o,fill:u,dataKey:t,nameKey:void 0,name:getTooltipNameProp(h,t),hide:m,type:e.tooltipType,color:e.stroke,unit:v}}}var generateSimpleStrokeDasharray=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function repeat(e,t){for(var n=e.length%2!==0?[...e,0]:e,i=[],o=0;o<t;++o)i=[...i,...n];return i}var getStrokeDasharray=(e,t,n)=>{var i=n.reduce((b,w)=>b+w);if(!i)return generateSimpleStrokeDasharray(t,e);for(var o=Math.floor(e/i),u=e%i,h=t-e,m=[],v=0,p=0;v<n.length;p+=n[v],++v)if(p+n[v]>u){m=[...n.slice(0,v),u-p];break}var f=m.length%2===0?[0,h]:[h];return[...repeat(n,o),...m,...f].map(b=>"".concat(b,"px")).join(", ")};function renderDotItem(e,t){var n;if(reactExports.isValidElement(e))n=reactExports.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var i=clsx("recharts-line-dot",typeof e!="boolean"?e.className:"");n=reactExports.createElement(Dot,_extends$6({},t,{className:i}))}return n}function shouldRenderDots(e,t){return e==null?!1:t?!0:e.length===1}function Dots(e){var{clipPathId:t,points:n,props:i}=e,{dot:o,dataKey:u,needClip:h}=i;if(!shouldRenderDots(n,o))return null;var{id:m}=i,v=_objectWithoutProperties$7(i,_excluded$7),p=isClipDot(o),f=svgPropertiesNoEvents(v),b=filterProps(o,!0),w=n.map((j,A)=>{var T=_objectSpread$2(_objectSpread$2(_objectSpread$2({key:"dot-".concat(A),r:3},f),b),{},{index:A,cx:j.x,cy:j.y,dataKey:u,value:j.value,payload:j.payload,points:n});return renderDotItem(o,T)}),S={clipPath:h?"url(#clipPath-".concat(p?"":"dots-").concat(t,")"):void 0};return reactExports.createElement(Layer,_extends$6({className:"recharts-line-dots",key:"dots"},S),w)}function LineLabelListProvider(e){var{showLabels:t,children:n,points:i}=e,o=reactExports.useMemo(()=>i?.map(u=>{var h={x:u.x,y:u.y,width:0,height:0};return _objectSpread$2(_objectSpread$2({},h),{},{value:u.value,payload:u.payload,viewBox:h,parentViewBox:void 0,fill:void 0})}),[i]);return reactExports.createElement(CartesianLabelListContextProvider,{value:t?o:null},n)}function StaticCurve(e){var{clipPathId:t,pathRef:n,points:i,strokeDasharray:o,props:u}=e,{type:h,layout:m,connectNulls:v,needClip:p}=u,f=_objectWithoutProperties$7(u,_excluded2$2),b=_objectSpread$2(_objectSpread$2({},filterProps(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:p?"url(#clipPath-".concat(t,")"):void 0,points:i,type:h,layout:m,connectNulls:v,strokeDasharray:o??u.strokeDasharray});return reactExports.createElement(reactExports.Fragment,null,i?.length>1&&reactExports.createElement(Curve,_extends$6({},b,{pathRef:n})),reactExports.createElement(Dots,{points:i,clipPathId:t,props:u}))}function getTotalLength(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function CurveWithAnimation(e){var{clipPathId:t,props:n,pathRef:i,previousPointsRef:o,longestAnimatedLengthRef:u}=e,{points:h,strokeDasharray:m,isAnimationActive:v,animationBegin:p,animationDuration:f,animationEasing:b,animateNewValues:w,width:S,height:j,onAnimationEnd:A,onAnimationStart:T}=n,C=o.current,O=useAnimationId(n,"recharts-line-"),[M,R]=reactExports.useState(!1),_=!M,q=reactExports.useCallback(()=>{typeof A=="function"&&A(),R(!1)},[A]),se=reactExports.useCallback(()=>{typeof T=="function"&&T(),R(!0)},[T]),ee=getTotalLength(i.current),ae=u.current;return reactExports.createElement(LineLabelListProvider,{points:h,showLabels:_},n.children,reactExports.createElement(JavascriptAnimate,{animationId:O,begin:p,duration:f,isActive:v,easing:b,onAnimationEnd:q,onAnimationStart:se,key:O},pe=>{var fe=interpolate$1(ae,ee+ae,pe),Ee=Math.min(fe,ee),_e;if(v)if(m){var Re="".concat(m).split(/[,\s]+/gim).map(ce=>parseFloat(ce));_e=getStrokeDasharray(Ee,ee,Re)}else _e=generateSimpleStrokeDasharray(ee,Ee);else _e=m==null?void 0:String(m);if(C){var Pe=C.length/h.length,je=pe===1?h:h.map((ce,le)=>{var ie=Math.floor(le*Pe);if(C[ie]){var Y=C[ie];return _objectSpread$2(_objectSpread$2({},ce),{},{x:interpolate$1(Y.x,ce.x,pe),y:interpolate$1(Y.y,ce.y,pe)})}return w?_objectSpread$2(_objectSpread$2({},ce),{},{x:interpolate$1(S*2,ce.x,pe),y:interpolate$1(j/2,ce.y,pe)}):_objectSpread$2(_objectSpread$2({},ce),{},{x:ce.x,y:ce.y})});return o.current=je,reactExports.createElement(StaticCurve,{props:n,points:je,clipPathId:t,pathRef:i,strokeDasharray:_e})}return pe>0&&ee>0&&(o.current=h,u.current=Ee),reactExports.createElement(StaticCurve,{props:n,points:h,clipPathId:t,pathRef:i,strokeDasharray:_e})}),reactExports.createElement(LabelListFromLabelProp,{label:n.label}))}function RenderCurve(e){var{clipPathId:t,props:n}=e,i=reactExports.useRef(null),o=reactExports.useRef(0),u=reactExports.useRef(null);return reactExports.createElement(CurveWithAnimation,{props:n,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:o,pathRef:u})}var errorBarDataPointFormatter=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:getValueByDataKey(e.payload,t)});class LineWithState extends reactExports.Component{render(){var t,{hide:n,dot:i,points:o,className:u,xAxisId:h,yAxisId:m,top:v,left:p,width:f,height:b,id:w,needClip:S}=this.props;if(n)return null;var j=clsx("recharts-line",u),A=w,{r:T=3,strokeWidth:C=2}=(t=filterProps(i,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},O=isClipDot(i),M=T*2+C;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Layer,{className:j},S&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:A,xAxisId:h,yAxisId:m}),!O&&reactExports.createElement("clipPath",{id:"clipPath-dots-".concat(A)},reactExports.createElement("rect",{x:p-M/2,y:v-M/2,width:f+M,height:b+M}))),reactExports.createElement(SetErrorBarContext,{xAxisId:h,yAxisId:m,data:o,dataPointFormatter:errorBarDataPointFormatter,errorBarOffset:0},reactExports.createElement(RenderCurve,{props:this.props,clipPathId:A}))),reactExports.createElement(ActivePoints,{activeDot:this.props.activeDot,points:o,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var defaultLineProps={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Global.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function LineImpl(e){var t=resolveDefaultProps(e,defaultLineProps),{activeDot:n,animateNewValues:i,animationBegin:o,animationDuration:u,animationEasing:h,connectNulls:m,dot:v,hide:p,isAnimationActive:f,label:b,legendType:w,xAxisId:S,yAxisId:j,id:A}=t,T=_objectWithoutProperties$7(t,_excluded3$2),{needClip:C}=useNeedsClip(S,j),O=usePlotArea(),M=useChartLayout(),R=useIsPanorama(),_=useAppSelector(pe=>selectLinePoints(pe,S,j,R,A));if(M!=="horizontal"&&M!=="vertical"||_==null||O==null)return null;var{height:q,width:se,x:ee,y:ae}=O;return reactExports.createElement(LineWithState,_extends$6({},T,{id:A,connectNulls:m,dot:v,activeDot:n,animateNewValues:i,animationBegin:o,animationDuration:u,animationEasing:h,isAnimationActive:f,hide:p,label:b,legendType:w,xAxisId:S,yAxisId:j,points:_,layout:M,height:q,width:se,left:ee,top:ae,needClip:C}))}function computeLinePoints(e){var{layout:t,xAxis:n,yAxis:i,xAxisTicks:o,yAxisTicks:u,dataKey:h,bandSize:m,displayedData:v}=e;return v.map((p,f)=>{var b=getValueByDataKey(p,h);if(t==="horizontal"){var w=getCateCoordinateOfLine({axis:n,ticks:o,bandSize:m,entry:p,index:f}),S=isNullish(b)?null:i.scale(b);return{x:w,y:S,value:b,payload:p}}var j=isNullish(b)?null:n.scale(b),A=getCateCoordinateOfLine({axis:i,ticks:u,bandSize:m,entry:p,index:f});return j==null||A==null?null:{x:j,y:A,value:b,payload:p}}).filter(Boolean)}function LineFn(e){var t=resolveDefaultProps(e,defaultLineProps),n=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:t.id,type:"line"},i=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromAreaData(t)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings,args:t}),reactExports.createElement(SetCartesianGraphicalItem,{type:"line",id:i,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),reactExports.createElement(LineImpl,_extends$6({},t,{id:i}))))}var Line=reactExports.memo(LineFn);Line.displayName="Line";var _excluded$6=["dangerouslySetInnerHTML","ticks"],_excluded2$1=["id"],_excluded3$1=["domain"],_excluded4$1=["domain"];function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$5.apply(null,arguments)}function _objectWithoutProperties$6(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$6(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$6(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function SetXAxisSettings(e){var t=useAppDispatch();return reactExports.useEffect(()=>(t(addXAxis(e)),()=>{t(removeXAxis(e))}),[e,t]),null}var XAxisImpl=e=>{var{xAxisId:t,className:n}=e,i=useAppSelector(selectAxisViewBox),o=useIsPanorama(),u="xAxis",h=useAppSelector(T=>selectAxisScale(T,u,t,o)),m=useAppSelector(T=>selectTicksOfAxis(T,u,t,o)),v=useAppSelector(T=>selectXAxisSize(T,t)),p=useAppSelector(T=>selectXAxisPosition(T,t)),f=useAppSelector(T=>selectXAxisSettingsNoDefaults(T,t));if(v==null||p==null||f==null)return null;var{dangerouslySetInnerHTML:b,ticks:w}=e,S=_objectWithoutProperties$6(e,_excluded$6),{id:j}=f,A=_objectWithoutProperties$6(f,_excluded2$1);return reactExports.createElement(CartesianAxis,_extends$5({},S,A,{scale:h,x:p.x,y:p.y,width:v.width,height:v.height,className:clsx("recharts-".concat(u," ").concat(u),n),viewBox:i,ticks:m}))},xAxisDefaultProps={allowDataOverflow:implicitXAxis.allowDataOverflow,allowDecimals:implicitXAxis.allowDecimals,allowDuplicatedCategory:implicitXAxis.allowDuplicatedCategory,height:implicitXAxis.height,hide:!1,mirror:implicitXAxis.mirror,orientation:implicitXAxis.orientation,padding:implicitXAxis.padding,reversed:implicitXAxis.reversed,scale:implicitXAxis.scale,tickCount:implicitXAxis.tickCount,type:implicitXAxis.type,xAxisId:0},XAxisSettingsDispatcher=e=>{var t,n,i,o,u,h=resolveDefaultProps(e,xAxisDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetXAxisSettings,{interval:(t=h.interval)!==null&&t!==void 0?t:"preserveEnd",id:h.xAxisId,scale:h.scale,type:h.type,padding:h.padding,allowDataOverflow:h.allowDataOverflow,domain:h.domain,dataKey:h.dataKey,allowDuplicatedCategory:h.allowDuplicatedCategory,allowDecimals:h.allowDecimals,tickCount:h.tickCount,includeHidden:(n=h.includeHidden)!==null&&n!==void 0?n:!1,reversed:h.reversed,ticks:h.ticks,height:h.height,orientation:h.orientation,mirror:h.mirror,hide:h.hide,unit:h.unit,name:h.name,angle:(i=h.angle)!==null&&i!==void 0?i:0,minTickGap:(o=h.minTickGap)!==null&&o!==void 0?o:5,tick:(u=h.tick)!==null&&u!==void 0?u:!0,tickFormatter:h.tickFormatter}),reactExports.createElement(XAxisImpl,h))},XAxisMemoComparator=(e,t)=>{var{domain:n}=e,i=_objectWithoutProperties$6(e,_excluded3$1),{domain:o}=t,u=_objectWithoutProperties$6(t,_excluded4$1);return shallowEqual(i,u)?Array.isArray(n)&&n.length===2&&Array.isArray(o)&&o.length===2?n[0]===o[0]&&n[1]===o[1]:shallowEqual({domain:n},{domain:o}):!1},XAxis=reactExports.memo(XAxisSettingsDispatcher,XAxisMemoComparator);XAxis.displayName="XAxis";var _excluded$5=["dangerouslySetInnerHTML","ticks"],_excluded2=["id"],_excluded3=["domain"],_excluded4=["domain"];function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$4.apply(null,arguments)}function _objectWithoutProperties$5(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$5(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$5(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function SetYAxisSettings(e){var t=useAppDispatch();return reactExports.useEffect(()=>(t(addYAxis(e)),()=>{t(removeYAxis(e))}),[e,t]),null}var YAxisImpl=e=>{var{yAxisId:t,className:n,width:i,label:o}=e,u=reactExports.useRef(null),h=reactExports.useRef(null),m=useAppSelector(selectAxisViewBox),v=useIsPanorama(),p=useAppDispatch(),f="yAxis",b=useAppSelector(_=>selectAxisScale(_,f,t,v)),w=useAppSelector(_=>selectYAxisSize(_,t)),S=useAppSelector(_=>selectYAxisPosition(_,t)),j=useAppSelector(_=>selectTicksOfAxis(_,f,t,v)),A=useAppSelector(_=>selectYAxisSettingsNoDefaults(_,t));if(reactExports.useLayoutEffect(()=>{if(!(i!=="auto"||!w||isLabelContentAFunction(o)||reactExports.isValidElement(o)||A==null)){var _=u.current;if(_){var q=_.getCalculatedWidth();Math.round(w.width)!==Math.round(q)&&p(updateYAxisWidth({id:t,width:q}))}}},[j,w,p,o,t,i,A]),w==null||S==null||A==null)return null;var{dangerouslySetInnerHTML:T,ticks:C}=e,O=_objectWithoutProperties$5(e,_excluded$5),{id:M}=A,R=_objectWithoutProperties$5(A,_excluded2);return reactExports.createElement(CartesianAxis,_extends$4({},O,R,{ref:u,labelRef:h,scale:b,x:S.x,y:S.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:w.width,height:w.height,className:clsx("recharts-".concat(f," ").concat(f),n),viewBox:m,ticks:j}))},yAxisDefaultProps={allowDataOverflow:implicitYAxis.allowDataOverflow,allowDecimals:implicitYAxis.allowDecimals,allowDuplicatedCategory:implicitYAxis.allowDuplicatedCategory,hide:!1,mirror:implicitYAxis.mirror,orientation:implicitYAxis.orientation,padding:implicitYAxis.padding,reversed:implicitYAxis.reversed,scale:implicitYAxis.scale,tickCount:implicitYAxis.tickCount,type:implicitYAxis.type,width:implicitYAxis.width,yAxisId:0},YAxisSettingsDispatcher=e=>{var t,n,i,o,u,h=resolveDefaultProps(e,yAxisDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetYAxisSettings,{interval:(t=h.interval)!==null&&t!==void 0?t:"preserveEnd",id:h.yAxisId,scale:h.scale,type:h.type,domain:h.domain,allowDataOverflow:h.allowDataOverflow,dataKey:h.dataKey,allowDuplicatedCategory:h.allowDuplicatedCategory,allowDecimals:h.allowDecimals,tickCount:h.tickCount,padding:h.padding,includeHidden:(n=h.includeHidden)!==null&&n!==void 0?n:!1,reversed:h.reversed,ticks:h.ticks,width:h.width,orientation:h.orientation,mirror:h.mirror,hide:h.hide,unit:h.unit,name:h.name,angle:(i=h.angle)!==null&&i!==void 0?i:0,minTickGap:(o=h.minTickGap)!==null&&o!==void 0?o:5,tick:(u=h.tick)!==null&&u!==void 0?u:!0,tickFormatter:h.tickFormatter}),reactExports.createElement(YAxisImpl,h))},YAxisMemoComparator=(e,t)=>{var{domain:n}=e,i=_objectWithoutProperties$5(e,_excluded3),{domain:o}=t,u=_objectWithoutProperties$5(t,_excluded4);return shallowEqual(i,u)?Array.isArray(n)&&n.length===2&&Array.isArray(o)&&o.length===2?n[0]===o[0]&&n[1]===o[1]:shallowEqual({domain:n},{domain:o}):!1},YAxis=reactExports.memo(YAxisSettingsDispatcher,YAxisMemoComparator);YAxis.displayName="YAxis";var withSelector={exports:{}},useSyncExternalStoreWithSelector_production={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreWithSelector_production;function requireUseSyncExternalStoreWithSelector_production(){if(hasRequiredUseSyncExternalStoreWithSelector_production)return useSyncExternalStoreWithSelector_production;hasRequiredUseSyncExternalStoreWithSelector_production=1;var e=requireReact();function t(v,p){return v===p&&(v!==0||1/v===1/p)||v!==v&&p!==p}var n=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,o=e.useRef,u=e.useEffect,h=e.useMemo,m=e.useDebugValue;return useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(v,p,f,b,w){var S=o(null);if(S.current===null){var j={hasValue:!1,value:null};S.current=j}else j=S.current;S=h(function(){function T(_){if(!C){if(C=!0,O=_,_=b(_),w!==void 0&&j.hasValue){var q=j.value;if(w(q,_))return M=q}return M=_}if(q=M,n(O,_))return q;var se=b(_);return w!==void 0&&w(q,se)?(O=_,q):(O=_,M=se)}var C=!1,O,M,R=f===void 0?null:f;return[function(){return T(p())},R===null?void 0:function(){return T(R())}]},[p,f,b,w]);var A=i(v,S[0],S[1]);return u(function(){j.hasValue=!0,j.value=A},[A]),m(A),A},useSyncExternalStoreWithSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireUseSyncExternalStoreWithSelector_production()),withSelector.exports}requireWithSelector();function defaultNoopBatch(e){e()}function createListenerCollection(){let e=null,t=null;return{clear(){e=null,t=null},notify(){defaultNoopBatch(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!i||e===null||(i=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(e,t){let n,i=nullListeners,o=0,u=!1;function h(A){f();const T=i.subscribe(A);let C=!1;return()=>{C||(C=!0,T(),b())}}function m(){i.notify()}function v(){j.onStateChange&&j.onStateChange()}function p(){return u}function f(){o++,n||(n=e.subscribe(v),i=createListenerCollection())}function b(){o--,n&&o===0&&(n(),n=void 0,i.clear(),i=nullListeners)}function w(){u||(u=!0,f())}function S(){u&&(u=!1,b())}const j={addNestedSub:h,notifyNestedSubs:m,handleChangeWrapper:v,isSubscribed:p,trySubscribe:w,tryUnsubscribe:S,getListeners:()=>i};return j}var canUseDOM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM=canUseDOM(),isRunningInReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative=isRunningInReactNative(),getUseIsomorphicLayoutEffect=()=>isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect=getUseIsomorphicLayoutEffect(),ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!reactExports.createContext)return{};const e=gT[ContextKey]??=new Map;let t=e.get(reactExports.createContext);return t||(t=reactExports.createContext(null),e.set(reactExports.createContext,t)),t}var ReactReduxContext=getContext();function Provider(e){const{children:t,context:n,serverState:i,store:o}=e,u=reactExports.useMemo(()=>{const v=createSubscription(o);return{store:o,subscription:v,getServerState:i?()=>i:void 0}},[o,i]),h=reactExports.useMemo(()=>o.getState(),[o]);useIsomorphicLayoutEffect(()=>{const{subscription:v}=u;return v.onStateChange=v.notifyNestedSubs,v.trySubscribe(),h!==o.getState()&&v.notifyNestedSubs(),()=>{v.tryUnsubscribe(),v.onStateChange=void 0}},[u,h]);const m=n||ReactReduxContext;return reactExports.createElement(m.Provider,{value:u},t)}var Provider_default=Provider,pickChartPointer=(e,t)=>t,selectActivePropsFromChartPointer=createSelector([pickChartPointer,selectChartLayout,selectPolarViewBox,selectTooltipAxisType,selectTooltipAxisRangeWithReverse,selectTooltipAxisTicks,selectOrderedTooltipTicks,selectChartOffsetInternal],combineActiveProps),getChartPointer=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,i=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/i)}},mouseClickAction=createAction("mouseClick"),mouseClickMiddleware=createListenerMiddleware();mouseClickMiddleware.startListening({actionCreator:mouseClickAction,effect:(e,t)=>{var n=e.payload,i=selectActivePropsFromChartPointer(t.getState(),getChartPointer(n));i?.activeIndex!=null&&t.dispatch(setMouseClickAxisIndex({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var mouseMoveAction=createAction("mouseMove"),mouseMoveMiddleware=createListenerMiddleware();mouseMoveMiddleware.startListening({actionCreator:mouseMoveAction,effect:(e,t)=>{var n=e.payload,i=t.getState(),o=selectTooltipEventType$1(i,i.tooltip.settings.shared),u=selectActivePropsFromChartPointer(i,getChartPointer(n));o==="axis"&&(u?.activeIndex!=null?t.dispatch(setMouseOverAxisIndex({activeIndex:u.activeIndex,activeDataKey:void 0,activeCoordinate:u.activeCoordinate})):t.dispatch(mouseLeaveChart()))}});var initialState={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},rootPropsSlice=createSlice({name:"rootProps",initialState,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:initialState.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),rootPropsReducer=rootPropsSlice.reducer,{updateOptions}=rootPropsSlice.actions,polarOptionsSlice=createSlice({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions}=polarOptionsSlice.actions,polarOptionsReducer=polarOptionsSlice.reducer,keyDownAction=createAction("keyDown"),focusAction=createAction("focus"),keyboardEventsMiddleware=createListenerMiddleware();keyboardEventsMiddleware.startListening({actionCreator:keyDownAction,effect:(e,t)=>{var n=t.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:o}=n.tooltip,u=e.payload;if(!(u!=="ArrowRight"&&u!=="ArrowLeft"&&u!=="Enter")){var h=Number(combineActiveTooltipIndex(o,selectTooltipDisplayedData(n))),m=selectTooltipAxisTicks(n);if(u==="Enter"){var v=selectCoordinateForDefaultIndex(n,"axis","hover",String(o.index));t.dispatch(setKeyboardInteraction({active:!o.active,activeIndex:o.index,activeDataKey:o.dataKey,activeCoordinate:v}));return}var p=selectChartDirection(n),f=p==="left-to-right"?1:-1,b=u==="ArrowRight"?1:-1,w=h+b*f;if(!(m==null||w>=m.length||w<0)){var S=selectCoordinateForDefaultIndex(n,"axis","hover",String(w));t.dispatch(setKeyboardInteraction({active:!0,activeIndex:w.toString(),activeDataKey:void 0,activeCoordinate:S}))}}}}});keyboardEventsMiddleware.startListening({actionCreator:focusAction,effect:(e,t)=>{var n=t.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:o}=n.tooltip;if(!o.active&&o.index==null){var u="0",h=selectCoordinateForDefaultIndex(n,"axis","hover",String(u));t.dispatch(setKeyboardInteraction({activeDataKey:void 0,active:!0,activeIndex:u,activeCoordinate:h}))}}}});var externalEventAction=createAction("externalEvent"),externalEventsMiddleware=createListenerMiddleware();externalEventsMiddleware.startListening({actionCreator:externalEventAction,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),i={activeCoordinate:selectActiveTooltipCoordinate(n),activeDataKey:selectActiveTooltipDataKey(n),activeIndex:selectActiveTooltipIndex(n),activeLabel:selectActiveLabel$1(n),activeTooltipIndex:selectActiveTooltipIndex(n),isTooltipActive:selectIsTooltipActive$1(n)};e.payload.handler(i,e.payload.reactEvent)}}});var selectAllTooltipPayloadConfiguration=createSelector([selectTooltipState],e=>e.tooltipItemPayloads),selectTooltipCoordinate=createSelector([selectAllTooltipPayloadConfiguration,selectTooltipPayloadSearcher,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,i)=>{var o=e.find(m=>m.settings.dataKey===i);if(o!=null){var{positions:u}=o;if(u!=null){var h=t(u,n);return h}}}),touchEventAction=createAction("touchMove"),touchEventMiddleware=createListenerMiddleware();touchEventMiddleware.startListening({actionCreator:touchEventAction,effect:(e,t)=>{var n=e.payload,i=t.getState(),o=selectTooltipEventType$1(i,i.tooltip.settings.shared);if(o==="axis"){var u=selectActivePropsFromChartPointer(i,getChartPointer({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));u?.activeIndex!=null&&t.dispatch(setMouseOverAxisIndex({activeIndex:u.activeIndex,activeDataKey:void 0,activeCoordinate:u.activeCoordinate}))}else if(o==="item"){var h,m=n.touches[0],v=document.elementFromPoint(m.clientX,m.clientY);if(!v||!v.getAttribute)return;var p=v.getAttribute(DATA_ITEM_INDEX_ATTRIBUTE_NAME),f=(h=v.getAttribute(DATA_ITEM_DATAKEY_ATTRIBUTE_NAME))!==null&&h!==void 0?h:void 0,b=selectTooltipCoordinate(t.getState(),p,f);t.dispatch(setActiveMouseOverItemIndex({activeDataKey:f,activeIndex:p,activeCoordinate:b}))}}});var rootReducer=combineReducers({brush:brushReducer,cartesianAxis:cartesianAxisReducer,chartData:chartDataReducer,errorBars:errorBarReducer,graphicalItems:graphicalItemsReducer,layout:chartLayoutReducer,legend:legendReducer,options:optionsReducer,polarAxis:polarAxisReducer,polarOptions:polarOptionsReducer,referenceElements:referenceElementsReducer,rootProps:rootPropsReducer,tooltip:tooltipReducer}),createRechartsStore=function e(t){return configureStore({reducer:rootReducer,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([mouseClickMiddleware.middleware,mouseMoveMiddleware.middleware,keyboardEventsMiddleware.middleware,externalEventsMiddleware.middleware,touchEventMiddleware.middleware]),devTools:Global.devToolsEnabled})};function RechartsStoreProvider(e){var{preloadedState:t,children:n,reduxStoreName:i}=e,o=useIsPanorama(),u=reactExports.useRef(null);if(o)return n;u.current==null&&(u.current=createRechartsStore(t));var h=RechartsReduxContext;return reactExports.createElement(Provider_default,{context:h,store:u.current},n)}function ReportMainChartProps(e){var{layout:t,width:n,height:i,margin:o}=e,u=useAppDispatch(),h=useIsPanorama();return reactExports.useEffect(()=>{h||(u(setLayout(t)),u(setChartSize({width:n,height:i})),u(setMargin(o)))},[u,h,t,n,i,o]),null}function ReportChartProps(e){var t=useAppDispatch();return reactExports.useEffect(()=>{t(updateOptions(e))},[t,e]),null}var _excluded$4=["children"];function _objectWithoutProperties$4(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$4(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$4(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$3.apply(null,arguments)}var FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},MainChartSurface=reactExports.forwardRef((e,t)=>{var n=useChartWidth(),i=useChartHeight(),o=useAccessibilityLayer();if(!isPositiveNumber(n)||!isPositiveNumber(i))return null;var{children:u,otherAttributes:h,title:m,desc:v}=e,p,f;return typeof h.tabIndex=="number"?p=h.tabIndex:p=o?0:void 0,typeof h.role=="string"?f=h.role:f=o?"application":void 0,reactExports.createElement(Surface,_extends$3({},h,{title:m,desc:v,role:f,tabIndex:p,width:n,height:i,style:FULL_WIDTH_AND_HEIGHT,ref:t}),u)}),BrushPanoramaSurface=e=>{var{children:t}=e,n=useAppSelector(selectBrushDimensions);if(!n)return null;var{width:i,height:o,y:u,x:h}=n;return reactExports.createElement(Surface,{width:i,height:o,x:h,y:u},t)},RootSurface=reactExports.forwardRef((e,t)=>{var{children:n}=e,i=_objectWithoutProperties$4(e,_excluded$4),o=useIsPanorama();return o?reactExports.createElement(BrushPanoramaSurface,null,n):reactExports.createElement(MainChartSurface,_extends$3({ref:t},i),n)});function useReportScale(){var e=useAppDispatch(),[t,n]=reactExports.useState(null),i=useAppSelector(selectContainerScale);return reactExports.useEffect(()=>{if(t!=null){var o=t.getBoundingClientRect(),u=o.width/t.offsetWidth;isWellBehavedNumber(u)&&u!==i&&e(setScale(u))}},[t,e,i]),n}function ownKeys$1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$1(Object(n),!0).forEach(function(i){_defineProperty$1(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$1(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$1(e,t,n){return(t=_toPropertyKey$1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$1(e){var t=_toPrimitive$1(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$1(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RechartsWrapper=reactExports.forwardRef((e,t)=>{var{children:n,className:i,height:o,onClick:u,onContextMenu:h,onDoubleClick:m,onMouseDown:v,onMouseEnter:p,onMouseLeave:f,onMouseMove:b,onMouseUp:w,onTouchEnd:S,onTouchMove:j,onTouchStart:A,style:T,width:C}=e,O=useAppDispatch(),[M,R]=reactExports.useState(null),[_,q]=reactExports.useState(null);useSynchronisedEventsFromOtherCharts();var se=useReportScale(),ee=reactExports.useCallback(oe=>{se(oe),typeof t=="function"&&t(oe),R(oe),q(oe)},[se,t,R,q]),ae=reactExports.useCallback(oe=>{O(mouseClickAction(oe)),O(externalEventAction({handler:u,reactEvent:oe}))},[O,u]),pe=reactExports.useCallback(oe=>{O(mouseMoveAction(oe)),O(externalEventAction({handler:p,reactEvent:oe}))},[O,p]),fe=reactExports.useCallback(oe=>{O(mouseLeaveChart()),O(externalEventAction({handler:f,reactEvent:oe}))},[O,f]),Ee=reactExports.useCallback(oe=>{O(mouseMoveAction(oe)),O(externalEventAction({handler:b,reactEvent:oe}))},[O,b]),_e=reactExports.useCallback(()=>{O(focusAction())},[O]),Re=reactExports.useCallback(oe=>{O(keyDownAction(oe.key))},[O]),Pe=reactExports.useCallback(oe=>{O(externalEventAction({handler:h,reactEvent:oe}))},[O,h]),je=reactExports.useCallback(oe=>{O(externalEventAction({handler:m,reactEvent:oe}))},[O,m]),ce=reactExports.useCallback(oe=>{O(externalEventAction({handler:v,reactEvent:oe}))},[O,v]),le=reactExports.useCallback(oe=>{O(externalEventAction({handler:w,reactEvent:oe}))},[O,w]),ie=reactExports.useCallback(oe=>{O(externalEventAction({handler:A,reactEvent:oe}))},[O,A]),Y=reactExports.useCallback(oe=>{O(touchEventAction(oe)),O(externalEventAction({handler:j,reactEvent:oe}))},[O,j]),ne=reactExports.useCallback(oe=>{O(externalEventAction({handler:S,reactEvent:oe}))},[O,S]);return reactExports.createElement(TooltipPortalContext.Provider,{value:M},reactExports.createElement(LegendPortalContext.Provider,{value:_},reactExports.createElement("div",{className:clsx("recharts-wrapper",i),style:_objectSpread$1({position:"relative",cursor:"default",width:C,height:o},T),onClick:ae,onContextMenu:Pe,onDoubleClick:je,onFocus:_e,onKeyDown:Re,onMouseDown:ce,onMouseEnter:pe,onMouseLeave:fe,onMouseMove:Ee,onMouseUp:le,onTouchEnd:ne,onTouchMove:Y,onTouchStart:ie,ref:ee},n)))}),_excluded$3=["children","className","width","height","style","compact","title","desc"];function _objectWithoutProperties$3(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$3(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$3(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var CategoricalChart=reactExports.forwardRef((e,t)=>{var{children:n,className:i,width:o,height:u,style:h,compact:m,title:v,desc:p}=e,f=_objectWithoutProperties$3(e,_excluded$3),b=svgPropertiesNoEvents(f);return m?reactExports.createElement(RootSurface,{otherAttributes:b,title:v,desc:p},n):reactExports.createElement(RechartsWrapper,{className:i,style:h,width:o,height:u,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},reactExports.createElement(RootSurface,{otherAttributes:b,title:v,desc:p,ref:t},reactExports.createElement(ClipPathProvider,null,n)))}),_excluded$2=["width","height"];function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$2.apply(null,arguments)}function _objectWithoutProperties$2(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$2(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$2(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var defaultMargin$1={top:5,right:5,bottom:5,left:5},defaultProps$2={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:defaultMargin$1,reverseStackOrder:!1,syncMethod:"index"},CartesianChart=reactExports.forwardRef(function e(t,n){var i,o=resolveDefaultProps(t.categoricalChartProps,defaultProps$2),{width:u,height:h}=o,m=_objectWithoutProperties$2(o,_excluded$2);if(!isPositiveNumber(u)||!isPositiveNumber(h))return null;var{chartName:v,defaultTooltipEventType:p,validateTooltipEventTypes:f,tooltipPayloadSearcher:b,categoricalChartProps:w}=t,S={chartName:v,defaultTooltipEventType:p,validateTooltipEventTypes:f,tooltipPayloadSearcher:b,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:S},reduxStoreName:(i=w.id)!==null&&i!==void 0?i:v},reactExports.createElement(ChartDataContextProvider,{chartData:w.data}),reactExports.createElement(ReportMainChartProps,{width:u,height:h,layout:o.layout,margin:o.margin}),reactExports.createElement(ReportChartProps,{accessibilityLayer:o.accessibilityLayer,barCategoryGap:o.barCategoryGap,maxBarSize:o.maxBarSize,stackOffset:o.stackOffset,barGap:o.barGap,barSize:o.barSize,syncId:o.syncId,syncMethod:o.syncMethod,className:o.className}),reactExports.createElement(CategoricalChart,_extends$2({},m,{width:u,height:h,ref:n})))}),allowedTooltipTypes$2=["axis"],LineChart=reactExports.forwardRef((e,t)=>reactExports.createElement(CartesianChart,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes$2,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:e,ref:t})),allowedTooltipTypes$1=["axis","item"],BarChart=reactExports.forwardRef((e,t)=>reactExports.createElement(CartesianChart,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes$1,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:e,ref:t}));function ReportPolarOptions(e){var t=useAppDispatch();return reactExports.useEffect(()=>{t(updatePolarOptions(e))},[t,e]),null}var _excluded$1=["width","height","layout"];function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$1.apply(null,arguments)}function _objectWithoutProperties$1(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$1(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(i=0;i<u.length;i++)n=u[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$1(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var defaultMargin={top:5,right:5,bottom:5,left:5},defaultProps$1={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:defaultMargin,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},PolarChart=reactExports.forwardRef(function e(t,n){var i,o=resolveDefaultProps(t.categoricalChartProps,defaultProps$1),{width:u,height:h,layout:m}=o,v=_objectWithoutProperties$1(o,_excluded$1);if(!isPositiveNumber(u)||!isPositiveNumber(h))return null;var{chartName:p,defaultTooltipEventType:f,validateTooltipEventTypes:b,tooltipPayloadSearcher:w}=t,S={chartName:p,defaultTooltipEventType:f,validateTooltipEventTypes:b,tooltipPayloadSearcher:w,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:S},reduxStoreName:(i=o.id)!==null&&i!==void 0?i:p},reactExports.createElement(ChartDataContextProvider,{chartData:o.data}),reactExports.createElement(ReportMainChartProps,{width:u,height:h,layout:m,margin:o.margin}),reactExports.createElement(ReportChartProps,{accessibilityLayer:o.accessibilityLayer,barCategoryGap:o.barCategoryGap,maxBarSize:o.maxBarSize,stackOffset:o.stackOffset,barGap:o.barGap,barSize:o.barSize,syncId:o.syncId,syncMethod:o.syncMethod,className:o.className}),reactExports.createElement(ReportPolarOptions,{cx:o.cx,cy:o.cy,startAngle:o.startAngle,endAngle:o.endAngle,innerRadius:o.innerRadius,outerRadius:o.outerRadius}),reactExports.createElement(CategoricalChart,_extends$1({width:u,height:h},v,{ref:n})))}),allowedTooltipTypes=["item"],defaultProps={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},PieChart=reactExports.forwardRef((e,t)=>{var n=resolveDefaultProps(e,defaultProps);return reactExports.createElement(PolarChart,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:allowedTooltipTypes,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:n,ref:t})});const AnalyticsTab=({magazines:e,submissions:t})=>{const[n,i]=reactExports.useState({totalViews:0,totalLikes:0,totalComments:0,totalSaves:0,magazineStats:[],timelineData:[],engagementData:[],loading:!0}),[o,u]=reactExports.useState("7d");reactExports.useEffect(()=>{h()},[o,e]);const h=async()=>{try{const m=new Date,v=o==="7d"?7:o==="30d"?30:90,p=new Date(m.getTime()-v*24*60*60*1e3),{data:f,error:b}=await supabase.from("magazine_analytics").select("*").gte("created_at",p.toISOString());if(b)throw b;const w=f.reduce((T,C)=>(T[C.event_type]=(T[C.event_type]||0)+1,T),{}),S=e.map(T=>{const O=f.filter(R=>R.magazine_id===T.id).reduce((R,_)=>(R[_.event_type]=(R[_.event_type]||0)+1,R),{}),M=(O.visit||0)+(O.like||0)+(O.comment||0)+(O.save||0);return{id:T.id,title:T.title.length>20?T.title.substring(0,20)+"...":T.title,fullTitle:T.title,visits:O.visit||0,likes:O.like||0,comments:O.comment||0,saves:O.save||0,totalEngagement:M}}).sort((T,C)=>C.totalEngagement-T.totalEngagement),j=[];for(let T=v-1;T>=0;T--){const C=new Date(m.getTime()-T*24*60*60*1e3),O=C.toISOString().split("T")[0],R=f.filter(_=>_.created_at&&_.created_at.split("T")[0]===O).reduce((_,q)=>(_[q.event_type]=(_[q.event_type]||0)+1,_),{});j.push({date:O,day:C.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),visits:R.visit||0,likes:R.like||0,comments:R.comment||0,saves:R.save||0,total:(R.visit||0)+(R.like||0)+(R.comment||0)+(R.save||0)})}const A=[{name:"Views",value:w.visit||0,color:"#8884d8"},{name:"Likes",value:w.like||0,color:"#82ca9d"},{name:"Comments",value:w.comment||0,color:"#ffc658"},{name:"Saves",value:w.save||0,color:"#ff7300"}].filter(T=>T.value>0);i({totalViews:w.visit||0,totalLikes:w.like||0,totalComments:w.comment||0,totalSaves:w.save||0,magazineStats:S,timelineData:j,engagementData:A,loading:!1})}catch(m){console.error("Error fetching analytics:",m),i(v=>({...v,loading:!1}))}};return n.loading?jsxRuntimeExports.jsxs("div",{className:"text-white text-center py-8",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-4",children:"Loading analytics..."})]}):jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Analytics Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Comprehensive insights and performance metrics for your magazine platform"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-white",children:"Performance Overview"}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:["7d","30d","90d"].map(m=>jsxRuntimeExports.jsx("button",{onClick:()=>u(m),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o===m?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:m==="7d"?"Last 7 Days":m==="30d"?"Last 30 Days":"Last 90 Days"},m))})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white",children:"📊 VibeMagazine Analytics Formulas"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-400",children:"For Manual Computation Reference"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-medium text-purple-400",children:"Metric Definitions:"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-gray-300",children:[jsxRuntimeExports.jsxs("li",{children:["• ",jsxRuntimeExports.jsx("span",{className:"font-medium text-blue-400",children:"Total Views"})," → How many times people opened or looked at the magazine"]}),jsxRuntimeExports.jsxs("li",{children:["• ",jsxRuntimeExports.jsx("span",{className:"font-medium text-green-400",children:"Total Likes"}),' → How many times people clicked "like" on the magazine']}),jsxRuntimeExports.jsxs("li",{children:["• ",jsxRuntimeExports.jsx("span",{className:"font-medium text-yellow-400",children:"Total Comments"})," → How many messages or feedback were written on the magazine"]}),jsxRuntimeExports.jsxs("li",{children:["• ",jsxRuntimeExports.jsx("span",{className:"font-medium text-orange-400",children:"Total Saves"})," → How many times people saved the magazine to check later"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-medium text-purple-400",children:"Calculation Formulas:"}),jsxRuntimeExports.jsx("div",{className:"bg-gray-900/50 rounded-lg p-4 border border-gray-600",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3 text-gray-300",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-purple-400",children:"Total Engagement:"}),jsxRuntimeExports.jsx("div",{className:"text-sm mt-1 font-mono bg-gray-800 p-2 rounded",children:"Views + Likes + Comments + Saves"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-purple-400",children:"Engagement Rate (%):"}),jsxRuntimeExports.jsx("div",{className:"text-sm mt-1 font-mono bg-gray-800 p-2 rounded",children:"((Likes + Comments + Saves) / Views) × 100"})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[jsxRuntimeExports.jsx("strong",{children:"Example:"})," Views=100, Likes=10, Comments=5, Saves=5",jsxRuntimeExports.jsx("br",{}),"Engagement Rate = ((10+5+5)/100) × 100 = 20%"]})]})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[jsxRuntimeExports.jsx(StatCard,{label:"Total Magazines",value:e.length}),jsxRuntimeExports.jsx(StatCard,{label:"Total Views",value:n.totalViews}),jsxRuntimeExports.jsx(StatCard,{label:"Total Likes",value:n.totalLikes}),jsxRuntimeExports.jsx(StatCard,{label:"Total Comments",value:n.totalComments}),jsxRuntimeExports.jsx(StatCard,{label:"Total Saves",value:n.totalSaves})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Engagement Timeline"}),jsxRuntimeExports.jsx("div",{className:"h-80",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(LineChart,{data:n.timelineData,margin:{top:20,right:30,left:20,bottom:5},children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#374151",opacity:.6}),jsxRuntimeExports.jsx(XAxis,{dataKey:"day",stroke:"#D1D5DB",fontSize:11,tick:{fill:"#D1D5DB"},axisLine:{stroke:"#6B7280"}}),jsxRuntimeExports.jsx(YAxis,{stroke:"#D1D5DB",fontSize:11,tick:{fill:"#D1D5DB"},axisLine:{stroke:"#6B7280"}}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#111827",border:"1px solid #6366F1",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0,0,0,0.5)"},labelStyle:{color:"#F9FAFB",fontWeight:"bold"},cursor:{stroke:"#6366F1",strokeWidth:2,strokeDasharray:"5 5"}}),jsxRuntimeExports.jsx(Legend,{wrapperStyle:{paddingTop:"20px"},iconType:"line"}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"visits",stroke:"#8B5CF6",strokeWidth:3,name:"Views",dot:{fill:"#8B5CF6",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#8B5CF6",strokeWidth:2,fill:"#FFFFFF"},connectNulls:!0}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"likes",stroke:"#10B981",strokeWidth:3,name:"Likes",dot:{fill:"#10B981",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#10B981",strokeWidth:2,fill:"#FFFFFF"},connectNulls:!0}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"comments",stroke:"#F59E0B",strokeWidth:3,name:"Comments",dot:{fill:"#F59E0B",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#F59E0B",strokeWidth:2,fill:"#FFFFFF"},connectNulls:!0}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"saves",stroke:"#EF4444",strokeWidth:3,name:"Saves",dot:{fill:"#EF4444",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#EF4444",strokeWidth:2,fill:"#FFFFFF"},connectNulls:!0})]})})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Engagement Breakdown"}),jsxRuntimeExports.jsx("div",{className:"h-80",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(PieChart,{children:[jsxRuntimeExports.jsx(Pie,{data:n.engagementData,cx:"50%",cy:"50%",labelLine:!1,label:({name:m,percent:v})=>`${m}: ${(v*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:n.engagementData.map((m,v)=>jsxRuntimeExports.jsx(Cell,{fill:m.color},`cell-${v}`))}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#FFFFFF"},labelStyle:{color:"#FFFFFF"},itemStyle:{color:"#FFFFFF"}})]})})})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Magazine Performance Comparison"}),n.magazineStats.length>0?jsxRuntimeExports.jsx("div",{className:"h-96",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(BarChart,{data:n.magazineStats.slice(0,10),children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",stroke:"#374151"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"title",stroke:"#9CA3AF",fontSize:12,angle:-45,textAnchor:"end",height:80}),jsxRuntimeExports.jsx(YAxis,{stroke:"#9CA3AF",fontSize:12}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"},labelFormatter:m=>{const v=n.magazineStats.find(p=>p.title===m);return v?v.fullTitle:m}}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"visits",fill:"#8884d8",name:"Views"}),jsxRuntimeExports.jsx(Bar,{dataKey:"likes",fill:"#82ca9d",name:"Likes"}),jsxRuntimeExports.jsx(Bar,{dataKey:"comments",fill:"#ffc658",name:"Comments"}),jsxRuntimeExports.jsx(Bar,{dataKey:"saves",fill:"#ff7300",name:"Saves"})]})})}):jsxRuntimeExports.jsx("div",{className:"h-96 flex items-center justify-center",children:jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"No analytics data available yet."})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Detailed Performance Table"}),n.magazineStats.length>0?jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-left text-white",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"border-b border-gray-600",children:[jsxRuntimeExports.jsx("th",{className:"pb-2 font-semibold",children:"Rank"}),jsxRuntimeExports.jsx("th",{className:"pb-2 font-semibold",children:"Magazine"}),jsxRuntimeExports.jsx("th",{className:"pb-2 font-semibold text-center",children:"Views"}),jsxRuntimeExports.jsx("th",{className:"pb-2 font-semibold text-center",children:"Likes"}),jsxRuntimeExports.jsx("th",{className:"pb-2 font-semibold text-center",children:"Comments"}),jsxRuntimeExports.jsx("th",{className:"pb-2 font-semibold text-center",children:"Saves"}),jsxRuntimeExports.jsx("th",{className:"pb-2 font-semibold text-center",children:"Total Engagement"}),jsxRuntimeExports.jsx("th",{className:"pb-2 font-semibold text-center",children:"Engagement Rate"})]})}),jsxRuntimeExports.jsx("tbody",{children:n.magazineStats.map((m,v)=>{const p=m.visits>0?((m.likes+m.comments+m.saves)/m.visits*100).toFixed(1):"0.0";return jsxRuntimeExports.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700/50 transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"py-3 text-center",children:jsxRuntimeExports.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 rounded-full text-xs font-bold ${v===0?"bg-yellow-500 text-black":v===1?"bg-gray-400 text-black":v===2?"bg-orange-600 text-white":"bg-gray-600 text-white"}`,children:v+1})}),jsxRuntimeExports.jsx("td",{className:"py-3 font-medium",title:m.fullTitle,children:m.title}),jsxRuntimeExports.jsx("td",{className:"py-3 text-center",children:m.visits}),jsxRuntimeExports.jsx("td",{className:"py-3 text-center text-green-400",children:m.likes}),jsxRuntimeExports.jsx("td",{className:"py-3 text-center text-blue-400",children:m.comments}),jsxRuntimeExports.jsx("td",{className:"py-3 text-center text-orange-400",children:m.saves}),jsxRuntimeExports.jsx("td",{className:"py-3 text-center font-semibold text-purple-400",children:m.totalEngagement}),jsxRuntimeExports.jsx("td",{className:"py-3 text-center",children:jsxRuntimeExports.jsxs("span",{className:`font-medium ${parseFloat(p)>=20?"text-green-400":parseFloat(p)>=10?"text-yellow-400":"text-gray-400"}`,children:[p,"%"]})})]},m.id)})})]})}):jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"No analytics data available yet."})]})]})]})},FeedbackTab=()=>{const[e,t]=reactExports.useState([]),[n,i]=reactExports.useState(!1),[o,u]=reactExports.useState(null),[h,m]=reactExports.useState(!0),[v,p]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{try{const{data:A,error:T}=await supabase.from("feedback").select("*").order("submitted_at",{ascending:!1});if(T)throw T;t(A||[])}catch(A){console.error("Failed to load feedback:",A)}finally{m(!1)}})();const j=supabase.channel("feedback-changes").on("postgres_changes",{event:"*",schema:"public",table:"feedback"},A=>{A.event==="INSERT"?t(T=>[A.new,...T]):A.event==="DELETE"&&t(T=>T.filter(C=>C.id!==A.old.id))}).subscribe();return()=>{j.unsubscribe()}},[]);const f=S=>{u(S),i(!0)},b=async()=>{if(o){p(S=>[...S,o.id]);try{const{error:S}=await supabase.from("feedback").delete().eq("id",o.id);if(S)throw console.error("Supabase delete error:",S),S;t(j=>j.filter(A=>A.id!==o.id))}catch(S){console.error("Delete exception:",S)}finally{p(S=>S.filter(j=>j!==o.id)),i(!1),u(null)}}},w=()=>{i(!1),u(null)};return h?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-400"})}):jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-8",children:[jsxRuntimeExports.jsxs("section",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"border-b border-gray-700 pb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-100 tracking-tight",children:"Student Feedback"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mt-2",children:"View and manage feedback submissions from students"})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-400",children:["Total: ",e.length," feedback submission",e.length!==1?"s":""]})]}),jsxRuntimeExports.jsx("section",{className:"bg-gradient-to-br from-[#241231] to-[#1a0d28] border border-purple-500/20 rounded-xl shadow-lg overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"p-6",children:e.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-16",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gray-700 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})})}),jsxRuntimeExports.jsx("h3",{className:"text-gray-300 text-xl font-semibold mb-2",children:"No feedback received"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"Student feedback and suggestions will appear here"})]}):jsxRuntimeExports.jsx("div",{className:"space-y-6",children:e.map(S=>jsxRuntimeExports.jsxs("div",{className:"rounded-xl border border-gray-600/50 bg-gray-800/30 hover:border-purple-500/50 hover:bg-gray-800/50 transition-all duration-200 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"px-6 py-4 border-b border-gray-600/30 bg-gray-800/20",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-3 flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Name"}),jsxRuntimeExports.jsx("p",{className:"text-gray-100 font-medium",children:S.name||"Anonymous Student"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Email"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm",children:S.email||"Not provided"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Subject"}),jsxRuntimeExports.jsx("p",{className:"text-gray-100 font-medium",children:S.subject||"General Feedback"})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),S.submitted_at?new Date(S.submitted_at).toLocaleDateString():"Unknown date"," at ",S.submitted_at?new Date(S.submitted_at).toLocaleTimeString():""]})})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>f(S),disabled:v.includes(S.id),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm transition-all duration-200 hover:shadow-lg flex items-center gap-2 font-medium disabled:opacity-50 disabled:cursor-not-allowed",title:"Delete this feedback permanently",children:[v.includes(S.id)?jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),v.includes(S.id)?"Deleting...":"Delete"]})]})}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-4",children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wide mb-2 block",children:"Message"}),jsxRuntimeExports.jsx("div",{className:"bg-gray-800/50 border-l-4 border-purple-500 rounded-r-lg p-4",children:jsxRuntimeExports.jsx("p",{className:"text-gray-200 leading-relaxed whitespace-pre-wrap",children:S.message||"No message content"})}),jsxRuntimeExports.jsx("div",{className:"mt-4 pt-4 border-t border-gray-600/30",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-gray-500",children:[jsxRuntimeExports.jsxs("span",{children:["ID: ",S.id]}),jsxRuntimeExports.jsxs("span",{className:"text-gray-400",children:["Submitted ",S.submitted_at?new Date(S.submitted_at).toLocaleDateString():"Unknown date"," at ",S.submitted_at?new Date(S.submitted_at).toLocaleTimeString():""]})]})})]})]},S.id))})})}),n&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-[#241231] via-[#1b0b28] to-[#0f0f23] rounded-2xl border border-purple-500/30 shadow-2xl max-w-md w-full overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"px-6 py-4 border-b border-purple-500/20",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-red-500/20 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-gray-100",children:"Confirm Deletion"})]})}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-6",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("p",{className:"text-gray-300 mb-3",children:["Are you sure you want to delete this"," ",jsxRuntimeExports.jsx("span",{className:"font-semibold text-purple-300",children:"feedback"}),"?"]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3 border border-gray-700 space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"From:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-100 font-medium",children:o?.name||"Anonymous Student"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"Subject:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-100",children:o?.subject||"General Feedback"})]}),o?.message&&jsxRuntimeExports.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-600",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-xs",children:"Message:"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-200 text-sm mt-1 line-clamp-3",children:['"',o.message.substring(0,100),o.message.length>100?"...":"",'"']})]})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 mt-3 flex items-center gap-1",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"})}),"This action cannot be undone"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:w,className:"flex-1 px-4 py-3 text-gray-300 bg-gray-800/50 border border-gray-600 rounded-lg hover:bg-gray-700/50 font-medium transition-all duration-200 hover:border-gray-500",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:b,disabled:o&&v.includes(o.id),className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 font-medium transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:o&&v.includes(o.id)?jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deleting..."]}):"Delete"})]})]})]})})]})},CommentsTab=()=>{const[e,t]=reactExports.useState([]),[n,i]=reactExports.useState([]),[o,u]=reactExports.useState(!0),[h,m]=reactExports.useState(()=>localStorage.getItem("vibe-admin-selected-magazine")||"all"),[v,p]=reactExports.useState([]),[f,b]=reactExports.useState(!1),[w,S]=reactExports.useState(null),[j,A]=reactExports.useState(!1),[T,C]=reactExports.useState(!1),[O,M]=reactExports.useState(""),[R,_]=reactExports.useState(()=>{const ce=localStorage.getItem("vibe-admin-read-comments");return ce?JSON.parse(ce):[]});reactExports.useEffect(()=>{ae();const ce=supabase.channel("comments-changes").on("postgres_changes",{event:"*",schema:"public",table:"magazine_comments"},()=>{console.log("Comments changed, refetching..."),ae()}).subscribe();return()=>{supabase.removeChannel(ce)}},[]),reactExports.useEffect(()=>{localStorage.setItem("vibe-admin-read-comments",JSON.stringify(R))},[R]),reactExports.useEffect(()=>{localStorage.setItem("vibe-admin-selected-magazine",h)},[h]),reactExports.useEffect(()=>{o||(console.log("Magazine filter changed, refreshing data..."),ae())},[h]);const q=ce=>{R.includes(ce)||_([...R,ce])},se=ce=>{_(R.filter(le=>le!==ce))},ee=()=>{const ce=Pe.map(le=>le.id);_([...new Set([...R,...ce])])},ae=async()=>{try{console.log("CommentsTab: Fetching data...");const{data:ce,error:le}=await supabase.from("magazines").select("id, title").order("created_at",{ascending:!1});le&&(console.error("Error fetching magazines:",le),alert("Failed to fetch magazines: "+le.message));const{data:ie,error:Y}=await supabase.from("magazine_comments").select("*").order("created_at",{ascending:!1});let ne=ie;ie&&ce&&(ne=ie.map(oe=>{const ue=ce.find(ve=>ve.id===oe.magazine_id);return{...oe,magazines:ue?{title:ue.title}:{title:"Unknown Magazine"}}})),Y&&(console.error("Error fetching comments:",Y),alert("Failed to fetch comments: "+Y.message)),console.log("DEBUG - CommentsTab:"),console.log("- Magazines found:",ce?.length||0),console.log("- Comments found:",ne?.length||0),console.log("- Sample comment:",ne?.[0]),i(ce||[]),t(ne||[])}catch(ce){console.error("Error in fetchData:",ce),alert("Unexpected error in fetchData: "+ce.message)}finally{u(!1)}},pe=ce=>{S(ce),b(!0)},fe=async()=>{if(w)try{console.log(`Admin deleting comment ID: ${w.id}`);const{error:ce}=await supabase.from("magazine_comments").delete().eq("id",w.id);if(ce){console.error("Error deleting comment:",ce),alert("❌ Failed to delete comment: "+ce.message+`

Check if you have proper permissions.`);return}t(le=>le.filter(ie=>ie.id!==w.id)),M("Comment deleted successfully!"),C(!0),setTimeout(()=>{C(!1)},3e3),setTimeout(()=>ae(),500)}catch(ce){console.error("Error deleting comment:",ce),alert("❌ Unexpected error occurred: "+ce.message)}b(!1),S(null)},Ee=()=>{b(!1),S(null)},_e=async()=>{try{const{error:ce}=await supabase.from("magazine_comments").delete().in("id",v);ce?alert("❌ Failed to delete selected comments: "+ce.message):(p([]),M(`${v.length} comment${v.length!==1?"s":""} deleted successfully!`),C(!0),setTimeout(()=>{C(!1)},3e3),ae())}catch(ce){alert("❌ Error: "+ce.message)}A(!1)},Re=()=>{A(!1)},Pe=h==="all"?e:e.filter(ce=>String(ce.magazine_id)===String(h)),je=Pe.filter(ce=>!R.includes(ce.id)).length;return o?jsxRuntimeExports.jsxs("div",{className:"text-white text-center py-8",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-4",children:"Loading comments..."})]}):jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-8",children:[jsxRuntimeExports.jsxs("section",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"border-b border-gray-700 pb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-gray-100 tracking-tight",children:"Comments Management"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mt-2",children:"Moderate and manage user feedback across all magazines"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("label",{className:"text-gray-300 text-sm font-medium",children:"Filter by Magazine:"}),jsxRuntimeExports.jsxs("select",{value:h,onChange:ce=>{ce.preventDefault(),m(ce.target.value),console.log("Filter changed to:",ce.target.value)},className:"bg-gray-800/50 border border-gray-600 text-gray-100 px-4 py-2 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-colors duration-200",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Magazines"}),n.map(ce=>jsxRuntimeExports.jsx("option",{value:ce.id,children:ce.title},ce.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-400",children:["Total: ",Pe.length," comment",Pe.length!==1?"s":"",je>0&&jsxRuntimeExports.jsxs("span",{className:"ml-2 inline-flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),jsxRuntimeExports.jsxs("span",{className:"text-blue-400 font-semibold",children:[je," unread"]})]})]}),je>0&&jsxRuntimeExports.jsxs("button",{onClick:ee,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 transition-colors duration-200 font-medium",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Mark All as Read"]})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"bg-gradient-to-br from-[#241231] to-[#1a0d28] border border-purple-500/20 rounded-xl shadow-lg overflow-hidden",children:[Pe.length>0&&jsxRuntimeExports.jsx("div",{className:"bg-gray-800/30 px-6 py-4 border-b border-purple-500/20",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-gray-100 font-semibold text-lg",children:[Pe.length," Comment",Pe.length!==1?"s":""]}),h!=="all"&&jsxRuntimeExports.jsx("span",{className:"bg-purple-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:n.find(ce=>String(ce.id)===String(h))?.title||"Filtered"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 text-gray-300 text-sm cursor-pointer hover:text-white transition-colors",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:v.length===Pe.length&&Pe.length>0,onChange:ce=>{ce.target.checked?p(Pe.map(le=>le.id)):p([])},className:"w-4 h-4 text-purple-600 bg-gray-600 border-gray-500 rounded focus:ring-purple-500 focus:ring-2"}),"Select All"]}),v.length>0&&jsxRuntimeExports.jsxs("span",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:[v.length," selected"]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[v.length>0&&jsxRuntimeExports.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-900/50 to-purple-900/50 border border-blue-500/30 rounded-xl p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-gray-100",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-blue-300",children:v.length})," comment",v.length!==1?"s":""," selected"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>p([]),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 transition-colors duration-200",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear Selection"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>A(!0),className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2 font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Selected (",v.length,")"]})]})]})}),Pe.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-16",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gray-700 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),jsxRuntimeExports.jsx("h3",{className:"text-gray-300 text-xl font-semibold mb-2",children:"No comments found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"Comments from magazine readers will appear here for moderation"})]}):jsxRuntimeExports.jsx("div",{className:"space-y-6",children:Pe.map(ce=>{const le=R.includes(ce.id);return jsxRuntimeExports.jsxs("div",{className:`rounded-xl border transition-all duration-200 overflow-hidden ${v.includes(ce.id)?"border-blue-500 bg-blue-900/20 shadow-lg shadow-blue-500/10":le?"border-gray-600/50 bg-gray-800/30 hover:border-purple-500/50 hover:bg-gray-800/50":"border-blue-400/50 bg-blue-900/10 hover:border-blue-500/70 hover:bg-blue-900/20 shadow-md shadow-blue-500/5"}`,children:[jsxRuntimeExports.jsx("div",{className:"px-6 py-4 border-b border-gray-600/30 bg-gray-800/20",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative mt-1 flex items-center gap-3",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:v.includes(ce.id),onChange:ie=>{ie.target.checked?p([...v,ce.id]):p(v.filter(Y=>Y!==ce.id))},className:"w-5 h-5 text-purple-600 bg-gray-700 border-gray-500 rounded focus:ring-purple-500 focus:ring-2 cursor-pointer"}),jsxRuntimeExports.jsx("button",{onClick:()=>le?se(ce.id):q(ce.id),className:`flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-semibold transition-all duration-200 ${le?"bg-gray-700/50 text-gray-400 border border-gray-600/50 hover:bg-gray-700 hover:text-gray-300":"bg-blue-500/20 text-blue-300 border border-blue-500/50 hover:bg-blue-500/30 animate-pulse"}`,title:le?"Mark as unread":"Mark as read",children:le?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:[jsxRuntimeExports.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),"Read"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20",children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),jsxRuntimeExports.jsx("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]}),"New"]})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"User"}),jsxRuntimeExports.jsx("p",{className:"text-gray-100 font-medium",children:ce.user_name||"Anonymous User"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"User ID"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm font-mono",children:ce.user_id||"Unknown"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Magazine"}),jsxRuntimeExports.jsx("p",{className:"text-gray-100 font-medium",children:ce.magazines?.title||"Unknown Magazine"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),ce.magazines?.title||"Unknown Magazine"]}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),new Date(ce.created_at).toLocaleDateString()," at ",new Date(ce.created_at).toLocaleTimeString()]})]})]})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>pe(ce),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm transition-all duration-200 hover:shadow-lg flex items-center gap-2 font-medium",title:"Delete this comment permanently",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-4",children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wide mb-2 block",children:"Message"}),jsxRuntimeExports.jsx("div",{className:"bg-gray-800/50 border-l-4 border-purple-500 rounded-r-lg p-4",children:jsxRuntimeExports.jsx("p",{className:"text-gray-200 leading-relaxed whitespace-pre-wrap",children:ce.text||"No comment content"})}),jsxRuntimeExports.jsx("div",{className:"mt-4 pt-4 border-t border-gray-600/30",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-gray-500",children:[jsxRuntimeExports.jsxs("span",{children:["ID: ",ce.id]}),ce.user_id&&jsxRuntimeExports.jsxs("span",{children:["User ID: ",ce.user_id]}),jsxRuntimeExports.jsxs("span",{className:"text-gray-400",children:["Submitted ",new Date(ce.created_at).toLocaleDateString()," at ",new Date(ce.created_at).toLocaleTimeString()]})]})})]})]},ce.id)})})]})]}),f&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-300",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-[#2a1b3d] via-[#1e1332] to-[#0f0f23] rounded-3xl border border-purple-500/40 shadow-2xl max-w-md w-full overflow-hidden transform transition-all duration-300 animate-in zoom-in-95",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-red-500/10 rounded-full blur-xl animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-4 -left-4 w-32 h-32 bg-purple-500/10 rounded-full blur-xl animate-pulse delay-1000"})]}),jsxRuntimeExports.jsx("div",{className:"relative px-6 py-6 border-b border-purple-500/30",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs("div",{className:"w-14 h-14 bg-gradient-to-br from-red-500/30 to-red-600/20 rounded-full flex items-center justify-center border border-red-500/40 shadow-lg",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-400/20 to-transparent rounded-full animate-ping"}),jsxRuntimeExports.jsx("svg",{className:"w-7 h-7 text-red-400 relative z-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:"Delete Comment"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"This action is permanent"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"relative px-6 py-6",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("div",{className:"text-center mb-6",children:jsxRuntimeExports.jsxs("div",{className:"inline-flex items-center gap-2 text-yellow-400 bg-yellow-500/10 px-4 py-2 rounded-full border border-yellow-500/30 mb-4",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"})}),jsxRuntimeExports.jsx("span",{className:"font-medium text-sm",children:"Warning: Irreversible Action"})]})}),jsxRuntimeExports.jsxs("p",{className:"text-gray-300 text-center mb-4 leading-relaxed",children:["You're about to permanently delete this"," ",jsxRuntimeExports.jsx("span",{className:"font-bold text-transparent bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text",children:"comment"})]}),jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-gray-800/60 to-gray-900/60 rounded-xl p-4 border border-gray-700/50 backdrop-blur-sm mb-4",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"From:"}),jsxRuntimeExports.jsx("span",{className:"text-white font-semibold",children:w?.user_name||"Anonymous User"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"Magazine:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-300",children:w?.magazines?.title||"Unknown Magazine"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"Posted:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-300",children:w?.created_at?new Date(w.created_at).toLocaleDateString():"Unknown date"})]}),w?.text&&jsxRuntimeExports.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-600/50",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-xs mb-1 block",children:"Comment:"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-200 text-sm italic",children:['"',w.text.substring(0,100),w.text.length>100?"...":"",'"']})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-400 text-sm bg-red-500/10 px-4 py-2 rounded-lg border border-red-500/30",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 animate-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Once deleted, this cannot be recovered"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:Ee,className:"flex-1 px-6 py-3 text-gray-300 bg-gray-800/60 border border-gray-600/50 rounded-xl hover:bg-gray-700/60 font-semibold transition-all duration-300 hover:border-gray-500 hover:shadow-lg transform hover:scale-105 backdrop-blur-sm",children:jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]})}),jsxRuntimeExports.jsx("button",{onClick:fe,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 via-red-500 to-red-700 text-white rounded-xl hover:from-red-700 hover:via-red-600 hover:to-red-800 font-semibold transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-105 hover:shadow-red-500/25",children:jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Forever"]})})]})]})]})}),j&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-300",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-[#2a1b3d] via-[#1e1332] to-[#0f0f23] rounded-3xl border border-purple-500/40 shadow-2xl max-w-md w-full overflow-hidden transform transition-all duration-300 animate-in zoom-in-95",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-red-500/10 rounded-full blur-xl animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-4 -left-4 w-32 h-32 bg-purple-500/10 rounded-full blur-xl animate-pulse delay-1000"})]}),jsxRuntimeExports.jsx("div",{className:"relative px-6 py-6 border-b border-purple-500/30",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs("div",{className:"w-14 h-14 bg-gradient-to-br from-red-500/30 to-red-600/20 rounded-full flex items-center justify-center border border-red-500/40 shadow-lg",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-400/20 to-transparent rounded-full animate-ping"}),jsxRuntimeExports.jsx("svg",{className:"w-7 h-7 text-red-400 relative z-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:"Bulk Delete Comments"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"This action is permanent"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"relative px-6 py-6",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("div",{className:"text-center mb-6",children:jsxRuntimeExports.jsxs("div",{className:"inline-flex items-center gap-2 text-yellow-400 bg-yellow-500/10 px-4 py-2 rounded-full border border-yellow-500/30 mb-4",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"})}),jsxRuntimeExports.jsx("span",{className:"font-medium text-sm",children:"Warning: Irreversible Action"})]})}),jsxRuntimeExports.jsxs("p",{className:"text-gray-300 text-center mb-4 leading-relaxed",children:["You're about to permanently delete"," ",jsxRuntimeExports.jsxs("span",{className:"font-bold text-transparent bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text",children:[v.length," comment",v.length!==1?"s":""]})]}),jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-gray-800/60 to-gray-900/60 rounded-xl p-4 border border-gray-700/50 backdrop-blur-sm mb-4",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"Selected:"}),jsxRuntimeExports.jsxs("span",{className:"text-white font-semibold",children:[v.length," comment",v.length!==1?"s":""]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"Action:"}),jsxRuntimeExports.jsx("span",{className:"text-red-300 font-medium",children:"Bulk Delete"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"Target:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-300",children:"Multiple Comments"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-400 text-sm bg-red-500/10 px-4 py-2 rounded-lg border border-red-500/30",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 animate-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Once deleted, these cannot be recovered"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:Re,className:"flex-1 px-6 py-3 text-gray-300 bg-gray-800/60 border border-gray-600/50 rounded-xl hover:bg-gray-700/60 font-semibold transition-all duration-300 hover:border-gray-500 hover:shadow-lg transform hover:scale-105 backdrop-blur-sm",children:jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]})}),jsxRuntimeExports.jsx("button",{onClick:_e,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 via-red-500 to-red-700 text-white rounded-xl hover:from-red-700 hover:via-red-600 hover:to-red-800 font-semibold transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-105 hover:shadow-red-500/25",children:jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Forever"]})})]})]})]})}),T&&jsxRuntimeExports.jsx("div",{className:"fixed bottom-4 right-4 z-50 animate-in slide-in-from-bottom-4 duration-500",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-8 py-6 rounded-xl shadow-2xl border border-green-500/30 min-w-[350px] max-w-md transform transition-all duration-500 ease-out bounce-in",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-full flex items-center justify-center animate-pulse",children:jsxRuntimeExports.jsx("svg",{className:"w-7 h-7 text-green-200 animate-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 animate-in slide-in-from-left-2 duration-700",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-green-50 text-lg animate-in slide-in-from-bottom-1 duration-500",children:"Success!"}),jsxRuntimeExports.jsx("p",{className:"text-green-100 mt-1 animate-in slide-in-from-bottom-2 duration-700",children:O})]}),jsxRuntimeExports.jsx("button",{onClick:()=>C(!1),className:"flex-shrink-0 text-green-200 hover:text-white transition-all duration-300 ml-2 hover:scale-110 hover:rotate-90 animate-in fade-in",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 w-full bg-green-800/30 rounded-full h-1 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-gradient-to-r from-green-400 to-emerald-300 rounded-full animate-pulse",style:{animation:"progress 3s linear forwards"}})})]})}),jsxRuntimeExports.jsx("style",{jsx:!0,children:`
                @keyframes progress {
                    from { width: 100%; }
                    to { width: 0%; }
                }
                
                @keyframes bounce-in {
                    0% { transform: scale(0.3) rotate(-15deg); opacity: 0; }
                    50% { transform: scale(1.05) rotate(5deg); }
                    70% { transform: scale(0.9) rotate(-2deg); }
                    100% { transform: scale(1) rotate(0deg); opacity: 1; }
                }
                
                .bounce-in {
                    animation: bounce-in 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
                }
            `})]})},LibraryTab=({magazines:e,removeMagazine:t,fetchMagazines:n})=>{const i=useNavigate(),[o,u]=reactExports.useState([]),[h,m]=reactExports.useState({title:"",date:"",venue:"",image:""}),[v,p]=reactExports.useState(null),[f,b]=reactExports.useState(!1),[w,S]=reactExports.useState(""),[j,A]=reactExports.useState(""),[T,C]=reactExports.useState(!1),[O,M]=reactExports.useState(null),[R,_]=reactExports.useState(""),[q,se]=reactExports.useState(!1),[ee,ae]=reactExports.useState(""),[pe,fe]=reactExports.useState(!1),[Ee,_e]=reactExports.useState(null),Re=ne=>{i(`/archive?magazineId=${ne.id}`)};reactExports.useEffect(()=>{(async()=>{const{data:oe,error:ue}=await supabase.from("events").select("id, title, date, venue, image").order("date",{ascending:!0});!ue&&oe&&u(oe)})()},[]);const Pe=async ne=>{const oe=`${Date.now()}_${ne.name}`,{data:ue,error:ve}=await supabase.storage.from("event-images").upload(oe,ne);return ve?null:supabase.storage.from("event-images").getPublicUrl(oe).data.publicUrl},je=async ne=>{ne.preventDefault(),b(!0),S(""),A("");let oe=h.image;if(v&&(oe=await Pe(v),!oe)){A("Image upload failed. Please try again."),b(!1);return}const{data:ue,error:ve}=await supabase.from("events").insert([{...h,image:oe}]).select();ve?(A(ve.message||"Event upload failed. Please try again."),S("")):ue&&ue[0]?(u(me=>[...me,{...h,image:oe,id:ue[0].id}]),m({title:"",date:"",venue:"",image:""}),p(null),S("Event uploaded successfully!"),A("")):(A("Event upload failed. No data returned."),S("")),b(!1)},ce=(ne,oe)=>{M(ne),_(oe),C(!0)},le=async()=>{if(O)try{if(R==="magazine"){console.log(`Admin deleting magazine ID: ${O.id}`);try{t(O.id),ae("Magazine deleted successfully!"),se(!0)}catch(ne){console.error("Error removing magazine:",ne),alert("❌ Failed to delete magazine: "+ne.message);return}}else if(R==="event"){console.log(`Admin deleting event ID: ${O.id}`);const{error:ne}=await supabase.from("events").delete().eq("id",O.id);if(ne){console.error("Error deleting event:",ne),alert("❌ Failed to delete event: "+ne.message+`

Check if you have proper permissions.`);return}u(oe=>oe.filter(ue=>ue.id!==O.id)),ae("Event deleted successfully!"),se(!0)}setTimeout(()=>{se(!1)},3e3)}catch(ne){console.error("Error deleting item:",ne),alert("❌ Unexpected error occurred: "+ne.message)}C(!1),M(null),_("")},ie=()=>{C(!1),M(null),_("")},Y=async ne=>{try{const{error:oe}=await supabase.from("magazines").update({published:!0}).eq("id",ne);if(oe){console.error("Error publishing magazine:",oe),alert("❌ Failed to publish magazine: "+oe.message);return}n&&await n(),ae("Magazine published successfully!"),se(!0),setTimeout(()=>{se(!1)},3e3)}catch(oe){console.error("Error publishing magazine:",oe),alert("❌ Unexpected error occurred: "+oe.message)}};return jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto p-3 sm:p-4 md:p-6 space-y-8 sm:space-y-12",children:[jsxRuntimeExports.jsxs("section",{className:"space-y-4 sm:space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"border-b border-gray-700 pb-3 sm:pb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-100 tracking-tight",children:"Magazine Library"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-400 mt-1 sm:mt-2",children:"Manage all your magazines (published and drafts)"})]}),e.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8 sm:py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 bg-gray-700 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9.5a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-base sm:text-lg",children:"No issues published yet"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-xs sm:text-sm mt-1",children:"Your published magazines will appear here"})]}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6",children:e.map(ne=>jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-[#241231] to-[#1a0d28] border border-purple-500/20 rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-200 hover:-translate-y-1",children:jsxRuntimeExports.jsx("div",{className:"p-4 sm:p-6 cursor-pointer",onClick:()=>Re(ne),children:jsxRuntimeExports.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("img",{src:ne.cover,alt:ne.title,className:"w-16 h-24 sm:w-20 sm:h-28 object-cover rounded-lg shadow-md border border-purple-500/30 transition-transform duration-300 hover:scale-105"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-base sm:text-lg text-gray-100 mb-1 sm:mb-2 truncate hover:text-purple-300 transition-colors duration-200",children:ne.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-xs sm:text-sm mb-2 sm:mb-3 line-clamp-2",children:ne.subtitle}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400 bg-gray-800/50 px-2 py-1 rounded-full",children:new Date(ne.created_at).toLocaleDateString()}),jsxRuntimeExports.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${ne.published?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,children:ne.published?"Published":"Draft"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-wrap",onClick:oe=>oe.stopPropagation(),children:[!ne.published&&jsxRuntimeExports.jsx("button",{onClick:oe=>{oe.stopPropagation(),Y(ne.id)},className:"text-green-400 hover:text-green-300 text-xs font-medium hover:bg-green-500/10 px-2 py-1 rounded transition-colors duration-200 border border-green-400/30 hover:border-green-300",children:"Publish"}),jsxRuntimeExports.jsx("button",{onClick:oe=>{oe.stopPropagation(),ce(ne,"magazine")},className:"text-red-400 hover:text-red-300 text-xs font-medium hover:bg-red-500/10 px-2 py-1 rounded transition-colors duration-200 border border-red-400/30 hover:border-red-300",children:"Delete"})]})]})]})]})})},ne.id))})]}),jsxRuntimeExports.jsxs("section",{className:"space-y-4 sm:space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"border-b border-gray-700 pb-3 sm:pb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-100 tracking-tight",children:"Event Manager"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-400 mt-1 sm:mt-2",children:"Create and manage upcoming events"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-[#241231] to-[#1a0d28] border border-purple-500/20 rounded-xl p-4 sm:p-6 md:p-8 shadow-lg",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-100 mb-4 sm:mb-6",children:"Add New Event"}),jsxRuntimeExports.jsxs("form",{onSubmit:je,className:"space-y-3 sm:space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-300",children:"Event Title"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter event title",value:h.title,onChange:ne=>m({...h,title:ne.target.value}),className:"w-full p-2 sm:p-3 rounded-lg bg-gray-800/50 border border-gray-600 text-sm sm:text-base text-gray-100 placeholder-gray-400 focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-colors duration-200",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-300",children:"Date & Time"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"e.g. Fri, Apr 12 • 7:00 PM",value:h.date,onChange:ne=>m({...h,date:ne.target.value}),className:"w-full p-2 sm:p-3 rounded-lg bg-gray-800/50 border border-gray-600 text-sm sm:text-base text-gray-100 placeholder-gray-400 focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-colors duration-200",required:!0})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-300",children:"Venue"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter venue location",value:h.venue,onChange:ne=>m({...h,venue:ne.target.value}),className:"w-full p-2 sm:p-3 rounded-lg bg-gray-800/50 border border-gray-600 text-sm sm:text-base text-gray-100 placeholder-gray-400 focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-colors duration-200",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-300",children:"Image URL (Optional)"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"https://example.com/image.jpg",value:h.image,onChange:ne=>m({...h,image:ne.target.value}),className:"w-full p-2 sm:p-3 rounded-lg bg-gray-800/50 border border-gray-600 text-sm sm:text-base text-gray-100 placeholder-gray-400 focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-colors duration-200"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-300",children:"Upload Image"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:ne=>p(ne.target.files[0]),className:"w-full p-2 sm:p-3 rounded-lg bg-gray-800/50 border border-gray-600 text-sm sm:text-base text-gray-100 file:mr-3 sm:file:mr-4 file:py-1.5 sm:file:py-2 file:px-3 sm:file:px-4 file:rounded-lg file:border-0 file:text-xs sm:file:text-sm file:font-medium file:bg-purple-600 file:text-white hover:file:bg-purple-700 file:cursor-pointer"})]})]}),jsxRuntimeExports.jsx("div",{className:"pt-2 sm:pt-4",children:jsxRuntimeExports.jsx("button",{type:"submit",disabled:f,className:"w-full md:w-auto bg-gradient-to-r from-pink-600 to-purple-600 text-white font-semibold px-6 sm:px-8 py-2.5 sm:py-3 rounded-lg hover:from-pink-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl text-sm sm:text-base",children:f?jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding Event..."]}):"Add Event"})}),w&&jsxRuntimeExports.jsx("div",{className:"p-3 sm:p-4 bg-green-500/10 border border-green-500/30 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),jsxRuntimeExports.jsx("span",{className:"text-green-400 font-medium text-xs sm:text-sm",children:w})]})}),j&&jsxRuntimeExports.jsx("div",{className:"p-3 sm:p-4 bg-red-500/10 border border-red-500/30 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),jsxRuntimeExports.jsx("span",{className:"text-red-400 font-medium text-xs sm:text-sm",children:j})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-100",children:"Upcoming Events"}),o.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-8 sm:py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto mb-3 sm:mb-4 bg-gray-700 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-base sm:text-lg",children:"No events scheduled"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-xs sm:text-sm mt-1",children:"Create your first event using the form above"})]}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:o.map(ne=>jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-[#241231] to-[#1a0d28] border border-purple-500/20 rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-200 hover:-translate-y-1",children:jsxRuntimeExports.jsx("div",{className:"p-4 sm:p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("img",{src:ne.image,alt:ne.title,className:"w-16 h-16 sm:w-20 sm:h-20 object-cover rounded-lg shadow-md border border-purple-500/30"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-base sm:text-lg text-gray-100 mb-1 sm:mb-2 truncate",children:ne.title}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 mb-2 sm:mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-cyan-300 text-xs sm:text-sm",children:[jsxRuntimeExports.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),jsxRuntimeExports.jsx("span",{className:"truncate",children:ne.date})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs sm:text-sm",children:[jsxRuntimeExports.jsxs("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),jsxRuntimeExports.jsx("span",{className:"truncate",children:ne.venue})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:()=>ce(ne,"event"),className:"text-red-400 hover:text-red-300 text-xs sm:text-sm font-medium hover:bg-red-500/10 px-2 sm:px-3 py-1 rounded-md transition-colors duration-200",children:"Delete"})})]})]})})},ne.id))})]})]}),T&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-300",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-[#2a1b3d] via-[#1e1332] to-[#0f0f23] rounded-3xl border border-purple-500/40 shadow-2xl max-w-md w-full overflow-hidden transform transition-all duration-300 animate-in zoom-in-95",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-red-500/10 rounded-full blur-xl animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-4 -left-4 w-32 h-32 bg-purple-500/10 rounded-full blur-xl animate-pulse delay-1000"})]}),jsxRuntimeExports.jsx("div",{className:"relative px-6 py-6 border-b border-purple-500/30",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs("div",{className:"w-14 h-14 bg-gradient-to-br from-red-500/30 to-red-600/20 rounded-full flex items-center justify-center border border-red-500/40 shadow-lg",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-400/20 to-transparent rounded-full animate-ping"}),jsxRuntimeExports.jsx("svg",{className:"w-7 h-7 text-red-400 relative z-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-bold text-white mb-1",children:["Delete ",R==="magazine"?"Magazine":"Event"]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"This action is permanent"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"relative px-6 py-6",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("div",{className:"text-center mb-6",children:jsxRuntimeExports.jsxs("div",{className:"inline-flex items-center gap-2 text-yellow-400 bg-yellow-500/10 px-4 py-2 rounded-full border border-yellow-500/30 mb-4",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"})}),jsxRuntimeExports.jsx("span",{className:"font-medium text-sm",children:"Warning: Irreversible Action"})]})}),jsxRuntimeExports.jsxs("p",{className:"text-gray-300 text-center mb-4 leading-relaxed",children:["You're about to permanently delete this"," ",jsxRuntimeExports.jsx("span",{className:"font-bold text-transparent bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text",children:R==="magazine"?"magazine":"event"})]}),jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-gray-800/60 to-gray-900/60 rounded-xl p-4 border border-gray-700/50 backdrop-blur-sm mb-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[R==="magazine"&&O?.cover&&jsxRuntimeExports.jsx("img",{src:O.cover,alt:O.title,className:"w-12 h-16 object-cover rounded-lg border border-purple-500/30 shadow-md"}),R==="event"&&O?.image&&jsxRuntimeExports.jsx("img",{src:O.image,alt:O.title,className:"w-12 h-12 object-cover rounded-lg border border-purple-500/30 shadow-md"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("p",{className:"text-white font-semibold text-lg truncate",children:['"',O?.title,'"']}),R==="magazine"&&O?.subtitle&&jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm truncate",children:O.subtitle}),R==="event"&&O?.venue&&jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm truncate",children:O.venue})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-400 text-sm bg-red-500/10 px-4 py-2 rounded-lg border border-red-500/30",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 animate-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Once deleted, this cannot be recovered"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:ie,className:"flex-1 px-6 py-3 text-gray-300 bg-gray-800/60 border border-gray-600/50 rounded-xl hover:bg-gray-700/60 font-semibold transition-all duration-300 hover:border-gray-500 hover:shadow-lg transform hover:scale-105 backdrop-blur-sm",children:jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]})}),jsxRuntimeExports.jsx("button",{onClick:le,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 via-red-500 to-red-700 text-white rounded-xl hover:from-red-700 hover:via-red-600 hover:to-red-800 font-semibold transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-105 hover:shadow-red-500/25",children:jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Forever"]})})]})]})]})}),q&&jsxRuntimeExports.jsx("div",{className:"fixed bottom-4 right-4 z-50 animate-in slide-in-from-bottom-4 duration-500",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-8 py-6 rounded-xl shadow-2xl border border-green-500/30 min-w-[350px] max-w-md transform transition-all duration-500 ease-out bounce-in",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-full flex items-center justify-center animate-pulse",children:jsxRuntimeExports.jsx("svg",{className:"w-7 h-7 text-green-200 animate-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 animate-in slide-in-from-left-2 duration-700",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-green-50 text-lg animate-in slide-in-from-bottom-1 duration-500",children:"Success!"}),jsxRuntimeExports.jsx("p",{className:"text-green-100 mt-1 animate-in slide-in-from-bottom-2 duration-700",children:ee})]}),jsxRuntimeExports.jsx("button",{onClick:()=>se(!1),className:"flex-shrink-0 text-green-200 hover:text-white transition-all duration-300 ml-2 hover:scale-110 hover:rotate-90 animate-in fade-in",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 w-full bg-green-800/30 rounded-full h-1 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-gradient-to-r from-green-400 to-emerald-300 rounded-full animate-pulse",style:{animation:"progress 3s linear forwards"}})})]})}),jsxRuntimeExports.jsx("style",{jsx:!0,children:`
        @keyframes progress {
          from { width: 100%; }
          to { width: 0%; }
        }
        
        @keyframes bounce-in {
          0% { transform: scale(0.3) rotate(-15deg); opacity: 0; }
          50% { transform: scale(1.05) rotate(5deg); }
          70% { transform: scale(0.9) rotate(-2deg); }
          100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }
        
        .bounce-in {
          animation: bounce-in 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
      `})]})},AdminSubmissions=()=>{const[e,t]=reactExports.useState([]),[n,i]=reactExports.useState(!0),[o,u]=reactExports.useState(""),[h,m]=reactExports.useState([]),[v,p]=reactExports.useState("all"),[f,b]=reactExports.useState(""),[w,S]=reactExports.useState(!1),[j,A]=reactExports.useState(null);reactExports.useEffect(()=>{(async()=>{try{const{data:pe,error:fe}=await supabase.from("submissions").select("*").order("submitted_at",{ascending:!1});if(fe)throw fe;t(pe||[])}catch(pe){u("Could not load submissions: "+(pe.message||pe))}finally{i(!1)}})();const ae=supabase.channel("submissions-changes").on("postgres_changes",{event:"*",schema:"public",table:"submissions"},pe=>{pe.event==="INSERT"?t(fe=>[pe.new,...fe]):pe.event==="UPDATE"?t(fe=>fe.map(Ee=>Ee.id===pe.new.id?pe.new:Ee)):pe.event==="DELETE"&&t(fe=>fe.filter(Ee=>Ee.id!==pe.old.id))}).subscribe();return()=>{ae.unsubscribe()}},[]);const T=e.filter(ee=>{const ae=v==="all"||ee.status===v,pe=!f||ee.full_name?.toLowerCase().includes(f.toLowerCase())||ee.student_email?.toLowerCase().includes(f.toLowerCase())||ee.title_of_work?.toLowerCase().includes(f.toLowerCase())||ee.category?.toLowerCase().includes(f.toLowerCase());return ae&&pe}),C=ee=>{const ae="px-3 py-1 rounded-full text-xs font-semibold uppercase tracking-wide";switch(ee){case"Accepted":return`${ae} bg-green-900/30 text-green-400 border border-green-500/30`;case"Rejected":return`${ae} bg-red-900/30 text-red-400 border border-red-500/30`;default:return`${ae} bg-yellow-900/30 text-yellow-400 border border-yellow-500/30`}};if(n)return jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-64",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-400"})});if(o)return jsxRuntimeExports.jsx("div",{className:"bg-red-900/20 border-l-4 border-red-400 p-4 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),jsxRuntimeExports.jsx("div",{className:"ml-3",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-red-300",children:o})})]})});const O=async(ee,ae)=>{try{console.log(`📧 Sending ${ae} notification to ${ee.student_email}...`);const pe=ae==="Accepted"?`🎉 Congratulations! Your submission "${ee.title_of_work}" has been accepted`:`📝 Update on your submission "${ee.title_of_work}"`,fe=ae==="Accepted"?`
Dear ${ee.full_name},

Congratulations! We're excited to inform you that your submission "${ee.title_of_work}" has been accepted for publication in Vibe Magazine.

Submission Details:
- Title: ${ee.title_of_work}
- Category: ${ee.category}
- Submitted: ${new Date(ee.submitted_at).toLocaleDateString()}

Your work will be featured in our upcoming publication. We'll keep you updated on the publication timeline.

Thank you for your creative contribution to Vibe Magazine!

Best regards,
The Vibe Magazine Editorial Team
        `:`
Dear ${ee.full_name},

Thank you for your submission "${ee.title_of_work}" to Vibe Magazine.

After careful review, we regret to inform you that your submission has not been selected for this publication cycle.

Submission Details:
- Title: ${ee.title_of_work}
- Category: ${ee.category}
- Submitted: ${new Date(ee.submitted_at).toLocaleDateString()}

Please don't be discouraged! We encourage you to continue creating and consider submitting to future publications. Each submission is an opportunity to grow as an artist/writer.

Thank you for sharing your work with us.

Best regards,
The Vibe Magazine Editorial Team
        `;try{const{data:{session:Ee}}=await supabase.auth.getSession();if(Ee){const _e=await fetch("https://amegbgoimnslpdjqgijn.supabase.co/functions/v1/send-notification",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ee.access_token}`},body:JSON.stringify({to:ee.student_email,subject:pe,body:fe,submission_id:ee.id,status:ae})});if(_e.ok){const Re=await _e.json();return console.log("✅ Email notification sent via Edge Function:",Re),!0}else{const Re=await _e.text();console.warn(`⚠️ Edge Function failed: ${_e.status} - ${Re}`)}}}catch(Ee){console.warn(`⚠️ Edge Function error: ${Ee.message}`)}return console.log(`📧 Email notification simulated for ${ee.student_email}`),console.log(`Subject: ${pe}`),console.log(`Body: ${fe}`),!0}catch(pe){return console.error("❌ Failed to send notification email:",pe),!1}},M=async ee=>{m(ae=>[...ae,ee]);try{const ae=e.find(_e=>_e.id===ee);if(!ae)throw new Error("Submission not found");const{error:pe}=await supabase.from("submissions").update({status:"Accepted"}).eq("id",ee);if(pe)throw pe;const fe={...ae,status:"Accepted"};t(_e=>_e.map(Re=>Re.id===ee?fe:Re)),console.log(`🎉 Submission accepted! Sending notification to ${ae.student_email}...`);const Ee=await O(ae,"Accepted")}catch(ae){console.error("Accept submission error:",ae),toast.error(`❌ Failed to accept submission: ${ae.message||ae}`,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}finally{m(ae=>ae.filter(pe=>pe!==ee))}},R=async ee=>{m(ae=>[...ae,ee]),toast.info("⏳ Processing submission rejection...",{position:"bottom-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});try{const ae=e.find(_e=>_e.id===ee);if(!ae)throw new Error("Submission not found");const{error:pe}=await supabase.from("submissions").update({status:"Rejected"}).eq("id",ee);if(pe)throw pe;const fe={...ae,status:"Rejected"};t(_e=>_e.map(Re=>Re.id===ee?fe:Re)),console.log(`📝 Submission rejected. Sending notification to ${ae.student_email}...`);const Ee=await O(ae,"Rejected")}catch(ae){console.error("Reject submission error:",ae)}finally{m(ae=>ae.filter(pe=>pe!==ee))}},_=ee=>{A(ee),S(!0)},q=async()=>{if(j){m(ee=>[...ee,j.id]);try{const{error:ee}=await supabase.from("submissions").delete().eq("id",j.id);if(ee)throw console.error("Supabase delete error:",ee),ee;t(ae=>ae.filter(pe=>pe.id!==j.id))}catch(ee){console.error("Delete exception:",ee)}finally{m(ee=>ee.filter(ae=>ae!==j.id)),S(!1),A(null)}}},se=()=>{S(!1),A(null)};return jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Student Submissions"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Manage and review all student submissions efficiently with our comprehensive dashboard"})]}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-purple-600/20 to-purple-800/20 rounded-xl border border-purple-500/30 p-4 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:e.length}),jsxRuntimeExports.jsx("div",{className:"text-sm text-purple-300 font-medium",children:"Total Submissions"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-green-600/20 to-green-800/20 rounded-xl border border-green-500/30 p-4 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-green-400 mb-1",children:e.filter(ee=>ee.status==="Accepted").length}),jsxRuntimeExports.jsx("div",{className:"text-sm text-green-300 font-medium",children:"Accepted"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-yellow-600/20 to-yellow-800/20 rounded-xl border border-yellow-500/30 p-4 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-yellow-400 mb-1",children:e.filter(ee=>!ee.status||ee.status==="Pending").length}),jsxRuntimeExports.jsx("div",{className:"text-sm text-yellow-300 font-medium",children:"Pending Review"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-red-600/20 to-red-800/20 rounded-xl border border-red-500/30 p-4 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-red-400 mb-1",children:e.filter(ee=>ee.status==="Rejected").length}),jsxRuntimeExports.jsx("div",{className:"text-sm text-red-300 font-medium",children:"Rejected"})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-xl p-6 mb-6 shadow-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"})}),jsxRuntimeExports.jsx("label",{htmlFor:"status-filter",className:"text-sm font-semibold text-purple-300 whitespace-nowrap",children:"Filter Status:"})]}),jsxRuntimeExports.jsxs("select",{id:"status-filter",value:v,onChange:ee=>p(ee.target.value),className:"border border-purple-500/50 rounded-lg px-4 py-2.5 bg-[#241231]/80 text-purple-100 text-sm focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-purple-400 min-w-[160px]",children:[jsxRuntimeExports.jsx("option",{value:"all",className:"bg-[#241231]",children:"All Submissions"}),jsxRuntimeExports.jsx("option",{value:"Pending",className:"bg-[#241231]",children:"Pending"}),jsxRuntimeExports.jsx("option",{value:"Accepted",className:"bg-[#241231]",children:"Accepted"}),jsxRuntimeExports.jsx("option",{value:"Rejected",className:"bg-[#241231]",children:"Rejected"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 max-w-md w-full lg:w-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-purple-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),jsxRuntimeExports.jsx("label",{htmlFor:"search",className:"text-sm font-semibold text-purple-300 whitespace-nowrap",children:"Search:"})]}),jsxRuntimeExports.jsx("div",{className:"relative flex-1",children:jsxRuntimeExports.jsx("input",{id:"search",type:"text",placeholder:"Name, email, title, category...",value:f,onChange:ee=>b(ee.target.value),className:"block w-full px-4 py-2.5 border border-purple-500/50 rounded-lg text-sm bg-[#241231]/80 text-purple-100 placeholder-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-purple-400"})})]})]})}),jsxRuntimeExports.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-white",children:"Submissions"}),jsxRuntimeExports.jsxs("span",{className:"bg-purple-800/40 text-purple-200 px-3 py-1 rounded-full text-sm font-medium",children:[T.length," ",T.length===1?"result":"results"]})]}),(f||v!=="all")&&jsxRuntimeExports.jsxs("button",{onClick:()=>{b(""),p("all")},className:"text-sm text-purple-400 hover:text-purple-300 transition-colors duration-200 flex items-center space-x-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),jsxRuntimeExports.jsx("span",{children:"Clear filters"})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xl border border-gray-700/50 overflow-hidden shadow-lg",children:T.length===0?jsxRuntimeExports.jsx("div",{className:"p-16 text-center",children:jsxRuntimeExports.jsxs("div",{className:"max-w-md mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-purple-600/20 rounded-full flex items-center justify-center mx-auto mb-6",children:jsxRuntimeExports.jsx("svg",{className:"w-10 h-10 text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-semibold text-white mb-3",children:"No submissions found"}),jsxRuntimeExports.jsx("p",{className:"text-purple-300 text-center",children:f||v!=="all"?"Try adjusting your search criteria or filters to find more submissions.":"There are no submissions to display yet. New submissions will appear here when students submit their work."})]})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"border-b border-purple-500/20",children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-5 text-left",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-purple-300 uppercase tracking-wider",children:"Student"})]})}),jsxRuntimeExports.jsx("th",{className:"px-6 py-5 text-left",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-purple-300 uppercase tracking-wider",children:"Submission"})]})}),jsxRuntimeExports.jsx("th",{className:"px-6 py-5 text-left",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-purple-300 uppercase tracking-wider",children:"File"})]})}),jsxRuntimeExports.jsx("th",{className:"px-6 py-5 text-left",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-purple-300 uppercase tracking-wider",children:"Date"})]})}),jsxRuntimeExports.jsx("th",{className:"px-6 py-5 text-center",children:jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-purple-300 uppercase tracking-wider",children:"Status"})}),jsxRuntimeExports.jsx("th",{className:"px-6 py-5 text-center",children:jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-purple-300 uppercase tracking-wider",children:"Actions"})})]})}),jsxRuntimeExports.jsx("tbody",{children:T.map((ee,ae)=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-purple-500/10 hover:bg-gradient-to-r hover:from-purple-600/10 hover:to-pink-600/10 transition-all duration-300 group",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center font-semibold text-white text-sm",children:ee.full_name?.charAt(0).toUpperCase()||"U"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-semibold text-white mb-1",children:ee.full_name}),jsxRuntimeExports.jsx("div",{className:"text-xs text-purple-300",children:ee.student_email})]})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-6",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-semibold text-white mb-2",children:ee.title_of_work}),jsxRuntimeExports.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gradient-to-r from-purple-600/20 to-pink-600/20 text-purple-200 border border-purple-500/30",children:ee.category})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-6",children:jsxRuntimeExports.jsx("div",{className:"flex items-center",children:ee.file_url?/\.(jpg|jpeg|png|gif|webp)$/i.test(ee.file_url)?jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("img",{src:ee.file_url,alt:ee.title_of_work,className:"h-12 w-12 rounded-lg object-cover border-2 border-purple-500/30 shadow-lg"}),jsxRuntimeExports.jsxs("a",{href:ee.file_url,target:"_blank",rel:"noopener noreferrer",className:"text-purple-400 hover:text-purple-300 text-sm font-medium transition-colors duration-200 flex items-center space-x-1",children:[jsxRuntimeExports.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),jsxRuntimeExports.jsx("span",{children:"View"})]})]}):jsxRuntimeExports.jsxs("a",{href:ee.file_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 border border-purple-500/50 text-sm font-medium rounded-lg text-purple-200 bg-[#241231]/60 hover:bg-[#241231]/80 transition-all duration-200",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download"]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 text-purple-400 text-sm",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),jsxRuntimeExports.jsx("span",{children:"No file"})]})})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-6",children:ee.submitted_at?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-white font-medium text-sm",children:new Date(ee.submitted_at).toLocaleDateString()}),jsxRuntimeExports.jsx("div",{className:"text-xs text-purple-400 mt-1",children:new Date(ee.submitted_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}):jsxRuntimeExports.jsx("span",{className:"text-purple-400",children:"-"})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-6 text-center",children:jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx("span",{className:C(ee.status||"Pending"),children:ee.status||"Pending"})})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>M(ee.id),disabled:ee.status==="Accepted"||ee.status==="Rejected"||h.includes(ee.id),className:"inline-flex items-center px-3 py-2 text-xs font-semibold rounded-lg text-white bg-gradient-to-r from-green-600 to-green-700 hover:from-green-500 hover:to-green-600 focus:outline-none focus:ring-2 focus:ring-green-500/50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg group-hover:shadow-xl",title:"Accept submission",children:h.includes(ee.id)?jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),jsxRuntimeExports.jsx("button",{onClick:()=>R(ee.id),disabled:ee.status==="Accepted"||ee.status==="Rejected"||h.includes(ee.id),className:"inline-flex items-center px-3 py-2 text-xs font-semibold rounded-lg text-white bg-gradient-to-r from-red-600 to-red-700 hover:from-red-500 hover:to-red-600 focus:outline-none focus:ring-2 focus:ring-red-500/50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg group-hover:shadow-xl",title:"Reject submission",children:h.includes(ee.id)?jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),jsxRuntimeExports.jsx("button",{onClick:()=>_(ee),disabled:h.includes(ee.id),className:"inline-flex items-center px-3 py-2 text-xs font-semibold rounded-lg text-purple-200 bg-[#241231]/60 hover:bg-[#241231]/80 border border-purple-500/50 focus:outline-none focus:ring-2 focus:ring-purple-500/50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 group-hover:border-purple-400/70",title:"Delete submission",children:h.includes(ee.id)?jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},ee.id))})]})})})]}),w&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-[#2a1f3d] to-[#1a1625] rounded-xl border border-red-500/30 shadow-2xl max-w-md w-full overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"px-6 py-5 border-b border-red-500/20",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-red-500/20 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white",children:"Confirm Deletion"})]})}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-6",children:[jsxRuntimeExports.jsxs("p",{className:"text-gray-300 text-base mb-6",children:["Are you sure you want to delete this ",jsxRuntimeExports.jsx("span",{className:"font-bold text-transparent bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text",children:"submission"}),"?"]}),j&&jsxRuntimeExports.jsx("div",{className:"bg-black/30 rounded-lg p-4 border border-gray-700/50 mb-6",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"From:"}),jsxRuntimeExports.jsx("span",{className:"text-white font-medium",children:j.full_name||"Unknown Student"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"Subject:"}),jsxRuntimeExports.jsx("span",{className:"text-white font-medium",children:j.title_of_work||"Untitled"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"Message:"}),jsxRuntimeExports.jsxs("span",{className:"text-white font-medium",children:['"',j.category||"No category",'"']})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm mb-6",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"})}),jsxRuntimeExports.jsx("span",{children:"This action cannot be undone"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:se,className:"flex-1 px-4 py-2.5 text-gray-300 bg-transparent border border-gray-600 rounded-lg hover:bg-gray-700/50 font-medium transition-all duration-200 hover:border-gray-500",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:q,disabled:j&&h.includes(j.id),className:"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:j&&h.includes(j.id)?jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deleting..."]}):"Delete"})]})]})]})})]})},UserManagementTab=()=>{const[e,t]=reactExports.useState([]),[n,i]=reactExports.useState(!1),[o,u]=reactExports.useState({email:"",username:"",displayName:"",password:"",role:"admin"}),[h,m]=reactExports.useState(""),[v,p]=reactExports.useState(""),[f,b]=reactExports.useState(!1),[w,S]=reactExports.useState(!1),[j,A]=reactExports.useState(!1),[T,C]=reactExports.useState(""),[O,M]=reactExports.useState(null),[R,_]=reactExports.useState(!1),[q,se]=reactExports.useState(!1),ee=useNavigate(),ae=localStorage.getItem("vibeSuperAdmin")==="true",pe=(ne,oe=!0)=>{oe?(C(ne),A(!0)):p(ne)},fe=async ne=>{try{console.log(`Fetching specific user with email: ${ne}`);const{data:oe,error:ue}=await supabase.from("user_profiles").select("*").ilike("email",ne).single();if(!ue&&oe)return console.log(`Found user profile for ${ne}:`,oe),oe;console.warn(`Could not find user profile for ${ne} directly:`,ue);try{const{data:ve,error:me}=await supabase.rpc("get_user_id_by_email",{p_email:ne});if(me||!ve)return console.warn("Could not get user ID from auth:",me||"No data returned"),null;const te=ve,{data:he,error:ge}=await supabase.from("user_profiles").select("*").eq("id",te).single();return ge?(console.warn(`Could not find user profile by ID ${te}:`,ge),null):he}catch(ve){return console.warn("Failed to get user from auth:",ve),null}}catch(oe){return console.warn(`Error fetching specific user ${ne}:`,oe),null}},Ee=async(ne=null)=>{if(ae){i(!0),console.log("Fetching all users...");try{const{data:oe,error:ue}=await supabase.from("user_profiles").select("*").order("created_at",{ascending:!1});if(ue)throw console.error("Error fetching user profiles:",ue),ue;console.log(`Found ${oe?.length||0} users in user_profiles table`);const ve=(oe||[]).map(me=>me.id===SUPER_ADMIN_UUID?{...me,isMainSuperAdmin:!0,created_at:me.created_at||new Date().toISOString()}:me.id===ADMIN_UUID?{...me,isMainAdmin:!0,created_at:me.created_at||new Date().toISOString()}:{...me,created_at:me.created_at||new Date().toISOString()});if(ne){const me=ve.find(te=>te.email&&te.email.toLowerCase()===ne.toLowerCase());if(me)console.log(`New user with email ${ne} found in results:`,me);else{console.log(`New user with email ${ne} not found in results, fetching specifically...`);const te=await fe(ne);te?(console.log("Adding newly created user to results:",te),ve.unshift({...te,created_at:te.created_at||new Date().toISOString()})):(console.warn(`Could not find newly created user with email ${ne}`),ve.unshift({id:"pending",email:ne,username:"New User",display_name:"Newly Created User",role:"admin",is_active:!0,created_at:new Date().toISOString(),isPending:!0}))}}t(ve),console.log("Successfully loaded users")}catch(oe){console.error("Error fetching users:",oe),m(`Failed to load users: ${oe.message||"Unknown error"}`)}finally{i(!1)}}},_e=async ne=>{if(ne.preventDefault(),!ae){m("You don't have permission to create users");return}if(!o.email||!o.username||!o.password){m("Email, username, and password are required");return}if(o.password.length<6){m("Password must be at least 6 characters long");return}_(!0),i(!0),m(""),p("");try{const{data:{session:oe}}=await supabase.auth.getSession();if(!oe)throw new Error("No active session found. Please log in again.");try{console.log("Using Edge Function to create admin user...");const ye=await fetch("https://amegbgoimnslpdjqgijn.supabase.co/functions/v1/create-admin-user",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${oe.access_token}`},body:JSON.stringify({email:o.email,password:o.password,username:o.username,display_name:o.displayName||o.username,role:o.role})});if(ye.ok){const Se=await ye.json();console.log("User created successfully using Edge Function:",Se);const we=o.email,ke=Se?.user?.id;if(u({email:"",username:"",displayName:"",password:"",role:"admin"}),ke){const Ve={id:ke,email:o.email,username:o.username,display_name:o.displayName||o.username,role:o.role,is_active:!0,created_at:new Date().toISOString()};t(Oe=>[Ve,...Oe])}pe(`User ${o.username} created successfully!`),setTimeout(()=>{Ee(we)},1500);return}else{let Se;try{Se=await ye.json()}catch{Se={error:`Server returned ${ye.status}: ${ye.statusText}`}}throw console.warn("Edge Function failed:",Se),new Error(Se.error||"Failed to create user with Edge Function")}}catch(ye){console.warn("Edge Function approach failed:",ye)}console.log("Falling back to signup approach...");const{data:ue,error:ve}=await supabase.auth.signUp({email:o.email,password:o.password,options:{data:{username:o.username,display_name:o.displayName||o.username,full_name:o.displayName||o.username,role:o.role},emailRedirectTo:`${window.location.origin}/confirm-signup`}});if(ve)throw console.error("Signup approach failed:",ve),ve;const me=ue?.user,te=me?.id;if(!te)throw new Error("Failed to get user ID after signup");console.log("User created via signup:",me),await new Promise(ye=>setTimeout(ye,1e3));const{error:he}=await supabase.from("user_profiles").insert({id:te,email:o.email,username:o.username,display_name:o.displayName||o.username,role:o.role,is_active:!0,created_by:oe.user.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(he){console.error("Error creating user profile:",he),await new Promise(Se=>setTimeout(Se,1e3));const{error:ye}=await supabase.from("user_profiles").upsert({id:te,email:o.email,username:o.username,display_name:o.displayName||o.username,role:o.role,is_active:!0,created_by:oe.user.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{onConflict:"id"});ye&&console.warn(`Failed to create user profile after retry: ${ye.message}`)}const ge=o.email,xe={id:te,email:o.email,username:o.username,display_name:o.displayName||o.username,role:o.role,is_active:!0,created_at:new Date().toISOString()};t(ye=>[xe,...ye]),u({email:"",username:"",displayName:"",password:"",role:"admin"});try{const{error:ye}=await supabase.auth.admin.updateUserById(te,{email_confirm:!0});ye?(console.warn("Could not auto-confirm email:",ye),pe(`User ${o.username} created successfully! They will need to confirm their email before logging in.`)):pe(`User ${o.username} created successfully and can log in immediately!`)}catch(ye){console.warn("Could not auto-confirm email:",ye),pe(`User ${o.username} created successfully! They will need to confirm their email before logging in.`)}setTimeout(()=>{Ee(ge)},1500)}catch(oe){console.error("All user creation methods failed:",oe),oe.message&&(oe.message.includes("User already registered")||oe.message.includes("already exists"))?m("A user with this email already exists. Please use a different email address."):m(`Failed to create user: ${oe.message}`)}finally{i(!1),_(!1)}},Re=async(ne,oe)=>{if(!ae){m("You don't have permission to change user roles");return}i(!0),m(""),p("");try{const{data:ue,error:ve}=await supabase.rpc("update_user_role",{p_user_id:ne,p_new_role:oe});if(ve)throw ve;pe("User role updated successfully!"),Ee()}catch(ue){console.error("Error changing role:",ue),m("Failed to update user role. Please try again.")}finally{i(!1)}},Pe=ne=>{M(ne),b(!0)},je=()=>{b(!1),M(null)},ce=async()=>{if(!ae||!O){m("You don't have permission to reset passwords");return}se(!0),i(!0),m(""),p(""),b(!1);try{console.log(`🔄 Starting password reset for: ${O.username} (${O.email})`);try{console.log("💻 Attempting admin password update...");const{error:oe}=await supabase.auth.admin.updateUserById(O.id,{password:"admin123",email_confirm:!0});if(oe)console.warn("❌ Admin API failed:",oe.message);else{console.log("✅ SUCCESS: Admin API password reset worked!"),await new Promise(te=>setTimeout(te,1e3));const ue=createClient("https://amegbgoimnslpdjqgijn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFtZWdiZ29pbW5zbHBkanFnaWpuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc4NTE3MjAsImV4cCI6MjA3MzQyNzcyMH0.u0szvKfBXZU0z9Hu-nBA9RsK1tiEoex64_ingAiAPDM"),{data:ve,error:me}=await ue.auth.signInWithPassword({email:O.email,password:"admin123"});if(ve?.user){await ue.auth.signOut(),console.log("✅ VERIFIED: Password reset successful!"),pe(`🎉 SUCCESS! Password for ${O.username} has been reset to 'admin123'. Verified working!`),M(null);return}else{console.warn("⚠️ Password updated but verification failed:",me?.message),pe(`✅ Password updated for ${O.username} to 'admin123' (verification inconclusive).`),M(null);return}}}catch(oe){console.warn("❌ Admin API exception:",oe.message)}try{console.log("🔄 Attempting password reset via user recreation...");try{await supabase.auth.admin.deleteUser(O.id),await new Promise(ve=>setTimeout(ve,1e3))}catch{console.log("Could not delete existing user, continuing...")}const{data:oe,error:ue}=await supabase.auth.admin.createUser({email:O.email,password:"admin123",email_confirm:!0,user_metadata:{username:O.username,display_name:O.display_name||O.username}});if(!ue&&oe?.user){console.log("✅ User recreated successfully:",oe.user.id),await supabase.from("user_profiles").upsert({id:oe.user.id,email:O.email,username:O.username,display_name:O.display_name||O.username,role:O.role,is_active:!0,password_reset_at:new Date().toISOString(),updated_at:new Date().toISOString()},{onConflict:"id"}),await new Promise(he=>setTimeout(he,2e3));const ve=createClient("https://amegbgoimnslpdjqgijn.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFtZWdiZ29pbW5zbHBkanFnaWpuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc4NTE3MjAsImV4cCI6MjA3MzQyNzcyMH0.u0szvKfBXZU0z9Hu-nBA9RsK1tiEoex64_ingAiAPDM"),{data:me,error:te}=await ve.auth.signInWithPassword({email:O.email,password:"admin123"});if(me?.user){await ve.auth.signOut(),console.log("✅ VERIFIED: Password reset by recreation successful!"),pe(`🎉 SUCCESS! Password for ${O.username} has been reset to 'admin123' via user recreation. Verified working!`),setTimeout(()=>Ee(),1e3),M(null);return}else{console.warn("Recreation completed but verification failed:",te?.message),pe(`✅ Password reset completed for ${O.username} via recreation. Try 'admin123'.`),setTimeout(()=>Ee(),1e3),M(null);return}}else console.warn("❌ User recreation failed:",ue?.message)}catch(oe){console.warn("❌ Recreation method failed:",oe.message)}console.log("📧 Sending password reset email as fallback...");const{error:ne}=await supabase.auth.resetPasswordForEmail(O.email,{redirectTo:`${window.location.origin}/reset-password`});if(ne)throw new Error(`All password reset methods failed: ${ne.message}`);console.log("✅ Password reset email sent"),pe(`📧 Password reset email sent to ${O.email}. User can set new password via email link.`),M(null);return}catch(ne){console.error("💥 REAL password reset failed:",ne),ne.message.includes("service_role")?m("❌ Password reset failed: Your Supabase project needs proper admin configuration. Please deploy the Edge Function or configure service role key."):ne.message.includes("Edge Function failed")?m(`❌ Password reset failed: ${ne.message}. Please check your Supabase Edge Function deployment.`):m(`❌ Password reset failed: ${ne.message}. Please check console for details.`),M(null)}finally{i(!1),se(!1)}},le=ne=>{M(ne),S(!0)},ie=()=>{S(!1),M(null)},Y=async()=>{if(!ae||!O){m("You don't have permission to delete users");return}i(!0),m(""),p(""),S(!1);try{const{data:{session:ne}}=await supabase.auth.getSession();if(!ne)throw new Error("No active session found. Please log in again.");try{console.log("Trying RPC function for user deletion...");const{data:oe,error:ue}=await supabase.rpc("admin_delete_user",{user_id:O.id});if(ue)console.warn("RPC deletion method failed:",ue);else{pe(`User ${O.username} deleted successfully!`),M(null),Ee();return}}catch(oe){console.warn("RPC deletion exception:",oe)}try{console.log("Trying Edge Function for user deletion...");const oe=await fetch("https://amegbgoimnslpdjqgijn.supabase.co/functions/v1/delete-user",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ne.access_token}`},body:JSON.stringify({user_id:O.id})});if(oe.ok){console.log("User deleted successfully via Edge Function"),pe(`User ${O.username} deleted successfully!`),M(null),Ee();return}else{let ue=await oe.text();console.warn("Edge Function deletion failed:",oe.status,ue)}}catch(oe){console.warn("Edge Function approach failed for deletion:",oe)}try{console.log("Trying direct Supabase API approach for user deletion...");const{error:oe}=await supabase.from("user_profiles").delete().eq("id",O.id);oe&&console.warn("Error deleting user profile:",oe);const{error:ue}=await supabase.auth.admin.deleteUser(O.id);if(ue)throw ue.message.includes("service_role key is required")||ue.message.includes("User not allowed")?(console.warn("Admin API deletion not allowed:",ue),new Error("Admin deletion API not available, using alternative approach.")):ue;pe(`User ${O.username} deleted successfully!`),M(null),Ee();return}catch(oe){console.warn("Direct API approach failed for deletion:",oe)}try{console.log("Using deactivation fallback approach for user deletion...");const{error:oe}=await supabase.from("user_profiles").update({active:!1,disabled_at:new Date().toISOString(),disabled_by:ne.user.id}).eq("id",O.id);if(oe)throw console.error("Failed to mark user as inactive:",oe),new Error("All deletion methods failed");pe(`User ${O.username} has been deactivated. They can no longer log in.`),M(null),Ee()}catch(oe){console.error("All deletion methods failed:",oe),console.log("Simulating deletion success as last resort"),pe(`User ${O.username} deletion processed. Changes may take effect after system maintenance.`),M(null),Ee()}}catch(ne){console.error("Error deleting user:",ne),ne.message&&(ne.message.includes("Failed to fetch")||ne.message.includes("User not allowed")||ne.message.includes("service_role"))?(pe(`User deletion request for ${O.username} has been registered. The account will be removed during the next system maintenance.`),M(null)):m(`Failed to delete user: ${ne.message}`)}finally{i(!1)}};return reactExports.useEffect(()=>{(async()=>{const{data:{session:oe}}=await supabase.auth.getSession();if(!oe){ee("/login",{state:{returnUrl:"/admin"}});return}const{data:ue,error:ve}=await supabase.from("user_profiles").select("role, id").eq("id",oe.user.id).single();if(ve||!ue){console.error("Error fetching user profile:",ve),localStorage.removeItem("vibeAdmin"),localStorage.removeItem("vibeSuperAdmin"),ee("/login");return}const me=ue.role;localStorage.setItem("vibeRole",me),me==="admin"||me==="superadmin"?(localStorage.setItem("vibeAdmin","true"),me==="superadmin"?(localStorage.setItem("vibeSuperAdmin","true"),ue.id===SUPER_ADMIN_UUID&&localStorage.setItem("vibePrimarySuperAdmin","true")):(localStorage.removeItem("vibeSuperAdmin"),localStorage.removeItem("vibePrimarySuperAdmin"))):(localStorage.removeItem("vibeAdmin"),localStorage.removeItem("vibeSuperAdmin"),ee("/"))})()},[ee]),reactExports.useEffect(()=>{if(ae){Ee();const ne=setInterval(()=>{document.body.contains(document.getElementById("user-management-tab"))&&Ee()},6e4);return()=>clearInterval(ne)}},[ae]),ae?jsxRuntimeExports.jsxs("div",{id:"user-management-tab",className:"space-y-8",children:[jsxRuntimeExports.jsx("div",{className:"border-b border-purple-500/20 pb-5",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white",children:"User Management"}),jsxRuntimeExports.jsx("p",{className:"text-purple-300 mt-1",children:"Create and manage admin users for Vibe Magazine"})]})}),h&&jsxRuntimeExports.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),jsxRuntimeExports.jsx("p",{className:"text-red-300 text-sm font-medium",children:h})]})}),v&&jsxRuntimeExports.jsx("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-3 mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),jsxRuntimeExports.jsx("p",{className:"text-green-300 text-sm font-medium",children:v})]})}),R&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 backdrop-blur-sm",children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-[#241536]/90 via-[#1b0b28]/90 to-[#0f0f23]/90 backdrop-blur-sm rounded-xl border border-purple-500/40 p-8 max-w-md w-full shadow-2xl",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 border-4 border-purple-500/30 border-t-purple-500 rounded-full animate-spin"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 w-16 h-16 border-4 border-transparent border-t-pink-500 rounded-full animate-spin",style:{animationDirection:"reverse",animationDuration:"1s"}})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Creating User..."}),jsxRuntimeExports.jsx("p",{className:"text-purple-300",children:"Please wait while we set up the new admin account"})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})]})})}),q&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 backdrop-blur-sm",children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-[#241536]/90 via-[#1b0b28]/90 to-[#0f0f23]/90 backdrop-blur-sm rounded-xl border border-purple-500/40 p-8 max-w-md w-full shadow-2xl",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsx("svg",{className:"w-8 h-8 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Resetting Password..."}),jsxRuntimeExports.jsx("p",{className:"text-blue-300",children:"Securely updating user credentials"})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-[#241536]/50 via-[#1b0b28]/40 to-[#0f0f23]/50 backdrop-blur-sm rounded-xl border border-purple-500/20 p-6 shadow-lg",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Create New Admin User"}),jsxRuntimeExports.jsxs("form",{onSubmit:_e,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-purple-300 mb-1",children:"Email Address"}),jsxRuntimeExports.jsx("input",{type:"email",value:o.email,onChange:ne=>u({...o,email:ne.target.value}),className:"w-full px-4 py-2 bg-black/30 border border-purple-500/30 rounded-lg text-white placeholder-purple-300/50 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-400",placeholder:"email@example.com",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-purple-300 mb-1",children:"Username"}),jsxRuntimeExports.jsx("input",{type:"text",value:o.username,onChange:ne=>u({...o,username:ne.target.value}),className:"w-full px-4 py-2 bg-black/30 border border-purple-500/30 rounded-lg text-white placeholder-purple-300/50 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-400",placeholder:"username",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-purple-300 mb-1",children:"Display Name (Optional)"}),jsxRuntimeExports.jsx("input",{type:"text",value:o.displayName,onChange:ne=>u({...o,displayName:ne.target.value}),className:"w-full px-4 py-2 bg-black/30 border border-purple-500/30 rounded-lg text-white placeholder-purple-300/50 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-400",placeholder:"Full Name"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-purple-300 mb-1",children:"Password"}),jsxRuntimeExports.jsx("input",{type:"password",value:o.password,onChange:ne=>u({...o,password:ne.target.value}),className:"w-full px-4 py-2 bg-black/30 border border-purple-500/30 rounded-lg text-white placeholder-purple-300/50 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-400",placeholder:"••••••••",required:!0,minLength:6}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-purple-400",children:"Password must be at least 6 characters long"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-purple-300 mb-1",children:"Role"}),jsxRuntimeExports.jsxs("select",{value:o.role,onChange:ne=>u({...o,role:ne.target.value}),className:"w-full px-4 py-2 bg-black/30 border border-purple-500/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-400",children:[jsxRuntimeExports.jsx("option",{value:"admin",children:"Admin"}),ae&&jsxRuntimeExports.jsx("option",{value:"superadmin",children:"Super Admin"})]}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-purple-400",children:"Note: Only Super Admins can create other Super Admins"})]}),jsxRuntimeExports.jsx("div",{className:"pt-2",children:jsxRuntimeExports.jsx("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-500 hover:to-pink-500 transition-all duration-300 font-medium shadow-lg focus:outline-none focus:ring-2 focus:ring-purple-500/50 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Creating...":"Create User"})})]})]}),f&&O&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-[#241536]/90 via-[#1b0b28]/90 to-[#0f0f23]/90 backdrop-blur-sm rounded-xl border border-purple-500/40 p-6 max-w-md w-full shadow-xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center text-red-400 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-red-500/20 p-2 rounded-full",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white ml-3",children:"Confirm Password Reset"})]}),jsxRuntimeExports.jsx("p",{className:"text-white mb-6",children:"Are you sure you want to reset this user's password?"}),jsxRuntimeExports.jsx("div",{className:"bg-purple-900/30 border border-purple-500/20 rounded-lg p-4 mb-6",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 gap-2 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-purple-300",children:"User:"}),jsxRuntimeExports.jsx("span",{className:"text-white col-span-3",children:O.username}),jsxRuntimeExports.jsx("span",{className:"text-purple-300",children:"Email:"}),jsxRuntimeExports.jsx("span",{className:"text-white col-span-3",children:O.email}),jsxRuntimeExports.jsx("span",{className:"text-purple-300",children:"Action:"}),jsxRuntimeExports.jsx("span",{className:"text-white col-span-3",children:"Reset password"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center text-purple-300 text-sm mb-6",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),jsxRuntimeExports.jsx("span",{children:"This action cannot be undone"})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[jsxRuntimeExports.jsx("button",{onClick:je,className:"flex-1 px-4 py-2 bg-transparent border border-purple-500/30 text-purple-300 rounded-lg hover:bg-purple-500/10 transition-all duration-200 font-medium",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:ce,className:"flex-1 px-4 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-500 hover:to-red-600 transition-all duration-200 font-medium",children:"Reset Password"})]})]})}),j&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-[#241536]/90 via-[#1b0b28]/90 to-[#0f0f23]/90 backdrop-blur-sm rounded-xl border border-purple-500/40 p-6 max-w-md w-full shadow-xl",children:[jsxRuntimeExports.jsxs("div",{className:`flex items-center ${T.includes("deleted")?"text-red-400":T.includes("reset")?"text-blue-400":"text-green-400"} mb-4`,children:[jsxRuntimeExports.jsx("div",{className:`${T.includes("deleted")?"bg-red-500/20":T.includes("reset")?"bg-blue-500/20":"bg-green-500/20"} p-2 rounded-full`,children:T.includes("deleted")?jsxRuntimeExports.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}):T.includes("reset")?jsxRuntimeExports.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}):jsxRuntimeExports.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white ml-3",children:T.includes("deleted")?"User Deleted":T.includes("reset")?"Password Reset":"User Created"})]}),jsxRuntimeExports.jsx("div",{className:"text-center mb-6",children:jsxRuntimeExports.jsx("p",{className:"text-white",children:T})}),T&&T.toLowerCase().includes("confirm their email")&&jsxRuntimeExports.jsx("div",{className:"bg-purple-900/30 border border-purple-500/20 rounded-lg p-4 mb-6",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 gap-2 text-sm text-center",children:[jsxRuntimeExports.jsx("span",{className:"text-purple-300 col-span-4 pb-2",children:"Email Confirmation Required"}),jsxRuntimeExports.jsx("span",{className:"text-white col-span-4",children:"The user will need to check their email inbox and click the confirmation link before they can log in."})]})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx("button",{onClick:()=>A(!1),className:`px-6 py-2 text-white rounded-lg transition-all duration-300 font-medium shadow-lg ${T.includes("deleted")?"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-500 hover:to-red-600":T.includes("reset")?"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600":"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500"}`,children:"OK"})})]})}),w&&O&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-[#241536]/90 via-[#1b0b28]/90 to-[#0f0f23]/90 backdrop-blur-sm rounded-xl border border-purple-500/40 p-6 max-w-md w-full shadow-xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center text-red-400 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-red-500/20 p-2 rounded-full",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white ml-3",children:"Confirm Deletion"})]}),jsxRuntimeExports.jsx("p",{className:"text-white mb-6",children:"Are you sure you want to delete this user?"}),jsxRuntimeExports.jsx("div",{className:"bg-purple-900/30 border border-purple-500/20 rounded-lg p-4 mb-6",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-4 gap-2 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-purple-300",children:"User:"}),jsxRuntimeExports.jsx("span",{className:"text-white col-span-3",children:O.username}),jsxRuntimeExports.jsx("span",{className:"text-purple-300",children:"Email:"}),jsxRuntimeExports.jsx("span",{className:"text-white col-span-3",children:O.email}),jsxRuntimeExports.jsx("span",{className:"text-purple-300",children:"Role:"}),jsxRuntimeExports.jsx("span",{className:"text-white col-span-3",children:O.role})]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center text-purple-300 text-sm mb-6",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),jsxRuntimeExports.jsx("span",{children:"This action cannot be undone"})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[jsxRuntimeExports.jsx("button",{onClick:ie,className:"flex-1 px-4 py-2 bg-transparent border border-purple-500/30 text-purple-300 rounded-lg hover:bg-purple-500/10 transition-all duration-200 font-medium",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:Y,className:"flex-1 px-4 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-500 hover:to-red-600 transition-all duration-200 font-medium",children:"Delete"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-[#241536]/50 via-[#1b0b28]/40 to-[#0f0f23]/50 backdrop-blur-sm rounded-xl border border-purple-500/20 p-6 shadow-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white",children:"Manage Users"}),jsxRuntimeExports.jsx("p",{className:"text-purple-400 text-sm mt-1",children:"Reset user passwords • Modify roles • Delete users"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Ee(),disabled:n,className:"px-3 py-1.5 bg-purple-700/30 hover:bg-purple-700/50 text-purple-300 rounded-lg text-sm flex items-center transition-colors",title:"Refresh user list",children:[jsxRuntimeExports.jsx("svg",{className:`w-4 h-4 mr-1 ${n?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n?"Refreshing...":"Refresh"]})]}),n&&e.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-2 border-purple-500 border-t-transparent"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-purple-400",children:"Loading users..."})]}):e.length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsx("p",{className:"text-purple-400",children:"No users found."})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-left",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"border-b border-purple-500/20",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-purple-300 font-medium",children:"Username"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-purple-300 font-medium",children:"Email"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-purple-300 font-medium",children:"Role"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-purple-300 font-medium",children:"Created"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-purple-300 font-medium",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{children:e.map(ne=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-purple-500/10 hover:bg-purple-900/10",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-white",children:ne.username}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-white",children:ne.email}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ne.role==="superadmin"?"bg-pink-500/20 text-pink-300":"bg-purple-500/20 text-purple-300"}`,children:ne.role})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-purple-300",children:new Date(ne.created_at).toLocaleDateString()}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3",children:[ne.id===SUPER_ADMIN_UUID&&jsxRuntimeExports.jsxs("span",{className:"text-pink-400 text-xs flex items-center",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),"Primary Super Admin"]}),ne.id===ADMIN_UUID&&jsxRuntimeExports.jsxs("span",{className:"text-purple-400 text-xs flex items-center",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),"Primary Admin"]}),ne.role!=="superadmin"&&ne.id!==SUPER_ADMIN_UUID&&ne.id!==ADMIN_UUID&&jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsxs("select",{value:ne.role,onChange:oe=>Re(ne.id,oe.target.value),className:"px-2 py-1 bg-black/30 border border-purple-500/30 rounded text-white text-xs focus:outline-none focus:ring-1 focus:ring-purple-500/50",children:[jsxRuntimeExports.jsx("option",{value:"admin",children:"Admin"}),ae&&jsxRuntimeExports.jsx("option",{value:"superadmin",children:"Super Admin"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Pe(ne),className:"px-2 py-1 bg-blue-600/20 hover:bg-blue-600/30 text-blue-300 hover:text-blue-200 border border-blue-500/30 rounded text-xs transition-all duration-200 flex items-center space-x-1",title:"Reset User Password",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),jsxRuntimeExports.jsx("span",{children:"Reset"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>le(ne),className:"px-2 py-1 bg-red-600/20 hover:bg-red-600/30 text-red-300 hover:text-red-200 border border-red-500/30 rounded text-xs transition-all duration-200 flex items-center space-x-1 ml-2",title:"Delete User",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),jsxRuntimeExports.jsx("span",{children:"Delete"})]})]}),ne.role==="superadmin"&&ne.id!==SUPER_ADMIN_UUID&&jsxRuntimeExports.jsx("span",{className:"text-purple-400 text-xs",children:"Super Admin cannot be modified"})]})]},ne.id))})]})})]})]}):jsxRuntimeExports.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-6 mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("svg",{className:"w-10 h-10 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white",children:"Access Restricted"}),jsxRuntimeExports.jsx("p",{className:"text-red-300",children:"Only Super Admins have access to user management."})]})]})})},AdminDashboard=()=>{const e=useLocation(),n=new URLSearchParams(e.search).get("tab"),[i,o]=reactExports.useState(()=>n||localStorage.getItem("vibeAdminActiveTab")||"upload"),[u,h]=reactExports.useState([]),[m,v]=reactExports.useState([]),[p,f]=reactExports.useState([]),[b,w]=reactExports.useState(!1),[S,j]=reactExports.useState({title:"",subtitle:"",cover:"",template:"default",pages:[],published:!1}),[A,T]=reactExports.useState({brightness:100,contrast:100,saturate:100,hue:0,accentColor:"#9400d3",titleColor:"#ffffff"}),[C]=reactExports.useState({totalViews:Math.floor(Math.random()*500)+200,totalDownloads:Math.floor(Math.random()*150)+50}),O=reactExports.useRef(null),M=localStorage.getItem("vibeAdmin")==="true",R=localStorage.getItem("vibeSuperAdmin")==="true",_=async()=>{const{data:ae,error:pe}=await supabase.from("magazines").select("*").order("created_at",{ascending:!1});pe||h(ae||[])},q=async()=>{const{data:ae,error:pe}=await supabase.from("submissions").select("*").order("created_at",{ascending:!1});pe||v(ae||[])};reactExports.useEffect(()=>{localStorage.setItem("vibeAdminActiveTab",i);const ae=new URL(window.location);ae.searchParams.set("tab",i),window.history.replaceState({},"",ae),M&&(_(),q())},[i,M]),reactExports.useEffect(()=>{if(!M){window.location.href="/login";return}_(),q();const ae=supabase.channel("magazines-changes-admin").on("postgres_changes",{event:"*",schema:"public",table:"magazines"},()=>_()).on("postgres_changes",{event:"*",schema:"public",table:"submissions"},()=>q()).subscribe();return()=>{supabase.removeChannel(ae)}},[M]);const se=ae=>{const{name:pe,value:fe}=ae.target;T(Ee=>({...Ee,[pe]:fe}))},ee=async ae=>{const{error:pe}=await supabase.from("magazines").delete().eq("id",ae);if(!pe)h(fe=>fe.filter(Ee=>Ee.id!==ae));else throw console.error("Error deleting magazine:",pe),new Error(pe.message)};return M?jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0b0c10] via-[#1b0b28] to-[#071030] flex flex-col",children:[jsxRuntimeExports.jsx(AdminNavbar,{activeTab:i,setActiveTab:o}),jsxRuntimeExports.jsx("div",{className:"relative z-10 px-3 sm:px-4 md:px-6 pt-6 pb-2",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto flex justify-start",children:jsxRuntimeExports.jsxs("div",{className:`inline-flex items-center gap-2 px-5 py-2.5 rounded-full border ${R?"bg-gradient-to-r from-yellow-500/30 to-orange-500/30 border-yellow-500/50 text-yellow-200 shadow-lg shadow-yellow-500/20":"bg-gradient-to-r from-purple-500/30 to-blue-500/30 border-purple-500/50 text-purple-200 shadow-lg shadow-purple-500/20"} backdrop-blur-md`,children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),jsxRuntimeExports.jsx("span",{className:"font-bold text-sm tracking-wide",children:R?"SUPER ADMIN":"ADMIN"})]})})}),b&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-[#241231] via-[#1b0b28] to-[#0f0f23] p-8 rounded-2xl border border-purple-500/30 shadow-2xl",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-purple-500/30"}),jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-purple-500 border-t-transparent absolute top-0"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-white font-semibold text-lg",children:"Processing Files"}),jsxRuntimeExports.jsx("p",{className:"text-purple-300 text-sm",children:"Please wait while we handle your request..."})]})]})})}),jsxRuntimeExports.jsxs("main",{className:"relative flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-purple-500/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-pink-500/5 rounded-full blur-3xl"})]}),jsxRuntimeExports.jsx("div",{className:"relative z-10 p-3 sm:p-4 md:p-6 max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"bg-black/20 rounded-xl sm:rounded-2xl border border-purple-500/20 shadow-2xl overflow-hidden",children:[i==="upload"&&jsxRuntimeExports.jsx("div",{className:"p-4 sm:p-6 md:p-8",children:jsxRuntimeExports.jsx(UploadTab,{formData:S,setFormData:j,editor:A,setEditor:T,handleEditorChange:se,magazines:u,setMagazines:h,pagesDropRef:O,setActiveTab:o})}),i==="analytics"&&jsxRuntimeExports.jsx("div",{className:"p-4 sm:p-6 md:p-8",children:jsxRuntimeExports.jsx(AnalyticsTab,{magazines:u,submissions:m})}),i==="feedback"&&jsxRuntimeExports.jsx("div",{className:"p-4 sm:p-6 md:p-8",children:jsxRuntimeExports.jsx(FeedbackTab,{comments:p,clearComment:()=>{}})}),i==="comments"&&jsxRuntimeExports.jsx("div",{className:"p-4 sm:p-6 md:p-8",children:jsxRuntimeExports.jsx(CommentsTab,{})}),i==="library"&&jsxRuntimeExports.jsx("div",{className:"p-4 sm:p-6 md:p-8",children:jsxRuntimeExports.jsx(LibraryTab,{magazines:u,removeMagazine:ee,fetchMagazines:_})}),i==="submissions"&&jsxRuntimeExports.jsx(AdminSubmissions,{}),i==="users"&&jsxRuntimeExports.jsx("div",{className:"p-4 sm:p-6 md:p-8",children:jsxRuntimeExports.jsx(UserManagementTab,{})}),!["upload","analytics","feedback","comments","library","submissions","users"].includes(i)&&jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-6 md:p-8 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Unknown Tab"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-400 mb-4",children:['The tab "',i,'" is not recognized.']}),jsxRuntimeExports.jsx("button",{onClick:()=>o("upload"),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Go to Upload Tab"})]})]})})]})]}):jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0b0c10] via-[#1b0b28] to-[#071030] flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-white text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{children:"Checking authentication..."})]})})},Login=()=>{const[e,t]=reactExports.useState(""),[n,i]=reactExports.useState(""),[o,u]=reactExports.useState(""),[h,m]=reactExports.useState(!1),[v,p]=reactExports.useState(!1),[f,b]=reactExports.useState(""),[w,S]=reactExports.useState(!1),[j,A]=reactExports.useState(""),[T,C]=reactExports.useState(""),O=useNavigate(),M=useLocation(),R=M.state?.returnUrl||"/";reactExports.useEffect(()=>{M.state?.message&&(C(M.state.message),window.history.replaceState({},document.title))},[M.state]),reactExports.useEffect(()=>{(async()=>{try{const{data:{session:ee}}=await supabase.auth.getSession(),ae=new URLSearchParams(window.location.search),pe=ae.get("type")==="recovery",fe=ae.get("type")==="signup";if((pe||fe)&&ee?.user){await supabase.auth.signOut();return}if(ee?.user){const{data:Ee}=await supabase.from("user_profiles").select("role").eq("id",ee.user.id).single();if(Ee){const _e=Ee.role;localStorage.setItem("vibeUser",ee.user.email),localStorage.setItem("vibeRole",_e),_e==="admin"||_e==="superadmin"?(localStorage.setItem("vibeAdmin","true"),_e==="superadmin"?(localStorage.setItem("vibeSuperAdmin","true"),ee.user.id===SUPER_ADMIN_UUID?localStorage.setItem("vibePrimarySuperAdmin","true"):localStorage.removeItem("vibePrimarySuperAdmin")):(localStorage.removeItem("vibeSuperAdmin"),localStorage.removeItem("vibePrimarySuperAdmin"),ee.user.id===ADMIN_UUID?localStorage.setItem("vibePrimaryAdmin","true"):localStorage.removeItem("vibePrimaryAdmin")),O(R.startsWith("/admin")?R:"/admin")):(localStorage.removeItem("vibeAdmin"),localStorage.removeItem("vibeSuperAdmin"),localStorage.removeItem("vibePrimarySuperAdmin"),localStorage.removeItem("vibePrimaryAdmin"),O("/"))}}}catch(ee){console.error("Auth check error:",ee)}})()},[O]);const _=async se=>{if(se.preventDefault(),S(!0),u(""),A(""),!f){u("Please enter your email address"),S(!1);return}try{const{error:ee}=await supabase.auth.resetPasswordForEmail(f,{redirectTo:`${window.location.origin}/reset-password`});if(ee)throw ee;A("Password reset email sent! Check your inbox for the reset link."),b(""),setTimeout(()=>{p(!1),A("")},3e3)}catch(ee){console.error("Password reset error:",ee),u("Failed to send reset email. Please try again.")}finally{S(!1)}},q=async se=>{se.preventDefault(),u(""),m(!0);try{console.log(`Attempting to login with email: ${e}`);const{data:ee,error:ae}=await supabase.auth.signInWithPassword({email:e,password:n});if(ae)throw ae;if(ee.user){console.log("Login successful, user data:",ee.user);const{data:pe,error:fe}=await supabase.from("user_profiles").select("role, is_active, username, display_name").eq("id",ee.user.id).single();if(fe||!pe){console.warn("User profile not found, creating one...",fe);const _e=ee.user.user_metadata||{},Re=_e.username||e.split("@")[0],Pe=_e.display_name||_e.full_name||Re,je=_e.role||"admin",{error:ce}=await supabase.from("user_profiles").insert({id:ee.user.id,email:e,username:Re,display_name:Pe,role:je,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(ce)throw console.error("Failed to create user profile:",ce),new Error("Login successful, but we couldn't set up your profile. Please contact an administrator.");localStorage.setItem("vibeUser",e),localStorage.setItem("vibeRole",je),je==="admin"||je==="superadmin"?(localStorage.setItem("vibeAdmin","true"),je==="superadmin"?(localStorage.setItem("vibeSuperAdmin","true"),ee.user.id===SUPER_ADMIN_UUID?localStorage.setItem("vibePrimarySuperAdmin","true"):localStorage.removeItem("vibePrimarySuperAdmin")):(localStorage.removeItem("vibeSuperAdmin"),localStorage.removeItem("vibePrimarySuperAdmin"),ee.user.id===ADMIN_UUID?localStorage.setItem("vibePrimaryAdmin","true"):localStorage.removeItem("vibePrimaryAdmin")),O(R.startsWith("/admin")?R:"/admin")):(localStorage.removeItem("vibeAdmin"),localStorage.removeItem("vibeSuperAdmin"),localStorage.removeItem("vibePrimarySuperAdmin"),localStorage.removeItem("vibePrimaryAdmin"),O("/"));return}if(console.log("Found user profile:",pe),!pe.is_active)throw new Error("Your account has been deactivated. Please contact an administrator.");const Ee=pe.role;localStorage.setItem("vibeUser",e),localStorage.setItem("vibeRole",Ee),Ee==="admin"||Ee==="superadmin"?(localStorage.setItem("vibeAdmin","true"),Ee==="superadmin"?(localStorage.setItem("vibeSuperAdmin","true"),ee.user.id===SUPER_ADMIN_UUID?localStorage.setItem("vibePrimarySuperAdmin","true"):localStorage.removeItem("vibePrimarySuperAdmin")):(localStorage.removeItem("vibeSuperAdmin"),localStorage.removeItem("vibePrimarySuperAdmin"),ee.user.id===ADMIN_UUID?localStorage.setItem("vibePrimaryAdmin","true"):localStorage.removeItem("vibePrimaryAdmin")),O(R.startsWith("/admin")?R:"/admin")):(localStorage.removeItem("vibeAdmin"),localStorage.removeItem("vibeSuperAdmin"),localStorage.removeItem("vibePrimarySuperAdmin"),localStorage.removeItem("vibePrimaryAdmin"),O("/"));return}throw new Error("Login failed. Please try again.")}catch(ee){console.error("Login error:",ee),ee.message.includes("email")?u("Invalid email address. Please check and try again."):ee.message.includes("password")?u("Incorrect password. Please try again."):ee.message.includes("account has been deactivated")?u("Your account has been deactivated. Please contact an administrator."):ee.message.includes("Email not confirmed")?u("Please confirm your email address before logging in. Check your inbox for a confirmation link."):u("Login failed. Please check your credentials and try again.")}finally{m(!1)}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0b0c10] via-[#1b0b28] to-[#071030] flex items-center justify-center px-6",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-purple-500/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-pink-500/5 rounded-full blur-3xl"})]}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 w-full max-w-lg",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-[#241536]/80 via-[#1b0b28]/70 to-[#0f0f23]/80 backdrop-blur-xl rounded-2xl border border-purple-500/30 shadow-2xl p-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-purple-400/50 flex items-center justify-center shadow-lg overflow-hidden bg-white mx-auto mb-4",children:jsxRuntimeExports.jsx("img",{src:"https://raw.githubusercontent.com/JayDee15999/pic/refs/heads/main/1.png",alt:"Vibe Magazine Logo",className:"w-12 h-12 object-cover rounded-full"})}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-600 bg-clip-text text-transparent mb-2",children:"Vibe Magazine"}),jsxRuntimeExports.jsx("p",{className:"text-purple-300 text-sm font-medium",children:"Admin Dashboard Access"})]}),T&&jsxRuntimeExports.jsx("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-3 mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),jsxRuntimeExports.jsx("p",{className:"text-green-300 text-sm font-medium",children:T})]})}),o&&jsxRuntimeExports.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),jsxRuntimeExports.jsx("p",{className:"text-red-300 text-sm font-medium",children:o})]})}),jsxRuntimeExports.jsxs("form",{onSubmit:q,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-purple-300 mb-2",children:"Email Address"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),jsxRuntimeExports.jsx("input",{type:"email",placeholder:"Enter your email",value:e,onChange:se=>t(se.target.value),className:"w-full pl-10 pr-4 py-3 bg-black/20 border border-purple-500/30 rounded-lg text-white placeholder-purple-300/50 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-400 transition-all duration-200",required:!0})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-purple-300",children:"Password"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>p(!0),className:"text-xs text-purple-400 hover:text-purple-300 transition-colors duration-200",children:"Forgot Password?"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),jsxRuntimeExports.jsx("input",{type:"password",placeholder:"Enter your password",value:n,onChange:se=>i(se.target.value),className:"w-full pl-10 pr-4 py-3 bg-black/20 border border-purple-500/30 rounded-lg text-white placeholder-purple-300/50 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-400 transition-all duration-200",required:!0})]})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:h,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3.5 rounded-lg hover:from-purple-500 hover:to-pink-500 transition-all duration-300 font-semibold shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 transform hover:scale-[1.02] disabled:opacity-70",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center space-x-2",children:h?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),jsxRuntimeExports.jsx("span",{children:"Signing In..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),jsxRuntimeExports.jsx("span",{children:"Sign In to Dashboard"})]})})})]}),jsxRuntimeExports.jsx("div",{className:"mt-8 pt-6 border-t border-purple-500/20",children:jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsxs(Link,{to:"/",className:"inline-flex items-center space-x-2 text-purple-300 hover:text-purple-200 transition-colors duration-200 text-sm font-medium",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),jsxRuntimeExports.jsx("span",{children:"Back to Vibe Club"})]})})})]}),v&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-[#241536]/90 via-[#1b0b28]/90 to-[#0f0f23]/90 backdrop-blur-sm rounded-xl border border-purple-500/40 p-6 max-w-md w-full shadow-xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center text-purple-400 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-purple-500/20 p-2 rounded-full",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white ml-3",children:"Reset Password"})]}),jsxRuntimeExports.jsx("p",{className:"text-white mb-6",children:"Enter your email address and we'll send you a link to reset your password."}),j&&jsxRuntimeExports.jsx("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-3 mb-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),jsxRuntimeExports.jsx("p",{className:"text-green-300 text-sm font-medium",children:j})]})}),o&&jsxRuntimeExports.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 mb-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),jsxRuntimeExports.jsx("p",{className:"text-red-300 text-sm font-medium",children:o})]})}),jsxRuntimeExports.jsxs("form",{onSubmit:_,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-purple-300 mb-2",children:"Email Address"}),jsxRuntimeExports.jsx("input",{type:"email",placeholder:"Enter your email",value:f,onChange:se=>b(se.target.value),className:"w-full px-4 py-3 bg-black/30 border border-purple-500/30 rounded-lg text-white placeholder-purple-300/50 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-400 transition-all duration-200",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{p(!1),u(""),A(""),b("")},className:"flex-1 px-4 py-2 bg-transparent border border-purple-500/30 text-purple-300 rounded-lg hover:bg-purple-500/10 transition-all duration-200 font-medium",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:w,className:"flex-1 px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-500 hover:to-pink-500 transition-all duration-200 font-medium disabled:opacity-50",children:w?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center",children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending..."]}):"Send Reset Link"})]})]})]})})]})]})},ResetPassword=()=>{const[e,t]=reactExports.useState(""),[n,i]=reactExports.useState(""),[o,u]=reactExports.useState(""),[h,m]=reactExports.useState(""),[v,p]=reactExports.useState(!1),[f,b]=reactExports.useState(null),w=useNavigate(),[S]=useSearchParams();reactExports.useEffect(()=>{(async()=>{try{const{data:{session:T},error:C}=await supabase.auth.getSession();if(C){console.error("Session error:",C),u("Invalid or expired password reset link. Please request a new one."),b(!1);return}if(!T){const O=S.get("access_token"),M=S.get("refresh_token"),R=S.get("type");if(O&&M&&R==="recovery"){const{data:_,error:q}=await supabase.auth.setSession({access_token:O,refresh_token:M});if(q){console.error("Set session error:",q),u("Invalid password reset link. Please request a new one."),b(!1);return}if(_?.session){console.log("Valid password reset session established"),b(!0);return}}u("Invalid or expired password reset link. Please request a new one."),b(!1);return}console.log("Session found, checking validity for password reset"),b(!0)}catch(T){console.error("Auth check error:",T),u("Something went wrong. Please try again."),b(!1)}})()},[S]);const j=async A=>{if(A.preventDefault(),u(""),m(""),p(!0),!e||!n){u("Please fill in both password fields."),p(!1);return}if(e.length<6){u("Password must be at least 6 characters long."),p(!1);return}if(e!==n){u("Passwords do not match. Please try again."),p(!1);return}try{console.log("Attempting to update password...");const{data:T,error:C}=await supabase.auth.updateUser({password:e});if(C)throw C;if(T?.user){console.log("Password updated successfully");try{console.log("Signing out user to prevent auto-login after password reset..."),await supabase.auth.signOut();const{data:O}=await supabase.auth.getSession();O?.session&&(console.log("Session still active, forcing signout..."),await supabase.auth.signOut({scope:"global"})),localStorage.removeItem("vibeAdmin"),localStorage.removeItem("vibeSuperAdmin"),localStorage.removeItem("vibeRole"),localStorage.removeItem("vibePrimarySuperAdmin"),console.log("User successfully signed out after password reset")}catch(O){console.warn("Error during sign out:",O)}m("Password updated successfully! You will be redirected to login in 3 seconds."),setTimeout(()=>{w("/login",{state:{message:"Password updated successfully. Please log in with your new password."}})},3e3);return}throw new Error("Failed to update password. Please try again.")}catch(T){console.error("Password reset error:",T),T.message.includes("session")?u("Your password reset link has expired. Please request a new one."):T.message.includes("same")?u("New password must be different from your current password."):u("Failed to update password. Please try again.")}finally{p(!1)}};return f===null?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0b0c10] via-[#1b0b28] to-[#071030] flex items-center justify-center px-6",children:jsxRuntimeExports.jsx("div",{className:"relative z-10 w-full max-w-lg",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-[#241536]/80 via-[#1b0b28]/70 to-[#0f0f23]/80 backdrop-blur-xl rounded-2xl border border-purple-500/30 shadow-2xl p-8 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 border-2 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-purple-300",children:"Verifying password reset link..."})]})})}):f===!1?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0b0c10] via-[#1b0b28] to-[#071030] flex items-center justify-center px-6",children:jsxRuntimeExports.jsx("div",{className:"relative z-10 w-full max-w-lg",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-[#241536]/80 via-[#1b0b28]/70 to-[#0f0f23]/80 backdrop-blur-xl rounded-2xl border border-purple-500/30 shadow-2xl p-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-6",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-red-400/50 flex items-center justify-center mx-auto mb-4 bg-red-500/10",children:jsxRuntimeExports.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Invalid Reset Link"}),jsxRuntimeExports.jsx("p",{className:"text-red-300 text-sm",children:o})]}),jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsxs(Link,{to:"/login",className:"inline-flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-lg hover:from-purple-500 hover:to-pink-500 transition-all duration-300 font-medium",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),jsxRuntimeExports.jsx("span",{children:"Back to Login"})]})})]})})}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0b0c10] via-[#1b0b28] to-[#071030] flex items-center justify-center px-6",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-purple-500/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-pink-500/5 rounded-full blur-3xl"})]}),jsxRuntimeExports.jsx("div",{className:"relative z-10 w-full max-w-lg",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-[#241536]/80 via-[#1b0b28]/70 to-[#0f0f23]/80 backdrop-blur-xl rounded-2xl border border-purple-500/30 shadow-2xl p-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-purple-400/50 flex items-center justify-center shadow-lg overflow-hidden bg-white mx-auto mb-4",children:jsxRuntimeExports.jsx("img",{src:"https://raw.githubusercontent.com/JayDee15999/pic/refs/heads/main/1.png",alt:"Vibe Magazine Logo",className:"w-12 h-12 object-cover rounded-full"})}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-600 bg-clip-text text-transparent mb-2",children:"Reset Password"}),jsxRuntimeExports.jsx("p",{className:"text-purple-300 text-sm font-medium",children:"Create a new secure password"})]}),h&&jsxRuntimeExports.jsx("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-3 mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),jsxRuntimeExports.jsx("p",{className:"text-green-300 text-sm font-medium",children:h})]})}),o&&jsxRuntimeExports.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),jsxRuntimeExports.jsx("p",{className:"text-red-300 text-sm font-medium",children:o})]})}),!h&&jsxRuntimeExports.jsxs("form",{onSubmit:j,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-purple-300 mb-2",children:"New Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),jsxRuntimeExports.jsx("input",{type:"password",placeholder:"Enter new password",value:e,onChange:A=>t(A.target.value),className:"w-full pl-10 pr-4 py-3 bg-black/20 border border-purple-500/30 rounded-lg text-white placeholder-purple-300/50 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-400 transition-all duration-200",required:!0,minLength:6})]}),jsxRuntimeExports.jsx("p",{className:"text-purple-400 text-xs mt-1",children:"Password must be at least 6 characters long"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-purple-300 mb-2",children:"Confirm New Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),jsxRuntimeExports.jsx("input",{type:"password",placeholder:"Confirm new password",value:n,onChange:A=>i(A.target.value),className:"w-full pl-10 pr-4 py-3 bg-black/20 border border-purple-500/30 rounded-lg text-white placeholder-purple-300/50 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-purple-400 transition-all duration-200",required:!0,minLength:6})]}),e&&n&&e!==n&&jsxRuntimeExports.jsx("p",{className:"text-red-400 text-xs mt-1",children:"Passwords do not match"}),e&&n&&e===n&&jsxRuntimeExports.jsx("p",{className:"text-green-400 text-xs mt-1",children:"Passwords match ✓"})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:v||!e||!n||e!==n,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3.5 rounded-lg hover:from-purple-500 hover:to-pink-500 transition-all duration-300 font-semibold shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center space-x-2",children:v?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),jsxRuntimeExports.jsx("span",{children:"Updating Password..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),jsxRuntimeExports.jsx("span",{children:"Update Password"})]})})})]}),jsxRuntimeExports.jsx("div",{className:"mt-8 pt-6 border-t border-purple-500/20",children:jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsxs(Link,{to:"/login",className:"inline-flex items-center space-x-2 text-purple-300 hover:text-purple-200 transition-colors duration-200 text-sm font-medium",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),jsxRuntimeExports.jsx("span",{children:"Back to Login"})]})})})]})})]})},ConfirmSignup=()=>{const[e,t]=reactExports.useState(""),[n,i]=reactExports.useState(""),[o,u]=reactExports.useState(!0),[h,m]=reactExports.useState(null),v=useNavigate(),[p]=useSearchParams();return reactExports.useEffect(()=>{(async()=>{try{console.log("Clearing any existing session on email confirmation page..."),await supabase.auth.signOut({scope:"global"}),localStorage.removeItem("vibeAdmin"),localStorage.removeItem("vibeSuperAdmin"),localStorage.removeItem("vibeRole"),localStorage.removeItem("vibePrimarySuperAdmin")}catch(b){console.warn("Error clearing session:",b)}})()},[]),reactExports.useEffect(()=>{(async()=>{try{const b=p.get("access_token"),w=p.get("refresh_token"),S=p.get("type");if(!b||!w){console.log("Missing tokens - showing success message anyway"),i("🎉 Congratulations! Your email has been confirmed successfully! You can now log in with your credentials."),m(!0),u(!1),setTimeout(()=>{v("/login",{state:{message:"Email confirmed successfully! You can now log in with your credentials."}})},3e3);return}console.log("Processing email confirmation...");const{data:j,error:A}=await supabase.auth.setSession({access_token:b,refresh_token:w});if(A){console.error("Session error:",A),i("🎉 Congratulations! Your email confirmation was processed successfully! You can now log in with your credentials."),m(!0),u(!1),setTimeout(()=>{v("/login",{state:{message:"Email confirmed successfully! You can now log in with your credentials."}})},3e3);return}if(j?.session?.user){console.log("Email confirmed successfully for user:",j.session.user.email);try{console.log("Signing out user to prevent auto-login..."),await supabase.auth.signOut();const{data:T}=await supabase.auth.getSession();T?.session&&(console.log("Session still active, forcing signout..."),await supabase.auth.signOut({scope:"global"})),localStorage.removeItem("vibeAdmin"),localStorage.removeItem("vibeSuperAdmin"),localStorage.removeItem("vibeRole"),localStorage.removeItem("vibePrimarySuperAdmin"),console.log("User successfully signed out after email confirmation")}catch(T){console.warn("Error during sign out:",T)}i(`🎉 Congratulations! Your email has been confirmed successfully for ${j.session.user.email}! You can now log in with your credentials.`),m(!0),u(!1),setTimeout(()=>{v("/login",{state:{message:"Email confirmed successfully! You can now log in with your credentials."}})},3e3);return}throw new Error("Failed to confirm email. Please try again.")}catch(b){console.error("Email confirmation error:",b),i("🎉 Congratulations! Your email confirmation has been processed! You can now log in with your credentials."),m(!0),u(!1),setTimeout(()=>{v("/login",{state:{message:"Email confirmed successfully! You can now log in with your credentials."}})},3e3)}})()},[p,v]),o?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0b0c10] via-[#1b0b28] to-[#071030] flex items-center justify-center px-6",children:jsxRuntimeExports.jsx("div",{className:"relative z-10 w-full max-w-lg",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-[#241536]/80 via-[#1b0b28]/70 to-[#0f0f23]/80 backdrop-blur-xl rounded-2xl border border-purple-500/30 shadow-2xl p-8 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 border-2 border-purple-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-purple-300",children:"Confirming your email address..."})]})})}):h===!1?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0b0c10] via-[#1b0b28] to-[#071030] flex items-center justify-center px-6",children:jsxRuntimeExports.jsx("div",{className:"relative z-10 w-full max-w-lg",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-[#241536]/80 via-[#1b0b28]/70 to-[#0f0f23]/80 backdrop-blur-xl rounded-2xl border border-purple-500/30 shadow-2xl p-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-6",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-red-400/50 flex items-center justify-center mx-auto mb-4 bg-red-500/10",children:jsxRuntimeExports.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Confirmation Failed"}),jsxRuntimeExports.jsx("p",{className:"text-red-300 text-sm",children:e})]}),jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsxs(Link,{to:"/login",className:"inline-flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-lg hover:from-purple-500 hover:to-pink-500 transition-all duration-300 font-medium",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),jsxRuntimeExports.jsx("span",{children:"Back to Login"})]})})]})})}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0b0c10] via-[#1b0b28] to-[#071030] flex items-center justify-center px-6",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-purple-500/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-pink-500/5 rounded-full blur-3xl"})]}),jsxRuntimeExports.jsx("div",{className:"relative z-10 w-full max-w-lg",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-[#241536]/80 via-[#1b0b28]/70 to-[#0f0f23]/80 backdrop-blur-xl rounded-2xl border border-purple-500/30 shadow-2xl p-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-green-400/50 flex items-center justify-center shadow-lg overflow-hidden bg-white mx-auto mb-4",children:jsxRuntimeExports.jsx("img",{src:"https://raw.githubusercontent.com/JayDee15999/pic/refs/heads/main/1.png",alt:"Vibe Magazine Logo",className:"w-12 h-12 object-cover rounded-full"})}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-green-400 to-emerald-600 bg-clip-text text-transparent mb-2",children:"Email Confirmed!"}),jsxRuntimeExports.jsx("p",{className:"text-green-300 text-sm font-medium",children:"Your account is now active"})]}),jsxRuntimeExports.jsx("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-6 mb-8",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Welcome to Vibe Magazine!"}),jsxRuntimeExports.jsx("p",{className:"text-green-300 text-sm",children:n})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs(Link,{to:"/login",className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3.5 rounded-lg hover:from-purple-500 hover:to-pink-500 transition-all duration-300 font-semibold shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 transform hover:scale-[1.02] flex items-center justify-center space-x-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),jsxRuntimeExports.jsx("span",{children:"Login to Dashboard"})]}),jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsxs(Link,{to:"/",className:"inline-flex items-center space-x-2 text-purple-300 hover:text-purple-200 transition-colors duration-200 text-sm font-medium",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),jsxRuntimeExports.jsx("span",{children:"Back to Home"})]})})]}),jsxRuntimeExports.jsx("div",{className:"mt-8 pt-6 border-t border-purple-500/20",children:jsxRuntimeExports.jsxs("div",{className:"bg-purple-900/30 border border-purple-500/20 rounded-lg p-4",children:[jsxRuntimeExports.jsxs("h4",{className:"text-white font-medium mb-2 flex items-center",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4 mr-2 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"What's Next?"]}),jsxRuntimeExports.jsxs("ul",{className:"text-purple-300 text-sm space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"• Log in with your email and password"}),jsxRuntimeExports.jsx("li",{children:"• Access the admin dashboard"}),jsxRuntimeExports.jsx("li",{children:"• Start managing Vibe Magazine content"})]})]})})]})})]})},Notification=()=>{const[e]=useSearchParams(),[t,n]=reactExports.useState(""),[i,o]=reactExports.useState("");reactExports.useEffect(()=>{const m=e.get("type"),v=e.get("title");n(m||"update"),o(decodeURIComponent(v||"Your Submission"))},[e]);const u=t==="accepted",h=t==="rejected";return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0b0c10] via-[#1b0b28] to-[#071030] flex items-center justify-center px-6",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-purple-500/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-pink-500/5 rounded-full blur-3xl"})]}),jsxRuntimeExports.jsx("div",{className:"relative z-10 w-full max-w-lg",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-[#241536]/80 via-[#1b0b28]/70 to-[#0f0f23]/80 backdrop-blur-xl rounded-2xl border border-purple-500/30 shadow-2xl p-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("div",{className:`w-16 h-16 rounded-full border-2 ${u?"border-green-400/50 bg-green-500/20":h?"border-orange-400/50 bg-orange-500/20":"border-purple-400/50 bg-purple-500/20"} flex items-center justify-center shadow-lg overflow-hidden bg-white mx-auto mb-4`,children:jsxRuntimeExports.jsx("img",{src:"https://raw.githubusercontent.com/JayDee15999/pic/refs/heads/main/1.png",alt:"Vibe Magazine Logo",className:"w-12 h-12 object-cover rounded-full"})}),jsxRuntimeExports.jsx("h1",{className:`text-3xl font-bold mb-2 ${u?"bg-gradient-to-r from-green-400 to-emerald-600 bg-clip-text text-transparent":h?"bg-gradient-to-r from-orange-400 to-red-500 bg-clip-text text-transparent":"bg-gradient-to-r from-purple-400 to-pink-600 bg-clip-text text-transparent"}`,children:u?"🎉 Congratulations!":h?"📝 Submission Update":"📧 Notification"}),jsxRuntimeExports.jsx("p",{className:`text-sm font-medium ${u?"text-green-300":h?"text-orange-300":"text-purple-300"}`,children:"Vibe Magazine Editorial Team"})]}),jsxRuntimeExports.jsx("div",{className:`border rounded-lg p-6 mb-8 ${u?"bg-green-500/10 border-green-500/30":h?"bg-orange-500/10 border-orange-500/30":"bg-purple-500/10 border-purple-500/30"}`,children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 ${u?"bg-green-500/20":h?"bg-orange-500/20":"bg-purple-500/20"}`,children:u?jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):h?jsxRuntimeExports.jsx("svg",{className:"w-6 h-6 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}):jsxRuntimeExports.jsxs("svg",{className:"w-6 h-6 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5z"}),jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4"})]})}),u?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Your submission has been accepted!"}),jsxRuntimeExports.jsxs("p",{className:"text-green-300 text-sm mb-4",children:[`We're excited to inform you that "`,jsxRuntimeExports.jsx("strong",{children:i}),'" has been selected for publication in Vibe Magazine.']}),jsxRuntimeExports.jsx("p",{className:"text-green-300/80 text-xs",children:"Your work will be featured in our upcoming publication. We'll keep you updated on the publication timeline."})]}):h?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Submission Review Complete"}),jsxRuntimeExports.jsxs("p",{className:"text-orange-300 text-sm mb-4",children:['Thank you for your submission "',jsxRuntimeExports.jsx("strong",{children:i}),'" to Vibe Magazine.']}),jsxRuntimeExports.jsx("p",{className:"text-orange-300/80 text-xs mb-3",children:"After careful review, your submission was not selected for this publication cycle."}),jsxRuntimeExports.jsx("p",{className:"text-orange-300/80 text-xs",children:"Please don't be discouraged! We encourage you to continue creating and consider submitting to future publications."})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Submission Status Update"}),jsxRuntimeExports.jsxs("p",{className:"text-purple-300 text-sm",children:['We have an update regarding your submission "',jsxRuntimeExports.jsx("strong",{children:i}),'".']})]})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs(Link,{to:"/",className:`w-full py-3.5 rounded-lg transition-all duration-300 font-semibold shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 transform hover:scale-[1.02] flex items-center justify-center space-x-2 ${u?"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white focus:ring-green-500/50":h?"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-500 hover:to-red-500 text-white focus:ring-orange-500/50":"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white focus:ring-purple-500/50"}`,children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),jsxRuntimeExports.jsx("span",{children:"Back to Vibe Magazine"})]}),jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsxs(Link,{to:"/submit",className:`inline-flex items-center space-x-2 transition-colors duration-200 text-sm font-medium ${u?"text-green-300 hover:text-green-200":h?"text-orange-300 hover:text-orange-200":"text-purple-300 hover:text-purple-200"}`,children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),jsxRuntimeExports.jsx("span",{children:"Submit New Work"})]})})]}),jsxRuntimeExports.jsx("div",{className:"mt-8 pt-6 border-t border-purple-500/20",children:jsxRuntimeExports.jsxs("div",{className:`border rounded-lg p-4 ${u?"bg-green-900/30 border-green-500/20":h?"bg-orange-900/30 border-orange-500/20":"bg-purple-900/30 border-purple-500/20"}`,children:[jsxRuntimeExports.jsxs("h4",{className:"text-white font-medium mb-2 flex items-center",children:[jsxRuntimeExports.jsx("svg",{className:`w-4 h-4 mr-2 ${u?"text-green-400":h?"text-orange-400":"text-purple-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u?"What's Next?":h?"Keep Creating!":"Stay Connected"]}),jsxRuntimeExports.jsx("ul",{className:`text-sm space-y-1 ${u?"text-green-300":h?"text-orange-300":"text-purple-300"}`,children:u?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("li",{children:"• We'll contact you about publication details"}),jsxRuntimeExports.jsx("li",{children:"• Your work will be featured prominently"}),jsxRuntimeExports.jsx("li",{children:"• Continue creating for future issues"})]}):h?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("li",{children:"• Each submission is a learning opportunity"}),jsxRuntimeExports.jsx("li",{children:"• Keep developing your creative skills"}),jsxRuntimeExports.jsx("li",{children:"• Submit again when you're ready"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("li",{children:"• Check your email for more details"}),jsxRuntimeExports.jsx("li",{children:"• Follow us for updates"}),jsxRuntimeExports.jsx("li",{children:"• Submit more of your work"})]})})]})})]})})]})},MagazineReader=()=>{const e=useNavigate(),t=useLocation(),{magazine:n}=t.state||{},[i,o]=reactExports.useState({}),[u,h]=reactExports.useState(!0),[m,v]=reactExports.useState({width:480,height:700}),[p,f]=reactExports.useState(!1),[b,w]=reactExports.useState(!1),[S,j]=reactExports.useState(0),[A,T]=reactExports.useState(0),[C,O]=reactExports.useState(!1),[M,R]=reactExports.useState(!1),_=React.useRef(null),q=React.useRef(null),[se,ee]=reactExports.useState(!1),[ae,pe]=reactExports.useState(!1),[fe,Ee]=reactExports.useState(()=>localStorage.getItem("magazine_gesture_guide_seen")==="true"),[_e]=reactExports.useState(()=>{let ie=localStorage.getItem("magazine_user_id");return ie||(ie="user_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem("magazine_user_id",ie)),ie}),Re=()=>{const ie=window.innerWidth,Y=window.innerHeight,ne=480/700,oe=ie>Y,me=Y-80-60,te=ie;let he,ge;if(ie<=768){let xe,ye;oe?(xe=.99,ye=.96):(xe=.98,ye=.9);const Se=te*xe,we=me*ye;Se/ne<=we?(he=Se,ge=he/ne):(ge=we,he=ge*ne)}else{let ye;oe?ye=te*.75:ye=te*.65,he=Math.min(ye,1800),ge=he/ne;const Se=oe?.97:.92;ge>me*Se&&(ge=me*Se,he=ge*ne)}return{width:Math.floor(he),height:Math.floor(ge)}};reactExports.useEffect(()=>{let ie=!0;const Y=()=>{const ne=Re();v(ne);const oe=window.innerWidth>window.innerHeight,ue=p,ve=window.innerWidth<=768,me=ae;pe(ve),ve&&!me&&!fe?ee(!0):ve||ee(!1),ue!==oe&&!ie?setTimeout(()=>{window.location.reload()},100):(f(oe),setTimeout(()=>{_.current&&window.dispatchEvent(new Event("resize"))},100)),ie&&(ie=!1)};return Y(),window.addEventListener("resize",Y),window.addEventListener("orientationchange",Y),()=>{window.removeEventListener("resize",Y),window.removeEventListener("orientationchange",Y)}},[p,ae,fe]),reactExports.useEffect(()=>{n||e("/archive")},[n,e]),reactExports.useEffect(()=>{(async()=>{if(!n?.id)return;const{data:Y}=await supabase.from("magazine_ratings").select("rating").eq("magazine_id",n.id).eq("user_id",_e).single();Y&&(R(!0),j(Y.rating))})()},[n?.id,_e]),reactExports.useEffect(()=>{if(!n)return;const ie=1+(n.pages?.length||0);let Y=0;const ne=()=>{Y++,Y===ie&&h(!1)},oe=new Image;oe.onload=()=>{o(ue=>({...ue,cover:!0})),ne()},oe.onerror=()=>ne(),oe.loading="eager",oe.src=n.cover,n.pages&&n.pages.length>0&&n.pages.forEach((ue,ve)=>{const me=new Image;me.onload=()=>{o(te=>({...te,[`page-${ve}`]:!0})),ne()},me.onerror=()=>ne(),me.loading="eager",me.src=ue})},[n]);const Pe=()=>{M?e("/archive"):w(!0)},je=()=>{w(!1),e("/archive")},ce=async()=>{if(!(S===0||C)){O(!0);try{const{error:ie}=await supabase.from("magazine_ratings").upsert([{magazine_id:n.id,user_id:_e,rating:S}],{onConflict:"magazine_id,user_id"});if(ie){console.error("Error saving rating:",ie),alert("Failed to save rating. Please try again."),O(!1);return}await supabase.from("magazine_analytics").insert([{magazine_id:n.id,event_type:"rating",metadata:{rating:S}}]),console.log("Rating submitted successfully:",S,"for magazine:",n.id),R(!0),w(!1),setTimeout(()=>{e("/archive")},300)}catch(ie){console.error("Unexpected error:",ie),alert("An unexpected error occurred. Please try again."),O(!1)}}},le=ie=>{j(ie)};return n?jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-[#0b0c10] via-[#1b0b28] to-[#071030] z-50 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 border-b border-purple-500/20 bg-black/30 backdrop-blur-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3 flex-1 min-w-0",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full border-2 border-purple-400/50 flex items-center justify-center shadow-lg overflow-hidden bg-white flex-shrink-0",children:jsxRuntimeExports.jsx("img",{src:"https://raw.githubusercontent.com/JayDee15999/pic/refs/heads/main/1.png",alt:"Vibe Magazine Logo",className:"w-8 h-8 md:w-10 md:h-10 object-cover rounded-full"})}),jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1",children:[jsxRuntimeExports.jsx("h1",{className:"text-base md:text-xl font-bold text-white truncate",children:n.title}),jsxRuntimeExports.jsx("p",{className:"text-xs md:text-sm text-gray-400 truncate",children:n.author})]})]}),jsxRuntimeExports.jsx("button",{onClick:Pe,className:"bg-red-600 hover:bg-red-700 text-white p-2 md:p-3 rounded-full shadow-lg transition-all duration-300 flex-shrink-0 ml-2",title:"Close Reader",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),u?jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-20 w-20 border-t-4 border-b-4 border-purple-500 shadow-lg shadow-purple-500/50"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 animate-spin rounded-full h-20 w-20 border-t-4 border-b-4 border-pink-500 opacity-50 shadow-lg shadow-pink-500/50",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-2",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-100 text-xl font-bold animate-pulse",children:"Loading Magazine"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce shadow-sm shadow-purple-500/50",style:{animationDelay:"0ms"}}),jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce shadow-sm shadow-purple-500/50",style:{animationDelay:"150ms"}}),jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full animate-bounce shadow-sm shadow-purple-500/50",style:{animationDelay:"300ms"}})]})]})]}):jsxRuntimeExports.jsxs("div",{ref:q,className:`flex-1 flex items-center justify-center p-2 md:p-4 relative ${p?"overflow-y-auto overflow-x-hidden":"overflow-hidden"}`,style:{touchAction:p?"pan-y":"auto",WebkitOverflowScrolling:"touch"},children:[se&&ae&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fadeIn",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br from-purple-900/95 to-pink-900/95 rounded-2xl p-6 mx-4 max-w-sm shadow-2xl border-2 border-purple-400/50 animate-bounce-in relative",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{ee(!1),Ee(!0),localStorage.setItem("magazine_gesture_guide_seen","true")},className:"absolute top-3 right-3 w-8 h-8 bg-red-600 hover:bg-red-700 rounded-full flex items-center justify-center text-white transition-all duration-300 shadow-lg hover:shadow-red-500/50 z-20 transform hover:scale-110 hover:rotate-90 active:scale-95","aria-label":"Close guide",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),jsxRuntimeExports.jsxs("div",{className:"text-center space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center gap-3 mb-4",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("svg",{className:"w-12 h-12 text-white animate-pulse",fill:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"})}),jsxRuntimeExports.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-yellow-400 rounded-full animate-ping"})]})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-white flex items-center justify-center gap-2",children:"📱 Mobile Controls"}),jsxRuntimeExports.jsx("div",{className:"space-y-3 text-left",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3 bg-white/10 rounded-lg p-3",children:[jsxRuntimeExports.jsx("span",{className:"text-2xl",children:"👈👉"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-white font-semibold text-sm",children:"Flip Pages"}),jsxRuntimeExports.jsx("p",{className:"text-purple-200 text-xs",children:"Swipe left/right to change pages"})]})]})}),jsxRuntimeExports.jsx("p",{className:"text-purple-200 text-xs mt-4 opacity-75",children:"Tap the ✕ button above to close"})]})]})}),jsxRuntimeExports.jsx("div",{className:"reader-fullscreen-container",children:jsxRuntimeExports.jsxs(HTMLFlipBook,{ref:_,width:m.width,height:m.height,uncutPages:!1,showCover:!p,className:"magazine-flipbook-reader",flippingTime:800,useMouseEvents:!0,maxShadowOpacity:.7,showSwipeHint:!0,autoSize:!0,clickEventForward:!0,usePortrait:!p,startPage:0,showPageCorners:!0,size:"stretch",renderOnlyPageLengths:!1,minWidth:300,maxWidth:1800,minHeight:400,maxHeight:1200,style:{margin:"auto"},swipeDistance:50,disableFlipByClick:!0,drawShadow:!0,mobileScrollSupport:p,children:[jsxRuntimeExports.jsxs("div",{className:"page-wrapper relative border-4 border-gray-300 shadow-2xl",style:{boxShadow:"0 0 20px rgba(200,200,200,0.3), inset 0 0 10px rgba(255,255,255,0.2)"},children:[!i.cover&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#2c1052]",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}),jsxRuntimeExports.jsx("img",{src:n.cover,alt:`Cover of ${n.title}`,className:`w-full h-full object-cover transition-opacity duration-300 ${i.cover?"opacity-100":"opacity-0"}`,style:{background:"#2c1052"}}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent pointer-events-none"})]}),n.pages?.map((ie,Y)=>jsxRuntimeExports.jsxs("div",{className:"page-wrapper relative border-4 border-gray-300 shadow-2xl",style:{boxShadow:"0 0 20px rgba(200,200,200,0.3), inset 0 0 10px rgba(255,255,255,0.2)"},children:[!i[`page-${Y}`]&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#2c1052]",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-500"})}),jsxRuntimeExports.jsx("img",{src:ie,alt:`Page ${Y+2} of ${n.title}`,className:`w-full h-full object-cover transition-opacity duration-300 ${i[`page-${Y}`]?"opacity-100":"opacity-0"}`,style:{background:"#2c1052"}}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:Y+2})]},Y))]})})]}),!u&&jsxRuntimeExports.jsx("div",{className:"border-t border-purple-500/20 bg-black/30 backdrop-blur-sm",children:jsxRuntimeExports.jsxs("div",{className:"p-3 text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-xs md:text-sm",children:ae?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"📱 Swipe up/down to scroll • Swipe left/right to flip pages"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["📱 ",p?"Side-by-side view • Scroll to navigate • Swipe to flip pages":"Swipe or tap corners to flip pages • Rotate device for side-by-side view"]})}),ae&&jsxRuntimeExports.jsx("button",{onClick:()=>ee(!0),className:"mt-2 text-purple-400 hover:text-purple-300 text-xs underline",children:"Show gesture guide"}),M&&jsxRuntimeExports.jsxs("div",{className:"mt-3 flex items-center justify-center gap-2 text-yellow-400",children:[jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium",children:["You rated this ",S," star",S!==1?"s":"","!"]})]})]})}),b&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-[#2c1052] to-[#1b0b28] border border-purple-500/30 rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl shadow-purple-500/20 animate-bounce-in",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"mb-6",children:jsxRuntimeExports.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg shadow-yellow-500/30 animate-pulse",children:jsxRuntimeExports.jsx("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"How was your experience? ✨"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-300 mb-6",children:['Rate "',n.title,'" magazine and help others discover great content!']}),jsxRuntimeExports.jsx("div",{className:"flex justify-center gap-2 mb-6",children:[1,2,3,4,5].map(ie=>jsxRuntimeExports.jsx("button",{onClick:()=>le(ie),onMouseEnter:()=>T(ie),onMouseLeave:()=>T(0),className:"group transform transition-all duration-200 hover:scale-125 focus:outline-none",children:jsxRuntimeExports.jsx("svg",{className:`w-10 h-10 transition-all duration-200 ${ie<=(A||S)?"text-yellow-400 drop-shadow-lg":"text-gray-500 group-hover:text-yellow-300"}`,fill:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},ie))}),S>0&&jsxRuntimeExports.jsxs("p",{className:"text-center text-purple-300 mb-6 font-semibold animate-fadeIn",children:[S===1&&"⭐ Poor",S===2&&"⭐⭐ Fair",S===3&&"⭐⭐⭐ Good",S===4&&"⭐⭐⭐⭐ Very Good",S===5&&"⭐⭐⭐⭐⭐ Excellent"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 justify-center",children:[jsxRuntimeExports.jsx("button",{onClick:je,disabled:C,className:"px-6 py-2.5 bg-gray-600/50 hover:bg-gray-600 text-white rounded-full transition-all duration-200 text-sm font-medium border border-gray-500/30 disabled:opacity-50 disabled:cursor-not-allowed",children:"Maybe Later"}),S>0&&jsxRuntimeExports.jsx("button",{onClick:ce,disabled:C,className:"px-8 py-2.5 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-full transition-all duration-200 text-sm font-bold shadow-lg shadow-purple-500/30 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:C?jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Submit Rating"})]})]})})})]}):null};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(e,t){if(e==null)return{};var n=_objectWithoutPropertiesLoose(e,t),i,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)i=u[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function _objectWithoutPropertiesLoose(e,t){if(e==null)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends.apply(this,arguments)}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(i){_defineProperty(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tree2Element(e){return e&&e.map((t,n)=>React.createElement(t.tag,_objectSpread({key:n},t.attr),Tree2Element(t.child)))}function GenIcon(e){return t=>React.createElement(IconBase,_extends({attr:_objectSpread({},e.attr)},t),Tree2Element(e.child))}function IconBase(e){var t=n=>{var{attr:i,size:o,title:u}=e,h=_objectWithoutProperties(e,_excluded),m=o||n.size||"1em",v;return n.className&&(v=n.className),e.className&&(v=(v?v+" ":"")+e.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,h,{className:v,style:_objectSpread(_objectSpread({color:e.color||n.color},n.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&React.createElement("title",null,u),e.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,n=>t(n)):t(DefaultContext)}function FaBars(e){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function FaTimes(e){return GenIcon({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}const Navbar=()=>{const[e,t]=reactExports.useState(!1),n=useLocation(),i=()=>{t(!e)},o=[{name:"Home",path:"/",icon:jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{name:"Archive",path:"/archive",icon:jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"})})},{name:"About",path:"/about",icon:jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},{name:"Submit",path:"/submit",icon:jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})},{name:"Contact",path:"/contact",icon:jsxRuntimeExports.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}];return jsxRuntimeExports.jsxs("nav",{className:"fixed top-0 w-full bg-gradient-to-r from-[#241536] via-[#1b0b28] to-[#0f0f23] border-b border-purple-500/30 z-50 shadow-2xl",children:[jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs(Link,{to:"/",className:"flex items-center space-x-4 group",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-purple-400/50 flex items-center justify-center shadow-lg overflow-hidden bg-white group-hover:border-purple-400 transition-colors duration-200",children:jsxRuntimeExports.jsx("img",{src:"https://raw.githubusercontent.com/JayDee15999/pic/refs/heads/main/1.png",alt:"Vibe Magazine Logo",className:"w-10 h-10 object-cover rounded-full"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-purple-400 to-pink-600 bg-clip-text text-transparent",children:"Vibe Magazine"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-purple-300 font-medium",children:"Campus Insights"})]})]}),jsxRuntimeExports.jsx("div",{className:"md:hidden text-purple-300 text-2xl cursor-pointer transition-transform duration-300 ease-in-out hover:text-purple-200",onClick:i,"aria-label":"Toggle Menu",children:e?jsxRuntimeExports.jsx(FaTimes,{}):jsxRuntimeExports.jsx(FaBars,{})}),jsxRuntimeExports.jsx("div",{className:"hidden md:flex items-center space-x-1 bg-purple-900/30 rounded-xl p-1 border border-purple-500/20",children:o.map(u=>jsxRuntimeExports.jsxs(Link,{to:u.path,className:`flex items-center space-x-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-purple-500/50 whitespace-nowrap ${n.pathname===u.path?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-purple-700/50"}`,children:[u.icon,jsxRuntimeExports.jsx("span",{children:u.name})]},u.name))})]})}),jsxRuntimeExports.jsx("div",{className:`md:hidden overflow-hidden transition-all duration-300 ease-in-out ${e?"max-h-[400px] opacity-100":"max-h-0 opacity-0"}`,children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-[#241536] via-[#1b0b28] to-[#0f0f23] border-t border-purple-500/20",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col space-y-1 px-6 py-4",children:o.map(u=>jsxRuntimeExports.jsxs(Link,{to:u.path,onClick:()=>t(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${n.pathname===u.path?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-purple-700/50"}`,children:[u.icon,jsxRuntimeExports.jsx("span",{children:u.name})]},u.name))})})})]})},Footer=()=>{const e=[{name:"Facebook",icon:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}];return jsxRuntimeExports.jsx("footer",{className:"bg-gradient-to-r from-[#241536] via-[#1b0b28] to-[#0f0f23] border-t border-purple-500/30",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between space-y-6 md:space-y-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 flex-shrink-0 rounded-full border-2 border-purple-400/50 overflow-hidden bg-white/10 shadow-lg",children:jsxRuntimeExports.jsx("img",{src:"https://raw.githubusercontent.com/NotJayDee119/pic/refs/heads/main/uic-logo2-(1).png",alt:"University of the Immaculate Conception Logo",className:"w-full h-full object-cover"})}),jsxRuntimeExports.jsxs("div",{className:"text-center md:text-left",children:[jsxRuntimeExports.jsx("h3",{className:"text-white font-semibold text-sm mb-1",children:"University of the Immaculate Conception"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Department of Digital Innovation"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-500 text-xs",children:["© ",new Date().getFullYear()," All Rights Reserved"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center md:items-end",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm mb-3 font-medium",children:"Connect With Us"}),jsxRuntimeExports.jsx("div",{className:"flex space-x-3",children:e.map(t=>jsxRuntimeExports.jsx("a",{href:t.name==="Facebook"?"https://www.facebook.com/uicvibe":"#",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-purple-900/30 hover:bg-purple-700/50 rounded-xl flex items-center justify-center text-gray-400 hover:text-white transition-all duration-300 hover:scale-110 shadow-lg hover:shadow-purple-500/25","aria-label":`Follow us on ${t.name}`,title:t.name,children:jsxRuntimeExports.jsx("div",{className:"w-5 h-5",children:t.icon})},t.name))})]})]})})})},ProtectedRoute=({children:e})=>{const[t,n]=reactExports.useState(!0),[i,o]=reactExports.useState(!1);reactExports.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:{session:h}}=await supabase.auth.getSession();o(!!h)}catch(h){console.error("Auth check error:",h),o(!1)}finally{n(!1)}};return t?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0b0c10] via-[#1b0b28] to-[#071030] flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-lg",children:"Verifying access..."})]})}):i?e:jsxRuntimeExports.jsx(Navigate,{to:"/access-denied",replace:!0})},AccessDenied=()=>{const e=useNavigate();return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0b0c10] via-[#1b0b28] to-[#071030] text-gray-200 flex items-center justify-center px-6",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-red-500/10 rounded-full blur-3xl animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-orange-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),jsxRuntimeExports.jsx("div",{className:"relative z-10 max-w-2xl w-full",children:jsxRuntimeExports.jsxs("div",{className:"bg-red-900/20 backdrop-blur-sm rounded-3xl border-2 border-red-500/50 shadow-2xl shadow-red-500/30 p-12 text-center",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-8",children:jsxRuntimeExports.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center animate-pulse shadow-2xl shadow-red-500/50",children:jsxRuntimeExports.jsx("svg",{className:"w-16 h-16 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})}),jsxRuntimeExports.jsx("h1",{className:"text-9xl font-black text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-orange-400 mb-4",children:"403"}),jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Access Denied"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-300 mb-4 leading-relaxed",children:"You don't have permission to access this page."}),jsxRuntimeExports.jsx("p",{className:"text-lg text-red-300 mb-10",children:"This area is restricted to authorized administrators only."}),jsxRuntimeExports.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:jsxRuntimeExports.jsxs("button",{onClick:()=>e("/"),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-8 py-4 rounded-xl font-semibold text-white transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-purple-500/50 flex items-center justify-center space-x-2",children:[jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),jsxRuntimeExports.jsx("span",{children:"Go to Homepage"})]})}),jsxRuntimeExports.jsx("div",{className:"mt-10 pt-8 border-t border-red-500/30",children:jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"If you believe you should have access to this page, please contact the system administrator."})})]})})]})},ScrollToTop=()=>{const{pathname:e}=useLocation();return reactExports.useEffect(()=>{window.scrollTo(0,0)},[e]),null},GuestRoute=({children:e})=>localStorage.getItem("vibeAdmin")==="true"?jsxRuntimeExports.jsx(Navigate,{to:"/admin",replace:!0}):e,Layout=({children:e})=>{const t=useLocation(),n=useNavigate(),i=t.pathname==="/vibelogin",o=t.pathname==="/reset-password",u=t.pathname==="/confirm-signup",h=t.pathname==="/notification",m=t.pathname==="/magazine-reader",v=t.pathname.startsWith("/admin"),p=t.pathname==="/access-denied",f=i||o||u||h||p;return reactExports.useEffect(()=>{const b=w=>{w.ctrlKey&&w.shiftKey&&w.key==="V"&&(w.preventDefault(),n("/vibelogin"))};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[n]),jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-gray-900 via-black to-purple-900 text-gray-100",children:[jsxRuntimeExports.jsx(ScrollToTop,{}),!f&&!v&&!m&&jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("main",{className:`flex-grow ${!f&&!v&&!m?"pt-16":""}`,children:e}),!f&&!v&&!m&&jsxRuntimeExports.jsx(Footer,{})]})};function App(){return jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Layout,{children:[jsxRuntimeExports.jsx(Lt,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"}),jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Route,{path:"/archive",element:jsxRuntimeExports.jsx(Archive,{})}),jsxRuntimeExports.jsx(Route,{path:"/about",element:jsxRuntimeExports.jsx(About,{})}),jsxRuntimeExports.jsx(Route,{path:"/submit",element:jsxRuntimeExports.jsx(Submit,{})}),jsxRuntimeExports.jsx(Route,{path:"/contact",element:jsxRuntimeExports.jsx(Contact,{})}),jsxRuntimeExports.jsx(Route,{path:"/magazine-reader",element:jsxRuntimeExports.jsx(MagazineReader,{})}),jsxRuntimeExports.jsx(Route,{path:"/vibelogin",element:jsxRuntimeExports.jsx(GuestRoute,{children:jsxRuntimeExports.jsx(Login,{})})}),jsxRuntimeExports.jsx(Route,{path:"/reset-password",element:jsxRuntimeExports.jsx(ResetPassword,{})}),jsxRuntimeExports.jsx(Route,{path:"/confirm-signup",element:jsxRuntimeExports.jsx(ConfirmSignup,{})}),jsxRuntimeExports.jsx(Route,{path:"/notification",element:jsxRuntimeExports.jsx(Notification,{})}),jsxRuntimeExports.jsx(Route,{path:"/access-denied",element:jsxRuntimeExports.jsx(AccessDenied,{})}),jsxRuntimeExports.jsx(Route,{path:"/admin",element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(AdminDashboard,{})})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0})})]})]})})}ReactDOM.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
